(function(e){function t(t){for(var r,c,u=t[0],i=t[1],l=t[2],s=0,f=[];s<u.length;s++)c=u[s],Object.prototype.hasOwnProperty.call(a,c)&&a[c]&&f.push(a[c][0]),a[c]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);d&&d(t);while(f.length)f.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,u=1;u<n.length;u++){var i=n[u];0!==a[i]&&(r=!1)}r&&(o.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},a={edit:0},o=[];function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],i=u.push.bind(u);u.push=t,u=u.slice();for(var l=0;l<u.length;l++)t(u[l]);var d=i;o.push([1,"chunk-vendors"]),n()})({1:function(e,t,n){e.exports=n("8fc9")},"8fc9":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("f2bf"),a=n("5333"),o=n("7a23"),c=Object(o["j"])("Save");function u(e,t,n,r,a,u){var i=Object(o["G"])("n-button"),l=Object(o["G"])("parameter-value-table");return Object(o["z"])(),Object(o["i"])(o["b"],null,[Object(o["k"])(i,{onClick:r.commitSession},{default:Object(o["M"])((function(){return[c]})),_:1},8,["onClick"]),Object(o["k"])(l,{"model-url":n.modelUrl,"project-id":n.projectId,onValueUpdated:r.addUpdatedValue},null,8,["model-url","project-id","onValueUpdated"])],64)}var i=n("3835"),l=n("b85c"),d=n("d4ec"),s=n("bee2"),f=n("d5e4"),p=n("5364"),b=n("9bd1"),v=(n("4ec9"),n("d3b7"),n("3ca3"),n("ddb0"),n("e9c4"),n("a9e3"),n("10d1"),n("7317"));function m(e,t,n,r,a,c){var u=Object(o["G"])("n-data-table");return Object(o["z"])(),Object(o["h"])(u,{size:"small",columns:r.columns,data:r.data,loading:r.loading,"row-key":r.rowKey,"max-height":400},null,8,["columns","data","loading","row-key"])}var j=n("53ca"),O=(n("159b"),n("21e1")),h=n("b6e9"),y=n("48f1"),g=n("9406");function k(e){var t={title:"Class",key:"object_class_name"},n={title:"Object",key:"object_name"},a={title:"Parameter",key:"parameter_name"},o={title:"Alternative",key:"alternative_name"},c={title:"Value",key:"value",render:function(t){if(!t.type){var n=Object(j["a"])(t.value);return"number"==n?Object(r["b"])(O["a"],{showButton:!1,defaultValue:t.value}):Object(r["b"])(h["a"],{defaultValue:t.value,onChange:function(n){return e("valueUpdated",{value:n,id:t.id})}})}return Object(r["b"])(y["a"],{italic:!0},{default:function(){return t.type}})}};return[t,n,a,o,c]}function w(e,t){var n=g["b"](),r=Object.create(n);return r["body"]=JSON.stringify({type:"object parameter values?",projectId:e}),fetch(t,r).then((function(e){if(!e.ok)throw new Error("Network response was not OK.");return e.json().then((function(e){var t=e.values;return t.forEach((function(e){e.value=JSON.parse(e.value)})),t}))}))}var S={props:{modelUrl:String,projectId:Number},emit:["valueUpdated:data"],setup:function(e,t){var n=Object(r["d"])([]),a=Object(r["d"])(!0),o=Object(r["d"])(k(t.emit));return Object(r["c"])((function(){w(e.projectId,e.modelUrl).then((function(e){n.value=e,a.value=!1}))})),{data:n,columns:o,loading:a,rowKey:function(e){return e.id}}}},U=n("6b0d"),P=n.n(U);const _=P()(S,[["render",m]]);var V=_,x=new WeakMap,C=new WeakMap,I=function(){function e(){Object(d["a"])(this,e),Object(f["a"])(this,x,{writable:!0,value:void 0}),Object(f["a"])(this,C,{writable:!0,value:void 0}),Object(b["a"])(this,x,new Map),Object(b["a"])(this,C,!1)}return Object(s["a"])(e,[{key:"commit",value:function(e,t,n){if(Object(p["a"])(this,C))alert("Database commit in progress. Please try again later.");else{Object(b["a"])(this,C,!0);var r,a=g["b"](),o=[],c=Object(l["a"])(Object(p["a"])(this,x));try{for(c.s();!(r=c.n()).done;){var u=Object(i["a"])(r.value,2),d=u[0],s=u[1];o.push({id:d,value:s})}}catch(v){c.e(v)}finally{c.f()}a["body"]=JSON.stringify({type:"update values",projectId:e,updates:o});var f=this;fetch(t,a).then((function(e){f.commitFinished(),e.ok?(f.clearPendingUpdates(),n.success("Parameter values committed successfully.")):alert("Updating parameter values failed: server reported a bad request.")}))}}},{key:"commitFinished",value:function(){Object(b["a"])(this,C,!1)}},{key:"clearPendingUpdates",value:function(){Object(p["a"])(this,x).clear()}},{key:"updateValue",value:function(e,t){Object(p["a"])(this,x).set(e,t)}}]),e}(),M=new I,N={props:{modelUrl:String,projectId:Number},setup:function(e){var t=Object(v["a"])();return{addUpdatedValue:function(e){M.updateValue(e.id,e.value)},commitSession:function(){M.commit(e.projectId,e.modelUrl,t)}}},components:{"parameter-value-table":V}};const J=P()(N,[["render",u]]);var T=J,z=r["a"]({});z.use(a["a"]),z.component("editor-app",T),z.mount("#edit-app")},9406:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return c}));n("ac1f"),n("1276"),n("498a");function r(){var e=document.querySelector("#script-data");return JSON.parse(e.textContent)}function a(e){var t=null;if(document.cookie&&""!==document.cookie)for(var n=document.cookie.split(";"),r=0;r<n.length;r++){var a=n[r].trim();if(a.substring(0,e.length+1)===e+"="){t=decodeURIComponent(a.substring(e.length+1));break}}return t}var o=a("csrftoken");function c(){return{method:"POST",credentials:"same-origin",headers:{"X-CSRFToken":o,"Content-Type":"application/json"}}}}});