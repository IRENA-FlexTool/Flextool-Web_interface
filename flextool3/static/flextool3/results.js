import{z as ni,A as fs,r as tr,B as lc,_ as ya,a as bn,o as In,b as ar,w as hn,C as sc,c as Na,d as mn,g as Vr,F as Kr,h as Qr,e as hr,t as Da,m as ti,D as Si,f as ri,y as uc,u as ds,j as cc,N as fc,v as dc,x as hc,i as pc,n as yc}from"./assets/_plugin-vue_export-helper-4a5a23ee.js";import{o as vc,p as gc,q as mc,r as xc,s as bc,t as _c,u as wc,v as Ac,w as Tc,x as kc,P as Dc,a as Mc}from"./assets/communication-6d265523.js";import{F as pr}from"./assets/Fetchable-860fd563.js";var wi={exports:{}},ho={exports:{}},Zl;function Sc(){return Zl||(Zl=1,function(W){var A=function(){function I(a,f,e,i){typeof f=="object"&&(e=f.depth,i=f.prototype,f.filter,f=f.circular);var r=[],n=[],o=typeof Buffer<"u";typeof f>"u"&&(f=!0),typeof e>"u"&&(e=1/0);function l(u,d){if(u===null)return null;if(d==0)return u;var c,h;if(typeof u!="object")return u;if(I.__isArray(u))c=[];else if(I.__isRegExp(u))c=new RegExp(u.source,t(u)),u.lastIndex&&(c.lastIndex=u.lastIndex);else if(I.__isDate(u))c=new Date(u.getTime());else{if(o&&Buffer.isBuffer(u))return Buffer.allocUnsafe?c=Buffer.allocUnsafe(u.length):c=new Buffer(u.length),u.copy(c),c;typeof i>"u"?(h=Object.getPrototypeOf(u),c=Object.create(h)):(c=Object.create(i),h=i)}if(f){var p=r.indexOf(u);if(p!=-1)return n[p];r.push(u),n.push(c)}for(var g in u){var y;h&&(y=Object.getOwnPropertyDescriptor(h,g)),!(y&&y.set==null)&&(c[g]=l(u[g],d-1))}return c}return l(a,e)}I.clonePrototype=function(f){if(f===null)return null;var e=function(){};return e.prototype=f,new e};function G(a){return Object.prototype.toString.call(a)}I.__objToStr=G;function st(a){return typeof a=="object"&&G(a)==="[object Date]"}I.__isDate=st;function w(a){return typeof a=="object"&&G(a)==="[object Array]"}I.__isArray=w;function s(a){return typeof a=="object"&&G(a)==="[object RegExp]"}I.__isRegExp=s;function t(a){var f="";return a.global&&(f+="g"),a.ignoreCase&&(f+="i"),a.multiline&&(f+="m"),f}return I.__getRegExpFlags=t,I}();W.exports&&(W.exports=A)}(ho)),ho.exports}var po,$l;function Ec(){if($l)return po;$l=1;var W=Sc();return po=function(A,I){return A=A||{},Object.keys(I).forEach(function(G){typeof A[G]>"u"&&(A[G]=W(I[G]))}),A},po}var yo,Jl;function Cc(){return Jl||(Jl=1,yo=[[768,879],[1155,1158],[1160,1161],[1425,1469],[1471,1471],[1473,1474],[1476,1477],[1479,1479],[1536,1539],[1552,1557],[1611,1630],[1648,1648],[1750,1764],[1767,1768],[1770,1773],[1807,1807],[1809,1809],[1840,1866],[1958,1968],[2027,2035],[2305,2306],[2364,2364],[2369,2376],[2381,2381],[2385,2388],[2402,2403],[2433,2433],[2492,2492],[2497,2500],[2509,2509],[2530,2531],[2561,2562],[2620,2620],[2625,2626],[2631,2632],[2635,2637],[2672,2673],[2689,2690],[2748,2748],[2753,2757],[2759,2760],[2765,2765],[2786,2787],[2817,2817],[2876,2876],[2879,2879],[2881,2883],[2893,2893],[2902,2902],[2946,2946],[3008,3008],[3021,3021],[3134,3136],[3142,3144],[3146,3149],[3157,3158],[3260,3260],[3263,3263],[3270,3270],[3276,3277],[3298,3299],[3393,3395],[3405,3405],[3530,3530],[3538,3540],[3542,3542],[3633,3633],[3636,3642],[3655,3662],[3761,3761],[3764,3769],[3771,3772],[3784,3789],[3864,3865],[3893,3893],[3895,3895],[3897,3897],[3953,3966],[3968,3972],[3974,3975],[3984,3991],[3993,4028],[4038,4038],[4141,4144],[4146,4146],[4150,4151],[4153,4153],[4184,4185],[4448,4607],[4959,4959],[5906,5908],[5938,5940],[5970,5971],[6002,6003],[6068,6069],[6071,6077],[6086,6086],[6089,6099],[6109,6109],[6155,6157],[6313,6313],[6432,6434],[6439,6440],[6450,6450],[6457,6459],[6679,6680],[6912,6915],[6964,6964],[6966,6970],[6972,6972],[6978,6978],[7019,7027],[7616,7626],[7678,7679],[8203,8207],[8234,8238],[8288,8291],[8298,8303],[8400,8431],[12330,12335],[12441,12442],[43014,43014],[43019,43019],[43045,43046],[64286,64286],[65024,65039],[65056,65059],[65279,65279],[65529,65531],[68097,68099],[68101,68102],[68108,68111],[68152,68154],[68159,68159],[119143,119145],[119155,119170],[119173,119179],[119210,119213],[119362,119364],[917505,917505],[917536,917631],[917760,917999]]),yo}var Xl;function Fc(){if(Xl)return wi.exports;Xl=1;var W=Ec(),A=Cc(),I={nul:0,control:0};wi.exports=function(t){return G(t,I)},wi.exports.config=function(s){return s=W(s||{},I),function(a){return G(a,s)}};function G(s,t){if(typeof s!="string")return st(s,t);for(var a=0,f=0;f<s.length;f++){var e=st(s.charCodeAt(f),t);if(e<0)return-1;a+=e}return a}function st(s,t){return s===0?t.nul:s<32||s>=127&&s<160?t.control:w(s)?0:1+(s>=4352&&(s<=4447||s==9001||s==9002||s>=11904&&s<=42191&&s!=12351||s>=44032&&s<=55203||s>=63744&&s<=64255||s>=65040&&s<=65049||s>=65072&&s<=65135||s>=65280&&s<=65376||s>=65504&&s<=65510||s>=131072&&s<=196605||s>=196608&&s<=262141))}function w(s){var t=0,a=A.length-1,f;if(s<A[0][0]||s>A[a][1])return!1;for(;a>=t;)if(f=Math.floor((t+a)/2),s>A[f][1])t=f+1;else if(s<A[f][0])a=f-1;else return!0;return!1}return wi.exports}var To;try{To=Fc()}catch{}var Oc=Un;function Un(){this.rows=[],this.row={__printers:{}}}Un.prototype.newRow=function(){return this.rows.push(this.row),this.row={__printers:{}},this};Un.prototype.cell=function(W,A,I){return this.row[W]=A,this.row.__printers[W]=I||ai,this};Un.prototype.separator="  ";function ai(W){return W===void 0?"":""+W}function zo(W){var A=W.replace(/\u001b\[\d+m/g,"");return To==null?A.length:To(A)}Un.string=ai;Un.leftPadder=No;function No(W){return function(A,I){var G=ai(A),st=zo(G),w=I>st?Array(I-st+1).join(W):"";return w+G}}var jo=Un.padLeft=No(" ");Un.rightPadder=hs;function hs(W){return function(I,G){var st=ai(I),w=zo(st),s=G>w?Array(G-w+1).join(W):"";return st+s}}var Lc=hs(" ");Un.number=function(W){return function(A,I){if(A==null)return"";if(typeof A!="number")throw new Error(""+A+" is not a number");var G=W==null?A+"":A.toFixed(W);return jo(G,I)}};function ps(W,A){for(var I in W)I!="__printers"&&A(I,W[I])}Un.prototype.columns=function(){for(var W={},A=0;A<2;A++)this.rows.forEach(function(I){var G=0;ps(I,function(st){G=Math.max(G,W[st]||0),W[st]=G,G++})});return Object.keys(W).sort(function(I,G){return W[I]-W[G]})};Un.prototype.print=function(){var W=this.columns(),A=this.separator,I={},G="";return this.rows.forEach(function(st){ps(st,function(w,s){var t=st.__printers[w].call(st,s);I[w]=Math.max(zo(t),I[w]||0)})}),this.rows.forEach(function(st){var w="";W.forEach(function(s){var t=I[s],a=st.hasOwnProperty(s)?""+st.__printers[s].call(st,st[s],t):"";w+=Lc(a,t)+A}),w=w.slice(0,-A.length),G+=w+`
`}),G};Un.prototype.toString=function(){var W=this.columns(),A=new Un;return A.separator=this.separator,W.forEach(function(I){A.cell(I,I)}),A.newRow(),A.pushDelimeter(W),A.rows=A.rows.concat(this.rows),this.totals&&this.rows.length&&(A.pushDelimeter(W),this.forEachTotal(A.cell.bind(A)),A.newRow()),A.print()};Un.prototype.pushDelimeter=function(W){return W=W||this.columns(),W.forEach(function(A){this.cell(A,void 0,No("-"))},this),this.newRow()};Un.prototype.forEachTotal=function(W){for(var A in this.totals){var I=this.totals[A],G=I.init,st=this.rows.length;this.rows.forEach(function(w,s){G=I.reduce.call(w,G,w[A],s,st)}),W(A,G,I.printer)}};Un.prototype.printTransposed=function(W){W=W||{};var A=new Un;return A.separator=W.separator||this.separator,this.columns().forEach(function(I){A.cell(0,I,W.namePrinter),this.rows.forEach(function(G,st){A.cell(st+1,G[I],G.__printers[I])}),A.newRow()},this),A.print()};Un.prototype.sort=function(W){if(typeof W=="function")return this.rows.sort(W),this;var A=Array.isArray(W)?W:this.columns(),I=A.map(function(G){var st="asc",w=/(.*)\|\s*(asc|des)\s*$/.exec(G);return w&&(G=w[1],st=w[2]),function(s,t){return st=="asc"?ko(s[G],t[G]):ko(t[G],s[G])}});return this.sort(function(G,st){for(var w=0;w<I.length;w++){var s=I[w](G,st);if(s!=0)return s}return 0})};function ko(W,A){return W===A?0:W===void 0?1:A===void 0?-1:W===null?1:A===null?-1:W>A?1:W<A?-1:ko(String(W),String(A))}Un.prototype.total=function(W,A){return A=A||{},this.totals=this.totals||{},this.totals[W]={reduce:A.reduce||Un.aggr.sum,printer:A.printer||jo,init:A.init==null?0:A.init},this};Un.aggr={};Un.aggr.printer=function(W,A){return A=A||ai,function(I,G){return jo(W+A(I),G)}};Un.aggr.sum=function(W,A){return W+A};Un.aggr.avg=function(W,A,I,G){return W=W+A,I+1==G?W/G:W};Un.print=function(W,A,I){var G=A||{};A=typeof A=="function"?A:function(s,t){for(var a in s)if(s.hasOwnProperty(a)){var f=G[a]||{};t(f.name||a,s[a],f.printer)}};var st=new Un,w=st.cell.bind(st);return Array.isArray(W)?(I=I||function(s){return s.toString()},W.forEach(function(s){A(s,w),st.newRow()})):(I=I||function(s){return s.printTransposed({separator:" : "})},A(W,w),st.newRow()),I(st)};Un.log=function(W,A,I){console.log(Un.print(W,A,I))};Un.prototype.log=function(){console.log(this.toString())};const ys=ni(Oc);var vs=60,gs=vs*60,ms=gs*24,Ic=ms*7,ja=1e3,vo=vs*ja,Kl=gs*ja,Pc=ms*ja,Bc=Ic*ja,Uo="millisecond",Ca="second",Fa="minute",Oa="hour",fa="day",Di="week",qr="month",xs="quarter",da="year",La="date",Rc="YYYY-MM-DDTHH:mm:ssZ",Ql="Invalid Date",zc=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,Nc=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g;const jc={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(A){var I=["th","st","nd","rd"],G=A%100;return"["+A+(I[(G-20)%10]||I[G]||I[0])+"]"}};var Do=function(A,I,G){var st=String(A);return!st||st.length>=I?A:""+Array(I+1-st.length).join(G)+A},Uc=function(A){var I=-A.utcOffset(),G=Math.abs(I),st=Math.floor(G/60),w=G%60;return(I<=0?"+":"-")+Do(st,2,"0")+":"+Do(w,2,"0")},Hc=function W(A,I){if(A.date()<I.date())return-W(I,A);var G=(I.year()-A.year())*12+(I.month()-A.month()),st=A.clone().add(G,qr),w=I-st<0,s=A.clone().add(G+(w?-1:1),qr);return+(-(G+(I-st)/(w?st-s:s-st))||0)},qc=function(A){return A<0?Math.ceil(A)||0:Math.floor(A)},Yc=function(A){var I={M:qr,y:da,w:Di,d:fa,D:La,h:Oa,m:Fa,s:Ca,ms:Uo,Q:xs};return I[A]||String(A||"").toLowerCase().replace(/s$/,"")},Vc=function(A){return A===void 0};const Wc={s:Do,z:Uc,m:Hc,a:qc,p:Yc,u:Vc};var Xa="en",Ma={};Ma[Xa]=jc;var Ho=function(A){return A instanceof Ui},Ei=function W(A,I,G){var st;if(!A)return Xa;if(typeof A=="string"){var w=A.toLowerCase();Ma[w]&&(st=w),I&&(Ma[w]=I,st=w);var s=A.split("-");if(!st&&s.length>1)return W(s[0])}else{var t=A.name;Ma[t]=A,st=t}return!G&&st&&(Xa=st),st||!G&&Xa},Gn=function(A,I){if(Ho(A))return A.clone();var G=typeof I=="object"?I:{};return G.date=A,G.args=arguments,new Ui(G)},Gc=function(A,I){return Gn(A,{locale:I.$L,utc:I.$u,x:I.$x,$offset:I.$offset})},Vn=Wc;Vn.l=Ei;Vn.i=Ho;Vn.w=Gc;var Zc=function(A){var I=A.date,G=A.utc;if(I===null)return new Date(NaN);if(Vn.u(I))return new Date;if(I instanceof Date)return new Date(I);if(typeof I=="string"&&!/Z$/i.test(I)){var st=I.match(zc);if(st){var w=st[2]-1||0,s=(st[7]||"0").substring(0,3);return G?new Date(Date.UTC(st[1],w,st[3]||1,st[4]||0,st[5]||0,st[6]||0,s)):new Date(st[1],w,st[3]||1,st[4]||0,st[5]||0,st[6]||0,s)}}return new Date(I)},Ui=function(){function W(I){this.$L=Ei(I.locale,null,!0),this.parse(I)}var A=W.prototype;return A.parse=function(G){this.$d=Zc(G),this.$x=G.x||{},this.init()},A.init=function(){var G=this.$d;this.$y=G.getFullYear(),this.$M=G.getMonth(),this.$D=G.getDate(),this.$W=G.getDay(),this.$H=G.getHours(),this.$m=G.getMinutes(),this.$s=G.getSeconds(),this.$ms=G.getMilliseconds()},A.$utils=function(){return Vn},A.isValid=function(){return this.$d.toString()!==Ql},A.isSame=function(G,st){var w=Gn(G);return this.startOf(st)<=w&&w<=this.endOf(st)},A.isAfter=function(G,st){return Gn(G)<this.startOf(st)},A.isBefore=function(G,st){return this.endOf(st)<Gn(G)},A.$g=function(G,st,w){return Vn.u(G)?this[st]:this.set(w,G)},A.unix=function(){return Math.floor(this.valueOf()/1e3)},A.valueOf=function(){return this.$d.getTime()},A.startOf=function(G,st){var w=this,s=Vn.u(st)?!0:st,t=Vn.p(G),a=function(d,c){var h=Vn.w(w.$u?Date.UTC(w.$y,c,d):new Date(w.$y,c,d),w);return s?h:h.endOf(fa)},f=function(d,c){var h=[0,0,0,0],p=[23,59,59,999];return Vn.w(w.toDate()[d].apply(w.toDate("s"),(s?h:p).slice(c)),w)},e=this.$W,i=this.$M,r=this.$D,n="set"+(this.$u?"UTC":"");switch(t){case da:return s?a(1,0):a(31,11);case qr:return s?a(1,i):a(0,i+1);case Di:{var o=this.$locale().weekStart||0,l=(e<o?e+7:e)-o;return a(s?r-l:r+(6-l),i)}case fa:case La:return f(n+"Hours",0);case Oa:return f(n+"Minutes",1);case Fa:return f(n+"Seconds",2);case Ca:return f(n+"Milliseconds",3);default:return this.clone()}},A.endOf=function(G){return this.startOf(G,!1)},A.$set=function(G,st){var w,s=Vn.p(G),t="set"+(this.$u?"UTC":""),a=(w={},w[fa]=t+"Date",w[La]=t+"Date",w[qr]=t+"Month",w[da]=t+"FullYear",w[Oa]=t+"Hours",w[Fa]=t+"Minutes",w[Ca]=t+"Seconds",w[Uo]=t+"Milliseconds",w)[s],f=s===fa?this.$D+(st-this.$W):st;if(s===qr||s===da){var e=this.clone().set(La,1);e.$d[a](f),e.init(),this.$d=e.set(La,Math.min(this.$D,e.daysInMonth())).$d}else a&&this.$d[a](f);return this.init(),this},A.set=function(G,st){return this.clone().$set(G,st)},A.get=function(G){return this[Vn.p(G)]()},A.add=function(G,st){var w=this,s;G=Number(G);var t=Vn.p(st),a=function(r){var n=Gn(w);return Vn.w(n.date(n.date()+Math.round(r*G)),w)};if(t===qr)return this.set(qr,this.$M+G);if(t===da)return this.set(da,this.$y+G);if(t===fa)return a(1);if(t===Di)return a(7);var f=(s={},s[Fa]=vo,s[Oa]=Kl,s[Ca]=ja,s)[t]||1,e=this.$d.getTime()+G*f;return Vn.w(e,this)},A.subtract=function(G,st){return this.add(G*-1,st)},A.format=function(G){var st=this,w=this.$locale();if(!this.isValid())return w.invalidDate||Ql;var s=G||Rc,t=Vn.z(this),a=this.$H,f=this.$m,e=this.$M,i=w.weekdays,r=w.months,n=w.meridiem,o=function(h,p,g,y){return h&&(h[p]||h(st,s))||g[p].slice(0,y)},l=function(h){return Vn.s(a%12||12,h,"0")},u=n||function(c,h,p){var g=c<12?"AM":"PM";return p?g.toLowerCase():g},d={YY:String(this.$y).slice(-2),YYYY:this.$y,M:e+1,MM:Vn.s(e+1,2,"0"),MMM:o(w.monthsShort,e,r,3),MMMM:o(r,e),D:this.$D,DD:Vn.s(this.$D,2,"0"),d:String(this.$W),dd:o(w.weekdaysMin,this.$W,i,2),ddd:o(w.weekdaysShort,this.$W,i,3),dddd:i[this.$W],H:String(a),HH:Vn.s(a,2,"0"),h:l(1),hh:l(2),a:u(a,f,!0),A:u(a,f,!1),m:String(f),mm:Vn.s(f,2,"0"),s:String(this.$s),ss:Vn.s(this.$s,2,"0"),SSS:Vn.s(this.$ms,3,"0"),Z:t};return s.replace(Nc,function(c,h){return h||d[c]||t.replace(":","")})},A.utcOffset=function(){return-Math.round(this.$d.getTimezoneOffset()/15)*15},A.diff=function(G,st,w){var s,t=Vn.p(st),a=Gn(G),f=(a.utcOffset()-this.utcOffset())*vo,e=this-a,i=Vn.m(this,a);return i=(s={},s[da]=i/12,s[qr]=i,s[xs]=i/3,s[Di]=(e-f)/Bc,s[fa]=(e-f)/Pc,s[Oa]=e/Kl,s[Fa]=e/vo,s[Ca]=e/ja,s)[t]||e,w?i:Vn.a(i)},A.daysInMonth=function(){return this.endOf(qr).$D},A.$locale=function(){return Ma[this.$L]},A.locale=function(G,st){if(!G)return this.$L;var w=this.clone(),s=Ei(G,st,!0);return s&&(w.$L=s),w},A.clone=function(){return Vn.w(this.$d,this)},A.toDate=function(){return new Date(this.valueOf())},A.toJSON=function(){return this.isValid()?this.toISOString():null},A.toISOString=function(){return this.$d.toISOString()},A.toString=function(){return this.$d.toUTCString()},W}(),bs=Ui.prototype;Gn.prototype=bs;[["$ms",Uo],["$s",Ca],["$m",Fa],["$H",Oa],["$W",fa],["$M",qr],["$y",da],["$D",La]].forEach(function(W){bs[W[1]]=function(A){return this.$g(A,W[0],W[1])}});Gn.extend=function(W,A){return W.$i||(W(A,Ui,Gn),W.$i=!0),Gn};Gn.locale=Ei;Gn.isDayjs=Ho;Gn.unix=function(W){return Gn(W*1e3)};Gn.en=Ma[Xa];Gn.Ls=Ma;Gn.p={};var _s={},Mo={exports:{}},So=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(W){return typeof W}:function(W){return W&&typeof Symbol=="function"&&W.constructor===Symbol&&W!==Symbol.prototype?"symbol":typeof W},$c=function(W,A){if(A===void 0||typeof A=="string"){if(typeof W<"u"&&typeof A=="string"){var I=/[.\[\]'"]/g,G=A.split(I).filter(function(st){return st!==""});W=G.reduce(function(st,w){return st&&st[w]!=="undefined"?st[w]:void 0},W)}return W}},Ci=function(W){if(Object.prototype.toString.call(W)==="[object Array]")W.forEach(function(A){return Ci(A)});else if(Object.prototype.toString.call(W)==="[object Object]")Object.keys(W).forEach(function(A){return Ci(W[A])});else return typeof W>"u"?"undefined":So(W);return W},Fi=function(W,A){var I=!1;if(Object.prototype.toString.call(W)==="[object Array]")if(A.length)for(var G=0;G<W.length;G+=1){if(!Fi(W[G],A[G])){I=!1;break}I=!0}else return!0;else if(Object.prototype.toString.call(W)==="[object Object]")for(var st in W){if(!Fi(W[st],A[st])){I=!1;break}I=!0}else return(typeof A>"u"?"undefined":So(A))===(typeof W>"u"?"undefined":So(W));return I},Jc=function(W,A){var I=Ci(A);return Fi(W,I)?W:-1},Xc={getNestedObject:$c,buildSchema:Ci,getSchemaMatch:Fi,convertSchemaAndGetMatch:Jc};(function(W,A){Object.defineProperty(A,"__esModule",{value:!0});var I=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},G=function(){function t(a,f){for(var e,i=0;i<f.length;i++)e=f[i],e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(a,e.key,e)}return function(a,f,e){return f&&t(a.prototype,f),e&&t(a,e),a}}(),st=Xc;function w(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}var s=function(){function t(){var a=this;w(this,t),this.t=function(f,e){if(a.input=f,a.schemaCheck=null,e)if(typeof e=="string")a.input=(0,st.getNestedObject)(a.input,e);else{var i=(0,st.convertSchemaAndGetMatch)(a.input,e);i===-1?(a.schemaCheck=!1,a.input=f):(a.schemaCheck=!0,a.input=i)}return a}}return G(t,[{key:"isValid",get:function(){return this.schemaCheck!==null&&this.schemaCheck===!0&&this.input!==null&&this.input!==void 0}},{key:"isDefined",get:function(){return typeof this.input<"u"}},{key:"isUndefined",get:function(){return typeof this.input>"u"}},{key:"isNull",get:function(){return this.input===null&&I(this.input)==="object"}},{key:"isNullOrUndefined",get:function(){return!!(this.isNull||this.isUndefined)}},{key:"isBoolean",get:function(){return I(this.input)===I(!0)}},{key:"isTrue",get:function(){return this.input===!0}},{key:"isFalse",get:function(){return this.input===!1}},{key:"isTruthy",get:function(){return!!this.input}},{key:"isFalsy",get:function(){return!this.input}},{key:"isObject",get:function(){return I(this.input)==="object"&&this.input===Object(this.input)&&Object.prototype.toString.call(this.input)!=="[object Array]"&&Object.prototype.toString.call(this.input)!=="[object Date]"}},{key:"isEmptyObject",get:function(){return!!(this.isObject&&Object.keys(this.input).length===0)}},{key:"isString",get:function(){return typeof this.input=="string"}},{key:"isEmptyString",get:function(){return!!(this.isString&&this.input.length===0)}},{key:"isNumber",get:function(){return!!Number.isFinite(this.input)}},{key:"isArray",get:function(){return!!Array.isArray(this.input)}},{key:"isEmptyArray",get:function(){return!!(this.isArray&&this.input.length===0)}},{key:"isFunction",get:function(){return typeof this.input=="function"}},{key:"isDate",get:function(){return this.input instanceof Date||Object.prototype.toString.call(this.input)==="[object Date]"}},{key:"isSymbol",get:function(){return I(this.input)==="symbol"||I(this.input)==="object"&&Object.prototype.toString.call(this.input)==="[object Symbol]"}},{key:"safeObject",get:function(){return this.input}},{key:"safeObjectOrEmpty",get:function(){return this.input?this.input:{}}},{key:"safeString",get:function(){return this.isString?this.input:""}},{key:"safeNumber",get:function(){return this.isNumber?this.input:0}},{key:"safeBoolean",get:function(){return!!this.isBoolean&&this.input}},{key:"safeFunction",get:function(){return this.isFunction?this.input:function(){}}},{key:"safeArray",get:function(){return this.isArray?this.input:this.isNullOrUndefined?[]:[this.input]}}]),t}();s.Schema={Number:1,String:"typy",Boolean:!0,Null:null,Undefined:void 0,Array:[],Function:function(){},Date:new Date,Symbol:Symbol("")},A.default=s,W.exports=A.default})(Mo,Mo.exports);var Kc=Mo.exports;(function(W){Object.defineProperty(W,"__esModule",{value:!0}),W.addCustomTypes=W.Schema=W.t=void 0;var A=Kc,I=G(A);function G(t){return t&&t.__esModule?t:{default:t}}var st=function(t,a){return new I.default().t(t,a)},w=I.default.Schema,s=function(t){if(st(t).isObject)Object.keys(t).forEach(function(a){if(st(t[a]).isFunction)I.default.prototype.__defineGetter__(a,function(){return t[a](this.input)});else throw new Error("validator "+a+" is not a function")});else throw new Error("validators must be key value pairs")};W.default=st,W.t=st,W.Schema=w,W.addCustomTypes=s})(_s);const Ha=ni(_s);var Qc=/[\u1680\u2000-\u200A\u202F\u205F\u3000]/,tf=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]/,ef=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09FC\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D00-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF9\u1D00-\u1DF9\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDE00-\uDE3E\uDE47\uDE50-\uDE83\uDE86-\uDE99\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4A\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/,go={Space_Separator:Qc,ID_Start:tf,ID_Continue:ef},sr={isSpaceSeparator(W){return typeof W=="string"&&go.Space_Separator.test(W)},isIdStartChar(W){return typeof W=="string"&&(W>="a"&&W<="z"||W>="A"&&W<="Z"||W==="$"||W==="_"||go.ID_Start.test(W))},isIdContinueChar(W){return typeof W=="string"&&(W>="a"&&W<="z"||W>="A"&&W<="Z"||W>="0"&&W<="9"||W==="$"||W==="_"||W==="‌"||W==="‍"||go.ID_Continue.test(W))},isDigit(W){return typeof W=="string"&&/[0-9]/.test(W)},isHexDigit(W){return typeof W=="string"&&/[0-9A-Fa-f]/.test(W)}};let Eo,Sr,ra,Oi,pa,Wr,vr,qo,Ka;var nf=function(A,I){Eo=String(A),Sr="start",ra=[],Oi=0,pa=1,Wr=0,vr=void 0,qo=void 0,Ka=void 0;do vr=rf(),lf[Sr]();while(vr.type!=="eof");return typeof I=="function"?Co({"":Ka},"",I):Ka};function Co(W,A,I){const G=W[A];if(G!=null&&typeof G=="object")if(Array.isArray(G))for(let st=0;st<G.length;st++){const w=String(st),s=Co(G,w,I);s===void 0?delete G[w]:Object.defineProperty(G,w,{value:s,writable:!0,enumerable:!0,configurable:!0})}else for(const st in G){const w=Co(G,st,I);w===void 0?delete G[st]:Object.defineProperty(G,st,{value:w,writable:!0,enumerable:!0,configurable:!0})}return I.call(W,A,G)}let Fn,Sn,$a,na,Ln;function rf(){for(Fn="default",Sn="",$a=!1,na=1;;){Ln=aa();const W=ws[Fn]();if(W)return W}}function aa(){if(Eo[Oi])return String.fromCodePoint(Eo.codePointAt(Oi))}function Ve(){const W=aa();return W===`
`?(pa++,Wr=0):W?Wr+=W.length:Wr++,W&&(Oi+=W.length),W}const ws={default(){switch(Ln){case"	":case"\v":case"\f":case" ":case" ":case"\uFEFF":case`
`:case"\r":case"\u2028":case"\u2029":Ve();return;case"/":Ve(),Fn="comment";return;case void 0:return Ve(),Jn("eof")}if(sr.isSpaceSeparator(Ln)){Ve();return}return ws[Sr]()},comment(){switch(Ln){case"*":Ve(),Fn="multiLineComment";return;case"/":Ve(),Fn="singleLineComment";return}throw Xn(Ve())},multiLineComment(){switch(Ln){case"*":Ve(),Fn="multiLineCommentAsterisk";return;case void 0:throw Xn(Ve())}Ve()},multiLineCommentAsterisk(){switch(Ln){case"*":Ve();return;case"/":Ve(),Fn="default";return;case void 0:throw Xn(Ve())}Ve(),Fn="multiLineComment"},singleLineComment(){switch(Ln){case`
`:case"\r":case"\u2028":case"\u2029":Ve(),Fn="default";return;case void 0:return Ve(),Jn("eof")}Ve()},value(){switch(Ln){case"{":case"[":return Jn("punctuator",Ve());case"n":return Ve(),Aa("ull"),Jn("null",null);case"t":return Ve(),Aa("rue"),Jn("boolean",!0);case"f":return Ve(),Aa("alse"),Jn("boolean",!1);case"-":case"+":Ve()==="-"&&(na=-1),Fn="sign";return;case".":Sn=Ve(),Fn="decimalPointLeading";return;case"0":Sn=Ve(),Fn="zero";return;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":Sn=Ve(),Fn="decimalInteger";return;case"I":return Ve(),Aa("nfinity"),Jn("numeric",1/0);case"N":return Ve(),Aa("aN"),Jn("numeric",NaN);case'"':case"'":$a=Ve()==='"',Sn="",Fn="string";return}throw Xn(Ve())},identifierNameStartEscape(){if(Ln!=="u")throw Xn(Ve());Ve();const W=Fo();switch(W){case"$":case"_":break;default:if(!sr.isIdStartChar(W))throw ts();break}Sn+=W,Fn="identifierName"},identifierName(){switch(Ln){case"$":case"_":case"‌":case"‍":Sn+=Ve();return;case"\\":Ve(),Fn="identifierNameEscape";return}if(sr.isIdContinueChar(Ln)){Sn+=Ve();return}return Jn("identifier",Sn)},identifierNameEscape(){if(Ln!=="u")throw Xn(Ve());Ve();const W=Fo();switch(W){case"$":case"_":case"‌":case"‍":break;default:if(!sr.isIdContinueChar(W))throw ts();break}Sn+=W,Fn="identifierName"},sign(){switch(Ln){case".":Sn=Ve(),Fn="decimalPointLeading";return;case"0":Sn=Ve(),Fn="zero";return;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":Sn=Ve(),Fn="decimalInteger";return;case"I":return Ve(),Aa("nfinity"),Jn("numeric",na*(1/0));case"N":return Ve(),Aa("aN"),Jn("numeric",NaN)}throw Xn(Ve())},zero(){switch(Ln){case".":Sn+=Ve(),Fn="decimalPoint";return;case"e":case"E":Sn+=Ve(),Fn="decimalExponent";return;case"x":case"X":Sn+=Ve(),Fn="hexadecimal";return}return Jn("numeric",na*0)},decimalInteger(){switch(Ln){case".":Sn+=Ve(),Fn="decimalPoint";return;case"e":case"E":Sn+=Ve(),Fn="decimalExponent";return}if(sr.isDigit(Ln)){Sn+=Ve();return}return Jn("numeric",na*Number(Sn))},decimalPointLeading(){if(sr.isDigit(Ln)){Sn+=Ve(),Fn="decimalFraction";return}throw Xn(Ve())},decimalPoint(){switch(Ln){case"e":case"E":Sn+=Ve(),Fn="decimalExponent";return}if(sr.isDigit(Ln)){Sn+=Ve(),Fn="decimalFraction";return}return Jn("numeric",na*Number(Sn))},decimalFraction(){switch(Ln){case"e":case"E":Sn+=Ve(),Fn="decimalExponent";return}if(sr.isDigit(Ln)){Sn+=Ve();return}return Jn("numeric",na*Number(Sn))},decimalExponent(){switch(Ln){case"+":case"-":Sn+=Ve(),Fn="decimalExponentSign";return}if(sr.isDigit(Ln)){Sn+=Ve(),Fn="decimalExponentInteger";return}throw Xn(Ve())},decimalExponentSign(){if(sr.isDigit(Ln)){Sn+=Ve(),Fn="decimalExponentInteger";return}throw Xn(Ve())},decimalExponentInteger(){if(sr.isDigit(Ln)){Sn+=Ve();return}return Jn("numeric",na*Number(Sn))},hexadecimal(){if(sr.isHexDigit(Ln)){Sn+=Ve(),Fn="hexadecimalInteger";return}throw Xn(Ve())},hexadecimalInteger(){if(sr.isHexDigit(Ln)){Sn+=Ve();return}return Jn("numeric",na*Number(Sn))},string(){switch(Ln){case"\\":Ve(),Sn+=af();return;case'"':if($a)return Ve(),Jn("string",Sn);Sn+=Ve();return;case"'":if(!$a)return Ve(),Jn("string",Sn);Sn+=Ve();return;case`
`:case"\r":throw Xn(Ve());case"\u2028":case"\u2029":sf(Ln);break;case void 0:throw Xn(Ve())}Sn+=Ve()},start(){switch(Ln){case"{":case"[":return Jn("punctuator",Ve())}Fn="value"},beforePropertyName(){switch(Ln){case"$":case"_":Sn=Ve(),Fn="identifierName";return;case"\\":Ve(),Fn="identifierNameStartEscape";return;case"}":return Jn("punctuator",Ve());case'"':case"'":$a=Ve()==='"',Fn="string";return}if(sr.isIdStartChar(Ln)){Sn+=Ve(),Fn="identifierName";return}throw Xn(Ve())},afterPropertyName(){if(Ln===":")return Jn("punctuator",Ve());throw Xn(Ve())},beforePropertyValue(){Fn="value"},afterPropertyValue(){switch(Ln){case",":case"}":return Jn("punctuator",Ve())}throw Xn(Ve())},beforeArrayValue(){if(Ln==="]")return Jn("punctuator",Ve());Fn="value"},afterArrayValue(){switch(Ln){case",":case"]":return Jn("punctuator",Ve())}throw Xn(Ve())},end(){throw Xn(Ve())}};function Jn(W,A){return{type:W,value:A,line:pa,column:Wr}}function Aa(W){for(const A of W){if(aa()!==A)throw Xn(Ve());Ve()}}function af(){switch(aa()){case"b":return Ve(),"\b";case"f":return Ve(),"\f";case"n":return Ve(),`
`;case"r":return Ve(),"\r";case"t":return Ve(),"	";case"v":return Ve(),"\v";case"0":if(Ve(),sr.isDigit(aa()))throw Xn(Ve());return"\0";case"x":return Ve(),of();case"u":return Ve(),Fo();case`
`:case"\u2028":case"\u2029":return Ve(),"";case"\r":return Ve(),aa()===`
`&&Ve(),"";case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":throw Xn(Ve());case void 0:throw Xn(Ve())}return Ve()}function of(){let W="",A=aa();if(!sr.isHexDigit(A)||(W+=Ve(),A=aa(),!sr.isHexDigit(A)))throw Xn(Ve());return W+=Ve(),String.fromCodePoint(parseInt(W,16))}function Fo(){let W="",A=4;for(;A-- >0;){const I=aa();if(!sr.isHexDigit(I))throw Xn(Ve());W+=Ve()}return String.fromCodePoint(parseInt(W,16))}const lf={start(){if(vr.type==="eof")throw Ta();mo()},beforePropertyName(){switch(vr.type){case"identifier":case"string":qo=vr.value,Sr="afterPropertyName";return;case"punctuator":Ai();return;case"eof":throw Ta()}},afterPropertyName(){if(vr.type==="eof")throw Ta();Sr="beforePropertyValue"},beforePropertyValue(){if(vr.type==="eof")throw Ta();mo()},beforeArrayValue(){if(vr.type==="eof")throw Ta();if(vr.type==="punctuator"&&vr.value==="]"){Ai();return}mo()},afterPropertyValue(){if(vr.type==="eof")throw Ta();switch(vr.value){case",":Sr="beforePropertyName";return;case"}":Ai()}},afterArrayValue(){if(vr.type==="eof")throw Ta();switch(vr.value){case",":Sr="beforeArrayValue";return;case"]":Ai()}},end(){}};function mo(){let W;switch(vr.type){case"punctuator":switch(vr.value){case"{":W={};break;case"[":W=[];break}break;case"null":case"boolean":case"numeric":case"string":W=vr.value;break}if(Ka===void 0)Ka=W;else{const A=ra[ra.length-1];Array.isArray(A)?A.push(W):Object.defineProperty(A,qo,{value:W,writable:!0,enumerable:!0,configurable:!0})}if(W!==null&&typeof W=="object")ra.push(W),Array.isArray(W)?Sr="beforeArrayValue":Sr="beforePropertyName";else{const A=ra[ra.length-1];A==null?Sr="end":Array.isArray(A)?Sr="afterArrayValue":Sr="afterPropertyValue"}}function Ai(){ra.pop();const W=ra[ra.length-1];W==null?Sr="end":Array.isArray(W)?Sr="afterArrayValue":Sr="afterPropertyValue"}function Xn(W){return Li(W===void 0?`JSON5: invalid end of input at ${pa}:${Wr}`:`JSON5: invalid character '${As(W)}' at ${pa}:${Wr}`)}function Ta(){return Li(`JSON5: invalid end of input at ${pa}:${Wr}`)}function ts(){return Wr-=5,Li(`JSON5: invalid identifier character at ${pa}:${Wr}`)}function sf(W){console.warn(`JSON5: '${As(W)}' in strings is not valid ECMAScript; consider escaping`)}function As(W){const A={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"};if(A[W])return A[W];if(W<" "){const I=W.charCodeAt(0).toString(16);return"\\x"+("00"+I).substring(I.length)}return W}function Li(W){const A=new SyntaxError(W);return A.lineNumber=pa,A.columnNumber=Wr,A}var uf=function(A,I,G){const st=[];let w="",s,t,a="",f;if(I!=null&&typeof I=="object"&&!Array.isArray(I)&&(G=I.space,f=I.quote,I=I.replacer),typeof I=="function")t=I;else if(Array.isArray(I)){s=[];for(const l of I){let u;typeof l=="string"?u=l:(typeof l=="number"||l instanceof String||l instanceof Number)&&(u=String(l)),u!==void 0&&s.indexOf(u)<0&&s.push(u)}}return G instanceof Number?G=Number(G):G instanceof String&&(G=String(G)),typeof G=="number"?G>0&&(G=Math.min(10,Math.floor(G)),a="          ".substr(0,G)):typeof G=="string"&&(a=G.substr(0,10)),e("",{"":A});function e(l,u){let d=u[l];switch(d!=null&&(typeof d.toJSON5=="function"?d=d.toJSON5(l):typeof d.toJSON=="function"&&(d=d.toJSON(l))),t&&(d=t.call(u,l,d)),d instanceof Number?d=Number(d):d instanceof String?d=String(d):d instanceof Boolean&&(d=d.valueOf()),d){case null:return"null";case!0:return"true";case!1:return"false"}if(typeof d=="string")return i(d);if(typeof d=="number")return String(d);if(typeof d=="object")return Array.isArray(d)?o(d):r(d)}function i(l){const u={"'":.1,'"':.2},d={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"};let c="";for(let p=0;p<l.length;p++){const g=l[p];switch(g){case"'":case'"':u[g]++,c+=g;continue;case"\0":if(sr.isDigit(l[p+1])){c+="\\x00";continue}}if(d[g]){c+=d[g];continue}if(g<" "){let y=g.charCodeAt(0).toString(16);c+="\\x"+("00"+y).substring(y.length);continue}c+=g}const h=f||Object.keys(u).reduce((p,g)=>u[p]<u[g]?p:g);return c=c.replace(new RegExp(h,"g"),d[h]),h+c+h}function r(l){if(st.indexOf(l)>=0)throw TypeError("Converting circular structure to JSON5");st.push(l);let u=w;w=w+a;let d=s||Object.keys(l),c=[];for(const p of d){const g=e(p,l);if(g!==void 0){let y=n(p)+":";a!==""&&(y+=" "),y+=g,c.push(y)}}let h;if(c.length===0)h="{}";else{let p;if(a==="")p=c.join(","),h="{"+p+"}";else{let g=`,
`+w;p=c.join(g),h=`{
`+w+p+`,
`+u+"}"}}return st.pop(),w=u,h}function n(l){if(l.length===0)return i(l);const u=String.fromCodePoint(l.codePointAt(0));if(!sr.isIdStartChar(u))return i(l);for(let d=u.length;d<l.length;d++)if(!sr.isIdContinueChar(String.fromCodePoint(l.codePointAt(d))))return i(l);return l}function o(l){if(st.indexOf(l)>=0)throw TypeError("Converting circular structure to JSON5");st.push(l);let u=w;w=w+a;let d=[];for(let h=0;h<l.length;h++){const p=e(String(h),l);d.push(p!==void 0?p:"null")}let c;if(d.length===0)c="[]";else if(a==="")c="["+d.join(",")+"]";else{let h=`,
`+w,p=d.join(h);c=`[
`+w+p+`,
`+u+"]"}return st.pop(),w=u,c}};const cf={parse:nf,stringify:uf};var ff=cf,Ts={exports:{}};/* @license
Papa Parse
v5.2.0
https://github.com/mholt/PapaParse
License: MIT
*/(function(W,A){(function(I,G){W.exports=G()})(fs,function I(){var G=typeof self<"u"?self:typeof window<"u"?window:G!==void 0?G:{},st=!G.document&&!!G.postMessage,w=st&&/blob:/i.test((G.location||{}).protocol),s={},t=0,a={parse:function(m,v){var x=(v=v||{}).dynamicTyping||!1;if(b(x)&&(v.dynamicTypingFunction=x,x={}),v.dynamicTyping=x,v.transform=!!b(v.transform)&&v.transform,v.worker&&a.WORKERS_SUPPORTED){var _=function(){if(!a.WORKERS_SUPPORTED)return!1;var C=(F=G.URL||G.webkitURL||null,N=I.toString(),a.BLOB_URL||(a.BLOB_URL=F.createObjectURL(new Blob(["(",N,")();"],{type:"text/javascript"})))),S=new G.Worker(C),F,N;return S.onmessage=c,S.id=t++,s[S.id]=S}();return _.userStep=v.step,_.userChunk=v.chunk,_.userComplete=v.complete,_.userError=v.error,v.step=b(v.step),v.chunk=b(v.chunk),v.complete=b(v.complete),v.error=b(v.error),delete v.worker,void _.postMessage({input:m,config:v,workerId:_.id})}var T=null;return a.NODE_STREAM_INPUT,typeof m=="string"?T=v.download?new i(v):new n(v):m.readable===!0&&b(m.read)&&b(m.on)?T=new o(v):(G.File&&m instanceof File||m instanceof Object)&&(T=new r(v)),T.stream(m)},unparse:function(m,v){var x=!1,_=!0,T=",",C=`\r
`,S='"',F=S+S,N=!1,D=null;(function(){if(typeof v=="object"){if(typeof v.delimiter!="string"||a.BAD_DELIMITERS.filter(function(M){return v.delimiter.indexOf(M)!==-1}).length||(T=v.delimiter),(typeof v.quotes=="boolean"||typeof v.quotes=="function"||Array.isArray(v.quotes))&&(x=v.quotes),typeof v.skipEmptyLines!="boolean"&&typeof v.skipEmptyLines!="string"||(N=v.skipEmptyLines),typeof v.newline=="string"&&(C=v.newline),typeof v.quoteChar=="string"&&(S=v.quoteChar),typeof v.header=="boolean"&&(_=v.header),Array.isArray(v.columns)){if(v.columns.length===0)throw new Error("Option columns is empty");D=v.columns}v.escapeChar!==void 0&&(F=v.escapeChar+S)}})();var j=new RegExp(u(S),"g");if(typeof m=="string"&&(m=JSON.parse(m)),Array.isArray(m)){if(!m.length||Array.isArray(m[0]))return J(null,m,N);if(typeof m[0]=="object")return J(D||B(m[0]),m,N)}else if(typeof m=="object")return typeof m.data=="string"&&(m.data=JSON.parse(m.data)),Array.isArray(m.data)&&(m.fields||(m.fields=m.meta&&m.meta.fields),m.fields||(m.fields=Array.isArray(m.data[0])?m.fields:B(m.data[0])),Array.isArray(m.data[0])||typeof m.data[0]=="object"||(m.data=[m.data])),J(m.fields||[],m.data||[],N);throw new Error("Unable to serialize unrecognized input");function B(M){if(typeof M!="object")return[];var O=[];for(var q in M)O.push(q);return O}function J(M,O,q){var tt="";typeof M=="string"&&(M=JSON.parse(M)),typeof O=="string"&&(O=JSON.parse(O));var E=Array.isArray(M)&&0<M.length,z=!Array.isArray(O[0]);if(E&&_){for(var Y=0;Y<M.length;Y++)0<Y&&(tt+=T),tt+=P(M[Y],Y);0<O.length&&(tt+=C)}for(var Q=0;Q<O.length;Q++){var nt=E?M.length:O[Q].length,et=!1,Z=E?Object.keys(O[Q]).length===0:O[Q].length===0;if(q&&!E&&(et=q==="greedy"?O[Q].join("").trim()==="":O[Q].length===1&&O[Q][0].length===0),q==="greedy"&&E){for(var H=[],U=0;U<nt;U++){var V=z?M[U]:U;H.push(O[Q][V])}et=H.join("").trim()===""}if(!et){for(var $=0;$<nt;$++){0<$&&!Z&&(tt+=T);var at=E&&z?M[$]:$;tt+=P(O[Q][at],$)}Q<O.length-1&&(!q||0<nt&&!Z)&&(tt+=C)}}return tt}function P(M,O){if(M==null)return"";if(M.constructor===Date)return JSON.stringify(M).slice(1,25);var q=M.toString().replace(j,F),tt=typeof x=="boolean"&&x||typeof x=="function"&&x(M,O)||Array.isArray(x)&&x[O]||function(E,z){for(var Y=0;Y<z.length;Y++)if(-1<E.indexOf(z[Y]))return!0;return!1}(q,a.BAD_DELIMITERS)||-1<q.indexOf(T)||q.charAt(0)===" "||q.charAt(q.length-1)===" ";return tt?S+q+S:q}}};if(a.RECORD_SEP=String.fromCharCode(30),a.UNIT_SEP=String.fromCharCode(31),a.BYTE_ORDER_MARK="\uFEFF",a.BAD_DELIMITERS=["\r",`
`,'"',a.BYTE_ORDER_MARK],a.WORKERS_SUPPORTED=!st&&!!G.Worker,a.NODE_STREAM_INPUT=1,a.LocalChunkSize=10485760,a.RemoteChunkSize=5242880,a.DefaultDelimiter=",",a.Parser=d,a.ParserHandle=l,a.NetworkStreamer=i,a.FileStreamer=r,a.StringStreamer=n,a.ReadableStreamStreamer=o,G.jQuery){var f=G.jQuery;f.fn.parse=function(m){var v=m.config||{},x=[];return this.each(function(C){if(!(f(this).prop("tagName").toUpperCase()==="INPUT"&&f(this).attr("type").toLowerCase()==="file"&&G.FileReader)||!this.files||this.files.length===0)return!0;for(var S=0;S<this.files.length;S++)x.push({file:this.files[S],inputElem:this,instanceConfig:f.extend({},v)})}),_(),this;function _(){if(x.length!==0){var C,S,F,N,D=x[0];if(b(m.before)){var j=m.before(D.file,D.inputElem);if(typeof j=="object"){if(j.action==="abort")return C="AbortError",S=D.file,F=D.inputElem,N=j.reason,void(b(m.error)&&m.error({name:C},S,F,N));if(j.action==="skip")return void T();typeof j.config=="object"&&(D.instanceConfig=f.extend(D.instanceConfig,j.config))}else if(j==="skip")return void T()}var B=D.instanceConfig.complete;D.instanceConfig.complete=function(J){b(B)&&B(J,D.file,D.inputElem),T()},a.parse(D.file,D.instanceConfig)}else b(m.complete)&&m.complete()}function T(){x.splice(0,1),_()}}}function e(m){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(v){var x=g(v);x.chunkSize=parseInt(x.chunkSize),v.step||v.chunk||(x.chunkSize=null),this._handle=new l(x),(this._handle.streamer=this)._config=x}.call(this,m),this.parseChunk=function(v,x){if(this.isFirstChunk&&b(this._config.beforeFirstChunk)){var _=this._config.beforeFirstChunk(v);_!==void 0&&(v=_)}this.isFirstChunk=!1,this._halted=!1;var T=this._partialLine+v;this._partialLine="";var C=this._handle.parse(T,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var S=C.meta.cursor;this._finished||(this._partialLine=T.substring(S-this._baseIndex),this._baseIndex=S),C&&C.data&&(this._rowCount+=C.data.length);var F=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(w)G.postMessage({results:C,workerId:a.WORKER_ID,finished:F});else if(b(this._config.chunk)&&!x){if(this._config.chunk(C,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);C=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(C.data),this._completeResults.errors=this._completeResults.errors.concat(C.errors),this._completeResults.meta=C.meta),this._completed||!F||!b(this._config.complete)||C&&C.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),F||C&&C.meta.paused||this._nextChunk(),C}this._halted=!0},this._sendError=function(v){b(this._config.error)?this._config.error(v):w&&this._config.error&&G.postMessage({workerId:a.WORKER_ID,error:v,finished:!1})}}function i(m){var v;(m=m||{}).chunkSize||(m.chunkSize=a.RemoteChunkSize),e.call(this,m),this._nextChunk=st?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(x){this._input=x,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(v=new XMLHttpRequest,this._config.withCredentials&&(v.withCredentials=this._config.withCredentials),st||(v.onload=y(this._chunkLoaded,this),v.onerror=y(this._chunkError,this)),v.open(this._config.downloadRequestBody?"POST":"GET",this._input,!st),this._config.downloadRequestHeaders){var x=this._config.downloadRequestHeaders;for(var _ in x)v.setRequestHeader(_,x[_])}if(this._config.chunkSize){var T=this._start+this._config.chunkSize-1;v.setRequestHeader("Range","bytes="+this._start+"-"+T)}try{v.send(this._config.downloadRequestBody)}catch(C){this._chunkError(C.message)}st&&v.status===0&&this._chunkError()}},this._chunkLoaded=function(){v.readyState===4&&(v.status<200||400<=v.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:v.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(x){var _=x.getResponseHeader("Content-Range");return _===null?-1:parseInt(_.substring(_.lastIndexOf("/")+1))}(v),this.parseChunk(v.responseText)))},this._chunkError=function(x){var _=v.statusText||x;this._sendError(new Error(_))}}function r(m){var v,x;(m=m||{}).chunkSize||(m.chunkSize=a.LocalChunkSize),e.call(this,m);var _=typeof FileReader<"u";this.stream=function(T){this._input=T,x=T.slice||T.webkitSlice||T.mozSlice,_?((v=new FileReader).onload=y(this._chunkLoaded,this),v.onerror=y(this._chunkError,this)):v=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var T=this._input;if(this._config.chunkSize){var C=Math.min(this._start+this._config.chunkSize,this._input.size);T=x.call(T,this._start,C)}var S=v.readAsText(T,this._config.encoding);_||this._chunkLoaded({target:{result:S}})},this._chunkLoaded=function(T){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(T.target.result)},this._chunkError=function(){this._sendError(v.error)}}function n(m){var v;e.call(this,m=m||{}),this.stream=function(x){return v=x,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var x,_=this._config.chunkSize;return _?(x=v.substring(0,_),v=v.substring(_)):(x=v,v=""),this._finished=!v,this.parseChunk(x)}}}function o(m){e.call(this,m=m||{});var v=[],x=!0,_=!1;this.pause=function(){e.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){e.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(T){this._input=T,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){_&&v.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),v.length?this.parseChunk(v.shift()):x=!0},this._streamData=y(function(T){try{v.push(typeof T=="string"?T:T.toString(this._config.encoding)),x&&(x=!1,this._checkIsFinished(),this.parseChunk(v.shift()))}catch(C){this._streamError(C)}},this),this._streamError=y(function(T){this._streamCleanUp(),this._sendError(T)},this),this._streamEnd=y(function(){this._streamCleanUp(),_=!0,this._streamData("")},this),this._streamCleanUp=y(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function l(m){var v,x,_,T=Math.pow(2,53),C=-T,S=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)(e[-+]?\d+)?\s*$/,F=/(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))/,N=this,D=0,j=0,B=!1,J=!1,P=[],M={data:[],errors:[],meta:{}};if(b(m.step)){var O=m.step;m.step=function(Q){if(M=Q,E())tt();else{if(tt(),M.data.length===0)return;D+=Q.data.length,m.preview&&D>m.preview?x.abort():(M.data=M.data[0],O(M,N))}}}function q(Q){return m.skipEmptyLines==="greedy"?Q.join("").trim()==="":Q.length===1&&Q[0].length===0}function tt(){if(M&&_&&(Y("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+a.DefaultDelimiter+"'"),_=!1),m.skipEmptyLines)for(var Q=0;Q<M.data.length;Q++)q(M.data[Q])&&M.data.splice(Q--,1);return E()&&function(){if(!M)return;function nt(Z){b(m.transformHeader)&&(Z=m.transformHeader(Z)),P.push(Z)}if(Array.isArray(M.data[0])){for(var et=0;E()&&et<M.data.length;et++)M.data[et].forEach(nt);M.data.splice(0,1)}else M.data.forEach(nt)}(),function(){if(!M||!m.header&&!m.dynamicTyping&&!m.transform)return M;function nt(Z,H){var U,V=m.header?{}:[];for(U=0;U<Z.length;U++){var $=U,at=Z[U];m.header&&($=U>=P.length?"__parsed_extra":P[U]),m.transform&&(at=m.transform(at,$)),at=z($,at),$==="__parsed_extra"?(V[$]=V[$]||[],V[$].push(at)):V[$]=at}return m.header&&(U>P.length?Y("FieldMismatch","TooManyFields","Too many fields: expected "+P.length+" fields but parsed "+U,j+H):U<P.length&&Y("FieldMismatch","TooFewFields","Too few fields: expected "+P.length+" fields but parsed "+U,j+H)),V}var et=1;return!M.data.length||Array.isArray(M.data[0])?(M.data=M.data.map(nt),et=M.data.length):M.data=nt(M.data,0),m.header&&M.meta&&(M.meta.fields=P),j+=et,M}()}function E(){return m.header&&P.length===0}function z(Q,nt){return et=Q,m.dynamicTypingFunction&&m.dynamicTyping[et]===void 0&&(m.dynamicTyping[et]=m.dynamicTypingFunction(et)),(m.dynamicTyping[et]||m.dynamicTyping)===!0?nt==="true"||nt==="TRUE"||nt!=="false"&&nt!=="FALSE"&&(function(Z){if(S.test(Z)){var H=parseFloat(Z);if(C<H&&H<T)return!0}return!1}(nt)?parseFloat(nt):F.test(nt)?new Date(nt):nt===""?null:nt):nt;var et}function Y(Q,nt,et,Z){var H={type:Q,code:nt,message:et};Z!==void 0&&(H.row=Z),M.errors.push(H)}this.parse=function(Q,nt,et){var Z=m.quoteChar||'"';if(m.newline||(m.newline=function(V,$){V=V.substring(0,1048576);var at=new RegExp(u($)+"([^]*?)"+u($),"gm"),rt=(V=V.replace(at,"")).split("\r"),ot=V.split(`
`),ct=1<ot.length&&ot[0].length<rt[0].length;if(rt.length===1||ct)return`
`;for(var ht=0,mt=0;mt<rt.length;mt++)rt[mt][0]===`
`&&ht++;return ht>=rt.length/2?`\r
`:"\r"}(Q,Z)),_=!1,m.delimiter)b(m.delimiter)&&(m.delimiter=m.delimiter(Q),M.meta.delimiter=m.delimiter);else{var H=function(V,$,at,rt,ot){var ct,ht,mt,kt;ot=ot||[",","	","|",";",a.RECORD_SEP,a.UNIT_SEP];for(var Ct=0;Ct<ot.length;Ct++){var It=ot[Ct],pt=0,bt=0,_t=0;mt=void 0;for(var Dt=new d({comments:rt,delimiter:It,newline:$,preview:10}).parse(V),L=0;L<Dt.data.length;L++)if(at&&q(Dt.data[L]))_t++;else{var X=Dt.data[L].length;bt+=X,mt!==void 0?0<X&&(pt+=Math.abs(X-mt),mt=X):mt=X}0<Dt.data.length&&(bt/=Dt.data.length-_t),(ht===void 0||pt<=ht)&&(kt===void 0||kt<bt)&&1.99<bt&&(ht=pt,ct=It,kt=bt)}return{successful:!!(m.delimiter=ct),bestDelimiter:ct}}(Q,m.newline,m.skipEmptyLines,m.comments,m.delimitersToGuess);H.successful?m.delimiter=H.bestDelimiter:(_=!0,m.delimiter=a.DefaultDelimiter),M.meta.delimiter=m.delimiter}var U=g(m);return m.preview&&m.header&&U.preview++,v=Q,x=new d(U),M=x.parse(v,nt,et),tt(),B?{meta:{paused:!0}}:M||{meta:{paused:!1}}},this.paused=function(){return B},this.pause=function(){B=!0,x.abort(),v=b(m.chunk)?"":v.substring(x.getCharIndex())},this.resume=function(){N.streamer._halted?(B=!1,N.streamer.parseChunk(v,!0)):setTimeout(N.resume,3)},this.aborted=function(){return J},this.abort=function(){J=!0,x.abort(),M.meta.aborted=!0,b(m.complete)&&m.complete(M),v=""}}function u(m){return m.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function d(m){var v,x=(m=m||{}).delimiter,_=m.newline,T=m.comments,C=m.step,S=m.preview,F=m.fastMode,N=v=m.quoteChar===void 0?'"':m.quoteChar;if(m.escapeChar!==void 0&&(N=m.escapeChar),(typeof x!="string"||-1<a.BAD_DELIMITERS.indexOf(x))&&(x=","),T===x)throw new Error("Comment character same as delimiter");T===!0?T="#":(typeof T!="string"||-1<a.BAD_DELIMITERS.indexOf(T))&&(T=!1),_!==`
`&&_!=="\r"&&_!==`\r
`&&(_=`
`);var D=0,j=!1;this.parse=function(B,J,P){if(typeof B!="string")throw new Error("Input must be a string");var M=B.length,O=x.length,q=_.length,tt=T.length,E=b(C),z=[],Y=[],Q=[],nt=D=0;if(!B)return Ct();if(F||F!==!1&&B.indexOf(v)===-1){for(var et=B.split(_),Z=0;Z<et.length;Z++){if(Q=et[Z],D+=Q.length,Z!==et.length-1)D+=_.length;else if(P)return Ct();if(!T||Q.substring(0,tt)!==T){if(E){if(z=[],ct(Q.split(x)),It(),j)return Ct()}else ct(Q.split(x));if(S&&S<=Z)return z=z.slice(0,S),Ct(!0)}}return Ct()}for(var H=B.indexOf(x,D),U=B.indexOf(_,D),V=new RegExp(u(N)+u(v),"g"),$=B.indexOf(v,D);;)if(B[D]!==v)if(T&&Q.length===0&&B.substring(D,D+tt)===T){if(U===-1)return Ct();D=U+q,U=B.indexOf(_,D),H=B.indexOf(x,D)}else{if(H!==-1&&(H<U||U===-1)){if(!(H<$)){Q.push(B.substring(D,H)),D=H+O,H=B.indexOf(x,D);continue}var at=pt(H,$,U);if(at&&at.nextDelim!==void 0){H=at.nextDelim,$=at.quoteSearch,Q.push(B.substring(D,H)),D=H+O,H=B.indexOf(x,D);continue}}if(U===-1)break;if(Q.push(B.substring(D,U)),kt(U+q),E&&(It(),j))return Ct();if(S&&z.length>=S)return Ct(!0)}else for($=D,D++;;){if(($=B.indexOf(v,$+1))===-1)return P||Y.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:z.length,index:D}),mt();if($===M-1)return mt(B.substring(D,$).replace(V,v));if(v!==N||B[$+1]!==N){if(v===N||$===0||B[$-1]!==N){H!==-1&&H<$+1&&(H=B.indexOf(x,$+1)),U!==-1&&U<$+1&&(U=B.indexOf(_,$+1));var rt=ht(U===-1?H:Math.min(H,U));if(B[$+1+rt]===x){Q.push(B.substring(D,$).replace(V,v)),B[D=$+1+rt+O]!==v&&($=B.indexOf(v,D)),H=B.indexOf(x,D),U=B.indexOf(_,D);break}var ot=ht(U);if(B.substring($+1+ot,$+1+ot+q)===_){if(Q.push(B.substring(D,$).replace(V,v)),kt($+1+ot+q),H=B.indexOf(x,D),$=B.indexOf(v,D),E&&(It(),j))return Ct();if(S&&z.length>=S)return Ct(!0);break}Y.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:z.length,index:D}),$++}}else $++}return mt();function ct(bt){z.push(bt),nt=D}function ht(bt){var _t=0;if(bt!==-1){var Dt=B.substring($+1,bt);Dt&&Dt.trim()===""&&(_t=Dt.length)}return _t}function mt(bt){return P||(bt===void 0&&(bt=B.substring(D)),Q.push(bt),D=M,ct(Q),E&&It()),Ct()}function kt(bt){D=bt,ct(Q),Q=[],U=B.indexOf(_,D)}function Ct(bt){return{data:z,errors:Y,meta:{delimiter:x,linebreak:_,aborted:j,truncated:!!bt,cursor:nt+(J||0)}}}function It(){C(Ct()),z=[],Y=[]}function pt(bt,_t,Dt){var L={nextDelim:void 0,quoteSearch:void 0},X=B.indexOf(v,_t+1);if(_t<bt&&bt<X&&(X<Dt||Dt===-1)){var it=B.indexOf(x,X);if(it===-1)return L;X<it&&(X=B.indexOf(v,X+1)),L=pt(it,X,Dt)}else L={nextDelim:bt,quoteSearch:_t};return L}},this.abort=function(){j=!0},this.getCharIndex=function(){return D}}function c(m){var v=m.data,x=s[v.workerId],_=!1;if(v.error)x.userError(v.error,v.file);else if(v.results&&v.results.data){var T={abort:function(){_=!0,h(v.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:p,resume:p};if(b(x.userStep)){for(var C=0;C<v.results.data.length&&(x.userStep({data:v.results.data[C],errors:v.results.errors,meta:v.results.meta},T),!_);C++);delete v.results}else b(x.userChunk)&&(x.userChunk(v.results,T,v.file),delete v.results)}v.finished&&!_&&h(v.workerId,v.results)}function h(m,v){var x=s[m];b(x.userComplete)&&x.userComplete(v),x.terminate(),delete s[m]}function p(){throw new Error("Not implemented.")}function g(m){if(typeof m!="object"||m===null)return m;var v=Array.isArray(m)?[]:{};for(var x in m)v[x]=g(m[x]);return v}function y(m,v){return function(){m.apply(v,arguments)}}function b(m){return typeof m=="function"}return w&&(G.onmessage=function(m){var v=m.data;if(a.WORKER_ID===void 0&&v&&(a.WORKER_ID=v.workerId),typeof v.input=="string")G.postMessage({workerId:a.WORKER_ID,results:a.parse(v.input,v.config),finished:!0});else if(G.File&&v.input instanceof File||v.input instanceof Object){var x=a.parse(v.input,v.config);x&&G.postMessage({workerId:a.WORKER_ID,results:x,finished:!0})}}),(i.prototype=Object.create(e.prototype)).constructor=i,(r.prototype=Object.create(e.prototype)).constructor=r,(n.prototype=Object.create(n.prototype)).constructor=n,(o.prototype=Object.create(e.prototype)).constructor=o,a})})(Ts);var df=Ts.exports;const hf=ni(df);var pf=function(A){return A.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(I,G,st){return G||st.slice(1)})},yf={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},vf=function(A,I){return A.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(G,st,w){var s=w&&w.toUpperCase();return st||I[w]||yf[w]||pf(I[s])})},gf=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,mf=/\d/,Ti=/\d\d/,xf=/\d{3}/,bf=/\d{4}/,Xr=/\d\d?/,_f=/[+-]?\d+/,wf=/[+-]\d\d:?(\d\d)?|Z/,Za=/\d*[^-_:/,()\s\d]+/,ha={},ks=function(A){return A=+A,A+(A>68?1900:2e3)};function Af(W){if(!W||W==="Z")return 0;var A=W.match(/([+-]|\d\d)/g),I=+(A[1]*60)+(+A[2]||0);return I===0?0:A[0]==="+"?-I:I}var Cr=function(A){return function(I){this[A]=+I}},es=[wf,function(W){var A=this.zone||(this.zone={});A.offset=Af(W)}],xo=function(A){var I=ha[A];return I&&(I.indexOf?I:I.s.concat(I.f))},ns=function(A,I){var G,st=ha,w=st.meridiem;if(!w)G=A===(I?"pm":"PM");else for(var s=1;s<=24;s+=1)if(A.indexOf(w(s,0,I))>-1){G=s>12;break}return G},Tf={A:[Za,function(W){this.afternoon=ns(W,!1)}],a:[Za,function(W){this.afternoon=ns(W,!0)}],S:[mf,function(W){this.milliseconds=+W*100}],SS:[Ti,function(W){this.milliseconds=+W*10}],SSS:[xf,function(W){this.milliseconds=+W}],s:[Xr,Cr("seconds")],ss:[Xr,Cr("seconds")],m:[Xr,Cr("minutes")],mm:[Xr,Cr("minutes")],H:[Xr,Cr("hours")],h:[Xr,Cr("hours")],HH:[Xr,Cr("hours")],hh:[Xr,Cr("hours")],D:[Xr,Cr("day")],DD:[Ti,Cr("day")],Do:[Za,function(W){var A=ha,I=A.ordinal,G=W.match(/\d+/);if(this.day=G[0],!!I)for(var st=1;st<=31;st+=1)I(st).replace(/\[|\]/g,"")===W&&(this.day=st)}],M:[Xr,Cr("month")],MM:[Ti,Cr("month")],MMM:[Za,function(W){var A=xo("months"),I=xo("monthsShort"),G=(I||A.map(function(st){return st.slice(0,3)})).indexOf(W)+1;if(G<1)throw new Error;this.month=G%12||G}],MMMM:[Za,function(W){var A=xo("months"),I=A.indexOf(W)+1;if(I<1)throw new Error;this.month=I%12||I}],Y:[_f,Cr("year")],YY:[Ti,function(W){this.year=ks(W)}],YYYY:[bf,Cr("year")],Z:es,ZZ:es};function kf(W){var A=W.afternoon;if(A!==void 0){var I=W.hours;A?I<12&&(W.hours+=12):I===12&&(W.hours=0),delete W.afternoon}}function Df(W){W=vf(W,ha&&ha.formats);for(var A=W.match(gf),I=A.length,G=0;G<I;G+=1){var st=A[G],w=Tf[st],s=w&&w[0],t=w&&w[1];t?A[G]={regex:s,parser:t}:A[G]=st.replace(/^\[|\]$/g,"")}return function(a){for(var f={},e=0,i=0;e<I;e+=1){var r=A[e];if(typeof r=="string")i+=r.length;else{var n=r.regex,o=r.parser,l=a.slice(i),u=n.exec(l),d=u[0];o.call(f,d),a=a.replace(d,"")}}return kf(f),f}}var Mf=function(A,I,G){try{if(["x","X"].indexOf(I)>-1)return new Date((I==="X"?1e3:1)*A);var st=Df(I),w=st(A),s=w.year,t=w.month,a=w.day,f=w.hours,e=w.minutes,i=w.seconds,r=w.milliseconds,n=w.zone,o=new Date,l=a||(!s&&!t?o.getDate():1),u=s||o.getFullYear(),d=0;s&&!t||(d=t>0?t-1:o.getMonth());var c=f||0,h=e||0,p=i||0,g=r||0;return n?new Date(Date.UTC(u,d,l,c,h,p,g+n.offset*60*1e3)):G?new Date(Date.UTC(u,d,l,c,h,p,g)):new Date(u,d,l,c,h,p,g)}catch{return new Date("")}};const Ds=function(W,A,I){I.p.customParseFormat=!0,W&&W.parseTwoDigitYear&&(ks=W.parseTwoDigitYear);var G=A.prototype,st=G.parse;G.parse=function(w){var s=w.date,t=w.utc,a=w.args;this.$u=t;var f=a[1];if(typeof f=="string"){var e=a[2]===!0,i=a[3]===!0,r=e||i,n=a[2];i&&(n=a[2]),ha=this.$locale(),!e&&n&&(ha=I.Ls[n]),this.$d=Mf(s,f,t),this.init(),n&&n!==!0&&(this.$L=this.locale(n).$L),r&&s!=this.format(f)&&(this.$d=new Date("")),ha={}}else if(f instanceof Array)for(var o=f.length,l=1;l<=o;l+=1){a[1]=f[l-1];var u=I.apply(this,a);if(u.isValid()){this.$d=u.$d,this.$L=u.$L,this.init();break}l===o&&(this.$d=new Date(""))}else st.call(this,w)}};var Ms={exports:{}};/*! @preserve
 * numeral.js
 * version : 2.0.6
 * author : Adam Draper
 * license : MIT
 * http://adamwdraper.github.com/Numeral-js/
 */(function(W){(function(A,I){W.exports?W.exports=I():A.numeral=I()})(fs,function(){var A,I,G="2.0.6",st={},w={},s={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},t={currentLocale:s.currentLocale,zeroFormat:s.zeroFormat,nullFormat:s.nullFormat,defaultFormat:s.defaultFormat,scalePercentBy100:s.scalePercentBy100};function a(f,e){this._input=f,this._value=e}return A=function(f){var e,i,r,n;if(A.isNumeral(f))e=f.value();else if(f===0||typeof f>"u")e=0;else if(f===null||I.isNaN(f))e=null;else if(typeof f=="string")if(t.zeroFormat&&f===t.zeroFormat)e=0;else if(t.nullFormat&&f===t.nullFormat||!f.replace(/[^0-9]+/g,"").length)e=null;else{for(i in st)if(n=typeof st[i].regexps.unformat=="function"?st[i].regexps.unformat():st[i].regexps.unformat,n&&f.match(n)){r=st[i].unformat;break}r=r||A._.stringToNumber,e=r(f)}else e=Number(f)||null;return new a(f,e)},A.version=G,A.isNumeral=function(f){return f instanceof a},A._=I={numberToFormat:function(f,e,i){var r=w[A.options.currentLocale],n=!1,o=!1,l=0,u="",d=1e12,c=1e9,h=1e6,p=1e3,g="",y=!1,b,m,v,x,_,T,C;if(f=f||0,m=Math.abs(f),A._.includes(e,"(")?(n=!0,e=e.replace(/[\(|\)]/g,"")):(A._.includes(e,"+")||A._.includes(e,"-"))&&(_=A._.includes(e,"+")?e.indexOf("+"):f<0?e.indexOf("-"):-1,e=e.replace(/[\+|\-]/g,"")),A._.includes(e,"a")&&(b=e.match(/a(k|m|b|t)?/),b=b?b[1]:!1,A._.includes(e," a")&&(u=" "),e=e.replace(new RegExp(u+"a[kmbt]?"),""),m>=d&&!b||b==="t"?(u+=r.abbreviations.trillion,f=f/d):m<d&&m>=c&&!b||b==="b"?(u+=r.abbreviations.billion,f=f/c):m<c&&m>=h&&!b||b==="m"?(u+=r.abbreviations.million,f=f/h):(m<h&&m>=p&&!b||b==="k")&&(u+=r.abbreviations.thousand,f=f/p)),A._.includes(e,"[.]")&&(o=!0,e=e.replace("[.]",".")),v=f.toString().split(".")[0],x=e.split(".")[1],T=e.indexOf(","),l=(e.split(".")[0].split(",")[0].match(/0/g)||[]).length,x?(A._.includes(x,"[")?(x=x.replace("]",""),x=x.split("["),g=A._.toFixed(f,x[0].length+x[1].length,i,x[1].length)):g=A._.toFixed(f,x.length,i),v=g.split(".")[0],A._.includes(g,".")?g=r.delimiters.decimal+g.split(".")[1]:g="",o&&Number(g.slice(1))===0&&(g="")):v=A._.toFixed(f,0,i),u&&!b&&Number(v)>=1e3&&u!==r.abbreviations.trillion)switch(v=String(Number(v)/1e3),u){case r.abbreviations.thousand:u=r.abbreviations.million;break;case r.abbreviations.million:u=r.abbreviations.billion;break;case r.abbreviations.billion:u=r.abbreviations.trillion;break}if(A._.includes(v,"-")&&(v=v.slice(1),y=!0),v.length<l)for(var S=l-v.length;S>0;S--)v="0"+v;return T>-1&&(v=v.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+r.delimiters.thousands)),e.indexOf(".")===0&&(v=""),C=v+g+(u||""),n?C=(n&&y?"(":"")+C+(n&&y?")":""):_>=0?C=_===0?(y?"-":"+")+C:C+(y?"-":"+"):y&&(C="-"+C),C},stringToNumber:function(f){var e=w[t.currentLocale],i=f,r={thousand:3,million:6,billion:9,trillion:12},n,o,l;if(t.zeroFormat&&f===t.zeroFormat)o=0;else if(t.nullFormat&&f===t.nullFormat||!f.replace(/[^0-9]+/g,"").length)o=null;else{o=1,e.delimiters.decimal!=="."&&(f=f.replace(/\./g,"").replace(e.delimiters.decimal,"."));for(n in r)if(l=new RegExp("[^a-zA-Z]"+e.abbreviations[n]+"(?:\\)|(\\"+e.currency.symbol+")?(?:\\))?)?$"),i.match(l)){o*=Math.pow(10,r[n]);break}o*=(f.split("-").length+Math.min(f.split("(").length-1,f.split(")").length-1))%2?1:-1,f=f.replace(/[^0-9\.]+/g,""),o*=Number(f)}return o},isNaN:function(f){return typeof f=="number"&&isNaN(f)},includes:function(f,e){return f.indexOf(e)!==-1},insert:function(f,e,i){return f.slice(0,i)+e+f.slice(i)},reduce:function(f,e){if(this===null)throw new TypeError("Array.prototype.reduce called on null or undefined");if(typeof e!="function")throw new TypeError(e+" is not a function");var i=Object(f),r=i.length>>>0,n=0,o;if(arguments.length===3)o=arguments[2];else{for(;n<r&&!(n in i);)n++;if(n>=r)throw new TypeError("Reduce of empty array with no initial value");o=i[n++]}for(;n<r;n++)n in i&&(o=e(o,i[n],n,i));return o},multiplier:function(f){var e=f.toString().split(".");return e.length<2?1:Math.pow(10,e[1].length)},correctionFactor:function(){var f=Array.prototype.slice.call(arguments);return f.reduce(function(e,i){var r=I.multiplier(i);return e>r?e:r},1)},toFixed:function(f,e,i,r){var n=f.toString().split("."),o=e-(r||0),l,u,d,c;return n.length===2?l=Math.min(Math.max(n[1].length,o),e):l=o,d=Math.pow(10,l),c=(i(f+"e+"+l)/d).toFixed(l),r>e-l&&(u=new RegExp("\\.?0{1,"+(r-(e-l))+"}$"),c=c.replace(u,"")),c}},A.options=t,A.formats=st,A.locales=w,A.locale=function(f){return f&&(t.currentLocale=f.toLowerCase()),t.currentLocale},A.localeData=function(f){if(!f)return w[t.currentLocale];if(f=f.toLowerCase(),!w[f])throw new Error("Unknown locale : "+f);return w[f]},A.reset=function(){for(var f in s)t[f]=s[f]},A.zeroFormat=function(f){t.zeroFormat=typeof f=="string"?f:null},A.nullFormat=function(f){t.nullFormat=typeof f=="string"?f:null},A.defaultFormat=function(f){t.defaultFormat=typeof f=="string"?f:"0.0"},A.register=function(f,e,i){if(e=e.toLowerCase(),this[f+"s"][e])throw new TypeError(e+" "+f+" already registered.");return this[f+"s"][e]=i,i},A.validate=function(f,e){var i,r,n,o,l,u,d,c;if(typeof f!="string"&&(f+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",f)),f=f.trim(),f.match(/^\d+$/))return!0;if(f==="")return!1;try{d=A.localeData(e)}catch{d=A.localeData(A.locale())}return n=d.currency.symbol,l=d.abbreviations,i=d.delimiters.decimal,d.delimiters.thousands==="."?r="\\.":r=d.delimiters.thousands,c=f.match(/^[^\d]+/),c!==null&&(f=f.substr(1),c[0]!==n)||(c=f.match(/[^\d]+$/),c!==null&&(f=f.slice(0,-1),c[0]!==l.thousand&&c[0]!==l.million&&c[0]!==l.billion&&c[0]!==l.trillion))?!1:(u=new RegExp(r+"{2}"),f.match(/[^\d.,]/g)?!1:(o=f.split(i),o.length>2?!1:o.length<2?!!o[0].match(/^\d+.*\d$/)&&!o[0].match(u):o[0].length===1?!!o[0].match(/^\d+$/)&&!o[0].match(u)&&!!o[1].match(/^\d+$/):!!o[0].match(/^\d+.*\d$/)&&!o[0].match(u)&&!!o[1].match(/^\d+$/)))},A.fn=a.prototype={clone:function(){return A(this)},format:function(f,e){var i=this._value,r=f||t.defaultFormat,n,o,l;if(e=e||Math.round,i===0&&t.zeroFormat!==null)o=t.zeroFormat;else if(i===null&&t.nullFormat!==null)o=t.nullFormat;else{for(n in st)if(r.match(st[n].regexps.format)){l=st[n].format;break}l=l||A._.numberToFormat,o=l(i,r,e)}return o},value:function(){return this._value},input:function(){return this._input},set:function(f){return this._value=Number(f),this},add:function(f){var e=I.correctionFactor.call(null,this._value,f);function i(r,n,o,l){return r+Math.round(e*n)}return this._value=I.reduce([this._value,f],i,0)/e,this},subtract:function(f){var e=I.correctionFactor.call(null,this._value,f);function i(r,n,o,l){return r-Math.round(e*n)}return this._value=I.reduce([f],i,Math.round(this._value*e))/e,this},multiply:function(f){function e(i,r,n,o){var l=I.correctionFactor(i,r);return Math.round(i*l)*Math.round(r*l)/Math.round(l*l)}return this._value=I.reduce([this._value,f],e,1),this},divide:function(f){function e(i,r,n,o){var l=I.correctionFactor(i,r);return Math.round(i*l)/Math.round(r*l)}return this._value=I.reduce([this._value,f],e),this},difference:function(f){return Math.abs(A(this._value).subtract(f).value())}},A.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(f){var e=f%10;return~~(f%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th"},currency:{symbol:"$"}}),function(){A.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(f,e,i){var r=A._.includes(e," BPS")?" ":"",n;return f=f*1e4,e=e.replace(/\s?BPS/,""),n=A._.numberToFormat(f,e,i),A._.includes(n,")")?(n=n.split(""),n.splice(-1,0,r+"BPS"),n=n.join("")):n=n+r+"BPS",n},unformat:function(f){return+(A._.stringToNumber(f)*1e-4).toFixed(15)}})}(),function(){var f={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]},e={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},i=f.suffixes.concat(e.suffixes.filter(function(n){return f.suffixes.indexOf(n)<0})),r=i.join("|");r="("+r.replace("B","B(?!PS)")+")",A.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(r)},format:function(n,o,l){var u,d=A._.includes(o,"ib")?e:f,c=A._.includes(o," b")||A._.includes(o," ib")?" ":"",h,p,g;for(o=o.replace(/\s?i?b/,""),h=0;h<=d.suffixes.length;h++)if(p=Math.pow(d.base,h),g=Math.pow(d.base,h+1),n===null||n===0||n>=p&&n<g){c+=d.suffixes[h],p>0&&(n=n/p);break}return u=A._.numberToFormat(n,o,l),u+c},unformat:function(n){var o=A._.stringToNumber(n),l,u;if(o){for(l=f.suffixes.length-1;l>=0;l--){if(A._.includes(n,f.suffixes[l])){u=Math.pow(f.base,l);break}if(A._.includes(n,e.suffixes[l])){u=Math.pow(e.base,l);break}}o*=u||1}return o}})}(),function(){A.register("format","currency",{regexps:{format:/(\$)/},format:function(f,e,i){var r=A.locales[A.options.currentLocale],n={before:e.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:e.match(/([\+|\-|\)|\s|\$]*)$/)[0]},o,l,u;for(e=e.replace(/\s?\$\s?/,""),o=A._.numberToFormat(f,e,i),f>=0?(n.before=n.before.replace(/[\-\(]/,""),n.after=n.after.replace(/[\-\)]/,"")):f<0&&!A._.includes(n.before,"-")&&!A._.includes(n.before,"(")&&(n.before="-"+n.before),u=0;u<n.before.length;u++)switch(l=n.before[u],l){case"$":o=A._.insert(o,r.currency.symbol,u);break;case" ":o=A._.insert(o," ",u+r.currency.symbol.length-1);break}for(u=n.after.length-1;u>=0;u--)switch(l=n.after[u],l){case"$":o=u===n.after.length-1?o+r.currency.symbol:A._.insert(o,r.currency.symbol,-(n.after.length-(1+u)));break;case" ":o=u===n.after.length-1?o+" ":A._.insert(o," ",-(n.after.length-(1+u)+r.currency.symbol.length-1));break}return o}})}(),function(){A.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(f,e,i){var r,n=typeof f=="number"&&!A._.isNaN(f)?f.toExponential():"0e+0",o=n.split("e");return e=e.replace(/e[\+|\-]{1}0/,""),r=A._.numberToFormat(Number(o[0]),e,i),r+"e"+o[1]},unformat:function(f){var e=A._.includes(f,"e+")?f.split("e+"):f.split("e-"),i=Number(e[0]),r=Number(e[1]);r=A._.includes(f,"e-")?r*=-1:r;function n(o,l,u,d){var c=A._.correctionFactor(o,l),h=o*c*(l*c)/(c*c);return h}return A._.reduce([i,Math.pow(10,r)],n,1)}})}(),function(){A.register("format","ordinal",{regexps:{format:/(o)/},format:function(f,e,i){var r=A.locales[A.options.currentLocale],n,o=A._.includes(e," o")?" ":"";return e=e.replace(/\s?o/,""),o+=r.ordinal(f),n=A._.numberToFormat(f,e,i),n+o}})}(),function(){A.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(f,e,i){var r=A._.includes(e," %")?" ":"",n;return A.options.scalePercentBy100&&(f=f*100),e=e.replace(/\s?\%/,""),n=A._.numberToFormat(f,e,i),A._.includes(n,")")?(n=n.split(""),n.splice(-1,0,r+"%"),n=n.join("")):n=n+r+"%",n},unformat:function(f){var e=A._.stringToNumber(f);return A.options.scalePercentBy100?e*.01:e}})}(),function(){A.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(f,e,i){var r=Math.floor(f/60/60),n=Math.floor((f-r*60*60)/60),o=Math.round(f-r*60*60-n*60);return r+":"+(n<10?"0"+n:n)+":"+(o<10?"0"+o:o)},unformat:function(f){var e=f.split(":"),i=0;return e.length===3?(i=i+Number(e[0])*60*60,i=i+Number(e[1])*60,i=i+Number(e[2])):e.length===2&&(i=i+Number(e[0])*60,i=i+Number(e[1])),Number(i)}})}(),A})})(Ms);var Sf=Ms.exports;const Ef=ni(Sf);/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var Oo=function(W,A){return Oo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,G){I.__proto__=G}||function(I,G){for(var st in G)G.hasOwnProperty(st)&&(I[st]=G[st])},Oo(W,A)};function Yo(W,A){Oo(W,A);function I(){this.constructor=W}W.prototype=A===null?Object.create(A):(I.prototype=A.prototype,new I)}function qe(W){var A=typeof Symbol=="function"&&W[Symbol.iterator],I=0;return A?A.call(W):{next:function(){return W&&I>=W.length&&(W=void 0),{value:W&&W[I++],done:!W}}}}function Mi(W,A){var I=typeof Symbol=="function"&&W[Symbol.iterator];if(!I)return W;var G=I.call(W),st,w=[],s;try{for(;(A===void 0||A-- >0)&&!(st=G.next()).done;)w.push(st.value)}catch(t){s={error:t}}finally{try{st&&!st.done&&(I=G.return)&&I.call(G)}finally{if(s)throw s.error}}return w}function Ss(){for(var W=[],A=0;A<arguments.length;A++)W=W.concat(Mi(arguments[A]));return W}var Cf=function(){function W(){}return W.prototype.next=function(){return{done:!0,value:null}},W}(),Es=function(){function W(){}return W.prototype[Symbol.iterator]=function(){return new Cf},W}(),Ff=function(){function W(){this.index=0}return W.prototype.next=function(){return{done:!1,value:this.index++}},W}(),Lo=function(){function W(){}return W.prototype[Symbol.iterator]=function(){return new Ff},W}(),Of=function(){function W(A){this.iterators=A}return W.prototype.next=function(){if(this.iterators.length===0)return{done:!0,value:[]};var A=[];try{for(var I=qe(this.iterators),G=I.next();!G.done;G=I.next()){var st=G.value,w=st.next();if(w.done)return{done:!0,value:[]};A.push(w.value)}}catch(a){s={error:a}}finally{try{G&&!G.done&&(t=I.return)&&t.call(I)}finally{if(s)throw s.error}}return{done:!1,value:A};var s,t},W}(),Qa=function(){function W(A){this.iterables=A}return W.prototype[Symbol.iterator]=function(){var A=[];try{for(var I=qe(this.iterables),G=I.next();!G.done;G=I.next()){var st=G.value;A.push(st[Symbol.iterator]())}}catch(t){w={error:t}}finally{try{G&&!G.done&&(s=I.return)&&s.call(I)}finally{if(w)throw w.error}}return new Of(A);var w,s},W}(),Lf=function(){function W(A,I){this.index=0,this.iterator=A,this.selector=I}return W.prototype.next=function(){var A=this.iterator.next();return A.done?{done:!0}:{done:!1,value:this.selector(A.value,this.index++)}},W}(),_r=function(){function W(A,I){this.iterable=A,this.selector=I}return W.prototype[Symbol.iterator]=function(){var A=this.iterable[Symbol.iterator]();return new Lf(A,this.selector)},W}(),If=function(){function W(A,I){this.index=0,this.iterator=A,this.selector=I,this.outputIterator=null}return W.prototype.next=function(){for(;;){if(this.outputIterator===null){var A=this.iterator.next();if(A.done)return{done:!0};var I=this.selector(A.value,this.index++);this.outputIterator=I[Symbol.iterator]()}var G=this.outputIterator.next();if(G.done){this.outputIterator=null;continue}else return G}},W}(),Cs=function(){function W(A,I){this.iterable=A,this.selector=I}return W.prototype[Symbol.iterator]=function(){var A=this.iterable[Symbol.iterator]();return new If(A,this.selector)},W}(),Pf=function(){function W(A,I){this.childIterator=A,this.numElements=I}return W.prototype.next=function(){return this.numElements<=0?{done:!0}:(--this.numElements,this.childIterator.next())},W}(),Pa=function(){function W(A,I){this.childIterable=A,this.numElements=I}return W.prototype[Symbol.iterator]=function(){var A=this.childIterable[Symbol.iterator]();return new Pf(A,this.numElements)},W}(),Bf=function(){function W(A,I){this.done=!1,this.childIterator=A,this.predicate=I}return W.prototype.next=function(){if(!this.done){var A=this.childIterator.next();if(A.done)this.done=!0;else{if(this.predicate(A.value))return A;this.done=!0}}return{done:!0}},W}(),zr=function(){function W(A,I){this.childIterable=A,this.predicate=I}return W.prototype[Symbol.iterator]=function(){var A=this.childIterable[Symbol.iterator]();return new Bf(A,this.predicate)},W}(),Rf=function(){function W(A,I){this.childIterator=A,this.predicate=I}return W.prototype.next=function(){for(;;){var A=this.childIterator.next();if(A.done||this.predicate(A.value))return A}},W}(),Ba=function(){function W(A,I){this.childIterable=A,this.predicate=I}return W.prototype[Symbol.iterator]=function(){var A=this.childIterable[Symbol.iterator]();return new Rf(A,this.predicate)},W}(),zf=function(){function W(A){this.curIterator=null,this.iterables=A,this.iterator=A[Symbol.iterator](),this.moveToNextIterable()}return W.prototype.moveToNextIterable=function(){var A=this.iterator.next();A.done?this.curIterator=null:this.curIterator=A.value[Symbol.iterator]()},W.prototype.next=function(){for(;;){if(this.curIterator==null)return{done:!0};var A=this.curIterator.next();if(!A.done)return A;this.moveToNextIterable()}},W}(),Ii=function(){function W(A){this.iterables=A}return W.prototype[Symbol.iterator]=function(){return new zf(this.iterables)},W}(),Nf=function(){function W(A,I,G){this.iterable=A,this.period=I,this.whichIndex=G}return W.prototype.next=function(){this.iterator||(this.iterator=this.iterable[Symbol.iterator]());for(var A=[],I=0;I<this.period;++I){var G=this.iterator.next();if(G.done)break;A.push(G.value)}if(A.length===0)return{done:!0};var st=new rr({pairs:A});return{value:[this.whichIndex===Ua.Start?st.getIndex().first():st.getIndex().last(),st],done:!1}},W}(),jf=function(){function W(A,I,G){this.iterable=A,this.period=I,this.whichIndex=G}return W.prototype[Symbol.iterator]=function(){return new Nf(this.iterable,this.period,this.whichIndex)},W}(),Pi=function(){function W(A){this.index=0,this.arr=A}return W.prototype.next=function(){return this.index<this.arr.length?{done:!1,value:this.arr[this.index++]}:{done:!0}},W}(),Ra=function(){function W(A){this.iterable=A}return W.prototype[Symbol.iterator]=function(){var A=[];try{for(var I=qe(this.iterable),G=I.next();!G.done;G=I.next()){var st=G.value;A.push(st)}}catch(t){w={error:t}}finally{try{G&&!G.done&&(s=I.return)&&s.call(I)}finally{if(w)throw w.error}}return A.reverse(),new Pi(A);var w,s},W}(),Uf=function(){function W(A,I){this.iterators=A.map(function(G){return G[Symbol.iterator]()}),this.zipper=I}return W.prototype.next=function(){var A=this.iterators.map(function(f){return f.next()});try{for(var I=qe(A),G=I.next();!G.done;G=I.next()){var st=G.value;if(st.done)return{done:!0}}}catch(f){t={error:f}}finally{try{G&&!G.done&&(a=I.return)&&a.call(I)}finally{if(t)throw t.error}}var w=A.map(function(f){return f.value}),s=new rr(w);return{done:!1,value:this.zipper(s)};var t,a},W}(),Fs=function(){function W(A,I){this.iterables=A,this.zipper=I}return W.prototype[Symbol.iterator]=function(){return new Uf(this.iterables,this.zipper)},W}(),Hf=function(){function W(A,I){this.valuesAlreadySeen=new Set,this.iterator=A[Symbol.iterator](),this.selector=I}return W.prototype.next=function(){for(;;){var A=this.iterator.next();if(A.done)return{done:!0};var I=void 0;if(this.selector?I=this.selector(A.value):I=A.value,!this.valuesAlreadySeen.has(I))return this.valuesAlreadySeen.add(I),{done:!1,value:A.value}}},W}(),Bi=function(){function W(A,I){this.iterable=A,this.selector=I}return W.prototype[Symbol.iterator]=function(){return new Hf(this.iterable,this.selector)},W}(),qf=function(){function W(A,I,G){this.iterable=A,this.period=I,this.whichIndex=G}return W.prototype.next=function(){if(this.curWindow){this.curWindow.shift();var I=this.iterator.next();if(I.done)return{done:!0};this.curWindow.push(I.value)}else{this.curWindow=[],this.iterator=this.iterable[Symbol.iterator]();for(var A=0;A<this.period;++A){var I=this.iterator.next();if(I.done)return{done:!0};this.curWindow.push(I.value)}}var G=new rr({pairs:this.curWindow});return{value:[this.whichIndex===Ua.Start?G.getIndex().first():G.getIndex().last(),G],done:!1}},W}(),Yf=function(){function W(A,I,G){this.iterable=A,this.period=I,this.whichIndex=G}return W.prototype[Symbol.iterator]=function(){return new qf(this.iterable,this.period,this.whichIndex)},W}(),Vf=function(){function W(A,I){this.iterator=A[Symbol.iterator](),this.nextValue=this.iterator.next(),this.comparer=I}return W.prototype.next=function(){if(this.nextValue.done)return{done:!0};for(var A=[this.nextValue.value],I=this.nextValue.value;this.nextValue=this.iterator.next(),!this.nextValue.done;){if(!this.comparer(I[1],this.nextValue.value[1])){I=this.nextValue.value;break}A.push(this.nextValue.value),I=this.nextValue.value}var G=new rr({pairs:A});return{value:G,done:!1}},W}(),Wf=function(){function W(A,I){this.iterable=A,this.comparer=I}return W.prototype[Symbol.iterator]=function(){return new Vf(this.iterable,this.comparer)},W}(),Gr;(function(W){W[W.Ascending=0]="Ascending",W[W.Descending=1]="Descending"})(Gr||(Gr={}));var Gf=function(){function W(A,I){this.values=A,this.sortSpec=I,this.keys=[]}return W.prototype.genKeys=function(){if(!(this.keys.length>0)){var A=0;try{for(var I=qe(this.values),G=I.next();!G.done;G=I.next()){var st=G.value;this.keys.push(this.sortSpec.selector(st,A))}}catch(t){w={error:t}}finally{try{G&&!G.done&&(s=I.return)&&s.call(I)}finally{if(w)throw w.error}}var w,s}},W.prototype.compare=function(A,I){this.genKeys();var G=this.keys[A],st=this.keys[I],w=-1;return G===st?w=0:G>st&&(w=1),this.sortSpec.direction===Gr.Descending?-w:w},W}(),Ri=function(){function W(A,I){this.iterable=A,this.sortSpec=I}return W.prototype[Symbol.iterator]=function(){var A=[],I=[],G=0;try{for(var st=qe(this.iterable),w=st.next();!w.done;w=st.next()){var s=w.value;A.push(G),I.push(s),++G}}catch(g){l={error:g}}finally{try{w&&!w.done&&(u=st.return)&&u.call(st)}finally{if(l)throw l.error}}var t=[];try{for(var a=qe(this.sortSpec),f=a.next();!f.done;f=a.next()){var e=f.value;t.push(new Gf(I,e))}}catch(g){d={error:g}}finally{try{f&&!f.done&&(c=a.return)&&c.call(a)}finally{if(d)throw d.error}}t[0].genKeys(),A.sort(function(g,y){try{for(var b=qe(t),m=b.next();!m.done;m=b.next()){var v=m.value,x=v.compare(g,y);if(x!==0)return x}}catch(C){_={error:C}}finally{try{m&&!m.done&&(T=b.return)&&T.call(b)}finally{if(_)throw _.error}}return 0;var _,T});var i=[];try{for(var r=qe(A),n=r.next();!n.done;n=r.next()){var o=n.value;i.push(I[o])}}catch(g){h={error:g}}finally{try{n&&!n.done&&(p=r.return)&&p.call(r)}finally{if(h)throw h.error}}return new Pi(i);var l,u,d,c,h,p},W}(),Zf=function(){function W(A,I){this.iterator=A,this.extractIndex=I}return W.prototype.next=function(){var A=this.iterator.next();return A.done?A:{done:!1,value:A.value[this.extractIndex]}},W}(),zi=function(){function W(A,I){this.arrayIterable=A,this.extractIndex=I}return W.prototype[Symbol.iterator]=function(){var A=this.arrayIterable[Symbol.iterator]();return new Zf(A,this.extractIndex)},W}(),$f=function(){function W(A,I){this.iterator=A,this.numValues=I}return W.prototype.next=function(){for(;--this.numValues>=0;){var A=this.iterator.next();if(A.done)return A}return this.iterator.next()},W}(),za=function(){function W(A,I){this.iterable=A,this.numValues=I}return W.prototype[Symbol.iterator]=function(){var A=this.iterable[Symbol.iterator]();return new $f(A,this.numValues)},W}(),Jf=function(){function W(A,I){this.doneSkipping=!1,this.childIterator=A,this.predicate=I}return W.prototype.next=function(){for(;;){var A=this.childIterator.next();if(A.done)return A;if(!(!this.doneSkipping&&this.predicate(A.value)))return this.doneSkipping=!0,A}},W}(),Nr=function(){function W(A,I){this.childIterable=A,this.predicate=I}return W.prototype[Symbol.iterator]=function(){var A=this.childIterable[Symbol.iterator]();return new Jf(A,this.predicate)},W}(),Xf=function(){function W(A,I,G){this.columnNames=A,this.iterable=I,this.period=G}return W.prototype.next=function(){this.iterator||(this.iterator=this.iterable[Symbol.iterator]());for(var A=[],I=0;I<this.period;++I){var G=this.iterator.next();if(G.done)break;A.push(G.value)}if(A.length===0)return{done:!0};var st=new Ir({columnNames:this.columnNames,pairs:A});return{value:st,done:!1}},W}(),Kf=function(){function W(A,I,G){this.columnNames=A,this.iterable=I,this.period=G}return W.prototype[Symbol.iterator]=function(){return new Xf(this.columnNames,this.iterable,this.period)},W}(),Qf=function(){function W(A,I){this.index=0,this.columnNames=Array.from(A),this.rowsIterator=I[Symbol.iterator]()}return W.prototype.next=function(){var A=this.rowsIterator.next();if(A.done)return{done:!0};for(var I=A.value,G={},st=0;st<this.columnNames.length;++st){var w=this.columnNames[st];G[w]=I[st]}return{done:!1,value:G}},W}(),rs=function(){function W(A,I){this.columnNames=A,this.rows=I}return W.prototype[Symbol.iterator]=function(){return new Qf(this.columnNames,this.rows)},W}(),td=function(){function W(A,I,G){this.columnNames=A,this.iterable=I,this.period=G}return W.prototype.next=function(){if(this.curWindow){this.curWindow.shift();var I=this.iterator.next();if(I.done)return{done:!0};this.curWindow.push(I.value)}else{this.curWindow=[],this.iterator=this.iterable[Symbol.iterator]();for(var A=0;A<this.period;++A){var I=this.iterator.next();if(I.done)return{done:!0};this.curWindow.push(I.value)}}var G=new Ir({columnNames:this.columnNames,pairs:this.curWindow});return{value:G,done:!1}},W}(),ed=function(){function W(A,I,G){this.columnNames=A,this.iterable=I,this.period=G}return W.prototype[Symbol.iterator]=function(){return new td(this.columnNames,this.iterable,this.period)},W}(),nd=function(){function W(A,I,G){this.columnNames=A,this.iterator=I[Symbol.iterator](),this.nextValue=this.iterator.next(),this.comparer=G}return W.prototype.next=function(){if(this.nextValue.done)return{done:!0};for(var A=[this.nextValue.value],I=this.nextValue.value;this.nextValue=this.iterator.next(),!this.nextValue.done;){if(!this.comparer(I[1],this.nextValue.value[1])){I=this.nextValue.value;break}A.push(this.nextValue.value),I=this.nextValue.value}var G=new Ir({columnNames:this.columnNames,pairs:A});return{value:G,done:!1}},W}(),rd=function(){function W(A,I,G){this.columnNames=A,this.iterable=I,this.comparer=G}return W.prototype[Symbol.iterator]=function(){return new nd(this.columnNames,this.iterable,this.comparer)},W}(),ad=function(){function W(A,I){this.repetition=0,this.iterator=A[Symbol.iterator](),this.count=I,this.result=this.iterator.next()}return W.prototype.next=function(){return this.count==0?{done:!0}:(this.repetition==this.count&&(this.result=this.iterator.next(),this.repetition=0),this.repetition+=1,this.result.done?{done:!0}:{done:!1,value:this.result.value})},W}(),id=function(){function W(A,I){this.iterable=A,this.count=I}return W.prototype[Symbol.iterator]=function(){return new ad(this.iterable,this.count)},W}(),od=function(){function W(A,I){this.count=0,this.repetition=0,this.firstIteration=!0,this.iterable=A,this.iterator=A[Symbol.iterator](),this.count=I}return W.prototype.next=function(){var A=this.iterator.next();return this.firstIteration&&A.done?{done:!0}:(this.firstIteration=!1,A.done&&(this.repetition+=1,this.iterator=this.iterable[Symbol.iterator](),A=this.iterator.next()),this.repetition<this.count?{done:!1,value:A.value}:{done:!0})},W}(),ld=function(){function W(A,I){this.iterable=A,this.count=I}return W.prototype[Symbol.iterator]=function(){return new od(this.iterable,this.count)},W}(),sd=function(){function W(A){this.iteratorIndex=0,this.iterators=A.map(function(I){return I[Symbol.iterator]()})}return W.prototype.next=function(){if(this.iterators.length>0){for(var A=this.iterators[this.iteratorIndex].next();A.done;)if(this.iteratorIndex+=1,this.iteratorIndex<this.iterators.length)A=this.iterators[this.iteratorIndex].next();else return{done:!0};return{done:!1,value:A.value}}return{done:!0}},W}(),ud=function(){function W(A){this.iterables=A}return W.prototype[Symbol.iterator]=function(){return new sd(this.iterables)},W}(),cd=function(){function W(A,I){this.columnNamesIterator=null,this.values=A,this.considerAllRows=I}return W.prototype.next=function(){if(this.columnNamesIterator===null)if(this.considerAllRows){var A={};try{for(var I=qe(this.values),G=I.next();!G.done;G=I.next()){var st=G.value;try{for(var w=qe(Object.keys(st)),s=w.next();!s.done;s=w.next()){var t=s.value;A[t]=!0}}catch(o){r={error:o}}finally{try{s&&!s.done&&(n=w.return)&&n.call(w)}finally{if(r)throw r.error}}}}catch(o){e={error:o}}finally{try{G&&!G.done&&(i=I.return)&&i.call(I)}finally{if(e)throw e.error}}this.columnNamesIterator=new Pi(Object.keys(A))}else{var a=this.values[Symbol.iterator](),f=a.next();if(f.done)return{done:!0,value:""};this.columnNamesIterator=new Pi(Object.keys(f.value))}return this.columnNamesIterator.next();var e,i,r,n},W}(),as=function(){function W(A,I){this.values=A,this.considerAllRows=I}return W.prototype[Symbol.iterator]=function(){return new cd(this.values,this.considerAllRows)},W}();function bo(W,A){var I={},G=[];try{for(var st=qe(W),w=st.next();!w.done;w=st.next()){var s=w.value,t=A&&A(s)||s;I[t]||(I[t]=!0,G.push(s))}}catch(e){a={error:e}}finally{try{w&&!w.done&&(f=st.return)&&f.call(st)}finally{if(a)throw a.error}}return G;var a,f}function ka(W,A,I){var G={};try{for(var st=qe(W),w=st.next();!w.done;w=st.next()){var s=w.value,t=A(s);G[t]=I(s)}}catch(e){a={error:e}}finally{try{w&&!w.done&&(f=st.return)&&f.call(st)}finally{if(a)throw a.error}}return G;var a,f}function fd(W,A,I){var G=new Map;try{for(var st=qe(W),w=st.next();!w.done;w=st.next()){var s=w.value;G.set(A(s),I(s))}}catch(f){t={error:f}}finally{try{w&&!w.done&&(a=st.return)&&a.call(st)}finally{if(t)throw t.error}}return G;var t,a}function Os(W){return W===void 0?"undefined":Qn(W)?"number":Rn(W)?"string":W instanceof Date?"date":dd(W)?"boolean":"unsupported"}function dr(W){return Ha(W).isObject&&!Io(W)}function $e(W){return Ha(W).isFunction}function Rn(W){return Ha(W).isString}function Io(W){return Object.prototype.toString.call(W)==="[object Date]"}function dd(W){return Ha(W).isBoolean}function Qn(W){return Ha(W).isNumber}function Wn(W){return Ha(W).isArray}function _o(W){return W===void 0}var hd=function(){function W(A){this.iterable=A,this.index=0}return W.prototype.next=function(){return this.iterable._next(this.index++)},W}(),Rr=function(){function W(A){this.iterator=A,this.cached=[]}return W.prototype[Symbol.iterator]=function(){return new hd(this)},W.prototype._next=function(A){if(A>=this.cached.length){var I=this.iterator.next();if(I.done)return{done:!0};this.cached.push(I.value)}return{done:!1,value:this.cached[A]}},W}(),Ir=function(){function W(A){if(this.configFn=null,this.content=null,this.indexedContent=null,A){var I=A;if(I.getTypeCode!==void 0){var G=I.getTypeCode();if(G==="dataframe"||G==="series"){I.content!==void 0?this.content=I.content:this.configFn=I.configFn;return}}$e(A)?this.configFn=A:W.isIterator(A)?this.content=W.initFromIterator(A):W.isIterable(A)?this.content=W.initFromIterable(A):this.content=W.initFromConfig(A)}else this.content=W.initEmpty()}return W.initFromIterator=function(A){return W.initFromIterable(new Rr(A))},W.initFromIterable=function(A){var I=A[Symbol.iterator]().next(),G=I.done?[]:Object.keys(I.value);return{index:W.defaultCountIterable,values:A,pairs:new Qa([W.defaultCountIterable,A]),isBaked:!0,columnNames:G,isCaseSensitive:!1}},W.initEmpty=function(){return{index:W.defaultEmptyIterable,values:W.defaultEmptyIterable,pairs:W.defaultEmptyIterable,isBaked:!0,columnNames:[],isCaseSensitive:!1}},W.initColumnNames=function(A,I){var G=[],st={},w=Array.from(A).map(function(c){return c.toString()});try{for(var s=qe(w),t=s.next();!t.done;t=s.next()){var a=t.value,f=I!==void 0&&I?a:a.toLowerCase();st[f]===void 0?st[f]=1:st[f]+=1}}catch(c){o={error:c}}finally{try{t&&!t.done&&(l=s.return)&&l.call(s)}finally{if(o)throw o.error}}var e={};try{for(var i=qe(w),r=i.next();!r.done;r=i.next()){var a=r.value,f=I!==void 0&&I?a:a.toLowerCase();if(st[f]>1){var n=1;e[f]!==void 0&&(n=e[f]),G.push(a+"."+n),e[f]=n+1}else G.push(a)}}catch(c){u={error:c}}finally{try{r&&!r.done&&(d=i.return)&&d.call(i)}finally{if(u)throw u.error}}return G;var o,l,u,d},W.isIterator=function(A){return dr(A)&&$e(A.next)},W.isIterable=function(A){return Wn(A)||dr(A)&&$e(A[Symbol.iterator])},W.checkIterable=function(A,I){if(!W.isIterable(A))throw new Error("Expected '"+I+"' field of DataFrame config object to be an array of values or an iterable of values.")},W.initFromConfig=function(A){var I,G,st,w=!1,s;if(A.pairs&&(W.isIterator(A.pairs)?st=new Rr(A.pairs):(W.checkIterable(A.pairs,"pairs"),st=A.pairs)),A.columns){var t=A.columns;if(W.isIterator(t)&&(t=new Rr(t)),W.isIterable(t)){var a=t;s=Array.from(a).map(function(d){return d.name}),t=ka(a,function(d){return d.name},function(d){return d.series})}else{if(!dr(t))throw new Error("Expected 'columns' member of 'config' parameter to DataFrame constructor to be an object with fields that define columns.");s=Object.keys(t)}var f=[];try{for(var e=qe(s),i=e.next();!i.done;i=e.next()){var r=i.value,n=t[r];W.isIterator(n)?n=new Rr(n):W.checkIterable(n,r),f.push(n)}}catch(d){l={error:d}}finally{try{i&&!i.done&&(u=e.return)&&u.call(e)}finally{if(l)throw l.error}}G=new rs(s,new Qa(f))}else if(A.columnNames&&(W.isIterator(A.columnNames)?s=new Rr(A.columnNames):s=A.columnNames,s=this.initColumnNames(s,A.caseSensitive)),A.rows){A.columnNames||(s=new _r(new Lo,function(d){return"Column."+d.toString()}));var o=void 0;W.isIterator(A.rows)?o=new Rr(A.rows):(W.checkIterable(A.rows,"rows"),o=A.rows),G=new rs(s,o)}else A.values?(W.isIterator(A.values)?G=new Rr(A.values):(W.checkIterable(A.values,"values"),G=A.values),A.columnNames||(s=new as(G,A.considerAllRows||!1))):st?(G=new zi(st,1),A.columnNames||(s=new as(G,A.considerAllRows||!1))):(G=W.defaultEmptyIterable,A.columnNames||(s=W.defaultEmptyIterable));return A.index?W.isIterator(A.index)?I=new Rr(A.index):(W.checkIterable(A.index,"index"),I=A.index):st?I=new zi(st,0):I=W.defaultCountIterable,st||(st=new Qa([I,G])),A.baked!==void 0&&(w=A.baked),{index:I,values:G,pairs:st,isBaked:w,columnNames:s,isCaseSensitive:A.caseSensitive||!1};var l,u},W.prototype.lazyInit=function(){this.content===null&&this.configFn!==null&&(this.content=W.initFromConfig(this.configFn()))},W.prototype.getContent=function(){return this.lazyInit(),this.content},W.prototype.getRowByIndex=function(A){if(!this.indexedContent){this.indexedContent=new Map;try{for(var I=qe(this.getContent().pairs),G=I.next();!G.done;G=I.next()){var st=G.value;this.indexedContent.set(st[0],st[1])}}catch(t){w={error:t}}finally{try{G&&!G.done&&(s=I.return)&&s.call(I)}finally{if(w)throw w.error}}}return this.indexedContent.get(A);var w,s},W.prototype[Symbol.iterator]=function(){return this.getContent().values[Symbol.iterator]()},W.prototype.getColumnNames=function(){return Array.from(this.getContent().columnNames)},W.prototype.getColumns=function(){var A=this;return new rr(function(){var I=A.getColumnNames();return{values:I.map(function(G){var st=A.getSeries(G).skipWhile(function(s){return s==null}),w=st.any()?st.first():void 0;return{name:G,type:Os(w),series:st}})}})},W.prototype.isCaseSensitive=function(){return this.getContent().isCaseSensitive},W.prototype.cast=function(){return this},W.prototype.getIndex=function(){var A=this;return new Ls(function(){return{values:A.getContent().index}})},W.prototype.setIndex=function(A){if(!Rn(A))throw new Error("Expected 'columnName' parameter to 'DataFrame.setIndex' to be a string that specifies the name of the column to set as the index for the dataframe.");return this.withIndex(this.getSeries(A))},W.prototype.withIndex=function(A){var I=this;return $e(A)?new W(function(){var G=I.getContent();return{columnNames:G.columnNames,values:G.values,index:I.deflate(A)}}):(W.checkIterable(A,"newIndex"),new W(function(){var G=I.getContent();return{columnNames:G.columnNames,values:G.values,index:A}}))},W.prototype.resetIndex=function(){var A=this;return new W(function(){var I=A.getContent();return{columnNames:I.columnNames,values:I.values}})},W.prototype.getSeries=function(A){var I=this;if(!Rn(A))throw new Error("Expected 'columnName' parameter to 'DataFrame.getSeries' function to be a string that specifies the name of the column to retreive.");return new rr(function(){return{values:new _r(I.getContent().values,function(G){return G[A]}),index:I.getContent().index}})},W.prototype.hasSeries=function(A){var I=A.toLowerCase();try{for(var G=qe(this.getColumnNames()),st=G.next();!st.done;st=G.next()){var w=st.value;if(w.toLowerCase()===I)return!0}}catch(a){s={error:a}}finally{try{st&&!st.done&&(t=G.return)&&t.call(G)}finally{if(s)throw s.error}}return!1;var s,t},W.prototype.expectSeries=function(A){if(!this.hasSeries(A))throw new Error("Expected dataframe to contain series with column name: '"+A+"'.");return this.getSeries(A)},W.prototype.withSeries=function(A,I){var G=this;if(dr(A)){if(!_o(I))throw new Error("Expected 'series' parameter to 'DataFrame.withSeries' to not be set when 'columnNameOrSpec is an object.")}else{if(!Rn(A))throw new Error("Expected 'columnNameOrSpec' parameter to 'DataFrame.withSeries' function to be a string that specifies the column to set or replace.");if(!$e(I)&&!dr(I))throw new Error("Expected 'series' parameter to 'DataFrame.withSeries' to be a Series object or a function that takes a dataframe and produces a Series.")}if(dr(A)){var st=A,w=Object.keys(st),s=this;try{for(var t=qe(w),a=t.next();!a.done;a=t.next()){var f=a.value;s=s.withSeries(f,st[f])}}catch(o){r={error:o}}finally{try{a&&!a.done&&(n=t.return)&&n.call(t)}finally{if(r)throw r.error}}return s.cast()}var e=A;if(this.none()){var i=void 0;return $e(I)?i=I(this):i=I,i.inflate(function(o){var l={};return l[e]=o,l}).cast()}return new W(function(){var o;$e(I)?o=I(G):o=I;var l=fd(o.toPairs(),function(d){return d[0]},function(d){return d[1]}),u=bo(G.getColumnNames().concat([e]));return{columnNames:u,index:G.getContent().index,pairs:new _r(G.getContent().pairs,function(d){var c=d[0],h=d[1],p=Object.assign({},h);return p[e]=l.get(c),[c,p]})}});var r,n},W.merge=function(A){var I=!1,G=new Map;try{for(var st=qe(A),w=st.next();!w.done;w=st.next()){var s=w.value;s.isCaseSensitive()&&(I=!0);try{for(var t=qe(s.toPairs()),a=t.next();!a.done;a=t.next()){var f=a.value,e=f[0];if(G.has(e))G.set(e,Object.assign(G.get(e),f[1]));else{var i=Object.assign({},f[1]);G.set(e,i)}}}catch(h){d={error:h}}finally{try{a&&!a.done&&(c=t.return)&&c.call(t)}finally{if(d)throw d.error}}}}catch(h){l={error:h}}finally{try{w&&!w.done&&(u=st.return)&&u.call(st)}finally{if(l)throw l.error}}var r=Array.from(A).map(function(h){return h.getColumnNames()}).reduce(function(h,p){return h.concat(p)},[]),n=bo(r),o=Array.from(G.keys()).map(function(h){return[h,G.get(h)]});return o.sort(function(h,p){return h[0]===p[0]?0:h[0]>p[0]?1:-1}),new W({columnNames:n,pairs:o,caseSensitive:I});var l,u,d,c},W.prototype.merge=function(){for(var A=[],I=0;I<arguments.length;I++)A[I]=arguments[I];return W.merge([this].concat(A))},W.prototype.ensureSeries=function(A,I){if(dr(A)){if(!_o(I))throw new Error("Expected 'series' parameter to 'DataFrame.ensureSeries' to not be set when 'columnNameOrSpec is an object.")}else{if(!Rn(A))throw new Error("Expected 'columnNameOrSpec' parameter to 'DataFrame.ensureSeries' function to be a string that specifies the column to set or replace.");if(!$e(I)&&!dr(I))throw new Error("Expected 'series' parameter to 'DataFrame.ensureSeries' to be a Series object or a function that takes a dataframe and produces a Series.")}if(dr(A)){var G=A,st=Object.keys(A),w=this;try{for(var s=qe(st),t=s.next();!t.done;t=s.next()){var a=t.value;w=w.ensureSeries(a,G[a])}}catch(r){e={error:r}}finally{try{t&&!t.done&&(i=s.return)&&i.call(s)}finally{if(e)throw e.error}}return w}var f=A;if(this.hasSeries(f))return this;return this.withSeries(f,I);var e,i},W.prototype.subset=function(A){var I=this;if(!Wn(A))throw new Error("Expected 'columnNames' parameter to 'DataFrame.subset' to be an array of column names to keep.");return new W(function(){var G=I.getContent();return{columnNames:A,index:G.index,values:new _r(G.values,function(st){var w={};try{for(var s=qe(A),t=s.next();!t.done;t=s.next()){var a=t.value;w[a]=st[a]}}catch(i){f={error:i}}finally{try{t&&!t.done&&(e=s.return)&&e.call(s)}finally{if(f)throw f.error}}return w;var f,e}),pairs:new _r(G.pairs,function(st){var w={},s=st[1];try{for(var t=qe(A),a=t.next();!a.done;a=t.next()){var f=a.value;w[f]=s[f]}}catch(r){e={error:r}}finally{try{a&&!a.done&&(i=t.return)&&i.call(t)}finally{if(e)throw e.error}}return[st[0],w];var e,i})}})},W.prototype.dropSeries=function(A){var I=this;if(!Wn(A)){if(!Rn(A))throw new Error("'DataFrame.dropSeries' expected either a string or an array or strings.");A=[A]}return new W(function(){var G=I.getContent(),st=[];try{for(var w=qe(G.columnNames),s=w.next();!s.done;s=w.next()){var t=s.value;A.indexOf(t)===-1&&st.push(t)}}catch(e){a={error:e}}finally{try{s&&!s.done&&(f=w.return)&&f.call(w)}finally{if(a)throw a.error}}return{columnNames:st,index:G.index,values:new _r(G.values,function(e){var i=Object.assign({},e);try{for(var r=qe(A),n=r.next();!n.done;n=r.next()){var o=n.value;delete i[o]}}catch(d){l={error:d}}finally{try{n&&!n.done&&(u=r.return)&&u.call(r)}finally{if(l)throw l.error}}return i;var l,u}),pairs:new _r(G.pairs,function(e){var i=Object.assign({},e[1]);try{for(var r=qe(A),n=r.next();!n.done;n=r.next()){var o=n.value;delete i[o]}}catch(d){l={error:d}}finally{try{n&&!n.done&&(u=r.return)&&u.call(r)}finally{if(l)throw l.error}}return[e[0],i];var l,u})};var a,f})},W.prototype.reorderSeries=function(A){var I=this;if(!Wn(A))throw new Error("Expected parameter 'columnNames' to 'DataFrame.reorderSeries' to be an array with column names.");try{for(var G=qe(A),st=G.next();!st.done;st=G.next()){var w=st.value;if(!Rn(w))throw new Error("Expected parameter 'columnNames' to 'DataFrame.reorderSeries' to be an array with column names.")}}catch(a){s={error:a}}finally{try{st&&!st.done&&(t=G.return)&&t.call(G)}finally{if(s)throw s.error}}return new W(function(){var a=I.getContent();return{columnNames:A,index:a.index,values:new _r(a.values,function(f){var e={};try{for(var i=qe(A),r=i.next();!r.done;r=i.next()){var n=r.value;e[n]=f[n]}}catch(u){o={error:u}}finally{try{r&&!r.done&&(l=i.return)&&l.call(i)}finally{if(o)throw o.error}}return e;var o,l}),pairs:new _r(a.pairs,function(f){var e=f[1],i={};try{for(var r=qe(A),n=r.next();!n.done;n=r.next()){var o=n.value;i[o]=e[o]}}catch(d){l={error:d}}finally{try{n&&!n.done&&(u=r.return)&&u.call(r)}finally{if(l)throw l.error}}return[f[0],i];var l,u}),caseSensitive:a.isCaseSensitive}});var s,t},W.prototype.bringToFront=function(A){var I=this;if(Wn(A))try{for(var G=qe(A),st=G.next();!st.done;st=G.next()){var w=st.value;if(!Rn(w))throw new Error("Expect 'columnOrColumns' parameter to 'DataFrame.bringToFront' function to specify a column or columns via a string or an array of strings.")}}catch(a){s={error:a}}finally{try{st&&!st.done&&(t=G.return)&&t.call(G)}finally{if(s)throw s.error}}else{if(!Rn(A))throw new Error("Expect 'columnOrColumns' parameter to 'DataFrame.bringToFront' function to specify a column or columns via a string or an array of strings.");A=[A]}return new W(function(){var a=I.getContent(),f=Array.from(a.columnNames),e=[];try{for(var i=qe(A),r=i.next();!r.done;r=i.next()){var n=r.value;f.indexOf(n)!==-1&&e.push(n)}}catch(y){c={error:y}}finally{try{r&&!r.done&&(h=i.return)&&h.call(i)}finally{if(c)throw c.error}}var o=[];try{for(var l=qe(f),u=l.next();!u.done;u=l.next()){var d=u.value;A.indexOf(d)===-1&&o.push(d)}}catch(y){p={error:y}}finally{try{u&&!u.done&&(g=l.return)&&g.call(l)}finally{if(p)throw p.error}}return{columnNames:e.concat(o),index:a.index,values:a.values,pairs:a.pairs};var c,h,p,g});var s,t},W.prototype.bringToBack=function(A){var I=this;if(Wn(A))try{for(var G=qe(A),st=G.next();!st.done;st=G.next()){var w=st.value;if(!Rn(w))throw new Error("Expect 'columnOrColumns' parameter to 'DataFrame.bringToBack' function to specify a column or columns via a string or an array of strings.")}}catch(a){s={error:a}}finally{try{st&&!st.done&&(t=G.return)&&t.call(G)}finally{if(s)throw s.error}}else{if(!Rn(A))throw new Error("Expect 'columnOrColumns' parameter to 'DataFrame.bringToBack' function to specify a column or columns via a string or an array of strings.");A=[A]}return new W(function(){var a=I.getContent(),f=Array.from(a.columnNames),e=[];try{for(var i=qe(A),r=i.next();!r.done;r=i.next()){var n=r.value;f.indexOf(n)!==-1&&e.push(n)}}catch(y){c={error:y}}finally{try{r&&!r.done&&(h=i.return)&&h.call(i)}finally{if(c)throw c.error}}var o=[];try{for(var l=qe(f),u=l.next();!u.done;u=l.next()){var d=u.value;A.indexOf(d)===-1&&o.push(d)}}catch(y){p={error:y}}finally{try{u&&!u.done&&(g=l.return)&&g.call(l)}finally{if(p)throw p.error}}return{columnNames:o.concat(e),index:a.index,values:a.values,pairs:a.pairs};var c,h,p,g});var s,t},W.prototype.renameSeries=function(A){var I=this;if(!dr(A))throw new Error("Expected parameter 'newColumnNames' to 'DataFrame.renameSeries' to be an array with column names.");var G=Object.keys(A);try{for(var st=qe(G),w=st.next();!w.done;w=st.next()){var s=w.value;if(!Rn(s))throw new Error("Expected existing column name '"+s+"' of 'newColumnNames' parameter to 'DataFrame.renameSeries' to be a string.");if(!Rn(A[s]))throw new Error("Expected new column name '"+A[s]+"' for existing column '"+s+"' of 'newColumnNames' parameter to 'DataFrame.renameSeries' to be a string.")}}catch(f){t={error:f}}finally{try{w&&!w.done&&(a=st.return)&&a.call(st)}finally{if(t)throw t.error}}return new W(function(){var f=I.getContent(),e=[];try{for(var i=qe(f.columnNames),r=i.next();!r.done;r=i.next()){var n=r.value,o=G.indexOf(n);o===-1?e.push(n):e.push(A[n])}}catch(c){u={error:c}}finally{try{r&&!r.done&&(d=i.return)&&d.call(i)}finally{if(u)throw u.error}}function l(c){var h=Object.assign({},c);try{for(var p=qe(G),g=p.next();!g.done;g=p.next()){var y=g.value;h[A[y]]=h[y],delete h[y]}}catch(v){b={error:v}}finally{try{g&&!g.done&&(m=p.return)&&m.call(p)}finally{if(b)throw b.error}}return h;var b,m}return{columnNames:e,index:f.index,values:new _r(f.values,l),pairs:new _r(f.pairs,function(c){return[c[0],l(c[1])]})};var u,d});var t,a},W.prototype.toArray=function(){var A=[];try{for(var I=qe(this.getContent().values),G=I.next();!G.done;G=I.next()){var st=G.value;st!=null&&A.push(st)}}catch(t){w={error:t}}finally{try{G&&!G.done&&(s=I.return)&&s.call(I)}finally{if(w)throw w.error}}return A;var w,s},W.prototype.toPairs=function(){var A=[];try{for(var I=qe(this.getContent().pairs),G=I.next();!G.done;G=I.next()){var st=G.value;st[1]!=null&&st[1]!==null&&A.push(st)}}catch(t){w={error:t}}finally{try{G&&!G.done&&(s=I.return)&&s.call(I)}finally{if(w)throw w.error}}return A;var w,s},W.prototype.toObject=function(A,I){if(!$e(A))throw new Error("Expected 'keySelector' parameter to DataFrame.toObject to be a function.");if(!$e(I))throw new Error("Expected 'valueSelector' parameter to DataFrame.toObject to be a function.");return ka(this,A,I)},W.prototype.toRows=function(){var A=this.getColumnNames(),I=[];try{for(var G=qe(this.getContent().values),st=G.next();!st.done;st=G.next()){for(var w=st.value,s=[],t=0;t<A.length;++t)s.push(w[A[t]]);I.push(s)}}catch(e){a={error:e}}finally{try{st&&!st.done&&(f=G.return)&&f.call(G)}finally{if(a)throw a.error}}return I;var a,f},W.prototype.select=function(A){if(!$e(A))throw new Error("Expected 'transformer' parameter to 'Series.select' to be a function.");return this.map(A)},W.prototype.map=function(A){var I=this;if(!$e(A))throw new Error("Expected 'transformer' parameter to 'DataFrame.map' to be a function.");return new W(function(){var G=I.getContent();return{values:new _r(G.values,A),index:G.index}})},W.prototype.selectMany=function(A){if(!$e(A))throw new Error("Expected 'transformer' parameter to 'DataFrame.selectMany' to be a function.");return this.flatMap(A)},W.prototype.flatMap=function(A){var I=this;if(!$e(A))throw new Error("Expected 'transformer' parameter to 'DataFrame.flatMap' to be a function.");return new W(function(){return{pairs:new Cs(I.getContent().pairs,function(G,st){var w=[];try{for(var s=qe(A(G[1],st)),t=s.next();!t.done;t=s.next()){var a=t.value;w.push([G[0],a])}}catch(i){f={error:i}}finally{try{t&&!t.done&&(e=s.return)&&e.call(s)}finally{if(f)throw f.error}}return w;var f,e})}})},W.prototype.transformSeries=function(A){if(!dr(A))throw new Error("Expected 'columnSelectors' parameter of 'DataFrame.transformSeries' function to be an object. Field names should specify columns to transform. Field values should be selector functions that specify the transformation for each column.");var I=this;try{for(var G=qe(Object.keys(A)),st=G.next();!st.done;st=G.next()){var w=st.value;I.hasSeries(w)&&(I=I.withSeries(w,I.getSeries(w).select(A[w])))}}catch(a){s={error:a}}finally{try{st&&!st.done&&(t=G.return)&&t.call(G)}finally{if(s)throw s.error}}return I;var s,t},W.prototype.generateSeries=function(A){if(dr(A)){var f=A,st=Object.keys(f),w=this;try{for(var e=qe(st),i=e.next();!i.done;i=e.next()){var a=i.value;w=w.withSeries(a,w.select(f[a]).deflate())}}catch(c){o={error:c}}finally{try{i&&!i.done&&(l=e.return)&&l.call(e)}finally{if(o)throw o.error}}return w}else{if(!$e(A))throw new Error("Expected 'generator' parameter to 'DataFrame.generateSeries' function to be a function or an object.");var I=A,G=this.select(I).bake(),st=G.getColumnNames(),w=this;try{for(var s=qe(st),t=s.next();!t.done;t=s.next()){var a=t.value;w=w.withSeries(a,G.getSeries(a))}}catch(u){r={error:u}}finally{try{t&&!t.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return w}var r,n,o,l},W.prototype.deflate=function(A){var I=this;if(A&&!$e(A))throw new Error("Expected 'selector' parameter to 'DataFrame.deflate' function to be a selector function.");return new rr(function(){var G=I.getContent();return A?{index:G.index,values:new _r(G.values,A),pairs:new _r(G.pairs,function(st,w){return[st[0],A(st[1],w)]})}:{index:G.index,values:G.values,pairs:G.pairs}})},W.prototype.inflateSeries=function(A,I){if(!Rn(A))throw new Error("Expected 'columnName' parameter to 'DataFrame.inflateSeries' to be a string that is the name of the column to inflate.");if(I&&!$e(I))throw new Error("Expected optional 'selector' parameter to 'DataFrame.inflateSeries' to be a selector function, if it is specified.");return this.zip(this.getSeries(A).inflate(I),function(G,st){return Object.assign({},G,st)})},W.prototype.window=function(A){var I=this;if(!Qn(A))throw new Error("Expected 'period' parameter to 'DataFrame.window' to be a number.");return new rr(function(){var G=I.getContent();return{values:new Kf(G.columnNames,G.pairs,A)}})},W.prototype.rollingWindow=function(A){var I=this;if(!Qn(A))throw new Error("Expected 'period' parameter to 'DataFrame.rollingWindow' to be a number.");return new rr(function(){var G=I.getContent();return{values:new ed(G.columnNames,G.pairs,A)}})},W.prototype.variableWindow=function(A){var I=this;if(!$e(A))throw new Error("Expected 'comparer' parameter to 'DataFrame.variableWindow' to be a function.");return new rr(function(){var G=I.getContent();return{values:new rd(G.columnNames,G.pairs,A)}})},W.prototype.sequentialDistinct=function(A){if(A){if(!$e(A))throw new Error("Expected 'selector' parameter to 'DataFrame.sequentialDistinct' to be a selector function that determines the value to compare for duplicates.")}else A=function(I){return I};return this.variableWindow(function(I,G){return A(I)===A(G)}).select(function(I){return[I.getIndex().first(),I.first()]}).withIndex(function(I){return I[0]}).inflate(function(I){return I[1]})},W.prototype.aggregate=function(A,I){var G=this;if($e(A)&&!I)return this.skip(1).aggregate(this.first(),A);if(I){if(!$e(I))throw new Error("Expected 'selector' parameter to aggregate to be a function.");var st=A;try{for(var w=qe(this),s=w.next();!s.done;s=w.next()){var t=s.value;st=I(st,t)}}catch(n){i={error:n}}finally{try{s&&!s.done&&(r=w.return)&&r.call(w)}finally{if(i)throw i.error}}return st}else{if(!dr(A))throw new Error("Expected 'seed' parameter to aggregate to be an object.");var a=A,f=Object.keys(a),e=f.map(function(n){var o=a[n];if(!$e(o))throw new Error("Expected column/selector pairs in 'seed' parameter to aggregate.");return[n,G.getSeries(n).aggregate(o)]});return ka(e,function(n){return n[0]},function(n){return n[1]})}var i,r},W.prototype.reduce=function(A,I){if(!$e(A))throw new Error("Expected 'reducer' parameter to `DataFrame.reduce` to be a function.");var G=I,st=this;G===void 0&&st.any()&&(G=st.first(),st=st.skip(1));try{for(var w=qe(st),s=w.next();!s.done;s=w.next()){var t=s.value;G=A(G,t)}}catch(e){a={error:e}}finally{try{s&&!s.done&&(f=w.return)&&f.call(w)}finally{if(a)throw a.error}}return G;var a,f},W.prototype.skip=function(A){var I=this;if(!Qn(A))throw new Error("Expected 'numValues' parameter to 'DataFrame.skip' to be a number.");return new W(function(){var G=I.getContent();return{columnNames:G.columnNames,values:new za(G.values,A),index:new za(G.index,A),pairs:new za(G.pairs,A)}})},W.prototype.skipWhile=function(A){var I=this;if(!$e(A))throw new Error("Expected 'predicate' parameter to 'DataFrame.skipWhile' function to be a predicate function that returns true/false.");return new W(function(){var G=I.getContent();return{columnNames:G.columnNames,values:new Nr(G.values,A),pairs:new Nr(G.pairs,function(st){return A(st[1])})}})},W.prototype.skipUntil=function(A){if(!$e(A))throw new Error("Expected 'predicate' parameter to 'DataFrame.skipUntil' function to be a predicate function that returns true/false.");return this.skipWhile(function(I){return!A(I)})},W.prototype.take=function(A){var I=this;if(!Qn(A))throw new Error("Expected 'numRows' parameter to 'DataFrame.take' function to be a number.");return new W(function(){var G=I.getContent();return{columnNames:G.columnNames,index:new Pa(G.index,A),values:new Pa(G.values,A),pairs:new Pa(G.pairs,A)}})},W.prototype.takeWhile=function(A){var I=this;if(!$e(A))throw new Error("Expected 'predicate' parameter to 'DataFrame.takeWhile' function to be a predicate function that returns true/false.");return new W(function(){var G=I.getContent();return{columnNames:G.columnNames,values:new zr(G.values,A),pairs:new zr(G.pairs,function(st){return A(st[1])})}})},W.prototype.takeUntil=function(A){if(!$e(A))throw new Error("Expected 'predicate' parameter to 'DataFrame.takeUntil' function to be a predicate function that returns true/false.");return this.takeWhile(function(I){return!A(I)})},W.prototype.count=function(){var A=0;try{for(var I=qe(this.getContent().values),G=I.next();!G.done;G=I.next()){var st=G.value;++A}}catch(t){w={error:t}}finally{try{G&&!G.done&&(s=I.return)&&s.call(I)}finally{if(w)throw w.error}}return A;var w,s},W.prototype.first=function(){try{for(var A=qe(this),I=A.next();!I.done;I=A.next()){var G=I.value;return G}}catch(s){st={error:s}}finally{try{I&&!I.done&&(w=A.return)&&w.call(A)}finally{if(st)throw st.error}}throw new Error("DataFrame.first: No values in DataFrame.");var st,w},W.prototype.last=function(){var A=null;try{for(var I=qe(this),G=I.next();!G.done;G=I.next()){var st=G.value;A=st}}catch(t){w={error:t}}finally{try{G&&!G.done&&(s=I.return)&&s.call(I)}finally{if(w)throw w.error}}if(A===null)throw new Error("DataFrame.last: No values in DataFrame.");return A;var w,s},W.prototype.at=function(A){if(!this.none())return this.getRowByIndex(A)},W.prototype.head=function(A){if(!Qn(A))throw new Error("Expected 'numValues' parameter to 'DataFrame.head' function to be a number.");if(A===0)return new W;var I=A<0?this.count()-Math.abs(A):A;return this.take(I)},W.prototype.tail=function(A){if(!Qn(A))throw new Error("Expected 'numValues' parameter to 'DataFrame.tail' function to be a number.");if(A===0)return new W;var I=A>0?this.count()-A:Math.abs(A);return this.skip(I)},W.prototype.where=function(A){if(!$e(A))throw new Error("Expected 'predicate' parameter to 'DataFrame.where' to be a function.");return this.filter(A)},W.prototype.filter=function(A){var I=this;if(!$e(A))throw new Error("Expected 'predicate' parameter to 'DataFrame.filter' to be a function.");return new W(function(){var G=I.getContent();return{columnNames:G.columnNames,values:new Ba(G.values,A),pairs:new Ba(G.pairs,function(st){return A(st[1])})}})},W.prototype.forEach=function(A){if(!$e(A))throw new Error("Expected 'callback' parameter to 'DataFrame.forEach' to be a function.");var I=0;try{for(var G=qe(this),st=G.next();!st.done;st=G.next()){var w=st.value;A(w,I++)}}catch(a){s={error:a}}finally{try{st&&!st.done&&(t=G.return)&&t.call(G)}finally{if(s)throw s.error}}return this;var s,t},W.prototype.all=function(A){if(!$e(A))throw new Error("Expected 'predicate' parameter to 'DataFrame.all' to be a function.");var I=0;try{for(var G=qe(this),st=G.next();!st.done;st=G.next()){var w=st.value;if(!A(w))return!1;++I}}catch(a){s={error:a}}finally{try{st&&!st.done&&(t=G.return)&&t.call(G)}finally{if(s)throw s.error}}return I>0;var s,t},W.prototype.any=function(A){if(A&&!$e(A))throw new Error("Expected optional 'predicate' parameter to 'DataFrame.any' to be a function.");if(A)try{for(var I=qe(this),G=I.next();!G.done;G=I.next()){var st=G.value;if(A(st))return!0}}catch(a){s={error:a}}finally{try{G&&!G.done&&(t=I.return)&&t.call(I)}finally{if(s)throw s.error}}else{var w=this[Symbol.iterator]();return!w.next().done}return!1;var s,t},W.prototype.none=function(A){if(A&&!$e(A))throw new Error("Expected 'predicate' parameter to 'DataFrame.none' to be a function.");if(A)try{for(var I=qe(this),G=I.next();!G.done;G=I.next()){var st=G.value;if(A(st))return!1}}catch(a){s={error:a}}finally{try{G&&!G.done&&(t=I.return)&&t.call(I)}finally{if(s)throw s.error}}else{var w=this[Symbol.iterator]();return w.next().done||!1}return!0;var s,t},W.prototype.startAt=function(A){var I=this;return new W(function(){var G=I.getContent(),st=I.getIndex().getLessThan();return{columnNames:G.columnNames,index:new Nr(G.index,function(w){return st(w,A)}),pairs:new Nr(G.pairs,function(w){return st(w[0],A)})}})},W.prototype.endAt=function(A){var I=this;return new W(function(){var G=I.getContent(),st=I.getIndex().getLessThanOrEqualTo();return{columnNames:G.columnNames,index:new zr(G.index,function(w){return st(w,A)}),pairs:new zr(G.pairs,function(w){return st(w[0],A)})}})},W.prototype.before=function(A){var I=this;return new W(function(){var G=I.getContent(),st=I.getIndex().getLessThan();return{columnNames:G.columnNames,index:new zr(G.index,function(w){return st(w,A)}),pairs:new zr(G.pairs,function(w){return st(w[0],A)})}})},W.prototype.after=function(A){var I=this;return new W(function(){var G=I.getContent(),st=I.getIndex().getLessThanOrEqualTo();return{columnNames:G.columnNames,index:new Nr(G.index,function(w){return st(w,A)}),pairs:new Nr(G.pairs,function(w){return st(w[0],A)})}})},W.prototype.between=function(A,I){return this.startAt(A).endAt(I)},W.prototype.toString=function(){var A=this.getColumnNames(),I=["__index__"].concat(A),G=new ys;try{for(var st=qe(this.toPairs()),w=st.next();!w.done;w=st.next()){var s=w.value,t=s[0],a=s[1];G.cell(I[0],t);for(var f=0;f<A.length;++f){var e=A[f];G.cell(I[f+1],a[e])}G.newRow()}}catch(n){i={error:n}}finally{try{w&&!w.done&&(r=st.return)&&r.call(st)}finally{if(i)throw i.error}}return G.toString();var i,r},W.prototype.parseInts=function(A){if(Wn(A)){var I=this;try{for(var G=qe(A),st=G.next();!st.done;st=G.next()){var w=st.value;I=I.parseInts(w)}}catch(a){s={error:a}}finally{try{st&&!st.done&&(t=G.return)&&t.call(G)}finally{if(s)throw s.error}}return I}else return this.withSeries(A,this.getSeries(A).parseInts());var s,t},W.prototype.parseFloats=function(A){if(Wn(A)){var I=this;try{for(var G=qe(A),st=G.next();!st.done;st=G.next()){var w=st.value;I=I.parseFloats(w)}}catch(a){s={error:a}}finally{try{st&&!st.done&&(t=G.return)&&t.call(G)}finally{if(s)throw s.error}}return I}else return this.withSeries(A,this.getSeries(A).parseFloats());var s,t},W.prototype.parseDates=function(A,I){if(I&&!Rn(I))throw new Error("Expected optional 'formatString' parameter to 'DataFrame.parseDates' to be a string (if specified).");if(Wn(A)){var G=this;try{for(var st=qe(A),w=st.next();!w.done;w=st.next()){var s=w.value;G=G.parseDates(s,I)}}catch(f){t={error:f}}finally{try{w&&!w.done&&(a=st.return)&&a.call(st)}finally{if(t)throw t.error}}return G}else return this.withSeries(A,this.getSeries(A).parseDates(I));var t,a},W.prototype.toStrings=function(A,I){if(dr(A)){try{for(var G=qe(Object.keys(A)),st=G.next();!st.done;st=G.next()){var w=st.value;if(!Rn(A[w]))throw new Error("Expected values of 'columnNames' parameter to be strings when a format spec is passed in.")}}catch(h){n={error:h}}finally{try{st&&!st.done&&(o=G.return)&&o.call(G)}finally{if(n)throw n.error}}if(!_o(I))throw new Error("Optional 'formatString' parameter to 'DataFrame.toStrings' should not be set when passing in a format spec.")}else{if(!Wn(A)&&!Rn(A))throw new Error("Expected 'columnNames' parameter to 'DataFrame.toStrings' to be a string, array of strings or format spec that specifes which columns should be converted to strings.");if(I&&!Rn(I))throw new Error("Expected optional 'formatString' parameter to 'DataFrame.toStrings' to be a string (if specified).")}if(dr(A)){var s=this;try{for(var t=qe(Object.keys(A)),a=t.next();!a.done;a=t.next()){var w=a.value,f=A[w];s=s.toStrings(w,f)}}catch(h){l={error:h}}finally{try{a&&!a.done&&(u=t.return)&&u.call(t)}finally{if(l)throw l.error}}return s}else if(Wn(A)){var s=this;try{for(var e=qe(A),i=e.next();!i.done;i=e.next()){var w=i.value;s=s.toStrings(w,I)}}catch(p){d={error:p}}finally{try{i&&!i.done&&(c=e.return)&&c.call(e)}finally{if(d)throw d.error}}return s}else{var r=A;return this.withSeries(r,this.getSeries(r).toStrings(I))}var n,o,l,u,d,c},W.prototype.truncateStrings=function(A){if(!Qn(A))throw new Error("Expected 'maxLength' parameter to 'truncateStrings' to be an integer.");return this.select(function(I){var G={};try{for(var st=qe(Object.keys(I)),w=st.next();!w.done;w=st.next()){var s=w.value,t=I[s];Rn(t)?G[s]=t.substring(0,A):G[s]=t}}catch(e){a={error:e}}finally{try{w&&!w.done&&(f=st.return)&&f.call(st)}finally{if(a)throw a.error}}return G;var a,f})},W.prototype.round=function(A){if(A!==void 0){if(!Qn(A))throw new Error("Expected 'numDecimalPlaces' parameter to 'DataFrame.round' to be a number.")}else A=2;return this.select(function(I){var G={};try{for(var st=qe(Object.keys(I)),w=st.next();!w.done;w=st.next()){var s=w.value,t=I[s];Qn(t)?G[s]=parseFloat(t.toFixed(A)):G[s]=t}}catch(e){a={error:e}}finally{try{w&&!w.done&&(f=st.return)&&f.call(st)}finally{if(a)throw a.error}}return G;var a,f})},W.prototype.bake=function(){return this.getContent().isBaked?this:new W({columnNames:this.getColumnNames(),values:this.toArray(),pairs:this.toPairs(),baked:!0})},W.prototype.reverse=function(){var A=this;return new W(function(){var I=A.getContent();return{columnNames:I.columnNames,values:new Ra(I.values),index:new Ra(I.index),pairs:new Ra(I.pairs)}})},W.prototype.distinct=function(A){var I=this;return new W(function(){var G=I.getContent();return{columnNames:G.columnNames,values:new Bi(G.values,A),pairs:new Bi(G.pairs,function(st){return A&&A(st[1])||st[1]})}})},W.prototype.groupBy=function(A){var I=this;if(!$e(A))throw new Error("Expected 'selector' parameter to 'DataFrame.groupBy' to be a selector function that determines the value to group the series by.");return new rr(function(){var G=[],st={},w=0;try{for(var s=qe(I.getContent().pairs),t=s.next();!t.done;t=s.next()){var a=t.value,f=A(a[1],w);++w;var e=st[f];if(e)e.push(a);else{var i=[];i.push(a),G.push(i),st[f]=i}}}catch(o){r={error:o}}finally{try{t&&!t.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return{values:G.map(function(o){return new W({pairs:o})})};var r,n})},W.prototype.groupSequentialBy=function(A){if(A){if(!$e(A))throw new Error("Expected 'selector' parameter to 'DataFrame.groupSequentialBy' to be a selector function that determines the value to group the series by.")}else A=function(I){return I};return this.variableWindow(function(I,G){return A(I)===A(G)})},W.concat=function(A){if(!Wn(A))throw new Error("Expected 'dataframes' parameter to 'DataFrame.concat' to be an array of dataframes.");return new W(function(){var I=A,G=I.map(function(l){return l.getContent()}),st=[];try{for(var w=qe(G),s=w.next();!s.done;s=w.next()){var t=s.value;try{for(var a=qe(t.columnNames),f=a.next();!f.done;f=a.next()){var e=f.value;st.push(e)}}catch(l){n={error:l}}finally{try{f&&!f.done&&(o=a.return)&&o.call(a)}finally{if(n)throw n.error}}}}catch(l){i={error:l}}finally{try{s&&!s.done&&(r=w.return)&&r.call(w)}finally{if(i)throw i.error}}return st=bo(st),{columnNames:st,values:new Ii(G.map(function(l){return l.values})),pairs:new Ii(G.map(function(l){return l.pairs}))};var i,r,n,o})},W.prototype.concat=function(){for(var A=[],I=0;I<arguments.length;I++)A[I]=arguments[I];var G=[this];try{for(var st=qe(A),w=st.next();!w.done;w=st.next()){var s=w.value;if(Wn(s))try{for(var t=qe(s),a=t.next();!a.done;a=t.next()){var f=a.value;G.push(f)}}catch(o){r={error:o}}finally{try{a&&!a.done&&(n=t.return)&&n.call(t)}finally{if(r)throw r.error}}else G.push(s)}}catch(o){e={error:o}}finally{try{w&&!w.done&&(i=st.return)&&i.call(st)}finally{if(e)throw e.error}}return W.concat(G);var e,i,r,n},W.zip=function(A,I){var G=Array.from(A);if(G.length===0)return new W;var st=G[0];return st.none()?new W:new W(function(){var w=st,s=G;return{index:w.getContent().index,values:new Fs(s.map(function(t){return t.getContent().values}),I)}})},W.prototype.zip=function(){for(var A=[],I=0;I<arguments.length;I++)A[I]=arguments[I];var G=A[A.length-1],st=[this].concat(A.slice(0,A.length-1));return W.zip(st,function(w){return G.apply(void 0,Ss(w))})},W.prototype.orderBy=function(A){var I=this.getContent();return new is({columnNames:I.columnNames,values:I.values,pairs:I.pairs,selector:A,direction:Gr.Ascending,parent:null})},W.prototype.orderByDescending=function(A){var I=this.getContent();return new is({columnNames:I.columnNames,values:I.values,pairs:I.pairs,selector:A,direction:Gr.Descending,parent:null})},W.prototype.union=function(A,I){if(I&&!$e(I))throw new Error("Expected optional 'selector' parameter to 'DataFrame.union' to be a selector function.");return this.concat(A).distinct(I)},W.prototype.intersection=function(A,I,G){if(I){if(!$e(I))throw new Error("Expected optional 'outerSelector' parameter to 'DataFrame.intersection' to be a function.")}else I=function(w){return w};if(G){if(!$e(G))throw new Error("Expected optional 'innerSelector' parameter to 'DataFrame.intersection' to be a function.")}else G=function(w){return w};var st=this;return st.filter(function(w){var s=I(w);return A.filter(function(t){return s===G(t)}).any()})},W.prototype.except=function(A,I,G){if(I){if(!$e(I))throw new Error("Expected optional 'outerSelector' parameter to 'DataFrame.except' to be a function.")}else I=function(w){return w};if(G){if(!$e(G))throw new Error("Expected optional 'innerSelector' parameter to 'DataFrame.except' to be a function.")}else G=function(w){return w};var st=this;return st.filter(function(w){var s=I(w);return A.filter(function(t){return s===G(t)}).none()})},W.prototype.join=function(A,I,G,st){if(!$e(I))throw new Error("Expected 'outerKeySelector' parameter of 'DataFrame.join' to be a selector function.");if(!$e(G))throw new Error("Expected 'innerKeySelector' parameter of 'DataFrame.join' to be a selector function.");if(!$e(st))throw new Error("Expected 'resultSelector' parameter of 'DataFrame.join' to be a selector function.");var w=this;return new W(function(){var s=A.groupBy(G).toObject(function(p){return G(p.first())},function(p){return p});w.getContent();var t=[];try{for(var a=qe(w),f=a.next();!f.done;f=a.next()){var e=f.value,i=I(e),r=s[i];if(r)try{for(var n=qe(r),o=n.next();!o.done;o=n.next()){var l=o.value;t.push(st(e,l))}}catch(p){c={error:p}}finally{try{o&&!o.done&&(h=n.return)&&h.call(n)}finally{if(c)throw c.error}}}}catch(p){u={error:p}}finally{try{f&&!f.done&&(d=a.return)&&d.call(a)}finally{if(u)throw u.error}}return{values:t};var u,d,c,h})},W.prototype.joinOuter=function(A,I,G,st){if(!$e(I))throw new Error("Expected 'outerKeySelector' parameter of 'DataFrame.joinOuter' to be a selector function.");if(!$e(G))throw new Error("Expected 'innerKeySelector' parameter of 'DataFrame.joinOuter' to be a selector function.");if(!$e(st))throw new Error("Expected 'resultSelector' parameter of 'DataFrame.joinOuter' to be a selector function.");var w=this,s=w.except(A,I,G).select(function(f){return st(f,null)}).resetIndex(),t=A.except(w,G,I).select(function(f){return st(null,f)}).resetIndex(),a=w.join(A,I,G,st);return s.concat(a).concat(t).resetIndex()},W.prototype.joinOuterLeft=function(A,I,G,st){if(!$e(I))throw new Error("Expected 'outerKeySelector' parameter of 'DataFrame.joinOuterLeft' to be a selector function.");if(!$e(G))throw new Error("Expected 'innerKeySelector' parameter of 'DataFrame.joinOuterLeft' to be a selector function.");if(!$e(st))throw new Error("Expected 'resultSelector' parameter of 'DataFrame.joinOuterLeft' to be a selector function.");var w=this,s=w.except(A,I,G).select(function(a){return st(a,null)}).resetIndex(),t=w.join(A,I,G,st);return s.concat(t).resetIndex()},W.prototype.joinOuterRight=function(A,I,G,st){if(!$e(I))throw new Error("Expected 'outerKeySelector' parameter of 'DataFrame.joinOuterRight' to be a selector function.");if(!$e(G))throw new Error("Expected 'innerKeySelector' parameter of 'DataFrame.joinOuterRight' to be a selector function.");if(!$e(st))throw new Error("Expected 'resultSelector' parameter of 'DataFrame.joinOuterRight' to be a selector function.");var w=this,s=A.except(w,G,I).select(function(a){return st(null,a)}).resetIndex(),t=w.join(A,I,G,st);return t.concat(s).resetIndex()},W.prototype.summarize=function(A){if(A&&!dr(A))throw new Error("Expected 'spec' parameter to 'DataFrame.summarize' to be an object that specifies how to summarize the dataframe.");if(!A){A={};try{for(var I=qe(this.getColumnNames()),G=I.next();!G.done;G=I.next()){var st=G.value,w={};w[st+"_sum"]=rr.sum,w[st+"_average"]=rr.average,w[st+"_count"]=rr.count,A[st]=w}}catch(T){p={error:T}}finally{try{G&&!G.done&&(g=I.return)&&g.call(I)}finally{if(p)throw p.error}}}try{for(var s=qe(Object.keys(A)),t=s.next();!t.done;t=s.next()){var a=t.value,f=A[a];$e(f)&&(A[a]={},A[a][a]=f)}}catch(T){y={error:T}}finally{try{t&&!t.done&&(b=s.return)&&b.call(s)}finally{if(y)throw y.error}}var e=Object.keys(A),i=ka(e,function(T){return T},function(T){return Object.keys(A[T])}),r={};try{for(var n=qe(e),o=n.next();!o.done;o=n.next()){var a=o.value,l=i[a];try{for(var u=qe(l),d=u.next();!d.done;d=u.next()){var c=d.value,h=A[a][c];r[c]=h(this.getSeries(a))}}catch(C){x={error:C}}finally{try{d&&!d.done&&(_=u.return)&&_.call(u)}finally{if(x)throw x.error}}}}catch(T){m={error:T}}finally{try{o&&!o.done&&(v=n.return)&&v.call(n)}finally{if(m)throw m.error}}return r;var p,g,y,b,m,v,x,_},W.prototype.pivot=function(A,I,G){var st;if(Rn(A))st=[A];else{if(!Wn(A))throw new Error("Expected 'columnOrColumns' parameter to 'DataFrame.pivot' to be a string or an array of strings that identifies the column(s) whose values make the new DataFrame's columns.");if(st=Array.from(A),st.length===0)throw new Error("Expected 'columnOrColumns' parameter to 'DataFrame.pivot' to contain at least one string.");try{for(var w=qe(st),s=w.next();!s.done;s=w.next()){var t=s.value;if(!Rn(t))throw new Error("Expected 'columnOrColumns' parameter to 'DataFrame.pivot' to be an array of strings, each string identifies a column in the DataFrame on which to pivot.")}}catch(T){m={error:T}}finally{try{s&&!s.done&&(v=w.return)&&v.call(w)}finally{if(m)throw m.error}}}var a;if(dr(I)){a=I;try{for(var i=qe(Object.keys(a)),r=i.next();!r.done;r=i.next()){var n=r.value,o=a[n];$e(o)&&(a[n]={},a[n][n]=o)}}catch(T){x={error:T}}finally{try{r&&!r.done&&(_=i.return)&&_.call(i)}finally{if(x)throw x.error}}}else{if(!Rn(I))throw new Error("Expected 'value' parameter to 'DataFrame.pivot' to be a string that identifies the column whose values to aggregate or a column spec that defines which column contains the value ot aggregate and the ways to aggregate that value.");if(!$e(G))throw new Error("Expected 'aggregator' parameter to 'DataFrame.pivot' to be a function to aggregate pivoted values.");var f=I,e={};e[f]=G,a={},a[f]=e}for(var l=st[0],u=this.groupBy(function(T){return T[l]}).select(function(T){var C={};return C[l]=T.first()[l],C.src=T,C}),d=function(T){var C=st[T];u=u.selectMany(function(S){var F=S.src;return F.groupBy(function(N){return N[C]}).select(function(N){var D=Object.assign({},S);return D[C]=N.first()[C],D.src=N,D})})},c=1;c<st.length;++c)d(c);for(var h=Object.keys(a),p=ka(h,function(T){return T},function(T){return Object.keys(a[T])}),g=u.inflate(function(T){var C=function(B){var J=p[B];try{for(var P=qe(J),M=P.next();!M.done;M=P.next()){var O=M.value,q=a[B][O];T[O]=q(T.src.deflate(function(z){return z[B]}))}}catch(z){tt={error:z}}finally{try{M&&!M.done&&(E=P.return)&&E.call(P)}finally{if(tt)throw tt.error}}var tt,E};try{for(var S=qe(h),F=S.next();!F.done;F=S.next()){var N=F.value;C(N)}}catch(B){D={error:B}}finally{try{F&&!F.done&&(j=S.return)&&j.call(S)}finally{if(D)throw D.error}}return delete T.src,T;var D,j}),y=g.orderBy(function(T){return T[l]}),b=function(T){var C=st[T];y=y.thenBy(function(S){return S[C]})},c=1;c<st.length;++c)b(c);return y;var m,v,x,_},W.prototype.melt=function(A,I){var G,st;if(Rn(A))G=[A];else{if(!Wn(A))throw new Error("Expected 'idColumnOrColumns' parameter to 'DataFrame.melt' to be a string or an array of strings that identifies the column(s) whose values make the new DataFrame's identity columns.");G=Array.from(A);try{for(var w=qe(G),s=w.next();!s.done;s=w.next()){var t=s.value;if(!Rn(t))throw new Error("Expected 'idColumnOrColumns' parameter to 'DataFrame.melt' to be a string or an array of strings that identifies the column(s) whose values make the new DataFrame's identity columns.")}}catch(B){_={error:B}}finally{try{s&&!s.done&&(T=w.return)&&T.call(w)}finally{if(_)throw _.error}}}if(Rn(I))st=[I];else{if(!Wn(I))throw new Error("Expected 'valueColumnOrColumns' parameter to 'DataFrame.melt' to be a string or an array of strings that identifies the column(s) whose molten values make the new DataFrame's 'variable' and 'value' columns.");st=Array.from(I);try{for(var a=qe(st),f=a.next();!f.done;f=a.next()){var t=f.value;if(!Rn(t))throw new Error("Expected 'valueColumnOrColumns' parameter to 'DataFrame.melt' to be a string or an array of strings that identifies the column(s) whose molten values make the new DataFrame's 'variable' and 'value' columns.")}}catch(B){C={error:B}}finally{try{f&&!f.done&&(S=a.return)&&S.call(a)}finally{if(C)throw C.error}}}var e=st.length,i=this.count(),r=new W,n=this.subset(G.concat(st));try{for(var o=qe(G),l=o.next();!l.done;l=o.next()){var u=l.value;n=n.dropSeries(u);var d=this.getSeries(u),c=new ld(d,e),h=new rr(c);r=r.withSeries(u,h)}}catch(B){F={error:B}}finally{try{l&&!l.done&&(N=o.return)&&N.call(o)}finally{if(F)throw F.error}}var p=[];try{for(var g=qe(n.getColumns()),y=g.next();!y.done;y=g.next()){var u=y.value;p.push(this.getSeries(u.name))}}catch(B){D={error:B}}finally{try{y&&!y.done&&(j=g.return)&&j.call(g)}finally{if(D)throw D.error}}var b=new ud(p),m=new rr(b);r=r.withSeries("value",m);var v=new id(st,i),x=new rr(v);return r=r.withSeries("variable",x),r;var _,T,C,S,F,N,D,j},W.prototype.insertPair=function(A){if(!Wn(A))throw new Error("Expected 'pair' parameter to 'DataFrame.insertPair' to be an array.");if(A.length!==2)throw new Error("Expected 'pair' parameter to 'DataFrame.insertPair' to be an array with two elements. The first element is the index, the second is the value.");return new W({pairs:[A]}).concat(this)},W.prototype.appendPair=function(A){if(!Wn(A))throw new Error("Expected 'pair' parameter to 'DataFrame.appendPair' to be an array.");if(A.length!==2)throw new Error("Expected 'pair' parameter to 'DataFrame.appendPair' to be an array with two elements. The first element is the index, the second is the value.");return this.concat(new W({pairs:[A]}))},W.prototype.remove=function(A){var I=this;return new W(function(){var G=I.getContent();return{columnNames:G.columnNames,pairs:new Ba(G.pairs,function(st){return st[0]!==A})}})},W.prototype.fillGaps=function(A,I){if(!$e(A))throw new Error("Expected 'comparer' parameter to 'DataFrame.fillGaps' to be a comparer function that compares two values and returns a boolean.");if(!$e(I))throw new Error("Expected 'generator' parameter to 'DataFrame.fillGaps' to be a generator function that takes two values and returns an array of generated pairs to span the gap.");return this.rollingWindow(2).selectMany(function(G){var st=G.toPairs(),w=st[0],s=st[1];if(!A(w,s))return[w];var t=I(w,s);if(!Wn(t))throw new Error("Expected return from 'generator' parameter to 'DataFrame.fillGaps' to be an array of pairs, instead got a "+typeof t);return[w].concat(t)}).withIndex(function(G){return G[0]}).inflate(function(G){return G[1]}).concat(this.tail(1))},W.prototype.defaultIfEmpty=function(A){if(this.none()){if(A instanceof W)return A;if(Wn(A))return new W(A);throw new Error("Expected 'defaultSequence' parameter to 'DataFrame.defaultIfEmpty' to be an array or a series.")}else return this},W.prototype.detectTypes=function(){var A=this;return new W(function(){var I=A.getColumns().selectMany(function(G){return G.series.detectTypes().select(function(st){var w=Object.assign({},st);return w.Column=G.name,w})});return{columnNames:["Type","Frequency","Column"],values:I}})},W.prototype.detectValues=function(){var A=this;return new W(function(){var I=A.getColumns().selectMany(function(G){return G.series.detectValues().select(function(st){var w=Object.assign({},st);return w.Column=G.name,w})});return{columnNames:["Value","Frequency","Column"],values:I}})},W.prototype.toJSON=function(){return JSON.stringify(this.toArray(),null,4)},W.prototype.toJSON5=function(){return ff.stringify(this.toArray(),null,4)},W.prototype.toCSV=function(A){var I=A===void 0||A.header===void 0||A.header?[this.getColumnNames()]:[],G=I.concat(this.toRows());return hf.unparse(G,A)},W.prototype.toHTML=function(){var A=this.getColumnNames(),I=A.map(function(st){return"            <th>"+st+"</th>"}).join(`
`),G=this.toPairs();return`<table border="1" class="dataframe">
    <thead>
        <tr style="text-align: right;">
            <th></th>
`+I+`
       </tr>
    </thead>
    <tbody>
`+G.map(function(st){var w=st[0],s=st[1];return`        <tr>
            <th>`+w+`</th>
`+A.map(function(t){return"            <td>"+s[t]+"</td>"}).join(`
`)+`
        </tr>`}).join(`
`)+`
    </tbody>
</table>`},W.prototype.serialize=function(){var A=this.toArray(),I=this.getIndex(),G=I.head(A.length).toArray(),st=this.getColumns(),w=ka(st,function(c){return c.name},function(c){return c.type}),s=I.getType();s==="date"&&(G=G.map(function(c){return Gn(c).toISOString()}));var t=!1;try{for(var a=qe(st),f=a.next();!f.done;f=a.next()){var e=f.value;if(e.type==="date"){t||(A=A.map(function(c){return Object.assign({},c)}),t=!0);try{for(var i=qe(A),r=i.next();!r.done;r=i.next()){var n=r.value;n[e.name]=Gn(n[e.name]).toISOString()}}catch(c){u={error:c}}finally{try{r&&!r.done&&(d=i.return)&&d.call(i)}finally{if(u)throw u.error}}}}}catch(c){o={error:c}}finally{try{f&&!f.done&&(l=a.return)&&l.call(a)}finally{if(o)throw o.error}}return{columnOrder:this.getColumnNames(),columns:w,index:{type:s,values:G},values:A};var o,l,u,d},W.deserialize=function(A){var I=A.index&&A.index.values||[],G=A.values&&A.values||[],st=!1;if(A.columns)try{for(var w=qe(Object.keys(A.columns)),s=w.next();!s.done;s=w.next()){var t=s.value;if(A.columns[t]==="date"){st||(G=G.map(function(l){return Object.assign({},l)}),st=!0);try{for(var a=qe(G),f=a.next();!f.done;f=a.next()){var e=f.value;e[t]=Gn(e[t]).toDate()}}catch(l){n={error:l}}finally{try{f&&!f.done&&(o=a.return)&&o.call(a)}finally{if(n)throw n.error}}}}}catch(l){i={error:l}}finally{try{s&&!s.done&&(r=w.return)&&r.call(w)}finally{if(i)throw i.error}}return A.index&&A.index.type==="date"&&(I=I.map(function(l){return Gn(l).toDate()})),new W({columnNames:A.columnOrder||[],index:I,values:G});var i,r,n,o},W.prototype.getTypeCode=function(){return"dataframe"},W.defaultCountIterable=new Lo,W.defaultEmptyIterable=new Es,W}(),is=function(W){Yo(A,W);function A(I){for(var G=this,st=[],w=[],s=0,t=I.parent,a=[];t!==null;)a.push(t),t=t.config.parent;a.reverse();try{for(var f=qe(a),e=f.next();!e.done;e=f.next()){var i=e.value,r=i.config;st.push(A.makeSortSpec(s,r.selector,r.direction)),w.push(A.makeSortSpec(s,A.makePairsSelector(r.selector),r.direction)),++s}}catch(l){n={error:l}}finally{try{e&&!e.done&&(o=f.return)&&o.call(f)}finally{if(n)throw n.error}}return st.push(A.makeSortSpec(s,I.selector,I.direction)),w.push(A.makeSortSpec(s,A.makePairsSelector(I.selector),I.direction)),G=W.call(this,{columnNames:I.columnNames,values:new Ri(I.values,st),pairs:new Ri(I.pairs,w)})||this,G.config=I,G;var n,o}return A.makeSortSpec=function(I,G,st){return{sortLevel:I,selector:G,direction:st}},A.makePairsSelector=function(I){return function(G,st){return I(G[1],st)}},A.prototype.thenBy=function(I){return new A({columnNames:this.config.columnNames,values:this.config.values,pairs:this.config.pairs,selector:I,direction:Gr.Ascending,parent:this})},A.prototype.thenByDescending=function(I){return new A({columnNames:this.config.columnNames,values:this.config.values,pairs:this.config.pairs,selector:I,direction:Gr.Descending,parent:this})},A}(Ir);Gn.extend(Ds);var Ua;(function(W){W.Start="start",W.End="end"})(Ua||(Ua={}));var rr=function(){function W(A){if(this.configFn=null,this.content=null,this.indexedContent=null,A){var I=A;if(I.getTypeCode!==void 0){var G=I.getTypeCode();if(G==="dataframe"||G==="series"){I.content!==void 0?this.content=I.content:this.configFn=I.configFn;return}}$e(A)?this.configFn=A:W.isIterator(A)?this.content=W.initFromIterator(A):W.isIterable(A)?this.content=W.initFromIterable(A):this.content=W.initFromConfig(A)}else this.content=W.initEmpty()}return W.initFromIterator=function(A){return W.initFromIterable(new Rr(A))},W.initFromIterable=function(A){return{index:W.defaultCountIterable,values:A,pairs:new Qa([W.defaultCountIterable,A]),isBaked:!0}},W.initEmpty=function(){return{index:W.defaultEmptyIterable,values:W.defaultEmptyIterable,pairs:W.defaultEmptyIterable,isBaked:!0}},W.isIterator=function(A){return dr(A)&&$e(A.next)},W.isIterable=function(A){return Wn(A)||dr(A)&&$e(A[Symbol.iterator])},W.checkIterable=function(A,I){if(!W.isIterable(A))throw new Error("Expected '"+I+"' field of Series config object to be an array of values or an iterable of values.")},W.initFromConfig=function(A){var I,G,st,w=!1;return A.pairs&&(W.isIterator(A.pairs)?st=new Rr(A.pairs):(W.checkIterable(A.pairs,"pairs"),st=A.pairs)),A.index?W.isIterator(A.index)?I=new Rr(A.index):(W.checkIterable(A.index,"index"),I=A.index):st?I=new zi(st,0):I=W.defaultCountIterable,A.values?W.isIterator(A.values)?G=new Rr(A.values):(W.checkIterable(A.values,"values"),G=A.values):st?G=new zi(st,1):G=W.defaultEmptyIterable,st||(st=new Qa([I,G])),A.baked!==void 0&&(w=A.baked),{index:I,values:G,pairs:st,isBaked:w}},W.prototype.lazyInit=function(){this.content===null&&this.configFn!==null&&(this.content=W.initFromConfig(this.configFn()))},W.prototype.getContent=function(){return this.lazyInit(),this.content},W.prototype.getRowByIndex=function(A){if(!this.indexedContent){this.indexedContent=new Map;try{for(var I=qe(this.getContent().pairs),G=I.next();!G.done;G=I.next()){var st=G.value;this.indexedContent.set(st[0],st[1])}}catch(t){w={error:t}}finally{try{G&&!G.done&&(s=I.return)&&s.call(I)}finally{if(w)throw w.error}}}return this.indexedContent.get(A);var w,s},W.prototype[Symbol.iterator]=function(){return this.getContent().values[Symbol.iterator]()},W.prototype.cast=function(){return this},W.prototype.getIndex=function(){var A=this;return new Ls(function(){return{values:A.getContent().index}})},W.prototype.withIndex=function(A){var I=this;return $e(A)?new W(function(){return{values:I.getContent().values,index:I.select(A)}}):(W.checkIterable(A,"newIndex"),new W(function(){return{values:I.getContent().values,index:A}}))},W.prototype.resetIndex=function(){var A=this;return new W(function(){return{values:A.getContent().values}})},W.merge=function(A){var I=new Map,G=Array.from(A).length,st=0;try{for(var w=qe(A),s=w.next();!s.done;s=w.next()){var t=s.value;try{for(var a=qe(t.toPairs()),f=a.next();!f.done;f=a.next()){var e=f.value,i=e[0];I.has(i)||I.set(i,new Array(G)),I.get(i)[st]=e[1]}}catch(d){l={error:d}}finally{try{f&&!f.done&&(u=a.return)&&u.call(a)}finally{if(l)throw l.error}}++st}}catch(d){n={error:d}}finally{try{s&&!s.done&&(o=w.return)&&o.call(w)}finally{if(n)throw n.error}}var r=Array.from(I.keys()).map(function(d){return[d,I.get(d)]});return r.sort(function(d,c){return d[0]===c[0]?0:d[0]>c[0]?1:-1}),new W({pairs:r});var n,o,l,u},W.prototype.merge=function(){for(var A=[],I=0;I<arguments.length;I++)A[I]=arguments[I];return W.merge([this].concat(A))},W.prototype.toArray=function(){var A=[];try{for(var I=qe(this.getContent().values),G=I.next();!G.done;G=I.next()){var st=G.value;st!=null&&A.push(st)}}catch(t){w={error:t}}finally{try{G&&!G.done&&(s=I.return)&&s.call(I)}finally{if(w)throw w.error}}return A;var w,s},W.prototype.toPairs=function(){var A=[];try{for(var I=qe(this.getContent().pairs),G=I.next();!G.done;G=I.next()){var st=G.value;st[1]!==void 0&&st[1]!==null&&A.push(st)}}catch(t){w={error:t}}finally{try{G&&!G.done&&(s=I.return)&&s.call(I)}finally{if(w)throw w.error}}return A;var w,s},W.prototype.toObject=function(A,I){if(!$e(A))throw new Error("Expected 'keySelector' parameter to Series.toObject to be a function.");if(!$e(I))throw new Error("Expected 'valueSelector' parameter to Series.toObject to be a function.");return ka(this,A,I)},W.prototype.select=function(A){if(!$e(A))throw new Error("Expected 'transformer' parameter to 'Series.select' to be a function.");return this.map(A)},W.prototype.map=function(A){var I=this;if(!$e(A))throw new Error("Expected 'transformer' parameter to 'Series.map' to be a function.");return new W(function(){var G=I.getContent();return{values:new _r(G.values,A),index:G.index}})},W.prototype.selectMany=function(A){if(!$e(A))throw new Error("Expected 'transformer' parameter to 'Series.selectMany' to be a function.");return this.flatMap(A)},W.prototype.flatMap=function(A){var I=this;if(!$e(A))throw new Error("Expected 'transformer' parameter to 'Series.flatMap' to be a function.");return new W(function(){return{pairs:new Cs(I.getContent().pairs,function(G,st){var w=[];try{for(var s=qe(A(G[1],st)),t=s.next();!t.done;t=s.next()){var a=t.value;w.push([G[0],a])}}catch(i){f={error:i}}finally{try{t&&!t.done&&(e=s.return)&&e.call(s)}finally{if(f)throw f.error}}return w;var f,e})}})},W.prototype.window=function(A,I){var G=this;if(!Qn(A))throw new Error("Expected 'period' parameter to 'Series.window' to be a number.");return new W(function(){return{pairs:new jf(G.getContent().pairs,A,I||Ua.End)}})},W.prototype.rollingWindow=function(A,I){var G=this;if(!Qn(A))throw new Error("Expected 'period' parameter to 'Series.rollingWindow' to be a number.");return new W(function(){return{pairs:new Yf(G.getContent().pairs,A,I||Ua.End)}})},W.prototype.variableWindow=function(A){var I=this;if(!$e(A))throw new Error("Expected 'comparer' parameter to 'Series.variableWindow' to be a function.");return new W(function(){return{values:new Wf(I.getContent().pairs,A)}})},W.prototype.sequentialDistinct=function(A){if(A){if(!$e(A))throw new Error("Expected 'selector' parameter to 'Series.sequentialDistinct' to be a selector function that determines the value to compare for duplicates.")}else A=function(I){return I};return this.variableWindow(function(I,G){return A(I)===A(G)}).select(function(I){return[I.getIndex().first(),I.first()]}).withIndex(function(I){return I[0]}).select(function(I){return I[1]})},W.prototype.aggregate=function(A,I){if($e(A)&&!I)return this.skip(1).aggregate(this.first(),A);if(!$e(I))throw new Error("Expected 'selector' parameter to aggregate to be a function.");var G=A;try{for(var st=qe(this),w=st.next();!w.done;w=st.next()){var s=w.value;G=I(G,s)}}catch(f){t={error:f}}finally{try{w&&!w.done&&(a=st.return)&&a.call(st)}finally{if(t)throw t.error}}return G;var t,a},W.prototype.reduce=function(A,I){if(!$e(A))throw new Error("Expected 'reducer' parameter to `Series.reduce` to be a function.");var G=I,st=this;G===void 0&&st.any()&&(G=st.first(),st=st.skip(1));try{for(var w=qe(st),s=w.next();!s.done;s=w.next()){var t=s.value;G=A(G,t)}}catch(e){a={error:e}}finally{try{s&&!s.done&&(f=w.return)&&f.call(w)}finally{if(a)throw a.error}}return G;var a,f},W.prototype.amountRange=function(A,I){return this.rollingWindow(A,I).select(function(G){return G.max()-G.min()})},W.prototype.proportionRange=function(A,I){return this.rollingWindow(A,I).select(function(G){return(G.max()-G.min())/G.last()})},W.prototype.percentRange=function(A,I){return this.proportionRange(A,I).select(function(G){return G*100})},W.prototype.amountChange=function(A,I){return this.rollingWindow(A===void 0?2:A,I).select(function(G){return G.last()-G.first()})},W.prototype.proportionChange=function(A,I){return this.rollingWindow(A===void 0?2:A,I).select(function(G){return(G.last()-G.first())/G.first()})},W.prototype.percentChange=function(A,I){return this.proportionChange(A,I).select(function(G){return G*100})},W.prototype.proportionRank=function(A){if(A===void 0&&(A=2),!Qn(A))throw new Error("Expected 'period' parameter to 'Series.proportionRank' to be a number that specifies the time period for the ranking.");return this.rollingWindow(A+1).select(function(I){var G=I.last(),st=I.head(-1).filter(function(s){return s<G}).count(),w=st/A;return w})},W.prototype.percentRank=function(A){if(A===void 0&&(A=2),!Qn(A))throw new Error("Expected 'period' parameter to 'Series.percentRank' to be a number that specifies the time period for the ranking.");return this.proportionRank(A).select(function(I){return I*100})},W.prototype.cumsum=function(){var A=this;return new W(function(){var I=0,G=A.toPairs(),st=G.map(function(w){var s=Mi(w,2),t=s[0],a=s[1];return[t,I+=a]});return{pairs:st}})},W.prototype.skip=function(A){var I=this;return new W(function(){return{values:new za(I.getContent().values,A),index:new za(I.getContent().index,A),pairs:new za(I.getContent().pairs,A)}})},W.prototype.skipWhile=function(A){var I=this;if(!$e(A))throw new Error("Expected 'predicate' parameter to 'Series.skipWhile' function to be a predicate function that returns true/false.");return new W(function(){return{values:new Nr(I.getContent().values,A),pairs:new Nr(I.getContent().pairs,function(G){return A(G[1])})}})},W.prototype.skipUntil=function(A){if(!$e(A))throw new Error("Expected 'predicate' parameter to 'Series.skipUntil' function to be a predicate function that returns true/false.");return this.skipWhile(function(I){return!A(I)})},W.prototype.take=function(A){var I=this;if(!Qn(A))throw new Error("Expected 'numRows' parameter to 'Series.take' function to be a number.");return new W(function(){return{index:new Pa(I.getContent().index,A),values:new Pa(I.getContent().values,A),pairs:new Pa(I.getContent().pairs,A)}})},W.prototype.takeWhile=function(A){var I=this;if(!$e(A))throw new Error("Expected 'predicate' parameter to 'Series.takeWhile' function to be a predicate function that returns true/false.");return new W(function(){return{values:new zr(I.getContent().values,A),pairs:new zr(I.getContent().pairs,function(G){return A(G[1])})}})},W.prototype.takeUntil=function(A){if(!$e(A))throw new Error("Expected 'predicate' parameter to 'Series.takeUntil' function to be a predicate function that returns true/false.");return this.takeWhile(function(I){return!A(I)})},W.count=function(A){return A.count()},W.prototype.count=function(){var A=0;try{for(var I=qe(this.getContent().values),G=I.next();!G.done;G=I.next()){var st=G.value;++A}}catch(t){w={error:t}}finally{try{G&&!G.done&&(s=I.return)&&s.call(I)}finally{if(w)throw w.error}}return A;var w,s},W.prototype.first=function(){try{for(var A=qe(this),I=A.next();!I.done;I=A.next()){var G=I.value;return G}}catch(s){st={error:s}}finally{try{I&&!I.done&&(w=A.return)&&w.call(A)}finally{if(st)throw st.error}}throw new Error("Series.first: No values in Series.");var st,w},W.prototype.last=function(){var A=null;try{for(var I=qe(this),G=I.next();!G.done;G=I.next()){var st=G.value;A=st}}catch(t){w={error:t}}finally{try{G&&!G.done&&(s=I.return)&&s.call(I)}finally{if(w)throw w.error}}if(A===null)throw new Error("Series.last: No values in Series.");return A;var w,s},W.prototype.at=function(A){if(!this.none())return this.getRowByIndex(A)},W.prototype.head=function(A){if(!Qn(A))throw new Error("Expected 'numValues' parameter to 'Series.head' function to be a number.");if(A===0)return new W;var I=A<0?this.count()-Math.abs(A):A;return this.take(I)},W.prototype.tail=function(A){if(!Qn(A))throw new Error("Expected 'numValues' parameter to 'Series.tail' function to be a number.");if(A===0)return new W;var I=A>0?this.count()-A:Math.abs(A);return this.skip(I)},W.prototype.where=function(A){if(!$e(A))throw new Error("Expected 'predicate' parameter to 'Series.where' to be a function.");return this.filter(A)},W.prototype.filter=function(A){var I=this;if(!$e(A))throw new Error("Expected 'predicate' parameter to 'Series.filter' to be a function.");return new W(function(){return I.getContent(),{values:new Ba(I.getContent().values,A),pairs:new Ba(I.getContent().pairs,function(G){return A(G[1])})}})},W.prototype.forEach=function(A){if(!$e(A))throw new Error("Expected 'callback' parameter to 'Series.forEach' to be a function.");var I=0;try{for(var G=qe(this),st=G.next();!st.done;st=G.next()){var w=st.value;A(w,I++)}}catch(a){s={error:a}}finally{try{st&&!st.done&&(t=G.return)&&t.call(G)}finally{if(s)throw s.error}}return this;var s,t},W.prototype.all=function(A){if(!$e(A))throw new Error("Expected 'predicate' parameter to 'Series.all' to be a function.");var I=0;try{for(var G=qe(this),st=G.next();!st.done;st=G.next()){var w=st.value;if(!A(w))return!1;++I}}catch(a){s={error:a}}finally{try{st&&!st.done&&(t=G.return)&&t.call(G)}finally{if(s)throw s.error}}return I>0;var s,t},W.prototype.any=function(A){if(A&&!$e(A))throw new Error("Expected 'predicate' parameter to 'Series.any' to be a function.");if(A)try{for(var I=qe(this),G=I.next();!G.done;G=I.next()){var st=G.value;if(A(st))return!0}}catch(a){s={error:a}}finally{try{G&&!G.done&&(t=I.return)&&t.call(I)}finally{if(s)throw s.error}}else{var w=this[Symbol.iterator]();return!w.next().done}return!1;var s,t},W.prototype.none=function(A){if(A&&!$e(A))throw new Error("Expected 'predicate' parameter to 'Series.none' to be a function.");if(A)try{for(var I=qe(this),G=I.next();!G.done;G=I.next()){var st=G.value;if(A(st))return!1}}catch(a){s={error:a}}finally{try{G&&!G.done&&(t=I.return)&&t.call(I)}finally{if(s)throw s.error}}else{var w=this[Symbol.iterator]();return w.next().done}return!0;var s,t},W.prototype.startAt=function(A){var I=this;return new W(function(){var G=I.getIndex().getLessThan();return{index:new Nr(I.getContent().index,function(st){return G(st,A)}),pairs:new Nr(I.getContent().pairs,function(st){return G(st[0],A)})}})},W.prototype.endAt=function(A){var I=this;return new W(function(){var G=I.getIndex().getLessThanOrEqualTo();return{index:new zr(I.getContent().index,function(st){return G(st,A)}),pairs:new zr(I.getContent().pairs,function(st){return G(st[0],A)})}})},W.prototype.before=function(A){var I=this;return new W(function(){var G=I.getIndex().getLessThan();return{index:new zr(I.getContent().index,function(st){return G(st,A)}),pairs:new zr(I.getContent().pairs,function(st){return G(st[0],A)})}})},W.prototype.after=function(A){var I=this;return new W(function(){var G=I.getIndex().getLessThanOrEqualTo();return{index:new Nr(I.getContent().index,function(st){return G(st,A)}),pairs:new Nr(I.getContent().pairs,function(st){return G(st[0],A)})}})},W.prototype.between=function(A,I){return this.startAt(A).endAt(I)},W.prototype.toString=function(){for(var A=["__index__","__value__"],I=this.toPairs(),G=new ys,st=0;st<I.length;++st){for(var w=I[st],s=0;s<w.length;++s){var t=w[s];G.cell(A[s],t)}G.newRow()}return G.toString()},W.parseInt=function(A,I){if(A!=null){if(!Rn(A))throw new Error("Called Series.parseInts, expected all values in the series to be strings, instead found a '"+typeof A+"' at index "+I);return A.length===0?void 0:parseInt(A)}},W.prototype.parseInts=function(){return this.select(W.parseInt)},W.parseFloat=function(A,I){if(A!=null){if(!Rn(A))throw new Error("Called Series.parseFloats, expected all values in the series to be strings, instead found a '"+typeof A+"' at index "+I);return A.length===0?void 0:parseFloat(A)}},W.prototype.parseFloats=function(){return this.select(W.parseFloat)},W.parseDate=function(A,I,G){if(A!=null){if(!Rn(A))throw new Error("Called Series.parseDates, expected all values in the series to be strings, instead found a '"+typeof A+"' at index "+I);return A.length===0?void 0:Gn(A,G).toDate()}},W.prototype.parseDates=function(A){if(A&&!Rn(A))throw new Error("Expected optional 'formatString' parameter to Series.parseDates to be a string (if specified).");return this.select(function(I,G){return W.parseDate(I,G,A)})},W.toString=function(A,I){if(A!==void 0)return A===null?null:I&&Io(A)?Gn(A).format(I):I&&Qn(A)?Ef(A).format(I):A.toString()},W.prototype.toStrings=function(A){if(A&&!Rn(A))throw new Error("Expected optional 'formatString' parameter to Series.toStrings to be a string (if specified).");return this.select(function(I){return W.toString(I,A)})},W.prototype.bake=function(){return this.getContent().isBaked?this:new W({values:this.toArray(),pairs:this.toPairs(),baked:!0})},W.prototype.inflate=function(A){var I=this;if(A){if(!$e(A))throw new Error("Expected 'selector' parameter to Series.inflate to be a selector function.");return new Ir(function(){var G=I.getContent();return{values:new _r(G.values,A),index:G.index,pairs:new _r(G.pairs,function(st,w){return[st[0],A(st[1],w)]})}})}else return new Ir(function(){var G=I.getContent();return{values:G.values,index:G.index,pairs:G.pairs}})},W.prototype.asNumberSeries=function(){var A=this.filter(function(I){return I!=null});if(A.any(function(I){return typeof I!="number"}))throw new Error("Expected series to contain only numbers, you should parse this series or filter out non-number values.");return A},W.sum=function(A){return A.sum()},W.prototype.sum=function(){var A=this.asNumberSeries();if(A.none())return 0;var I=0;try{for(var G=qe(A),st=G.next();!st.done;st=G.next()){var w=st.value;I+=w}}catch(a){s={error:a}}finally{try{st&&!st.done&&(t=G.return)&&t.call(G)}finally{if(s)throw s.error}}return I;var s,t},W.average=function(A){return A.average()},W.prototype.average=function(){return this.mean()},W.mean=function(A){return A.mean()},W.prototype.mean=function(){var A=this.asNumberSeries();if(A.none())return 0;var I=0,G=0;try{for(var st=qe(A),w=st.next();!w.done;w=st.next()){var s=w.value;G+=1,I+=s}}catch(f){t={error:f}}finally{try{w&&!w.done&&(a=st.return)&&a.call(st)}finally{if(t)throw t.error}}if(G===0)return 0;return I/G;var t,a},W.median=function(A){return A.median()},W.prototype.median=function(){var A=this.asNumberSeries(),I=A.count();if(I===0)return 0;var G=A.orderBy(function(s){return s}).toArray();if(I%2==0){var st=G[I/2-1],w=G[I/2];return(st+w)/2}return G[Math.floor(I/2)]},W.mode=function(A){return A.mode()},W.prototype.mode=function(){var A=this.asNumberSeries();if(!A.none()){var I=new Map;try{for(var G=qe(A),st=G.next();!st.done;st=G.next()){var w=st.value;I.has(w)?I.set(w,I.get(w)+1):I.set(w,1)}}catch(f){t={error:f}}finally{try{st&&!st.done&&(a=G.return)&&a.call(G)}finally{if(t)throw t.error}}var s=Array.from(I.entries());return s.sort(function(f,e){return e[1]-f[1]}),s[0][0];var t,a}},W.prototype.sumOfSquares=function(){if(this.none())return[0,1];var A=this.mean(),I=0,G=this.asNumberSeries(),st=0;try{for(var w=qe(G),s=w.next();!s.done;s=w.next()){var t=s.value;st+=1;var a=t,f=a-A,e=f*f;I+=e}}catch(n){i={error:n}}finally{try{s&&!s.done&&(r=w.return)&&r.call(w)}finally{if(i)throw i.error}}return[I,st];var i,r},W.variance=function(A){return A.variance()},W.prototype.variance=function(){if(this.none())return 0;var A=Mi(this.sumOfSquares(),2),I=A[0],G=A[1];return I/G},W.std=function(A){return A.std()},W.prototype.std=function(){return this.none()?0:Math.sqrt(this.variance())},W.prototype.standardize=function(){if(this.none())return new W;var A=this.mean(),I=this.std();if(I===0)throw new Error("Can't standardize a series that has no variation.");var G=this.asNumberSeries();return G.map(function(st){var w=(st-A)/I;return w})},W.sampleVariance=function(A){return A.sampleVariance()},W.prototype.sampleVariance=function(){if(this.none())return 0;var A=Mi(this.sumOfSquares(),2),I=A[0],G=A[1];return I/(G-1)},W.sampleStd=function(A){return A.sampleStd()},W.prototype.sampleStd=function(){return this.none()?0:Math.sqrt(this.sampleVariance())},W.prototype.sampleStandardize=function(){if(this.none())return new W;var A=this.mean(),I=this.sampleStd();if(I===0)throw new Error("Can't standardize a series that has no variation.");var G=this.asNumberSeries();return G.map(function(st){var w=(st-A)/I;return w})},W.min=function(A){return A.min()},W.prototype.min=function(){var A;try{for(var I=qe(this.asNumberSeries()),G=I.next();!G.done;G=I.next()){var st=G.value;A===void 0?A=st:A=Math.min(A,st)}}catch(t){w={error:t}}finally{try{G&&!G.done&&(s=I.return)&&s.call(I)}finally{if(w)throw w.error}}if(A===void 0)return 0;return A;var w,s},W.max=function(A){return A.max()},W.prototype.max=function(){var A;try{for(var I=qe(this.asNumberSeries()),G=I.next();!G.done;G=I.next()){var st=G.value;A===void 0?A=st:A=Math.max(A,st)}}catch(t){w={error:t}}finally{try{G&&!G.done&&(s=I.return)&&s.call(I)}finally{if(w)throw w.error}}if(A===void 0)return 0;return A;var w,s},W.range=function(A){return A.range()},W.prototype.range=function(){return this.max()-this.min()},W.prototype.invert=function(){return this.asNumberSeries().select(function(A){return-A})},W.prototype.counter=function(A){return this.groupSequentialBy(A).selectMany(function(I,G){return A(I.first())?gd(1,I.count()).withIndex(I.getIndex()).toPairs():md(0,I.count()).withIndex(I.getIndex()).toPairs()}).withIndex(function(I){return I[0]}).select(function(I){return I[1]})},W.prototype.reverse=function(){var A=this;return new W(function(){return{values:new Ra(A.getContent().values),index:new Ra(A.getContent().index),pairs:new Ra(A.getContent().pairs)}})},W.prototype.distinct=function(A){var I=this;return new W(function(){return{values:new Bi(I.getContent().values,A),pairs:new Bi(I.getContent().pairs,function(G){return A&&A(G[1])||G[1]})}})},W.prototype.groupBy=function(A){var I=this;if(!$e(A))throw new Error("Expected 'selector' parameter to 'Series.groupBy' to be a selector function that determines the value to group the series by.");return new W(function(){var G=[],st={},w=0;try{for(var s=qe(I.getContent().pairs),t=s.next();!t.done;t=s.next()){var a=t.value,f=A(a[1],w);++w;var e=st[f];if(e)e.push(a);else{var i=[];i.push(a),G.push(i),st[f]=i}}}catch(o){r={error:o}}finally{try{t&&!t.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return{values:G.map(function(o){return new W({pairs:o})})};var r,n})},W.prototype.groupSequentialBy=function(A){if(A){if(!$e(A))throw new Error("Expected 'selector' parameter to 'Series.groupSequentialBy' to be a selector function that determines the value to group the series by.")}else A=function(I){return I};return this.variableWindow(function(I,G){return A(I)===A(G)})},W.concat=function(A){if(!Wn(A))throw new Error("Expected 'series' parameter to 'Series.concat' to be an array of series.");return new W(function(){var I=A,G=I.map(function(st){return st.getContent()});return{values:new Ii(G.map(function(st){return st.values})),pairs:new Ii(G.map(function(st){return st.pairs}))}})},W.prototype.concat=function(){for(var A=[],I=0;I<arguments.length;I++)A[I]=arguments[I];var G=[this];try{for(var st=qe(A),w=st.next();!w.done;w=st.next()){var s=w.value;if(Wn(s))try{for(var t=qe(s),a=t.next();!a.done;a=t.next()){var f=a.value;G.push(f)}}catch(o){r={error:o}}finally{try{a&&!a.done&&(n=t.return)&&n.call(t)}finally{if(r)throw r.error}}else G.push(s)}}catch(o){e={error:o}}finally{try{w&&!w.done&&(i=st.return)&&i.call(st)}finally{if(e)throw e.error}}return W.concat(G);var e,i,r,n},W.zip=function(A,I){var G=Array.from(A);if(G.length===0)return new W;var st=G[0];return st.none()?new W:new W(function(){var w=st,s=G;return{index:w.getContent().index,values:new Fs(s.map(function(t){return t.getContent().values}),I)}})},W.prototype.zip=function(){for(var A=[],I=0;I<arguments.length;I++)A[I]=arguments[I];var G=A[A.length-1],st=[this].concat(A.slice(0,A.length-1));return W.zip(st,function(w){return G.apply(void 0,Ss(w))})},W.prototype.orderBy=function(A){var I=this.getContent();return new os({values:I.values,pairs:I.pairs,selector:A,direction:Gr.Ascending,parent:null})},W.prototype.orderByDescending=function(A){var I=this.getContent();return new os({values:I.values,pairs:I.pairs,selector:A,direction:Gr.Descending,parent:null})},W.prototype.union=function(A,I){if(I&&!$e(I))throw new Error("Expected optional 'selector' parameter to 'Series.union' to be a selector function.");return this.concat(A).distinct(I)},W.prototype.intersection=function(A,I,G){if(I){if(!$e(I))throw new Error("Expected optional 'outerSelector' parameter to 'Series.intersection' to be a function.")}else I=function(w){return w};if(G){if(!$e(G))throw new Error("Expected optional 'innerSelector' parameter to 'Series.intersection' to be a function.")}else G=function(w){return w};var st=this;return st.filter(function(w){var s=I(w);return A.filter(function(t){return s===G(t)}).any()})},W.prototype.except=function(A,I,G){if(I){if(!$e(I))throw new Error("Expected optional 'outerSelector' parameter to 'Series.except' to be a function.")}else I=function(w){return w};if(G){if(!$e(G))throw new Error("Expected optional 'innerSelector' parameter to 'Series.except' to be a function.")}else G=function(w){return w};var st=this;return st.filter(function(w){var s=I(w);return A.filter(function(t){return s===G(t)}).none()})},W.prototype.join=function(A,I,G,st){if(!$e(I))throw new Error("Expected 'outerKeySelector' parameter of 'Series.join' to be a selector function.");if(!$e(G))throw new Error("Expected 'innerKeySelector' parameter of 'Series.join' to be a selector function.");if(!$e(st))throw new Error("Expected 'resultSelector' parameter of 'Series.join' to be a selector function.");var w=this;return new W(function(){var s=A.groupBy(G).toObject(function(p){return G(p.first())},function(p){return p});w.getContent();var t=[];try{for(var a=qe(w),f=a.next();!f.done;f=a.next()){var e=f.value,i=I(e),r=s[i];if(r)try{for(var n=qe(r),o=n.next();!o.done;o=n.next()){var l=o.value;t.push(st(e,l))}}catch(p){c={error:p}}finally{try{o&&!o.done&&(h=n.return)&&h.call(n)}finally{if(c)throw c.error}}}}catch(p){u={error:p}}finally{try{f&&!f.done&&(d=a.return)&&d.call(a)}finally{if(u)throw u.error}}return{values:t};var u,d,c,h})},W.prototype.joinOuter=function(A,I,G,st){if(!$e(I))throw new Error("Expected 'outerKeySelector' parameter of 'Series.joinOuter' to be a selector function.");if(!$e(G))throw new Error("Expected 'innerKeySelector' parameter of 'Series.joinOuter' to be a selector function.");if(!$e(st))throw new Error("Expected 'resultSelector' parameter of 'Series.joinOuter' to be a selector function.");var w=this,s=w.except(A,I,G).select(function(f){return st(f,null)}).resetIndex(),t=A.except(w,G,I).select(function(f){return st(null,f)}).resetIndex(),a=w.join(A,I,G,st);return s.concat(a).concat(t).resetIndex()},W.prototype.joinOuterLeft=function(A,I,G,st){if(!$e(I))throw new Error("Expected 'outerKeySelector' parameter of 'Series.joinOuterLeft' to be a selector function.");if(!$e(G))throw new Error("Expected 'innerKeySelector' parameter of 'Series.joinOuterLeft' to be a selector function.");if(!$e(st))throw new Error("Expected 'resultSelector' parameter of 'Series.joinOuterLeft' to be a selector function.");var w=this,s=w.except(A,I,G).select(function(a){return st(a,null)}).resetIndex(),t=w.join(A,I,G,st);return s.concat(t).resetIndex()},W.prototype.joinOuterRight=function(A,I,G,st){if(!$e(I))throw new Error("Expected 'outerKeySelector' parameter of 'Series.joinOuterRight' to be a selector function.");if(!$e(G))throw new Error("Expected 'innerKeySelector' parameter of 'Series.joinOuterRight' to be a selector function.");if(!$e(st))throw new Error("Expected 'resultSelector' parameter of 'Series.joinOuterRight' to be a selector function.");var w=this,s=A.except(w,G,I).select(function(a){return st(null,a)}).resetIndex(),t=w.join(A,I,G,st);return t.concat(s).resetIndex()},W.prototype.truncateStrings=function(A){if(!Qn(A))throw new Error("Expected 'maxLength' parameter to 'Series.truncateStrings' to be a number.");return this.select(function(I){return Rn(I)&&I.length>A?I.substring(0,A):I})},W.prototype.round=function(A){if(A!==void 0){if(!Qn(A))throw new Error("Expected 'numDecimalPlaces' parameter to 'Series.round' to be a number.")}else A=2;return this.select(function(I){return Qn(I)?parseFloat(I.toFixed(A)):I})},W.prototype.insertPair=function(A){if(!Wn(A))throw new Error("Expected 'pair' parameter to 'Series.insertPair' to be an array.");if(A.length!==2)throw new Error("Expected 'pair' parameter to 'Series.insertPair' to be an array with two elements. The first element is the index, the second is the value.");return new W({pairs:[A]}).concat(this)},W.prototype.appendPair=function(A){if(!Wn(A))throw new Error("Expected 'pair' parameter to 'Series.appendPair' to be an array.");if(A.length!==2)throw new Error("Expected 'pair' parameter to 'Series.appendPair' to be an array with two elements. The first element is the index, the second is the value.");return this.concat(new W({pairs:[A]}))},W.prototype.remove=function(A){var I=this;return new W(function(){var G=I.getContent();return{pairs:new Ba(G.pairs,function(st){return st[0]!==A})}})},W.prototype.fillGaps=function(A,I){if(!$e(A))throw new Error("Expected 'comparer' parameter to 'Series.fillGaps' to be a comparer function that compares two values and returns a boolean.");if(!$e(I))throw new Error("Expected 'generator' parameter to 'Series.fillGaps' to be a generator function that takes two values and returns an array of generated pairs to span the gap.");return this.rollingWindow(2).selectMany(function(G){var st=G.toPairs(),w=st[0],s=st[1];if(!A(w,s))return[w];var t=I(w,s);if(!Wn(t))throw new Error("Expected return from 'generator' parameter to 'Series.fillGaps' to be an array of pairs, instead got a "+typeof t);return[w].concat(t)}).withIndex(function(G){return G[0]}).select(function(G){return G[1]}).concat(this.tail(1))},W.prototype.defaultIfEmpty=function(A){if(this.none()){if(A instanceof W)return A;if(Wn(A))return new W(A);throw new Error("Expected 'defaultSequence' parameter to 'Series.defaultIfEmpty' to be an array or a series.")}else return this},W.prototype.detectTypes=function(){var A=this;return new Ir(function(){var I=A.count(),G=A.select(function(st){var w=typeof st;return w==="object"&&Io(st)&&(w="date"),w}).aggregate({},function(st,w){var s=st[w];return s||(s={count:0},st[w]=s),++s.count,st});return{columnNames:["Type","Frequency"],rows:Object.keys(G).map(function(st){return[st,G[st].count/I*100]})}})},W.prototype.detectValues=function(){var A=this;return new Ir(function(){var I=A.count(),G=A.aggregate(new Map,function(st,w){var s=st.get(w);return s||(s={count:0,value:w},st.set(w,s)),++s.count,st});return{columnNames:["Value","Frequency"],rows:Array.from(G.keys()).map(function(st){var w=G.get(st);return[w.value,w.count/I*100]})}})},W.prototype.bucket=function(A){if(console.warn("Series.bucket is deprecated and will be removed in the future."),!Qn(A))throw new Error("Expected 'numBuckets' parameter to 'Series.bucket' to be a number.");if(this.none())return new Ir;var I=this,G=I.min(),st=I.max(),w=st-G,s=w/(A-1);return I.select(function(t){var a=Math.floor((t-G)/s),f=a*s+G;return{Value:t,Bucket:a,Min:f,Mid:f+s*.5,Max:f+s}}).inflate()},W.prototype.frequency=function(A){var I=this;return this.none()?new Ir:new Ir(function(){var G=I,st=A&&A.captureValues||!1,w=Number.MAX_VALUE,s=Number.MIN_VALUE,t=0;try{for(var a=qe(G),f=a.next();!f.done;f=a.next()){var e=f.value;w=Math.min(e,w),s=Math.max(e,s),t+=1}}catch(D){_={error:D}}finally{try{f&&!f.done&&(T=a.return)&&T.call(a)}finally{if(_)throw _.error}}var i;A&&A.lower!==void 0?i=A.lower:i=w;var r;A&&A.upper!==void 0?r=A.upper:r=s;var n=A&&A.interval,o=r-i,l;n!==void 0?l=Math.ceil(o/n):l=10,t<l&&(l=t),n===void 0&&(n=o/(l-1));for(var u=new Array(l),d=0;d<l;++d){var c=i+d*n;u[d]={lower:c,upper:c+n,count:0,proportion:0,cumulative:0},st&&(u[d].values=[])}var h={upper:i,count:0,proportion:0,cumulative:0};st&&(h.values=[]);var p={lower:r,count:0,proportion:0,cumulative:0};st&&(p.values=[]);try{for(var g=qe(G),y=g.next();!y.done;y=g.next()){var e=y.value,b=void 0;if(e<i)b=h;else if(e>r)b=p;else{var d=Math.floor((e-i)/n);b=u[d]}b.count+=1,st&&b.values.push(e)}}catch(D){C={error:D}}finally{try{y&&!y.done&&(S=g.return)&&S.call(g)}finally{if(C)throw C.error}}var m=0;h.count>0&&u.unshift(h),p.count>0&&u.push(p);try{for(var v=qe(u),x=v.next();!x.done;x=v.next()){var b=x.value;b.proportion=b.count/t,m+=b.proportion,b.cumulative=m}}catch(D){F={error:D}}finally{try{x&&!x.done&&(N=v.return)&&N.call(v)}finally{if(F)throw F.error}}return{values:u};var _,T,C,S,F,N})},W.prototype.getTypeCode=function(){return"series"},W.defaultCountIterable=new Lo,W.defaultEmptyIterable=new Es,W}(),os=function(W){Yo(A,W);function A(I){for(var G=this,st=[],w=[],s=0,t=I.parent,a=[];t!==null;)a.push(t),t=t.config.parent;a.reverse();try{for(var f=qe(a),e=f.next();!e.done;e=f.next()){var i=e.value,r=i.config;st.push(A.makeSortSpec(s,r.selector,r.direction)),w.push(A.makeSortSpec(s,A.makePairsSelector(r.selector),r.direction)),++s}}catch(l){n={error:l}}finally{try{e&&!e.done&&(o=f.return)&&o.call(f)}finally{if(n)throw n.error}}return st.push(A.makeSortSpec(s,I.selector,I.direction)),w.push(A.makeSortSpec(s,A.makePairsSelector(I.selector),I.direction)),G=W.call(this,{values:new Ri(I.values,st),pairs:new Ri(I.pairs,w)})||this,G.config=I,G;var n,o}return A.makeSortSpec=function(I,G,st){return{sortLevel:I,selector:G,direction:st}},A.makePairsSelector=function(I){return function(G,st){return I(G[1],st)}},A.prototype.thenBy=function(I){return new A({values:this.config.values,pairs:this.config.pairs,selector:I,direction:Gr.Ascending,parent:this})},A.prototype.thenByDescending=function(I){return new A({values:this.config.values,pairs:this.config.pairs,selector:I,direction:Gr.Descending,parent:this})},A}(rr),Ls=function(W){Yo(A,W);function A(I){return W.call(this,I)||this}return A.prototype.getType=function(){return this._type||(this.any()?this._type=Os(this.first()):this._type="empty"),this._type},A.prototype.getLessThan=function(){switch(this.getType()){case"date":return function(I,G){return Gn(I).isBefore(G)};case"string":case"number":return function(I,G){return I<G};case"empty":return function(){return!0};default:throw new Error("No less than operation available for type: "+this.getType())}},A.prototype.getLessThanOrEqualTo=function(){var I=this;return function(G,st){return!I.getGreaterThan()(G,st)}},A.prototype.getGreaterThan=function(){switch(this.getType()){case"date":return function(I,G){return Gn(I).isAfter(G)};case"string":case"number":return function(I,G){return I>G};case"empty":return function(){return!0};default:throw new Error("No greater than operation available for type: "+this.getType())}},A}(rr);function Vo(W,A){return A={exports:{}},W(A,A.exports),A.exports}var pd=function(A){return A instanceof Buffer},yd=Vo(function(W){typeof Object.create=="function"?W.exports=function(I,G){I.super_=G,I.prototype=Object.create(G.prototype,{constructor:{value:I,enumerable:!1,writable:!0,configurable:!0}})}:W.exports=function(I,G){I.super_=G;var st=function(){};st.prototype=G.prototype,I.prototype=new st,I.prototype.constructor=I}}),vd=Vo(function(W){try{var A=Kn;if(typeof A.inherits!="function")throw"";W.exports=A.inherits}catch{W.exports=yd}}),Kn=Vo(function(W,A){var I=Object.getOwnPropertyDescriptors||function(O){for(var q=Object.keys(O),tt={},E=0;E<q.length;E++)tt[q[E]]=Object.getOwnPropertyDescriptor(O,q[E]);return tt},G=/%[sdj%]/g;A.format=function(M){if(!g(M)){for(var O=[],q=0;q<arguments.length;q++)O.push(s(arguments[q]));return O.join(" ")}for(var q=1,tt=arguments,E=tt.length,z=String(M).replace(G,function(Q){if(Q==="%%")return"%";if(q>=E)return Q;switch(Q){case"%s":return String(tt[q++]);case"%d":return Number(tt[q++]);case"%j":try{return JSON.stringify(tt[q++])}catch{return"[Circular]"}default:return Q}}),Y=tt[q];q<E;Y=tt[++q])c(Y)||!v(Y)?z+=" "+Y:z+=" "+s(Y);return z},A.deprecate=function(M,O){if(typeof process<"u"&&process.noDeprecation===!0)return M;if(typeof process>"u")return function(){return A.deprecate(M,O).apply(this,arguments)};var q=!1;function tt(){if(!q){if(process.throwDeprecation)throw new Error(O);process.traceDeprecation?console.trace(O):console.error(O),q=!0}return M.apply(this,arguments)}return tt};var st={},w;A.debuglog=function(M){if(b(w)&&(w={}.NODE_DEBUG||""),M=M.toUpperCase(),!st[M])if(new RegExp("\\b"+M+"\\b","i").test(w)){var O=process.pid;st[M]=function(){var q=A.format.apply(A,arguments);console.error("%s %d: %s",M,O,q)}}else st[M]=function(){};return st[M]};function s(M,O){var q={seen:[],stylize:a};return arguments.length>=3&&(q.depth=arguments[2]),arguments.length>=4&&(q.colors=arguments[3]),d(O)?q.showHidden=O:O&&A._extend(q,O),b(q.showHidden)&&(q.showHidden=!1),b(q.depth)&&(q.depth=2),b(q.colors)&&(q.colors=!1),b(q.customInspect)&&(q.customInspect=!0),q.colors&&(q.stylize=t),e(q,M,q.depth)}A.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function t(M,O){var q=s.styles[O];return q?"\x1B["+s.colors[q][0]+"m"+M+"\x1B["+s.colors[q][1]+"m":M}function a(M,O){return M}function f(M){var O={};return M.forEach(function(q,tt){O[q]=!0}),O}function e(M,O,q){if(M.customInspect&&O&&T(O.inspect)&&O.inspect!==A.inspect&&!(O.constructor&&O.constructor.prototype===O)){var tt=O.inspect(q,M);return g(tt)||(tt=e(M,tt,q)),tt}var E=i(M,O);if(E)return E;var z=Object.keys(O),Y=f(z);if(M.showHidden&&(z=Object.getOwnPropertyNames(O)),_(O)&&(z.indexOf("message")>=0||z.indexOf("description")>=0))return r(O);if(z.length===0){if(T(O)){var Q=O.name?": "+O.name:"";return M.stylize("[Function"+Q+"]","special")}if(m(O))return M.stylize(RegExp.prototype.toString.call(O),"regexp");if(x(O))return M.stylize(Date.prototype.toString.call(O),"date");if(_(O))return r(O)}var nt="",et=!1,Z=["{","}"];if(u(O)&&(et=!0,Z=["[","]"]),T(O)){var H=O.name?": "+O.name:"";nt=" [Function"+H+"]"}if(m(O)&&(nt=" "+RegExp.prototype.toString.call(O)),x(O)&&(nt=" "+Date.prototype.toUTCString.call(O)),_(O)&&(nt=" "+r(O)),z.length===0&&(!et||O.length==0))return Z[0]+nt+Z[1];if(q<0)return m(O)?M.stylize(RegExp.prototype.toString.call(O),"regexp"):M.stylize("[Object]","special");M.seen.push(O);var U;return et?U=n(M,O,q,Y,z):U=z.map(function(V){return o(M,O,q,Y,V,et)}),M.seen.pop(),l(U,nt,Z)}function i(M,O){if(b(O))return M.stylize("undefined","undefined");if(g(O)){var q="'"+JSON.stringify(O).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return M.stylize(q,"string")}if(p(O))return M.stylize(""+O,"number");if(d(O))return M.stylize(""+O,"boolean");if(c(O))return M.stylize("null","null")}function r(M){return"["+Error.prototype.toString.call(M)+"]"}function n(M,O,q,tt,E){for(var z=[],Y=0,Q=O.length;Y<Q;++Y)j(O,String(Y))?z.push(o(M,O,q,tt,String(Y),!0)):z.push("");return E.forEach(function(nt){nt.match(/^\d+$/)||z.push(o(M,O,q,tt,nt,!0))}),z}function o(M,O,q,tt,E,z){var Y,Q,nt;if(nt=Object.getOwnPropertyDescriptor(O,E)||{value:O[E]},nt.get?nt.set?Q=M.stylize("[Getter/Setter]","special"):Q=M.stylize("[Getter]","special"):nt.set&&(Q=M.stylize("[Setter]","special")),j(tt,E)||(Y="["+E+"]"),Q||(M.seen.indexOf(nt.value)<0?(c(q)?Q=e(M,nt.value,null):Q=e(M,nt.value,q-1),Q.indexOf(`
`)>-1&&(z?Q=Q.split(`
`).map(function(et){return"  "+et}).join(`
`).substr(2):Q=`
`+Q.split(`
`).map(function(et){return"   "+et}).join(`
`))):Q=M.stylize("[Circular]","special")),b(Y)){if(z&&E.match(/^\d+$/))return Q;Y=JSON.stringify(""+E),Y.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(Y=Y.substr(1,Y.length-2),Y=M.stylize(Y,"name")):(Y=Y.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),Y=M.stylize(Y,"string"))}return Y+": "+Q}function l(M,O,q){var tt=M.reduce(function(E,z){return z.indexOf(`
`)>=0,E+z.replace(/\u001b\[\d\d?m/g,"").length+1},0);return tt>60?q[0]+(O===""?"":O+`
 `)+" "+M.join(`,
  `)+" "+q[1]:q[0]+O+" "+M.join(", ")+" "+q[1]}function u(M){return Array.isArray(M)}A.isArray=u;function d(M){return typeof M=="boolean"}A.isBoolean=d;function c(M){return M===null}A.isNull=c;function h(M){return M==null}A.isNullOrUndefined=h;function p(M){return typeof M=="number"}A.isNumber=p;function g(M){return typeof M=="string"}A.isString=g;function y(M){return typeof M=="symbol"}A.isSymbol=y;function b(M){return M===void 0}A.isUndefined=b;function m(M){return v(M)&&S(M)==="[object RegExp]"}A.isRegExp=m;function v(M){return typeof M=="object"&&M!==null}A.isObject=v;function x(M){return v(M)&&S(M)==="[object Date]"}A.isDate=x;function _(M){return v(M)&&(S(M)==="[object Error]"||M instanceof Error)}A.isError=_;function T(M){return typeof M=="function"}A.isFunction=T;function C(M){return M===null||typeof M=="boolean"||typeof M=="number"||typeof M=="string"||typeof M=="symbol"||typeof M>"u"}A.isPrimitive=C,A.isBuffer=pd;function S(M){return Object.prototype.toString.call(M)}function F(M){return M<10?"0"+M.toString(10):M.toString(10)}var N=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function D(){var M=new Date,O=[F(M.getHours()),F(M.getMinutes()),F(M.getSeconds())].join(":");return[M.getDate(),N[M.getMonth()],O].join(" ")}A.log=function(){console.log("%s - %s",D(),A.format.apply(A,arguments))},A.inherits=vd,A._extend=function(M,O){if(!O||!v(O))return M;for(var q=Object.keys(O),tt=q.length;tt--;)M[q[tt]]=O[q[tt]];return M};function j(M,O){return Object.prototype.hasOwnProperty.call(M,O)}var B=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;A.promisify=function(O){if(typeof O!="function")throw new TypeError('The "original" argument must be of type Function');if(B&&O[B]){var q=O[B];if(typeof q!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(q,B,{value:q,enumerable:!1,writable:!1,configurable:!0}),q}function q(){for(var tt,E,z=new Promise(function(nt,et){tt=nt,E=et}),Y=[],Q=0;Q<arguments.length;Q++)Y.push(arguments[Q]);Y.push(function(nt,et){nt?E(nt):tt(et)});try{O.apply(this,Y)}catch(nt){E(nt)}return z}return Object.setPrototypeOf(q,Object.getPrototypeOf(O)),B&&Object.defineProperty(q,B,{value:q,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(q,I(O))},A.promisify.custom=B;function J(M,O){if(!M){var q=new Error("Promise was rejected with a falsy value");q.reason=M,M=q}return O(M)}function P(M){if(typeof M!="function")throw new TypeError('The "original" argument must be of type Function');function O(){for(var q=[],tt=0;tt<arguments.length;tt++)q.push(arguments[tt]);var E=q.pop();if(typeof E!="function")throw new TypeError("The last argument must be of type Function");var z=this,Y=function(){return E.apply(z,arguments)};M.apply(this,q).then(function(Q){process.nextTick(Y,null,Q)},function(Q){process.nextTick(J,Q,Y)})}return Object.setPrototypeOf(O,Object.getPrototypeOf(M)),Object.defineProperties(O,I(M)),O}A.callbackify=P});Kn.format;Kn.deprecate;Kn.debuglog;Kn.inspect;Kn.isArray;Kn.isBoolean;Kn.isNull;Kn.isNullOrUndefined;Kn.isNumber;Kn.isString;Kn.isSymbol;Kn.isUndefined;Kn.isRegExp;Kn.isObject;Kn.isDate;Kn.isError;Kn.isFunction;Kn.isPrimitive;Kn.isBuffer;Kn.log;Kn.inherits;Kn._extend;Kn.promisify;Kn.callbackify;Gn.extend(Ds);rr.concat;rr.zip;function gd(W,A){if(!Qn(W))throw new Error("Expect 'start' parameter to 'dataForge.range' function to be a number.");if(!Qn(A))throw new Error("Expect 'count' parameter to 'dataForge.range' function to be a number.");for(var I=[],G=0;G<A;++G)I.push(W+G);return new rr(I)}function md(W,A){for(var I=[],G=0;G<A;++G)I.push(W);return new rr(I)}function Po(W,A){return W.label<A.label?-1:W.label>A.label?1:0}function xd(W,A,I,G,st,w){let s=1;for(const a of W)s=Math.max(s,a.names.length);Cd(s,st);const t=[];for(let a=0;a<s;++a){const f=ei(a),e=Is(A.get(f));for(const i of W)Ed(i,a,e);t.push(e)}for(let a=0;a<s;++a){const f=t[a],e=Ps(f),i=ei(a),r=Bs(a);A.set(i,e),i in G.selection||(G.selection[i]=[]);let n=!1;for(const o of I.value)if(o.label===r){o.options=e,n=!0;break}n||I.value.push(js(r,i,Td,e,kd(a),w))}}function bd(W,A,I,G,st,w){st.value.every(f=>f.value!==Yr)&&st.value.push({label:wo,value:Yr,protected:!0});const s=Is(A.get(Yr));for(const f of W){let e=s.get(f.name);const i={entityClass:f.class_name};e===void 0?(e=[i],s.set(f.name,e)):e.push(i)}const t=Ps(s);A.set(Yr,t),Yr in G.selection||(G.selection[Yr]=[]);let a=!1;for(const f of I.value)if(f.label===wo){f.options=t,a=!0;break}a||I.value.push(js(wo,Yr,Ad,t,zs,w))}function Is(W){const A=new Map;if(W!==void 0)for(const I of W.value){let G=I.parents;G===void 0&&(G=[]),A.set(I.label,G)}return A}function Ps(W){const A=tr([]);for(const[I,G]of W)A.value.push({label:I,parents:G});return A.value.sort(Po),A}const Hi="X_",Ni="scenario",Ia="scenario_time_stamp",ia="entity_class",Yr="parameter",_d="entity_",wd=/^entity_[0-9]+$/;function ei(W){return _d+W}function qi(W){return wd.test(W)}function Wo(W){return W.substring(Hi.length)}function ii(W){return W==null?"":W.startsWith(Hi)?Wo(W):W}const wo="Parameter";function Bs(W){return`Object ${W+1}`}const Ad="Select parameters",Td="Use all objects",Rs=1e4,zs=Rs-1e3,Ns=zs-1e3;function kd(W){return Ns-W}const Dd=Ns-1e3;function ls(W){return Dd-W}function js(W,A,I,G,st,w){return{label:W,type:A,updateCallback:w,placeholder:I,options:G,priority:st}}function Md(W,A){return{label:"Entity class",type:ia,updateCallback:A,placeholder:"Select entity classes",options:W,priority:Rs}}function Sd(W,A,I){return{label:Wo(W),type:W,updateCallback:()=>{},placeholder:"Use all",options:A,priority:I}}function Ed(W,A,I){const G=W.names[A];let st=I.get(G);const w={entityClass:W.class_name};st===void 0?(st=[w],I.set(G,st)):st.push(w)}function Cd(W,A){const I=[];for(let st=0;st<A.value.length;++st)qi(A.value[st].value)&&I.push(st);const G=W-I.length;if(G!==0)if(G>0){const st=[];for(let s=I.length;s<W;++s)st.push({label:Bs(s),value:ei(s),protected:!0});const w=I.length>0?I.at(-1)+1:1;A.value.splice(w,0,...st)}else A.value.splice(I.at(G),-G)}function Fd(W,A){const I=new Set(W.selection.entity_class);for(const[G,st]of A.entries()){if(G===ia)continue;const w=[];for(const[s,t]of st.value.entries()){for(let a=t.parents.length-1;a!=-1;--a)I.has(t.parents[a].entityClass)||t.parents.splice(a,1);if(t.parents.length===0){const a=W.selection[G],f=a.indexOf(t.label);f>=0&&a.splice(f,1),w.push(s)}}for(const s of w.reverse())st.value.splice(s,1)}}function Od(W){for(let A=W.value.length-1;A!=-1;--A){const I=W.value[A];I.label!=="Entity class"&&I.options.length===0&&W.value.splice(A,1)}}function Bo(W,A){const I=[];for(const G of W)A.has(G)||I.push(G);return I}const Us={responsive:!0,displaylogo:!1};let ss=0;const Ja=lc({specifications:new Map,get(W){return this.specifications.get(W)},add(W){const A=ss;return++ss,this.specifications.set(A,W),A},new(){return this.add(Ld())},delete(W){this.specifications.delete(W)},asArray(){const W=[];for(const I of this.specifications.keys())W.push(I);W.sort();const A=[];for(const I of W)A.push(this.specifications.get(I));return A}});function Ld(){return{plot_type:"line",selection:{entity_class:[],parameter:[]},dimensions:{separate_window:null,x1:null,x2:null,x3:null}}}const Id=new Set([ia,Yr,Ni,Ia]);function Hs(W){return!Id.has(W)&&!qi(W)}function Yi(W,A,I={},G={}){const st=Ws(W,A),w=Gs(st);let{lineWindows:s,plotTitle:t}=Zs(W,w,A.separate_window),a=null;A.separate_window!==null&&(a=qs(s,A.separate_window,st),s=a.lineWindows);const f=[];for(const r of s){let n={};if(a!==null){const u=a.windowSubplotCategories.splice(0,1)[0];n=a.windowSubplotData.get(u)}const o=Vs(r,w),l=Ys(r,st);f.push({x:l,y:r.deflate(u=>u.y).toArray(),name:o,...n,...I})}const e={xaxis:{title:ii(st.x1)},...a!==null?a.subplotLayout:{},...G};t!==void 0&&(e.title=t);const i={...Us};return{data:f,layout:e,config:i}}function Pd(W,A){A.separate_window!==null&&(W=W.orderBy(n=>n[A.separate_window]));const I=Ws(W,A),G=Gs(I);W=Bd(W,I);let{lineWindows:st,plotTitle:w}=Zs(W,G,A.separate_window),s=null;if(A.separate_window!==null){const n=new Map;for(const o of st){const l=o.first()[A.separate_window];n.has(l)||n.set(l,n.size)}s=qs(st,A.separate_window,I,{automargin:!0}),st=s.lineWindows}const t=[];let a=null,f=null;const e=s!==null?s.windowSubplotCategories:new Array(st.length);for(const n of st){const o=e.splice(0,1)[0];a!==o&&(a=o,f={x:Ys(n,I),y:[],z:[],type:"heatmap"},s!==null&&(f={...f,...s.windowSubplotData.get(o),coloraxis:"coloraxis"}),t.push(f)),f.y.push(Vs(n,G));const l=[];n.forEach(u=>l.push(u.y)),f.z.push(l)}t.length===0&&t.push({x:[],y:[],z:[],type:"heatmap"});let i={xaxis:{title:ii(I.x1)},yaxis:{automargin:!0}};s!==null&&(i={...i,...s.subplotLayout,coloraxis:{}}),w!==void 0&&(i.title=w);const r={...Us};return{data:t,layout:i,config:r}}function qs(W,A,I,G){const st=[],w={},s=new Map,t=[],a=[];for(const e of W){const i=e.first()[A];if(t.push(i),!s.has(i)){const r=s.size+1;s.set(i,{xaxis:`x${r}`,yaxis:`y${r}`}),a.push({text:i,showarrow:!1,x:0,y:1.1,xref:`x${r} domain`,yref:`y${r} domain`})}st.push(e.dropSeries(A))}if(s.size>1)for(let e=2;e!=s.size+1;++e)w[`xaxis${e}`]={title:ii(I.x1)},G!==void 0&&(w[`yaxis${e}`]={...G});const f=2;return w.grid={rows:Math.ceil(s.size/f),columns:f,pattern:"independent"},w.annotations=a,{lineWindows:st,subplotLayout:w,windowSubplotData:s,windowSubplotCategories:t,subplotAnnotations:a}}function Ys(W,A){if(A.x2!==void 0){const I=[];if(A.x3!==void 0){const G=W.deflate(st=>`${st[A.x3]} / ${st[A.x2]}`).toArray();I.push(G)}else I.push(W.getSeries(A.x2).toArray());return I.push(W.getSeries(A.x1).toArray()),I}return W.getSeries(A.x1).toArray()}function Bd(W,A){const I=[A.x1,A.x2,A.x3].filter(r=>r!==void 0);if(I.length===0)return W;const G=(r,n)=>r.every((o,l)=>o===n[l]),st=W.variableWindow(function(r,n){return I.every(o=>r[o]===n[o])}),w=[];for(const r of st){const n=[],o=r.first();for(const l of I)n.push(o[l]);(w.length===0||w.every(l=>!G(l,n)))&&w.push(n)}const s=[],t={y:()=>null},a=new Set(Object.values(A).filter(r=>r!==void 0)),f=W.getColumnNames().slice(0,-1).filter(r=>!a.has(r)),e=W.variableWindow(function(r,n){for(const o of f)if(r[o]!==n[o])return!1;return!0}),i=function(r){const n=[];for(const o of I)n.push(r[o]);return n};for(const r of e){const n=i(r.first()),o=w.findIndex(g=>G(g,n)),l=w.slice(0,o),u=r.head(1);for(const g of l){for(const[b,m]of I.entries())t[m]=()=>g[b];const y=u.generateSeries(t);s.push(y)}s.push(r);const d=i(r.last()),c=w.findIndex(g=>G(g,d)),h=w.slice(c+1,w.length),p=r.tail(1);for(const g of h){for(const[b,m]of I.entries())t[m]=()=>g[b];const y=p.generateSeries(t);s.push(y)}}return Ir.concat(s)}function Vs(W,A){const I=W.first(),G=[];for(const st of W.getColumnNames().slice(0,-1))A.has(st)||G.push(I[st]);return G.join(" | ")}function Rd(W){let A=W.getColumnNames();const I=new Map;for(const G of W){const st=[];for(const w of A){if(w==="y")continue;const s=I.get(w);s===void 0?(I.set(w,G[w]),st.push(w)):G[w]===s&&st.push(w)}if(A=st,st.length===0)break}return A}function Ws(W,A){const I=W.getColumnNames().at(-2),G=A.x1!==null?A.x1:I,st=A.x2!==null&&A.x2!==G?A.x2:void 0,w=st!==void 0&&A.x3!==null&&A.x3!==G?A.x3:void 0;return{x1:G,x2:st,x3:w}}function Gs(W){return new Set([W.x1,W.x2,W.x3].filter(I=>I!==void 0))}function zd(W,A){const I=new Map;for(const G in A){if(!Hs(G))continue;const st=A[G];st.length>0&&I.set(G,new Set(st))}return I.size>0&&(W=W.where(function(G){for(const[st,w]of I.entries())if(!w.has(G[st]))return!1;return!0})),W}function Zs(W,A,I){const G=Rd(W);let st;if(G.length>0){const t=new Set(A);I!==void 0&&t.add(I);for(const f of t){const e=G.indexOf(f);e>=0&&G.splice(e,1)}const a=[];for(const f of G)a.push(W.first()[f]);W=W.dropSeries(G),st=a.join(" | ")}const w=W.getColumnNames().slice(0,-1).filter(t=>!A.has(t));return{lineWindows:W.variableWindow(function(t,a){for(const f of w)if(t[f]!==a[f])return!1;return!0}),plotTitle:st}}const Nd={props:{fingerprint:{type:[Number,String],required:!0},title:{type:String,required:!1}},emits:["close"],setup(W,A){return{emitClose(){A.emit("close",W.fingerprint)}}}};function jd(W,A,I,G,st,w){const s=bn("n-card");return In(),ar(s,{closable:"",title:I.title,onClose:G.emitClose,size:"small"},{default:hn(()=>[sc(W.$slots,"default")]),_:3},8,["title","onClose"])}const Ud=ya(Nd,[["render",jd]]);var $s={exports:{}};(function(W,A){/*! For license information please see plotly-cartesian.min.js.LICENSE.txt */(function(I,G){W.exports=G()})(self,function(){return function(){var I={98847:function(w,s,t){var a=t(71828),f={"X,X div":'direction:ltr;font-family:"Open Sans",verdana,arial,sans-serif;margin:0;padding:0;',"X input,X button":'font-family:"Open Sans",verdana,arial,sans-serif;',"X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .cursor-grab":"cursor:-webkit-grab;cursor:grab;","X .modebar":"position:absolute;top:2px;right:2px;","X .ease-bg":"-webkit-transition:background-color .3s ease 0s;-moz-transition:background-color .3s ease 0s;-ms-transition:background-color .3s ease 0s;-o-transition:background-color .3s ease 0s;transition:background-color .3s ease 0s;","X .modebar--hover>:not(.watermark)":"opacity:0;-webkit-transition:opacity .3s ease 0s;-moz-transition:opacity .3s ease 0s;-ms-transition:opacity .3s ease 0s;-o-transition:opacity .3s ease 0s;transition:opacity .3s ease 0s;","X:hover .modebar--hover .modebar-group":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar.vertical":"display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;","X .modebar.vertical svg":"top:-1px;","X .modebar.vertical .modebar-group":"display:block;float:none;padding-left:0px;padding-bottom:8px;","X .modebar.vertical .modebar-group .modebar-btn":"display:block;text-align:center;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":'content:"";position:absolute;background:rgba(0,0,0,0);border:6px solid rgba(0,0,0,0);z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;',"X [data-title]:after":"content:attr(data-title);background:#69738a;color:#fff;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .vertical [data-title]:before,X .vertical [data-title]:after":"top:0%;right:200%;","X .vertical [data-title]:before":"border:6px solid rgba(0,0,0,0);border-left-color:#69738a;margin-top:8px;margin-right:-30px;",Y:'font-family:"Open Sans",verdana,arial,sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;',"Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;","Y .notifier-close":"color:#fff;opacity:.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var e in f){var i=e.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");a.addStyleRule(i,f[e])}},98222:function(w,s,t){w.exports=t(82887)},27206:function(w,s,t){w.exports=t(60822)},5224:function(w,s,t){w.exports=t(83832)},59509:function(w,s,t){w.exports=t(72201)},49866:function(w,s,t){w.exports=t(99442)},19548:function(w,s,t){w.exports=t(8729)},61039:function(w,s,t){w.exports=t(14382)},24296:function(w,s,t){w.exports=t(43102)},58872:function(w,s,t){w.exports=t(92165)},65591:function(w,s,t){w.exports=t(36071)},69738:function(w,s,t){w.exports=t(43905)},92650:function(w,s,t){w.exports=t(35902)},73434:function(w,s,t){w.exports=t(94507)},760:function(w,s,t){var a=t(19548);a.register([t(27206),t(5224),t(58872),t(65591),t(69738),t(92650),t(49866),t(25743),t(6197),t(73434),t(54201),t(98222),t(61039),t(24296),t(66398),t(59509)]),w.exports=a},54201:function(w,s,t){w.exports=t(58810)},25743:function(w,s,t){w.exports=t(52979)},66398:function(w,s,t){w.exports=t(32275)},6197:function(w,s,t){w.exports=t(47462)},82884:function(w){w.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]},50215:function(w,s,t){var a=t(82884),f=t(41940),e=t(85555),i=t(44467).templatedArray;t(24695),w.exports=i("annotation",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},text:{valType:"string",editType:"calc+arraydraw"},textangle:{valType:"angle",dflt:0,editType:"calc+arraydraw"},font:f({editType:"calc+arraydraw",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},height:{valType:"number",min:1,dflt:null,editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calc+arraydraw"},showarrow:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:a.length,dflt:1,editType:"arraydraw"},startarrowhead:{valType:"integer",min:0,max:a.length,dflt:1,editType:"arraydraw"},arrowside:{valType:"flaglist",flags:["end","start"],extras:["none"],dflt:"end",editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},startarrowsize:{valType:"number",min:.3,dflt:1,editType:"calc+arraydraw"},arrowwidth:{valType:"number",min:.1,editType:"calc+arraydraw"},standoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},startstandoff:{valType:"number",min:0,dflt:0,editType:"calc+arraydraw"},ax:{valType:"any",editType:"calc+arraydraw"},ay:{valType:"any",editType:"calc+arraydraw"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",e.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",e.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",e.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},xshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},yref:{valType:"enumerated",values:["paper",e.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calc+arraydraw"},yshift:{valType:"number",dflt:0,editType:"calc+arraydraw"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:f({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc",_deprecated:{ref:{valType:"string",editType:"calc"}}})},3749:function(w,s,t){var a=t(71828),f=t(89298),e=t(92605).draw;function i(n){var o=n._fullLayout;a.filterVisible(o.annotations).forEach(function(l){var u=f.getFromId(n,l.xref),d=f.getFromId(n,l.yref),c=f.getRefType(l.xref),h=f.getRefType(l.yref);l._extremes={},c==="range"&&r(l,u),h==="range"&&r(l,d)})}function r(n,o){var l,u=o._id,d=u.charAt(0),c=n[d],h=n["a"+d],p=n[d+"ref"],g=n["a"+d+"ref"],y=n["_"+d+"padplus"],b=n["_"+d+"padminus"],m={x:1,y:-1}[d]*n[d+"shift"],v=3*n.arrowsize*n.arrowwidth||0,x=v+m,_=v-m,T=3*n.startarrowsize*n.arrowwidth||0,C=T+m,S=T-m;if(g===p){var F=f.findExtremes(o,[o.r2c(c)],{ppadplus:x,ppadminus:_}),N=f.findExtremes(o,[o.r2c(h)],{ppadplus:Math.max(y,C),ppadminus:Math.max(b,S)});l={min:[F.min[0],N.min[0]],max:[F.max[0],N.max[0]]}}else C=h?C+h:C,S=h?S-h:S,l=f.findExtremes(o,[o.r2c(c)],{ppadplus:Math.max(y,x,C),ppadminus:Math.max(b,_,S)});n._extremes[u]=l}w.exports=function(n){var o=n._fullLayout;if(a.filterVisible(o.annotations).length&&n._fullData.length)return a.syncOrAsync([e,i],n)}},44317:function(w,s,t){var a=t(71828),f=t(73972),e=t(44467).arrayEditor;function i(n,o){var l,u,d,c,h,p,g,y=n._fullLayout.annotations,b=[],m=[],v=[],x=(o||[]).length;for(l=0;l<y.length;l++)if(c=(d=y[l]).clicktoshow){for(u=0;u<x;u++)if(p=(h=o[u]).xaxis,g=h.yaxis,p._id===d.xref&&g._id===d.yref&&p.d2r(h.x)===r(d._xclick,p)&&g.d2r(h.y)===r(d._yclick,g)){(d.visible?c==="onout"?m:v:b).push(l);break}u===x&&d.visible&&c==="onout"&&m.push(l)}return{on:b,off:m,explicitOff:v}}function r(n,o){return o.type==="log"?o.l2r(n):o.d2r(n)}w.exports={hasClickToShow:function(n,o){var l=i(n,o);return l.on.length>0||l.explicitOff.length>0},onClick:function(n,o){var l,u,d=i(n,o),c=d.on,h=d.off.concat(d.explicitOff),p={},g=n._fullLayout.annotations;if(c.length||h.length){for(l=0;l<c.length;l++)(u=e(n.layout,"annotations",g[c[l]])).modifyItem("visible",!0),a.extendFlat(p,u.getUpdateObj());for(l=0;l<h.length;l++)(u=e(n.layout,"annotations",g[h[l]])).modifyItem("visible",!1),a.extendFlat(p,u.getUpdateObj());return f.call("update",n,{},p)}}}},25625:function(w,s,t){var a=t(71828),f=t(7901);w.exports=function(e,i,r,n){n("opacity");var o=n("bgcolor"),l=n("bordercolor"),u=f.opacity(l);n("borderpad");var d=n("borderwidth"),c=n("showarrow");if(n("text",c?" ":r._dfltTitle.annotation),n("textangle"),a.coerceFont(n,"font",r.font),n("width"),n("align"),n("height")&&n("valign"),c){var h,p,g=n("arrowside");g.indexOf("end")!==-1&&(h=n("arrowhead"),p=n("arrowsize")),g.indexOf("start")!==-1&&(n("startarrowhead",h),n("startarrowsize",p)),n("arrowcolor",u?i.bordercolor:f.defaultLine),n("arrowwidth",2*(u&&d||1)),n("standoff"),n("startstandoff")}var y=n("hovertext"),b=r.hoverlabel||{};if(y){var m=n("hoverlabel.bgcolor",b.bgcolor||(f.opacity(o)?f.rgb(o):f.defaultLine)),v=n("hoverlabel.bordercolor",b.bordercolor||f.contrast(m));a.coerceFont(n,"hoverlabel.font",{family:b.font.family,size:b.font.size,color:b.font.color||v})}n("captureevents",!!y)}},94128:function(w,s,t){var a=t(92770),f=t(58163);w.exports=function(e,i,r,n){i=i||{};var o=r==="log"&&i.type==="linear",l=r==="linear"&&i.type==="log";if(o||l)for(var u,d,c=e._fullLayout.annotations,h=i._id.charAt(0),p=0;p<c.length;p++)u=c[p],d="annotations["+p+"].",u[h+"ref"]===i._id&&g(h),u["a"+h+"ref"]===i._id&&g("a"+h);function g(y){var b=u[y],m=null;m=o?f(b,i.range):Math.pow(10,b),a(m)||(m=null),n(d+y,m)}}},84046:function(w,s,t){var a=t(71828),f=t(89298),e=t(85501),i=t(25625),r=t(50215);function n(o,l,u){function d(N,D){return a.coerce(o,l,r,N,D)}var c=d("visible"),h=d("clicktoshow");if(c||h){i(o,l,u,d);for(var p=l.showarrow,g=["x","y"],y=[-10,-30],b={_fullLayout:u},m=0;m<2;m++){var v=g[m],x=f.coerceRef(o,l,b,v,"","paper");if(x!=="paper"&&f.getFromId(b,x)._annIndices.push(l._index),f.coercePosition(l,b,d,x,v,.5),p){var _="a"+v,T=f.coerceRef(o,l,b,_,"pixel",["pixel","paper"]);T!=="pixel"&&T!==x&&(T=l[_]="pixel");var C=T==="pixel"?y[m]:.4;f.coercePosition(l,b,d,T,_,C)}d(v+"anchor"),d(v+"shift")}if(a.noneOrAll(o,l,["x","y"]),p&&a.noneOrAll(o,l,["ax","ay"]),h){var S=d("xclick"),F=d("yclick");l._xclick=S===void 0?l.x:f.cleanPosition(S,b,l.xref),l._yclick=F===void 0?l.y:f.cleanPosition(F,b,l.yref)}}}w.exports=function(o,l){e(o,l,{name:"annotations",handleItemDefaults:n})}},92605:function(w,s,t){var a=t(39898),f=t(73972),e=t(74875),i=t(71828),r=i.strTranslate,n=t(89298),o=t(7901),l=t(91424),u=t(30211),d=t(63893),c=t(6964),h=t(28569),p=t(44467).arrayEditor,g=t(13011);function y(v,x){var _=v._fullLayout.annotations[x]||{},T=n.getFromId(v,_.xref),C=n.getFromId(v,_.yref);T&&T.setScale(),C&&C.setScale(),m(v,_,x,!1,T,C)}function b(v,x,_,T,C){var S=C[_],F=C[_+"ref"],N=_.indexOf("y")!==-1,D=n.getRefType(F)==="domain",j=N?T.h:T.w;return v?D?S+(N?-x:x)/v._length:v.p2r(v.r2p(S)+x):S+(N?-x:x)/j}function m(v,x,_,T,C,S){var F,N,D=v._fullLayout,j=v._fullLayout._size,B=v._context.edits;T?(F="annotation-"+T,N=T+".annotations"):(F="annotation",N="annotations");var J=p(v.layout,N,x),P=J.modifyBase,M=J.modifyItem,O=J.getUpdateObj;D._infolayer.selectAll("."+F+'[data-index="'+_+'"]').remove();var q="clip"+D._uid+"_ann"+_;if(x._input&&x.visible!==!1){var tt={x:{},y:{}},E=+x.textangle||0,z=D._infolayer.append("g").classed(F,!0).attr("data-index",String(_)).style("opacity",x.opacity),Y=z.append("g").classed("annotation-text-g",!0),Q=B[x.showarrow?"annotationTail":"annotationPosition"],nt=x.captureevents||B.annotationText||Q,et=Y.append("g").style("pointer-events",nt?"all":null).call(c,"pointer").on("click",function(){v._dragging=!1,v.emit("plotly_clickannotation",ht(a.event))});x.hovertext&&et.on("mouseover",function(){var Ct=x.hoverlabel,It=Ct.font,pt=this.getBoundingClientRect(),bt=v.getBoundingClientRect();u.loneHover({x0:pt.left-bt.left,x1:pt.right-bt.left,y:(pt.top+pt.bottom)/2-bt.top,text:x.hovertext,color:Ct.bgcolor,borderColor:Ct.bordercolor,fontFamily:It.family,fontSize:It.size,fontColor:It.color},{container:D._hoverlayer.node(),outerContainer:D._paper.node(),gd:v})}).on("mouseout",function(){u.loneUnhover(D._hoverlayer.node())});var Z=x.borderwidth,H=x.borderpad,U=Z+H,V=et.append("rect").attr("class","bg").style("stroke-width",Z+"px").call(o.stroke,x.bordercolor).call(o.fill,x.bgcolor),$=x.width||x.height,at=D._topclips.selectAll("#"+q).data($?[0]:[]);at.enter().append("clipPath").classed("annclip",!0).attr("id",q).append("rect"),at.exit().remove();var rt=x.font,ot=D._meta?i.templateString(x.text,D._meta):x.text,ct=et.append("text").classed("annotation-text",!0).text(ot);B.annotationText?ct.call(d.makeEditable,{delegate:et,gd:v}).call(mt).on("edit",function(Ct){x.text=Ct,this.call(mt),M("text",Ct),C&&C.autorange&&P(C._name+".autorange",!0),S&&S.autorange&&P(S._name+".autorange",!0),f.call("_guiRelayout",v,O())}):ct.call(mt)}else a.selectAll("#"+q).remove();function ht(Ct){var It={index:_,annotation:x._input,fullAnnotation:x,event:Ct};return T&&(It.subplotId=T),It}function mt(Ct){return Ct.call(l.font,rt).attr({"text-anchor":{left:"start",right:"end"}[x.align]||"middle"}),d.convertToTspans(Ct,v,kt),Ct}function kt(){var Ct=ct.selectAll("a");Ct.size()===1&&Ct.text()===ct.text()&&et.insert("a",":first-child").attr({"xlink:xlink:href":Ct.attr("xlink:href"),"xlink:xlink:show":Ct.attr("xlink:show")}).style({cursor:"pointer"}).node().appendChild(V.node());var It=et.select(".annotation-text-math-group"),pt=!It.empty(),bt=l.bBox((pt?It:ct).node()),_t=bt.width,Dt=bt.height,L=x.width||_t,X=x.height||Dt,it=Math.round(L+2*U),ft=Math.round(X+2*U);function gt(ne,re){return re==="auto"&&(re=ne<.3333333333333333?"left":ne>.6666666666666666?"right":"center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[re]}for(var wt=!1,xt=["x","y"],Ft=0;Ft<xt.length;Ft++){var Bt,Mt,St,Lt,Pt,zt=xt[Ft],Xt=x[zt+"ref"]||zt,Gt=x["a"+zt+"ref"],Kt={x:C,y:S}[zt],ie=(E+(zt==="x"?0:-90))*Math.PI/180,de=it*Math.cos(ie),Jt=ft*Math.sin(ie),Nt=Math.abs(de)+Math.abs(Jt),Vt=x[zt+"anchor"],Zt=x[zt+"shift"]*(zt==="x"?1:-1),Wt=tt[zt],he=n.getRefType(Xt);if(Kt&&he!=="domain"){var $t=Kt.r2fraction(x[zt]);($t<0||$t>1)&&(Gt===Xt?(($t=Kt.r2fraction(x["a"+zt]))<0||$t>1)&&(wt=!0):wt=!0),Bt=Kt._offset+Kt.r2p(x[zt]),Lt=.5}else{var ye=he==="domain";zt==="x"?(St=x[zt],Bt=ye?Kt._offset+Kt._length*St:Bt=j.l+j.w*St):(St=1-x[zt],Bt=ye?Kt._offset+Kt._length*St:Bt=j.t+j.h*St),Lt=x.showarrow?.5:St}if(x.showarrow){Wt.head=Bt;var se=x["a"+zt];if(Pt=de*gt(.5,x.xanchor)-Jt*gt(.5,x.yanchor),Gt===Xt){var Pe=n.getRefType(Gt);Pe==="domain"?(zt==="y"&&(se=1-se),Wt.tail=Kt._offset+Kt._length*se):Pe==="paper"?zt==="y"?(se=1-se,Wt.tail=j.t+j.h*se):Wt.tail=j.l+j.w*se:Wt.tail=Kt._offset+Kt.r2p(se),Mt=Pt}else Wt.tail=Bt+se,Mt=Pt+se;Wt.text=Wt.tail+Pt;var Ce=D[zt==="x"?"width":"height"];if(Xt==="paper"&&(Wt.head=i.constrain(Wt.head,1,Ce-1)),Gt==="pixel"){var Ne=-Math.max(Wt.tail-3,Wt.text),yt=Math.min(Wt.tail+3,Wt.text)-Ce;Ne>0?(Wt.tail+=Ne,Wt.text+=Ne):yt>0&&(Wt.tail-=yt,Wt.text-=yt)}Wt.tail+=Zt,Wt.head+=Zt}else Mt=Pt=Nt*gt(Lt,Vt),Wt.text=Bt+Pt;Wt.text+=Zt,Pt+=Zt,Mt+=Zt,x["_"+zt+"padplus"]=Nt/2+Mt,x["_"+zt+"padminus"]=Nt/2-Mt,x["_"+zt+"size"]=Nt,x["_"+zt+"shift"]=Pt}if(wt)et.remove();else{var vt=0,Rt=0;if(x.align!=="left"&&(vt=(L-_t)*(x.align==="center"?.5:1)),x.valign!=="top"&&(Rt=(X-Dt)*(x.valign==="middle"?.5:1)),pt)It.select("svg").attr({x:U+vt-1,y:U+Rt}).call(l.setClipUrl,$?q:null,v);else{var Ut=U+Rt-bt.top,Ht=U+vt-bt.left;ct.call(d.positionText,Ht,Ut).call(l.setClipUrl,$?q:null,v)}at.select("rect").call(l.setRect,U,U,L,X),V.call(l.setRect,Z/2,Z/2,it-Z,ft-Z),et.call(l.setTranslate,Math.round(tt.x.text-it/2),Math.round(tt.y.text-ft/2)),Y.attr({transform:"rotate("+E+","+tt.x.text+","+tt.y.text+")"});var Yt,ee=function(ne,re){z.selectAll(".annotation-arrow-g").remove();var ve=tt.x.head,fe=tt.y.head,pe=tt.x.tail+ne,ze=tt.y.tail+re,Be=tt.x.text+ne,Me=tt.y.text+re,_e=i.rotationXYMatrix(E,Be,Me),xe=i.apply2DTransform(_e),me=i.apply2DTransform2(_e),Te=+V.attr("width"),we=+V.attr("height"),Ae=Be-.5*Te,Ye=Ae+Te,Re=Me-.5*we,ge=Re+we,ke=[[Ae,Re,Ae,ge],[Ae,ge,Ye,ge],[Ye,ge,Ye,Re],[Ye,Re,Ae,Re]].map(me);if(!ke.reduce(function(We,nn){return We^!!i.segmentsIntersect(ve,fe,ve+1e6,fe+1e6,nn[0],nn[1],nn[2],nn[3])},!1)){ke.forEach(function(We){var nn=i.segmentsIntersect(pe,ze,ve,fe,We[0],We[1],We[2],We[3]);nn&&(pe=nn.x,ze=nn.y)});var Ee=x.arrowwidth,Oe=x.arrowcolor,Se=x.arrowside,Fe=z.append("g").style({opacity:o.opacity(Oe)}).classed("annotation-arrow-g",!0),je=Fe.append("path").attr("d","M"+pe+","+ze+"L"+ve+","+fe).style("stroke-width",Ee+"px").call(o.stroke,o.rgb(Oe));if(g(je,Se,x),B.annotationPosition&&je.node().parentNode&&!T){var Ue=ve,He=fe;if(x.standoff){var Je=Math.sqrt(Math.pow(ve-pe,2)+Math.pow(fe-ze,2));Ue+=x.standoff*(pe-ve)/Je,He+=x.standoff*(ze-fe)/Je}var Qe,ln,rn=Fe.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).classed("cursor-move",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(pe-Ue)+","+(ze-He),transform:r(Ue,He)}).style("stroke-width",Ee+6+"px").call(o.stroke,"rgba(0,0,0,0)").call(o.fill,"rgba(0,0,0,0)");h.init({element:rn.node(),gd:v,prepFn:function(){var We=l.getTranslate(et);Qe=We.x,ln=We.y,C&&C.autorange&&P(C._name+".autorange",!0),S&&S.autorange&&P(S._name+".autorange",!0)},moveFn:function(We,nn){var sn=xe(Qe,ln),Xe=sn[0]+We,un=sn[1]+nn;et.call(l.setTranslate,Xe,un),M("x",b(C,We,"x",j,x)),M("y",b(S,nn,"y",j,x)),x.axref===x.xref&&M("ax",b(C,We,"ax",j,x)),x.ayref===x.yref&&M("ay",b(S,nn,"ay",j,x)),Fe.attr("transform",r(We,nn)),Y.attr({transform:"rotate("+E+","+Xe+","+un+")"})},doneFn:function(){f.call("_guiRelayout",v,O());var We=document.querySelector(".js-notes-box-panel");We&&We.redraw(We.selectedObj)}})}}};x.showarrow&&ee(0,0),Q&&h.init({element:et.node(),gd:v,prepFn:function(){Yt=Y.attr("transform")},moveFn:function(ne,re){var ve="pointer";if(x.showarrow)x.axref===x.xref?M("ax",b(C,ne,"ax",j,x)):M("ax",x.ax+ne),x.ayref===x.yref?M("ay",b(S,re,"ay",j.w,x)):M("ay",x.ay+re),ee(ne,re);else{if(T)return;var fe,pe;if(C)fe=b(C,ne,"x",j,x);else{var ze=x._xsize/j.w,Be=x.x+(x._xshift-x.xshift)/j.w-ze/2;fe=h.align(Be+ne/j.w,ze,0,1,x.xanchor)}if(S)pe=b(S,re,"y",j,x);else{var Me=x._ysize/j.h,_e=x.y-(x._yshift+x.yshift)/j.h-Me/2;pe=h.align(_e-re/j.h,Me,0,1,x.yanchor)}M("x",fe),M("y",pe),C&&S||(ve=h.getCursor(C?.5:fe,S?.5:pe,x.xanchor,x.yanchor))}Y.attr({transform:r(ne,re)+Yt}),c(et,ve)},clickFn:function(ne,re){x.captureevents&&v.emit("plotly_clickannotation",ht(re))},doneFn:function(){c(et),f.call("_guiRelayout",v,O());var ne=document.querySelector(".js-notes-box-panel");ne&&ne.redraw(ne.selectedObj)}})}}}w.exports={draw:function(v){var x=v._fullLayout;x._infolayer.selectAll(".annotation").remove();for(var _=0;_<x.annotations.length;_++)x.annotations[_].visible&&y(v,_);return e.previousPromises(v)},drawOne:y,drawRaw:m}},13011:function(w,s,t){var a=t(39898),f=t(7901),e=t(82884),i=t(71828),r=i.strScale,n=i.strRotate,o=i.strTranslate;w.exports=function(l,u,d){var c,h,p,g,y=l.node(),b=e[d.arrowhead||0],m=e[d.startarrowhead||0],v=(d.arrowwidth||1)*(d.arrowsize||1),x=(d.arrowwidth||1)*(d.startarrowsize||1),_=u.indexOf("start")>=0,T=u.indexOf("end")>=0,C=b.backoff*v+d.standoff,S=m.backoff*x+d.startstandoff;if(y.nodeName==="line"){c={x:+l.attr("x1"),y:+l.attr("y1")},h={x:+l.attr("x2"),y:+l.attr("y2")};var F=c.x-h.x,N=c.y-h.y;if(g=(p=Math.atan2(N,F))+Math.PI,C&&S&&C+S>Math.sqrt(F*F+N*N))return void z();if(C){if(C*C>F*F+N*N)return void z();var D=C*Math.cos(p),j=C*Math.sin(p);h.x+=D,h.y+=j,l.attr({x2:h.x,y2:h.y})}if(S){if(S*S>F*F+N*N)return void z();var B=S*Math.cos(p),J=S*Math.sin(p);c.x-=B,c.y-=J,l.attr({x1:c.x,y1:c.y})}}else if(y.nodeName==="path"){var P=y.getTotalLength(),M="";if(P<C+S)return void z();var O=y.getPointAtLength(0),q=y.getPointAtLength(.1);p=Math.atan2(O.y-q.y,O.x-q.x),c=y.getPointAtLength(Math.min(S,P)),M="0px,"+S+"px,";var tt=y.getPointAtLength(P),E=y.getPointAtLength(P-.1);g=Math.atan2(tt.y-E.y,tt.x-E.x),h=y.getPointAtLength(Math.max(0,P-C)),M+=P-(M?S+C:C)+"px,"+P+"px",l.style("stroke-dasharray",M)}function z(){l.style("stroke-dasharray","0px,100px")}function Y(Q,nt,et,Z){Q.path&&(Q.noRotate&&(et=0),a.select(y.parentNode).append("path").attr({class:l.attr("class"),d:Q.path,transform:o(nt.x,nt.y)+n(180*et/Math.PI)+r(Z)}).style({fill:f.rgb(d.arrowcolor),"stroke-width":0}))}_&&Y(m,c,p,x),T&&Y(b,h,g,v)}},32745:function(w,s,t){var a=t(92605),f=t(44317);w.exports={moduleType:"component",name:"annotations",layoutAttributes:t(50215),supplyLayoutDefaults:t(84046),includeBasePlot:t(76325)("annotations"),calcAutorange:t(3749),draw:a.draw,drawOne:a.drawOne,drawRaw:a.drawRaw,hasClickToShow:f.hasClickToShow,onClick:f.onClick,convertCoords:t(94128)}},26997:function(w,s,t){var a=t(50215),f=t(30962).overrideAll,e=t(44467).templatedArray;w.exports=f(e("annotation",{visible:a.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:a.xanchor,xshift:a.xshift,yanchor:a.yanchor,yshift:a.yshift,text:a.text,textangle:a.textangle,font:a.font,width:a.width,height:a.height,opacity:a.opacity,align:a.align,valign:a.valign,bgcolor:a.bgcolor,bordercolor:a.bordercolor,borderpad:a.borderpad,borderwidth:a.borderwidth,showarrow:a.showarrow,arrowcolor:a.arrowcolor,arrowhead:a.arrowhead,startarrowhead:a.startarrowhead,arrowside:a.arrowside,arrowsize:a.arrowsize,startarrowsize:a.startarrowsize,arrowwidth:a.arrowwidth,standoff:a.standoff,startstandoff:a.startstandoff,hovertext:a.hovertext,hoverlabel:a.hoverlabel,captureevents:a.captureevents}),"calc","from-root")},5485:function(w,s,t){var a=t(71828),f=t(89298);function e(i,r){var n=r.fullSceneLayout.domain,o=r.fullLayout._size,l={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};i._xa={},a.extendFlat(i._xa,l),f.setConvert(i._xa),i._xa._offset=o.l+n.x[0]*o.w,i._xa.l2p=function(){return .5*(1+i._pdata[0]/i._pdata[3])*o.w*(n.x[1]-n.x[0])},i._ya={},a.extendFlat(i._ya,l),f.setConvert(i._ya),i._ya._offset=o.t+(1-n.y[1])*o.h,i._ya.l2p=function(){return .5*(1-i._pdata[1]/i._pdata[3])*o.h*(n.y[1]-n.y[0])}}w.exports=function(i){for(var r=i.fullSceneLayout.annotations,n=0;n<r.length;n++)e(r[n],i);i.fullLayout._infolayer.selectAll(".annotation-"+i.id).remove()}},20226:function(w,s,t){var a=t(71828),f=t(89298),e=t(85501),i=t(25625),r=t(26997);function n(o,l,u,d){function c(p,g){return a.coerce(o,l,r,p,g)}function h(p){var g=p+"axis",y={_fullLayout:{}};return y._fullLayout[g]=u[g],f.coercePosition(l,y,c,p,p,.5)}c("visible")&&(i(o,l,d.fullLayout,c),h("x"),h("y"),h("z"),a.noneOrAll(o,l,["x","y","z"]),l.xref="x",l.yref="y",l.zref="z",c("xanchor"),c("yanchor"),c("xshift"),c("yshift"),l.showarrow&&(l.axref="pixel",l.ayref="pixel",c("ax",-10),c("ay",-30),a.noneOrAll(o,l,["ax","ay"])))}w.exports=function(o,l,u){e(o,l,{name:"annotations",handleItemDefaults:n,fullLayout:u.fullLayout})}},82188:function(w,s,t){var a=t(92605).drawRaw,f=t(63538),e=["x","y","z"];w.exports=function(i){for(var r=i.fullSceneLayout,n=i.dataScale,o=r.annotations,l=0;l<o.length;l++){for(var u=o[l],d=!1,c=0;c<3;c++){var h=e[c],p=u[h],g=r[h+"axis"].r2fraction(p);if(g<0||g>1){d=!0;break}}d?i.fullLayout._infolayer.select(".annotation-"+i.id+'[data-index="'+l+'"]').remove():(u._pdata=f(i.glplot.cameraParams,[r.xaxis.r2l(u.x)*n[0],r.yaxis.r2l(u.y)*n[1],r.zaxis.r2l(u.z)*n[2]]),a(i.graphDiv,u,l,i.id,u._xa,u._ya))}}},2468:function(w,s,t){var a=t(73972),f=t(71828);w.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:t(26997)}}},layoutAttributes:t(26997),handleDefaults:t(20226),includeBasePlot:function(e,i){var r=a.subplotsRegistry.gl3d;if(r)for(var n=r.attrRegex,o=Object.keys(e),l=0;l<o.length;l++){var u=o[l];n.test(u)&&(e[u].annotations||[]).length&&(f.pushUnique(i._basePlotModules,r),f.pushUnique(i._subplots.gl3d,u))}},convert:t(5485),draw:t(82188)}},7561:function(w,s,t){w.exports=t(63489),t(94338),t(3961),t(38751),t(86825),t(37715),t(99384),t(43805),t(88874),t(83290),t(29108),t(55422),t(94320),t(31320),t(51367),t(21457)},72201:function(w,s,t){var a=t(7561),f=t(71828),e=t(50606),i=e.EPOCHJD,r=e.ONEDAY,n={valType:"enumerated",values:f.sortObjectKeys(a.calendars),editType:"calc",dflt:"gregorian"},o=function(v,x,_,T){var C={};return C[_]=n,f.coerce(v,x,C,_,T)},l="##",u={d:{0:"dd","-":"d"},e:{0:"d","-":"d"},a:{0:"D","-":"D"},A:{0:"DD","-":"DD"},j:{0:"oo","-":"o"},W:{0:"ww","-":"w"},m:{0:"mm","-":"m"},b:{0:"M","-":"M"},B:{0:"MM","-":"MM"},y:{0:"yy","-":"yy"},Y:{0:"yyyy","-":"yyyy"},U:l,w:l,c:{0:"D M d %X yyyy","-":"D M d %X yyyy"},x:{0:"mm/dd/yyyy","-":"mm/dd/yyyy"}},d={};function c(v){var x=d[v];return x||(d[v]=a.instance(v))}function h(v){return f.extendFlat({},n,{description:v})}function p(v){return"Sets the calendar system to use with `"+v+"` date data."}var g={xcalendar:h(p("x"))},y=f.extendFlat({},g,{ycalendar:h(p("y"))}),b=f.extendFlat({},y,{zcalendar:h(p("z"))}),m=h(["Sets the calendar system to use for `range` and `tick0`","if this is a date axis. This does not set the calendar for","interpreting data on this axis, that's specified in the trace","or via the global `layout.calendar`"].join(" "));w.exports={moduleType:"component",name:"calendars",schema:{traces:{scatter:y,bar:y,box:y,heatmap:y,contour:y,histogram:y,histogram2d:y,histogram2dcontour:y,scatter3d:b,surface:b,mesh3d:b,scattergl:y,ohlc:g,candlestick:g},layout:{calendar:h(["Sets the default calendar system to use for interpreting and","displaying dates throughout the plot."].join(" "))},subplots:{xaxis:{calendar:m},yaxis:{calendar:m},scene:{xaxis:{calendar:m},yaxis:{calendar:m},zaxis:{calendar:m}},polar:{radialaxis:{calendar:m}}},transforms:{filter:{valuecalendar:h(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `value`, if it is a date."].join(" ")),targetcalendar:h(["WARNING: All transforms are deprecated and may be removed from the API in next major version.","Sets the calendar system to use for `target`, if it is an","array of dates. If `target` is a string (eg *x*) we use the","corresponding trace attribute (eg `xcalendar`) if it exists,","even if `targetcalendar` is provided."].join(" "))}}},layoutAttributes:n,handleDefaults:o,handleTraceDefaults:function(v,x,_,T){for(var C=0;C<_.length;C++)o(v,x,_[C]+"calendar",T.calendar)},CANONICAL_SUNDAY:{chinese:"2000-01-02",coptic:"2000-01-03",discworld:"2000-01-03",ethiopian:"2000-01-05",hebrew:"5000-01-01",islamic:"1000-01-02",julian:"2000-01-03",mayan:"5000-01-01",nanakshahi:"1000-01-05",nepali:"2000-01-05",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-04",thai:"2000-01-04",ummalqura:"1400-01-06"},CANONICAL_TICK:{chinese:"2000-01-01",coptic:"2000-01-01",discworld:"2000-01-01",ethiopian:"2000-01-01",hebrew:"5000-01-01",islamic:"1000-01-01",julian:"2000-01-01",mayan:"5000-01-01",nanakshahi:"1000-01-01",nepali:"2000-01-01",persian:"1000-01-01",jalali:"1000-01-01",taiwan:"1000-01-01",thai:"2000-01-01",ummalqura:"1400-01-01"},DFLTRANGE:{chinese:["2000-01-01","2001-01-01"],coptic:["1700-01-01","1701-01-01"],discworld:["1800-01-01","1801-01-01"],ethiopian:["2000-01-01","2001-01-01"],hebrew:["5700-01-01","5701-01-01"],islamic:["1400-01-01","1401-01-01"],julian:["2000-01-01","2001-01-01"],mayan:["5200-01-01","5201-01-01"],nanakshahi:["0500-01-01","0501-01-01"],nepali:["2000-01-01","2001-01-01"],persian:["1400-01-01","1401-01-01"],jalali:["1400-01-01","1401-01-01"],taiwan:["0100-01-01","0101-01-01"],thai:["2500-01-01","2501-01-01"],ummalqura:["1400-01-01","1401-01-01"]},getCal:c,worldCalFmt:function(v,x,_){for(var T,C,S,F,N,D=Math.floor((x+.05)/r)+i,j=c(_).fromJD(D),B=0;(B=v.indexOf("%",B))!==-1;)(T=v.charAt(B+1))==="0"||T==="-"||T==="_"?(S=3,C=v.charAt(B+2),T==="_"&&(T="-")):(C=T,T="0",S=2),(F=u[C])?(N=F===l?l:j.formatDate(F[T]),v=v.substr(0,B)+N+v.substr(B+S),B+=N.length):B+=S;return v}}},22399:function(w,s){s.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],s.defaultLine="#444",s.lightLine="#eee",s.background="#fff",s.borderLine="#BEC8D9",s.lightFraction=90.9090909090909},7901:function(w,s,t){var a=t(84267),f=t(92770),e=t(73627).isTypedArray,i=w.exports={},r=t(22399);i.defaults=r.defaults;var n=i.defaultLine=r.defaultLine;i.lightLine=r.lightLine;var o=i.background=r.background;function l(u){if(f(u)||typeof u!="string")return u;var d=u.trim();if(d.substr(0,3)!=="rgb")return u;var c=d.match(/^rgba?\s*\(([^()]*)\)$/);if(!c)return u;var h=c[1].trim().split(/\s*[\s,]\s*/),p=d.charAt(3)==="a"&&h.length===4;if(!p&&h.length!==3)return u;for(var g=0;g<h.length;g++){if(!h[g].length||(h[g]=Number(h[g]),!(h[g]>=0)))return u;if(g===3)h[g]>1&&(h[g]=1);else if(h[g]>=1)return u}var y=Math.round(255*h[0])+", "+Math.round(255*h[1])+", "+Math.round(255*h[2]);return p?"rgba("+y+", "+h[3]+")":"rgb("+y+")"}i.tinyRGB=function(u){var d=u.toRgb();return"rgb("+Math.round(d.r)+", "+Math.round(d.g)+", "+Math.round(d.b)+")"},i.rgb=function(u){return i.tinyRGB(a(u))},i.opacity=function(u){return u?a(u).getAlpha():0},i.addOpacity=function(u,d){var c=a(u).toRgb();return"rgba("+Math.round(c.r)+", "+Math.round(c.g)+", "+Math.round(c.b)+", "+d+")"},i.combine=function(u,d){var c=a(u).toRgb();if(c.a===1)return a(u).toRgbString();var h=a(d||o).toRgb(),p=h.a===1?h:{r:255*(1-h.a)+h.r*h.a,g:255*(1-h.a)+h.g*h.a,b:255*(1-h.a)+h.b*h.a},g={r:p.r*(1-c.a)+c.r*c.a,g:p.g*(1-c.a)+c.g*c.a,b:p.b*(1-c.a)+c.b*c.a};return a(g).toRgbString()},i.contrast=function(u,d,c){var h=a(u);return h.getAlpha()!==1&&(h=a(i.combine(u,o))),(h.isDark()?d?h.lighten(d):o:c?h.darken(c):n).toString()},i.stroke=function(u,d){var c=a(d);u.style({stroke:i.tinyRGB(c),"stroke-opacity":c.getAlpha()})},i.fill=function(u,d){var c=a(d);u.style({fill:i.tinyRGB(c),"fill-opacity":c.getAlpha()})},i.clean=function(u){if(u&&typeof u=="object"){var d,c,h,p,g=Object.keys(u);for(d=0;d<g.length;d++)if(p=u[h=g[d]],h.substr(h.length-5)==="color")if(Array.isArray(p))for(c=0;c<p.length;c++)p[c]=l(p[c]);else u[h]=l(p);else if(h.substr(h.length-10)==="colorscale"&&Array.isArray(p))for(c=0;c<p.length;c++)Array.isArray(p[c])&&(p[c][1]=l(p[c][1]));else if(Array.isArray(p)){var y=p[0];if(!Array.isArray(y)&&y&&typeof y=="object")for(c=0;c<p.length;c++)i.clean(p[c])}else p&&typeof p=="object"&&!e(p)&&i.clean(p)}}},63583:function(w,s,t){var a=t(13838),f=t(41940),e=t(1426).extendFlat,i=t(30962).overrideAll;w.exports=i({orientation:{valType:"enumerated",values:["h","v"],dflt:"v"},thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3},xanchor:{valType:"enumerated",values:["left","center","right"]},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number",min:-2,max:3},yanchor:{valType:"enumerated",values:["top","middle","bottom"]},ypad:{valType:"number",min:0,dflt:10},outlinecolor:a.linecolor,outlinewidth:a.linewidth,bordercolor:a.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:a.minor.tickmode,nticks:a.nticks,tick0:a.tick0,dtick:a.dtick,tickvals:a.tickvals,ticktext:a.ticktext,ticks:e({},a.ticks,{dflt:""}),ticklabeloverflow:e({},a.ticklabeloverflow,{}),ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside"},ticklen:a.ticklen,tickwidth:a.tickwidth,tickcolor:a.tickcolor,ticklabelstep:a.ticklabelstep,showticklabels:a.showticklabels,labelalias:a.labelalias,tickfont:f({}),tickangle:a.tickangle,tickformat:a.tickformat,tickformatstops:a.tickformatstops,tickprefix:a.tickprefix,showtickprefix:a.showtickprefix,ticksuffix:a.ticksuffix,showticksuffix:a.showticksuffix,separatethousands:a.separatethousands,exponentformat:a.exponentformat,minexponent:a.minexponent,showexponent:a.showexponent,title:{text:{valType:"string"},font:f({}),side:{valType:"enumerated",values:["right","top","bottom"]}},_deprecated:{title:{valType:"string"},titlefont:f({}),titleside:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}}},"colorbars","from-root")},30939:function(w){w.exports={cn:{colorbar:"colorbar",cbbg:"cbbg",cbfill:"cbfill",cbfills:"cbfills",cbline:"cbline",cblines:"cblines",cbaxis:"cbaxis",cbtitleunshift:"cbtitleunshift",cbtitle:"cbtitle",cboutline:"cboutline",crisp:"crisp",jsPlaceholder:"js-placeholder"}}},62499:function(w,s,t){var a=t(71828),f=t(44467),e=t(26218),i=t(38701),r=t(96115),n=t(89426),o=t(63583);w.exports=function(l,u,d){var c=f.newContainer(u,"colorbar"),h=l.colorbar||{};function p(N,D){return a.coerce(h,c,o,N,D)}var g=d.margin||{t:0,b:0,l:0,r:0},y=d.width-g.l-g.r,b=d.height-g.t-g.b,m=p("orientation")==="v",v=p("thicknessmode");p("thickness",v==="fraction"?30/(m?y:b):30);var x=p("lenmode");p("len",x==="fraction"?1:m?b:y),p("x",m?1.02:.5),p("xanchor",m?"left":"center"),p("xpad"),p("y",m?.5:1.02),p("yanchor",m?"middle":"bottom"),p("ypad"),a.noneOrAll(h,c,["x","y"]),p("outlinecolor"),p("outlinewidth"),p("bordercolor"),p("borderwidth"),p("bgcolor");var _=a.coerce(h,c,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:m?["outside","inside","outside top","inside top","outside bottom","inside bottom"]:["outside","inside","outside left","inside left","outside right","inside right"]}},"ticklabelposition");p("ticklabeloverflow",_.indexOf("inside")!==-1?"hide past domain":"hide past div"),e(h,c,p,"linear");var T=d.font,C={outerTicks:!1,font:T};_.indexOf("inside")!==-1&&(C.bgColor="black"),n(h,c,p,"linear",C),r(h,c,p,"linear",C),i(h,c,p,"linear",C),p("title.text",d._dfltTitle.colorbar);var S=c.showticklabels?c.tickfont:T,F=a.extendFlat({},S,{color:T.color,size:a.bigFont(S.size)});a.coerceFont(p,"title.font",F),p("title.side",m?"top":"right")}},98981:function(w,s,t){var a=t(39898),f=t(84267),e=t(74875),i=t(73972),r=t(89298),n=t(28569),o=t(71828),l=o.strTranslate,u=t(1426).extendFlat,d=t(6964),c=t(91424),h=t(7901),p=t(92998),g=t(63893),y=t(52075).flipScale,b=t(71453),m=t(52830),v=t(13838),x=t(18783),_=x.LINE_SPACING,T=x.FROM_TL,C=x.FROM_BR,S=t(30939).cn;w.exports={draw:function(F){var N=F._fullLayout._infolayer.selectAll("g."+S.colorbar).data(function(D){var j,B,J,P,M=D._fullLayout,O=D.calcdata,q=[];function tt($){return u($,{_fillcolor:null,_line:{color:null,width:null,dash:null},_levels:{start:null,end:null,size:null},_filllevels:null,_fillgradient:null,_zrange:null})}function E(){typeof P.calc=="function"?P.calc(D,J,j):(j._fillgradient=B.reversescale?y(B.colorscale):B.colorscale,j._zrange=[B[P.min],B[P.max]])}for(var z=0;z<O.length;z++){var Y=O[z],Q=(J=Y[0].trace)._module.colorbar;if(J.visible===!0&&Q)for(var nt=Array.isArray(Q),et=nt?Q:[Q],Z=0;Z<et.length;Z++){var H=(P=et[Z]).container;(B=H?J[H]:J)&&B.showscale&&((j=tt(B.colorbar))._id="cb"+J.uid+(nt&&H?"-"+H:""),j._traceIndex=J.index,j._propPrefix=(H?H+".":"")+"colorbar.",j._meta=J._meta,E(),q.push(j))}}for(var U in M._colorAxes)if((B=M[U]).showscale){var V=M._colorAxes[U];(j=tt(B.colorbar))._id="cb"+U,j._propPrefix=U+".colorbar.",j._meta=M._meta,P={min:"cmin",max:"cmax"},V[0]!=="heatmap"&&(J=V[1],P.calc=J._module.colorbar.calc),E(),q.push(j)}return q}(F),function(D){return D._id});N.enter().append("g").attr("class",function(D){return D._id}).classed(S.colorbar,!0),N.each(function(D){var j=a.select(this);o.ensureSingle(j,"rect",S.cbbg),o.ensureSingle(j,"g",S.cbfills),o.ensureSingle(j,"g",S.cblines),o.ensureSingle(j,"g",S.cbaxis,function(J){J.classed(S.crisp,!0)}),o.ensureSingle(j,"g",S.cbtitleunshift,function(J){J.append("g").classed(S.cbtitle,!0)}),o.ensureSingle(j,"rect",S.cboutline);var B=function(J,P,M){var O=P.orientation==="v",q=P.len,tt=P.lenmode,E=P.thickness,z=P.thicknessmode,Y=P.outlinewidth,Q=P.borderwidth,nt=P.bgcolor,et=P.xanchor,Z=P.yanchor,H=P.xpad,U=P.ypad,V=P.x,$=O?P.y:1-P.y,at=M._fullLayout,rt=at._size,ot=P._fillcolor,ct=P._line,ht=P.title,mt=ht.side,kt=P._zrange||a.extent((typeof ot=="function"?ot:ct.color).domain()),Ct=typeof ct.color=="function"?ct.color:function(){return ct.color},It=typeof ot=="function"?ot:function(){return ot},pt=P._levels,bt=function(he,$t,ye){var se,Pe,Ce=$t._levels,Ne=[],yt=[],vt=Ce.end+Ce.size/100,Rt=Ce.size,Ut=1.001*ye[0]-.001*ye[1],Ht=1.001*ye[1]-.001*ye[0];for(Pe=0;Pe<1e5&&(se=Ce.start+Pe*Rt,!(Rt>0?se>=vt:se<=vt));Pe++)se>Ut&&se<Ht&&Ne.push(se);if($t._fillgradient)yt=[0];else if(typeof $t._fillcolor=="function"){var Yt=$t._filllevels;if(Yt)for(vt=Yt.end+Yt.size/100,Rt=Yt.size,Pe=0;Pe<1e5&&(se=Yt.start+Pe*Rt,!(Rt>0?se>=vt:se<=vt));Pe++)se>ye[0]&&se<ye[1]&&yt.push(se);else(yt=Ne.map(function(ee){return ee-Ce.size/2})).push(yt[yt.length-1]+Ce.size)}else $t._fillcolor&&typeof $t._fillcolor=="string"&&(yt=[0]);return Ce.size<0&&(Ne.reverse(),yt.reverse()),{line:Ne,fill:yt}}(0,P,kt),_t=bt.fill,Dt=bt.line,L=Math.round(E*(z==="fraction"?O?rt.w:rt.h:1)),X=L/(O?rt.w:rt.h),it=Math.round(q*(tt==="fraction"?O?rt.h:rt.w:1)),ft=it/(O?rt.h:rt.w),gt=Math.round(O?V*rt.w+H:$*rt.h+U),wt={center:.5,right:1}[et]||0,xt={top:1,middle:.5}[Z]||0,Ft=O?V-wt*X:$-xt*X,Bt=O?$-xt*ft:V-wt*ft,Mt=Math.round(O?rt.h*(1-Bt):rt.w*Bt);P._lenFrac=ft,P._thickFrac=X,P._uFrac=Ft,P._vFrac=Bt;var St=P._axis=function(he,$t,ye){var se=he._fullLayout,Pe=$t.orientation==="v",Ce={type:"linear",range:ye,tickmode:$t.tickmode,nticks:$t.nticks,tick0:$t.tick0,dtick:$t.dtick,tickvals:$t.tickvals,ticktext:$t.ticktext,ticks:$t.ticks,ticklen:$t.ticklen,tickwidth:$t.tickwidth,tickcolor:$t.tickcolor,showticklabels:$t.showticklabels,labelalias:$t.labelalias,ticklabelposition:$t.ticklabelposition,ticklabeloverflow:$t.ticklabeloverflow,ticklabelstep:$t.ticklabelstep,tickfont:$t.tickfont,tickangle:$t.tickangle,tickformat:$t.tickformat,exponentformat:$t.exponentformat,minexponent:$t.minexponent,separatethousands:$t.separatethousands,showexponent:$t.showexponent,showtickprefix:$t.showtickprefix,tickprefix:$t.tickprefix,showticksuffix:$t.showticksuffix,ticksuffix:$t.ticksuffix,title:$t.title,showline:!0,anchor:"free",side:Pe?"right":"bottom",position:1},Ne=Pe?"y":"x",yt={type:"linear",_id:Ne+$t._id},vt={letter:Ne,font:se.font,noHover:!0,noTickson:!0,noTicklabelmode:!0,calendar:se.calendar};function Rt(Ut,Ht){return o.coerce(Ce,yt,v,Ut,Ht)}return b(Ce,yt,Rt,vt,se),m(Ce,yt,Rt,vt),yt}(M,P,kt);St.position=X+(O?V+H/rt.w:$+U/rt.h);var Lt=["top","bottom"].indexOf(mt)!==-1;if(O&&Lt&&(St.title.side=mt,St.titlex=V+H/rt.w,St.titley=Bt+(ht.side==="top"?ft-U/rt.h:U/rt.h)),O||Lt||(St.title.side=mt,St.titley=$+U/rt.h,St.titlex=Bt+H/rt.w),ct.color&&P.tickmode==="auto"){St.tickmode="linear",St.tick0=pt.start;var Pt=pt.size,zt=o.constrain(it/50,4,15)+1,Xt=(kt[1]-kt[0])/((P.nticks||zt)*Pt);if(Xt>1){var Gt=Math.pow(10,Math.floor(Math.log(Xt)/Math.LN10));Pt*=Gt*o.roundUp(Xt/Gt,[2,5,10]),(Math.abs(pt.start)/pt.size+1e-6)%1<2e-6&&(St.tick0=0)}St.dtick=Pt}St.domain=O?[Bt+U/rt.h,Bt+ft-U/rt.h]:[Bt+H/rt.w,Bt+ft-H/rt.w],St.setScale(),J.attr("transform",l(Math.round(rt.l),Math.round(rt.t)));var Kt,ie=J.select("."+S.cbtitleunshift).attr("transform",l(-Math.round(rt.l),-Math.round(rt.t))),de=St.ticklabelposition,Jt=St.title.font.size,Nt=J.select("."+S.cbaxis),Vt=0,Zt=0;function Wt(he,$t){var ye={propContainer:St,propName:P._propPrefix+"title",traceIndex:P._traceIndex,_meta:P._meta,placeholder:at._dfltTitle.colorbar,containerGroup:J.select("."+S.cbtitle)},se=he.charAt(0)==="h"?he.substr(1):"h"+he;J.selectAll("."+se+",."+se+"-math-group").remove(),p.draw(M,he,u(ye,$t||{}))}return o.syncOrAsync([e.previousPromises,function(){var he,$t;(O&&Lt||!O&&!Lt)&&(mt==="top"&&(he=H+rt.l+rt.w*V,$t=U+rt.t+rt.h*(1-Bt-ft)+3+.75*Jt),mt==="bottom"&&(he=H+rt.l+rt.w*V,$t=U+rt.t+rt.h*(1-Bt)-3-.25*Jt),mt==="right"&&($t=U+rt.t+rt.h*$+3+.75*Jt,he=H+rt.l+rt.w*Bt),Wt(St._id+"title",{attributes:{x:he,y:$t,"text-anchor":O?"start":"middle"}}))},function(){if(!O&&!Lt||O&&Lt){var he,$t=J.select("."+S.cbtitle),ye=$t.select("text"),se=[-Y/2,Y/2],Pe=$t.select(".h"+St._id+"title-math-group").node(),Ce=15.6;if(ye.node()&&(Ce=parseInt(ye.node().style.fontSize,10)*_),Pe?(he=c.bBox(Pe),Zt=he.width,(Vt=he.height)>Ce&&(se[1]-=(Vt-Ce)/2)):ye.node()&&!ye.classed(S.jsPlaceholder)&&(he=c.bBox(ye.node()),Zt=he.width,Vt=he.height),O){if(Vt){if(Vt+=5,mt==="top")St.domain[1]-=Vt/rt.h,se[1]*=-1;else{St.domain[0]+=Vt/rt.h;var Ne=g.lineCount(ye);se[1]+=(1-Ne)*Ce}$t.attr("transform",l(se[0],se[1])),St.setScale()}}else Zt&&(mt==="right"&&(St.domain[0]+=(Zt+Jt/2)/rt.w),$t.attr("transform",l(se[0],se[1])),St.setScale())}J.selectAll("."+S.cbfills+",."+S.cblines).attr("transform",O?l(0,Math.round(rt.h*(1-St.domain[1]))):l(Math.round(rt.w*St.domain[0]),0)),Nt.attr("transform",O?l(0,Math.round(-rt.t)):l(Math.round(-rt.l),0));var yt=J.select("."+S.cbfills).selectAll("rect."+S.cbfill).attr("style","").data(_t);yt.enter().append("rect").classed(S.cbfill,!0).style("stroke","none"),yt.exit().remove();var vt=kt.map(St.c2p).map(Math.round).sort(function(ee,ne){return ee-ne});yt.each(function(ee,ne){var re=[ne===0?kt[0]:(_t[ne]+_t[ne-1])/2,ne===_t.length-1?kt[1]:(_t[ne]+_t[ne+1])/2].map(St.c2p).map(Math.round);O&&(re[1]=o.constrain(re[1]+(re[1]>re[0])?1:-1,vt[0],vt[1]));var ve=a.select(this).attr(O?"x":"y",gt).attr(O?"y":"x",a.min(re)).attr(O?"width":"height",Math.max(L,2)).attr(O?"height":"width",Math.max(a.max(re)-a.min(re),2));if(P._fillgradient)c.gradient(ve,M,P._id,O?"vertical":"horizontalreversed",P._fillgradient,"fill");else{var fe=It(ee).replace("e-","");ve.attr("fill",f(fe).toHexString())}});var Rt=J.select("."+S.cblines).selectAll("path."+S.cbline).data(ct.color&&ct.width?Dt:[]);Rt.enter().append("path").classed(S.cbline,!0),Rt.exit().remove(),Rt.each(function(ee){var ne=gt,re=Math.round(St.c2p(ee))+ct.width/2%1;a.select(this).attr("d","M"+(O?ne+","+re:re+","+ne)+(O?"h":"v")+L).call(c.lineGroupStyle,ct.width,Ct(ee),ct.dash)}),Nt.selectAll("g."+St._id+"tick,path").remove();var Ut=gt+L+(Y||0)/2-(P.ticks==="outside"?1:0),Ht=r.calcTicks(St),Yt=r.getTickSigns(St)[2];return r.drawTicks(M,St,{vals:St.ticks==="inside"?r.clipEnds(St,Ht):Ht,layer:Nt,path:r.makeTickPath(St,Ut,Yt),transFn:r.makeTransTickFn(St)}),r.drawLabels(M,St,{vals:Ht,layer:Nt,transFn:r.makeTransTickLabelFn(St),labelFns:r.makeLabelFns(St,Ut)})},function(){if(O&&!Lt||!O&&Lt){var he,$t,ye=St.position||0,se=St._offset+St._length/2;if(mt==="right")$t=se,he=rt.l+rt.w*ye+10+Jt*(St.showticklabels?1:.5);else if(he=se,mt==="bottom"&&($t=rt.t+rt.h*ye+10+(de.indexOf("inside")===-1?St.tickfont.size:0)+(St.ticks!=="intside"&&P.ticklen||0)),mt==="top"){var Pe=ht.text.split("<br>").length;$t=rt.t+rt.h*ye+10-L-_*Jt*Pe}Wt((O?"h":"v")+St._id+"title",{avoid:{selection:a.select(M).selectAll("g."+St._id+"tick"),side:mt,offsetTop:O?0:rt.t,offsetLeft:O?rt.l:0,maxShift:O?at.width:at.height},attributes:{x:he,y:$t,"text-anchor":"middle"},transform:{rotate:O?-90:0,offset:0}})}},e.previousPromises,function(){var he,$t=L+Y/2;de.indexOf("inside")===-1&&(he=c.bBox(Nt.node()),$t+=O?he.width:he.height),Kt=ie.select("text");var ye=0,se=O&&mt==="top",Pe=!O&&mt==="right",Ce=0;if(Kt.node()&&!Kt.classed(S.jsPlaceholder)){var Ne,yt=ie.select(".h"+St._id+"title-math-group").node();yt&&(O&&Lt||!O&&!Lt)?(ye=(he=c.bBox(yt)).width,Ne=he.height):(ye=(he=c.bBox(ie.node())).right-rt.l-(O?gt:Mt),Ne=he.bottom-rt.t-(O?Mt:gt),O||mt!=="top"||($t+=he.height,Ce=he.height)),Pe&&(Kt.attr("transform",l(ye/2+Jt/2,0)),ye*=2),$t=Math.max($t,O?ye:Ne)}var vt=2*(O?H:U)+$t+Q+Y/2,Rt=0;!O&&ht.text&&Z==="bottom"&&$<=0&&(vt+=Rt=vt/2,Ce+=Rt),at._hColorbarMoveTitle=Rt,at._hColorbarMoveCBTitle=Ce;var Ut=Q+Y;J.select("."+S.cbbg).attr("x",(O?gt:Mt)-Ut/2-(O?H:0)).attr("y",(O?Mt:gt)-(O?it:U+Ce-Rt)).attr(O?"width":"height",Math.max(vt-Rt,2)).attr(O?"height":"width",Math.max(it+Ut,2)).call(h.fill,nt).call(h.stroke,P.bordercolor).style("stroke-width",Q);var Ht=Pe?Math.max(ye-10,0):0;if(J.selectAll("."+S.cboutline).attr("x",(O?gt:Mt+H)+Ht).attr("y",(O?Mt+U-it:gt)+(se?Vt:0)).attr(O?"width":"height",Math.max(L,2)).attr(O?"height":"width",Math.max(it-(O?2*U+Vt:2*H+Ht),2)).call(h.stroke,P.outlinecolor).style({fill:"none","stroke-width":Y}),J.attr("transform",l(rt.l-(O?wt*vt:0),rt.t-(O?0:(1-xt)*vt-Ce))),!O&&(Q||f(nt).getAlpha()&&!f.equals(at.paper_bgcolor,nt))){var Yt=Nt.selectAll("text"),ee=Yt[0].length,ne=J.select("."+S.cbbg).node(),re=c.bBox(ne),ve=c.getTranslate(J);Yt.each(function(xe,me){var Te=ee-1;if(me===0||me===Te){var we,Ae=c.bBox(this),Ye=c.getTranslate(this);if(me===Te){var Re=Ae.right+Ye.x;(we=re.right+ve.x+Mt-Q-2+V-Re)>0&&(we=0)}else if(me===0){var ge=Ae.left+Ye.x;(we=re.left+ve.x+Mt+Q+2-ge)<0&&(we=0)}we&&(ee<3?this.setAttribute("transform","translate("+we+",0) "+this.getAttribute("transform")):this.setAttribute("visibility","hidden"))}})}var fe={},pe=T[et],ze=C[et],Be=T[Z],Me=C[Z],_e=vt-L;O?(tt==="pixels"?(fe.y=$,fe.t=it*Be,fe.b=it*Me):(fe.t=fe.b=0,fe.yt=$+q*Be,fe.yb=$-q*Me),z==="pixels"?(fe.x=V,fe.l=vt*pe,fe.r=vt*ze):(fe.l=_e*pe,fe.r=_e*ze,fe.xl=V-E*pe,fe.xr=V+E*ze)):(tt==="pixels"?(fe.x=V,fe.l=it*pe,fe.r=it*ze):(fe.l=fe.r=0,fe.xl=V+q*pe,fe.xr=V-q*ze),z==="pixels"?(fe.y=1-$,fe.t=vt*Be,fe.b=vt*Me):(fe.t=_e*Be,fe.b=_e*Me,fe.yt=$-E*Be,fe.yb=$+E*Me)),e.autoMargin(M,P._id,fe)}],M)}(j,D,F);B&&B.then&&(F._promises||[]).push(B),F._context.edits.colorbarPosition&&function(J,P,M){var O,q,tt,E=P.orientation==="v",z=M._fullLayout._size;n.init({element:J.node(),gd:M,prepFn:function(){O=J.attr("transform"),d(J)},moveFn:function(Y,Q){J.attr("transform",O+l(Y,Q)),q=n.align((E?P._uFrac:P._vFrac)+Y/z.w,E?P._thickFrac:P._lenFrac,0,1,P.xanchor),tt=n.align((E?P._vFrac:1-P._uFrac)-Q/z.h,E?P._lenFrac:P._thickFrac,0,1,P.yanchor);var nt=n.getCursor(q,tt,P.xanchor,P.yanchor);d(J,nt)},doneFn:function(){if(d(J),q!==void 0&&tt!==void 0){var Y={};Y[P._propPrefix+"x"]=q,Y[P._propPrefix+"y"]=tt,P._traceIndex!==void 0?i.call("_guiRestyle",M,Y,P._traceIndex):i.call("_guiRelayout",M,Y)}}})}(j,D,F)}),N.exit().each(function(D){e.autoMargin(F,D._id)}).remove(),N.order()}}},76228:function(w,s,t){var a=t(71828);w.exports=function(f){return a.isPlainObject(f.colorbar)}},12311:function(w,s,t){w.exports={moduleType:"component",name:"colorbar",attributes:t(63583),supplyDefaults:t(62499),draw:t(98981).draw,hasColorbar:t(76228)}},50693:function(w,s,t){var a=t(63583),f=t(30587).counter,e=t(78607),i=t(63282).scales;function r(n){return"`"+n+"`"}e(i),w.exports=function(n,o){n=n||"";var l,u=(o=o||{}).cLetter||"c",d=("onlyIfNumerical"in o&&o.onlyIfNumerical,"noScale"in o?o.noScale:n==="marker.line"),c="showScaleDflt"in o?o.showScaleDflt:u==="z",h=typeof o.colorscaleDflt=="string"?i[o.colorscaleDflt]:null,p=o.editTypeOverride||"",g=n?n+".":"";"colorAttr"in o?(l=o.colorAttr,o.colorAttr):r(g+(l={z:"z",c:"color"}[u]));var y=u+"auto",b=u+"min",m=u+"max",v=u+"mid",x={};x[b]=x[m]=void 0;var _={};_[y]=!1;var T={};return l==="color"&&(T.color={valType:"color",arrayOk:!0,editType:p||"style"},o.anim&&(T.color.anim=!0)),T[y]={valType:"boolean",dflt:!0,editType:"calc",impliedEdits:x},T[b]={valType:"number",dflt:null,editType:p||"plot",impliedEdits:_},T[m]={valType:"number",dflt:null,editType:p||"plot",impliedEdits:_},T[v]={valType:"number",dflt:null,editType:"calc",impliedEdits:x},T.colorscale={valType:"colorscale",editType:"calc",dflt:h,impliedEdits:{autocolorscale:!1}},T.autocolorscale={valType:"boolean",dflt:o.autoColorDflt!==!1,editType:"calc",impliedEdits:{colorscale:void 0}},T.reversescale={valType:"boolean",dflt:!1,editType:"plot"},d||(T.showscale={valType:"boolean",dflt:c,editType:"calc"},T.colorbar=a),o.noColorAxis||(T.coloraxis={valType:"subplotid",regex:f("coloraxis"),dflt:null,editType:"calc"}),T}},78803:function(w,s,t){var a=t(92770),f=t(71828),e=t(52075).extractOpts;w.exports=function(i,r,n){var o,l=i._fullLayout,u=n.vals,d=n.containerStr,c=d?f.nestedProperty(r,d).get():r,h=e(c),p=h.auto!==!1,g=h.min,y=h.max,b=h.mid,m=function(){return f.aggNums(Math.min,null,u)},v=function(){return f.aggNums(Math.max,null,u)};g===void 0?g=m():p&&(g=c._colorAx&&a(g)?Math.min(g,m()):m()),y===void 0?y=v():p&&(y=c._colorAx&&a(y)?Math.max(y,v()):v()),p&&b!==void 0&&(y-b>b-g?g=b-(y-b):y-b<b-g&&(y=b+(b-g))),g===y&&(g-=.5,y+=.5),h._sync("min",g),h._sync("max",y),h.autocolorscale&&(o=g*y<0?l.colorscale.diverging:g>=0?l.colorscale.sequential:l.colorscale.sequentialminus,h._sync("colorscale",o))}},33046:function(w,s,t){var a=t(71828),f=t(52075).hasColorscale,e=t(52075).extractOpts;w.exports=function(i,r){function n(p,g){var y=p["_"+g];y!==void 0&&(p[g]=y)}function o(p,g){var y=g.container?a.nestedProperty(p,g.container).get():p;if(y)if(y.coloraxis)y._colorAx=r[y.coloraxis];else{var b=e(y),m=b.auto;(m||b.min===void 0)&&n(y,g.min),(m||b.max===void 0)&&n(y,g.max),b.autocolorscale&&n(y,"colorscale")}}for(var l=0;l<i.length;l++){var u=i[l],d=u._module.colorbar;if(d)if(Array.isArray(d))for(var c=0;c<d.length;c++)o(u,d[c]);else o(u,d);f(u,"marker.line")&&o(u,{container:"marker.line",min:"cmin",max:"cmax"})}for(var h in r._colorAxes)o(r[h],{min:"cmin",max:"cmax"})}},1586:function(w,s,t){var a=t(92770),f=t(71828),e=t(76228),i=t(62499),r=t(63282).isValid,n=t(73972).traceIs;function o(l,u){var d=u.slice(0,u.length-1);return u?f.nestedProperty(l,d).get()||{}:l}w.exports=function l(u,d,c,h,p){var g=p.prefix,y=p.cLetter,b="_module"in d,m=o(u,g),v=o(d,g),x=o(d._template||{},g)||{},_=function(){return delete u.coloraxis,delete d.coloraxis,l(u,d,c,h,p)};if(b){var T=c._colorAxes||{},C=h(g+"coloraxis");if(C){var S=n(d,"contour")&&f.nestedProperty(d,"contours.coloring").get()||"heatmap",F=T[C];return void(F?(F[2].push(_),F[0]!==S&&(F[0]=!1,f.warn(["Ignoring coloraxis:",C,"setting","as it is linked to incompatible colorscales."].join(" ")))):T[C]=[S,d,[_]])}}var N=m[y+"min"],D=m[y+"max"],j=a(N)&&a(D)&&N<D;h(g+y+"auto",!j)?h(g+y+"mid"):(h(g+y+"min"),h(g+y+"max"));var B,J,P=m.colorscale,M=x.colorscale;P!==void 0&&(B=!r(P)),M!==void 0&&(B=!r(M)),h(g+"autocolorscale",B),h(g+"colorscale"),h(g+"reversescale"),g!=="marker.line."&&(g&&b&&(J=e(m)),h(g+"showscale",J)&&(g&&x&&(v._template=x),i(m,v,c)))}},52075:function(w,s,t){var a=t(39898),f=t(84267),e=t(92770),i=t(71828),r=t(7901),n=t(63282).isValid,o=["showscale","autocolorscale","colorscale","reversescale","colorbar"],l=["min","max","mid","auto"];function u(g){var y,b,m,v=g._colorAx,x=v||g,_={};for(b=0;b<o.length;b++)_[m=o[b]]=x[m];if(v)for(y="c",b=0;b<l.length;b++)_[m=l[b]]=x["c"+m];else{var T;for(b=0;b<l.length;b++)((T="c"+(m=l[b]))in x||(T="z"+m)in x)&&(_[m]=x[T]);y=T.charAt(0)}return _._sync=function(C,S){var F=l.indexOf(C)!==-1?y+C:C;x[F]=x["_"+F]=S},_}function d(g){for(var y=u(g),b=y.min,m=y.max,v=y.reversescale?c(y.colorscale):y.colorscale,x=v.length,_=new Array(x),T=new Array(x),C=0;C<x;C++){var S=v[C];_[C]=b+S[0]*(m-b),T[C]=S[1]}return{domain:_,range:T}}function c(g){for(var y=g.length,b=new Array(y),m=y-1,v=0;m>=0;m--,v++){var x=g[m];b[v]=[1-x[0],x[1]]}return b}function h(g,y){y=y||{};for(var b=g.domain,m=g.range,v=m.length,x=new Array(v),_=0;_<v;_++){var T=f(m[_]).toRgb();x[_]=[T.r,T.g,T.b,T.a]}var C,S=a.scale.linear().domain(b).range(x).clamp(!0),F=y.noNumericCheck,N=y.returnArray;return(C=F&&N?S:F?function(D){return p(S(D))}:N?function(D){return e(D)?S(D):f(D).isValid()?D:r.defaultLine}:function(D){return e(D)?p(S(D)):f(D).isValid()?D:r.defaultLine}).domain=S.domain,C.range=function(){return m},C}function p(g){var y={r:g[0],g:g[1],b:g[2],a:g[3]};return f(y).toRgbString()}w.exports={hasColorscale:function(g,y,b){var m=y?i.nestedProperty(g,y).get()||{}:g,v=m[b||"color"],x=!1;if(i.isArrayOrTypedArray(v)){for(var _=0;_<v.length;_++)if(e(v[_])){x=!0;break}}return i.isPlainObject(m)&&(x||m.showscale===!0||e(m.cmin)&&e(m.cmax)||n(m.colorscale)||i.isPlainObject(m.colorbar))},extractOpts:u,extractScale:d,flipScale:c,makeColorScaleFunc:h,makeColorScaleFuncFromTrace:function(g,y){return h(d(g),y)}}},21081:function(w,s,t){var a=t(63282),f=t(52075);w.exports={moduleType:"component",name:"colorscale",attributes:t(50693),layoutAttributes:t(72673),supplyLayoutDefaults:t(30959),handleDefaults:t(1586),crossTraceDefaults:t(33046),calc:t(78803),scales:a.scales,defaultScale:a.defaultScale,getScale:a.get,isValidScale:a.isValid,hasColorscale:f.hasColorscale,extractOpts:f.extractOpts,extractScale:f.extractScale,flipScale:f.flipScale,makeColorScaleFunc:f.makeColorScaleFunc,makeColorScaleFuncFromTrace:f.makeColorScaleFuncFromTrace}},72673:function(w,s,t){var a=t(1426).extendFlat,f=t(50693),e=t(63282).scales;w.exports={editType:"calc",colorscale:{editType:"calc",sequential:{valType:"colorscale",dflt:e.Reds,editType:"calc"},sequentialminus:{valType:"colorscale",dflt:e.Blues,editType:"calc"},diverging:{valType:"colorscale",dflt:e.RdBu,editType:"calc"}},coloraxis:a({_isSubplotObj:!0,editType:"calc"},f("",{colorAttr:"corresponding trace color array(s)",noColorAxis:!0,showScaleDflt:!0}))}},30959:function(w,s,t){var a=t(71828),f=t(44467),e=t(72673),i=t(1586);w.exports=function(r,n){function o(y,b){return a.coerce(r,n,e,y,b)}o("colorscale.sequential"),o("colorscale.sequentialminus"),o("colorscale.diverging");var l,u,d=n._colorAxes;function c(y,b){return a.coerce(l,u,e.coloraxis,y,b)}for(var h in d){var p=d[h];if(p[0])l=r[h]||{},(u=f.newContainer(n,h,"coloraxis"))._name=h,i(l,u,n,c,{prefix:"",cLetter:"c"});else{for(var g=0;g<p[2].length;g++)p[2][g]();delete n._colorAxes[h]}}}},63282:function(w,s,t){var a=t(84267),f={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]],Cividis:[[0,"rgb(0,32,76)"],[.058824,"rgb(0,42,102)"],[.117647,"rgb(0,52,110)"],[.176471,"rgb(39,63,108)"],[.235294,"rgb(60,74,107)"],[.294118,"rgb(76,85,107)"],[.352941,"rgb(91,95,109)"],[.411765,"rgb(104,106,112)"],[.470588,"rgb(117,117,117)"],[.529412,"rgb(131,129,120)"],[.588235,"rgb(146,140,120)"],[.647059,"rgb(161,152,118)"],[.705882,"rgb(176,165,114)"],[.764706,"rgb(192,177,109)"],[.823529,"rgb(209,191,102)"],[.882353,"rgb(225,204,92)"],[.941176,"rgb(243,219,79)"],[1,"rgb(255,233,69)"]]},e=f.RdBu;function i(r){var n=0;if(!Array.isArray(r)||r.length<2||!r[0]||!r[r.length-1]||+r[0][0]!=0||+r[r.length-1][0]!=1)return!1;for(var o=0;o<r.length;o++){var l=r[o];if(l.length!==2||+l[0]<n||!a(l[1]).isValid())return!1;n=+l[0]}return!0}w.exports={scales:f,defaultScale:e,get:function(r,n){if(n||(n=e),!r)return n;function o(){try{r=f[r]||JSON.parse(r)}catch{r=n}}return typeof r=="string"&&(o(),typeof r=="string"&&o()),i(r)?r:n},isValid:function(r){return f[r]!==void 0||i(r)}}},92807:function(w){w.exports=function(s,t,a,f,e){var i=(s-a)/(f-a),r=i+t/(f-a),n=(i+r)/2;return e==="left"||e==="bottom"?i:e==="center"||e==="middle"?n:e==="right"||e==="top"?r:i<.6666666666666666-n?i:r>1.3333333333333333-n?r:n}},70461:function(w,s,t){var a=t(71828),f=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];w.exports=function(e,i,r,n){return e=r==="left"?0:r==="center"?1:r==="right"?2:a.constrain(Math.floor(3*e),0,2),i=n==="bottom"?0:n==="middle"?1:n==="top"?2:a.constrain(Math.floor(3*i),0,2),f[i][e]}},64505:function(w,s){s.selectMode=function(t){return t==="lasso"||t==="select"},s.drawMode=function(t){return t==="drawclosedpath"||t==="drawopenpath"||t==="drawline"||t==="drawrect"||t==="drawcircle"},s.openMode=function(t){return t==="drawline"||t==="drawopenpath"},s.rectMode=function(t){return t==="select"||t==="drawline"||t==="drawrect"||t==="drawcircle"},s.freeMode=function(t){return t==="lasso"||t==="drawclosedpath"||t==="drawopenpath"},s.selectingOrDrawing=function(t){return s.freeMode(t)||s.rectMode(t)}},28569:function(w,s,t){var a=t(48956),f=t(57035),e=t(38520),i=t(71828).removeElement,r=t(85555),n=w.exports={};n.align=t(92807),n.getCursor=t(70461);var o=t(26041);function l(){var d=document.createElement("div");d.className="dragcover";var c=d.style;return c.position="fixed",c.left=0,c.right=0,c.top=0,c.bottom=0,c.zIndex=999999999,c.background="none",document.body.appendChild(d),d}function u(d){return a(d.changedTouches?d.changedTouches[0]:d,document.body)}n.unhover=o.wrapped,n.unhoverRaw=o.raw,n.init=function(d){var c,h,p,g,y,b,m,v,x=d.gd,_=1,T=x._context.doubleClickDelay,C=d.element;x._mouseDownTime||(x._mouseDownTime=0),C.style.pointerEvents="all",C.onmousedown=F,e?(C._ontouchstart&&C.removeEventListener("touchstart",C._ontouchstart),C._ontouchstart=F,C.addEventListener("touchstart",F,{passive:!1})):C.ontouchstart=F;var S=d.clampFn||function(j,B,J){return Math.abs(j)<J&&(j=0),Math.abs(B)<J&&(B=0),[j,B]};function F(j){x._dragged=!1,x._dragging=!0;var B=u(j);c=B[0],h=B[1],m=j.target,b=j,v=j.buttons===2||j.ctrlKey,j.clientX===void 0&&j.clientY===void 0&&(j.clientX=c,j.clientY=h),(p=new Date().getTime())-x._mouseDownTime<T?_+=1:(_=1,x._mouseDownTime=p),d.prepFn&&d.prepFn(j,c,h),f&&!v?(y=l()).style.cursor=window.getComputedStyle(C).cursor:f||(y=document,g=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(C).cursor),document.addEventListener("mouseup",D),document.addEventListener("touchend",D),d.dragmode!==!1&&(j.preventDefault(),document.addEventListener("mousemove",N),document.addEventListener("touchmove",N,{passive:!1}))}function N(j){j.preventDefault();var B=u(j),J=d.minDrag||r.MINDRAG,P=S(B[0]-c,B[1]-h,J),M=P[0],O=P[1];(M||O)&&(x._dragged=!0,n.unhover(x,j)),x._dragged&&d.moveFn&&!v&&(x._dragdata={element:C,dx:M,dy:O},d.moveFn(M,O))}function D(j){if(delete x._dragdata,d.dragmode!==!1&&(j.preventDefault(),document.removeEventListener("mousemove",N),document.removeEventListener("touchmove",N)),document.removeEventListener("mouseup",D),document.removeEventListener("touchend",D),f?i(y):g&&(y.documentElement.style.cursor=g,g=null),x._dragging){if(x._dragging=!1,new Date().getTime()-x._mouseDownTime>T&&(_=Math.max(_-1,1)),x._dragged)d.doneFn&&d.doneFn();else if(d.clickFn&&d.clickFn(_,b),!v){var B;try{B=new MouseEvent("click",j)}catch{var J=u(j);(B=document.createEvent("MouseEvents")).initMouseEvent("click",j.bubbles,j.cancelable,j.view,j.detail,j.screenX,j.screenY,J[0],J[1],j.ctrlKey,j.altKey,j.shiftKey,j.metaKey,j.button,j.relatedTarget)}m.dispatchEvent(B)}x._dragging=!1,x._dragged=!1}else x._dragged=!1}},n.coverSlip=l},26041:function(w,s,t){var a=t(11086),f=t(79990),e=t(24401).getGraphDiv,i=t(26675),r=w.exports={};r.wrapped=function(n,o,l){(n=e(n))._fullLayout&&f.clear(n._fullLayout._uid+i.HOVERID),r.raw(n,o,l)},r.raw=function(n,o){var l=n._fullLayout,u=n._hoverdata;o||(o={}),o.target&&!n._dragged&&a.triggerHandler(n,"plotly_beforehover",o)===!1||(l._hoverlayer.selectAll("g").remove(),l._hoverlayer.selectAll("line").remove(),l._hoverlayer.selectAll("circle").remove(),n._hoverdata=void 0,o.target&&u&&n.emit("plotly_unhover",{event:o,points:u}))}},79952:function(w,s){s.P={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"},s.u={shape:{valType:"enumerated",values:["","/","\\","x","-","|","+","."],dflt:"",arrayOk:!0,editType:"style"},fillmode:{valType:"enumerated",values:["replace","overlay"],dflt:"replace",editType:"style"},bgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgcolor:{valType:"color",arrayOk:!0,editType:"style"},fgopacity:{valType:"number",editType:"style",min:0,max:1},size:{valType:"number",min:0,dflt:8,arrayOk:!0,editType:"style"},solidity:{valType:"number",min:0,max:1,dflt:.3,arrayOk:!0,editType:"style"},editType:"style"}},91424:function(w,s,t){var a=t(39898),f=t(71828),e=f.numberFormat,i=t(92770),r=t(84267),n=t(73972),o=t(7901),l=t(21081),u=f.strTranslate,d=t(63893),c=t(77922),h=t(18783).LINE_SPACING,p=t(37822).DESELECTDIM,g=t(34098),y=t(39984),b=t(23469).appendArrayPointValue,m=w.exports={};function v(pt,bt,_t){var Dt=bt.fillpattern,L=Dt&&m.getPatternAttr(Dt.shape,0,"");if(L){var X=m.getPatternAttr(Dt.bgcolor,0,null),it=m.getPatternAttr(Dt.fgcolor,0,null),ft=Dt.fgopacity,gt=m.getPatternAttr(Dt.size,0,8),wt=m.getPatternAttr(Dt.solidity,0,.3),xt=bt.uid;m.pattern(pt,"point",_t,xt,L,gt,wt,void 0,Dt.fillmode,X,it,ft)}else bt.fillcolor&&pt.call(o.fill,bt.fillcolor)}m.font=function(pt,bt,_t,Dt){f.isPlainObject(bt)&&(Dt=bt.color,_t=bt.size,bt=bt.family),bt&&pt.style("font-family",bt),_t+1&&pt.style("font-size",_t+"px"),Dt&&pt.call(o.fill,Dt)},m.setPosition=function(pt,bt,_t){pt.attr("x",bt).attr("y",_t)},m.setSize=function(pt,bt,_t){pt.attr("width",bt).attr("height",_t)},m.setRect=function(pt,bt,_t,Dt,L){pt.call(m.setPosition,bt,_t).call(m.setSize,Dt,L)},m.translatePoint=function(pt,bt,_t,Dt){var L=_t.c2p(pt.x),X=Dt.c2p(pt.y);return!!(i(L)&&i(X)&&bt.node())&&(bt.node().nodeName==="text"?bt.attr("x",L).attr("y",X):bt.attr("transform",u(L,X)),!0)},m.translatePoints=function(pt,bt,_t){pt.each(function(Dt){var L=a.select(this);m.translatePoint(Dt,L,bt,_t)})},m.hideOutsideRangePoint=function(pt,bt,_t,Dt,L,X){bt.attr("display",_t.isPtWithinRange(pt,L)&&Dt.isPtWithinRange(pt,X)?null:"none")},m.hideOutsideRangePoints=function(pt,bt){if(bt._hasClipOnAxisFalse){var _t=bt.xaxis,Dt=bt.yaxis;pt.each(function(L){var X=L[0].trace,it=X.xcalendar,ft=X.ycalendar,gt=n.traceIs(X,"bar-like")?".bartext":".point,.textpoint";pt.selectAll(gt).each(function(wt){m.hideOutsideRangePoint(wt,a.select(this),_t,Dt,it,ft)})})}},m.crispRound=function(pt,bt,_t){return bt&&i(bt)?pt._context.staticPlot?bt:bt<1?1:Math.round(bt):_t||0},m.singleLineStyle=function(pt,bt,_t,Dt,L){bt.style("fill","none");var X=(((pt||[])[0]||{}).trace||{}).line||{},it=_t||X.width||0,ft=L||X.dash||"";o.stroke(bt,Dt||X.color),m.dashLine(bt,ft,it)},m.lineGroupStyle=function(pt,bt,_t,Dt){pt.style("fill","none").each(function(L){var X=(((L||[])[0]||{}).trace||{}).line||{},it=bt||X.width||0,ft=Dt||X.dash||"";a.select(this).call(o.stroke,_t||X.color).call(m.dashLine,ft,it)})},m.dashLine=function(pt,bt,_t){_t=+_t||0,bt=m.dashStyle(bt,_t),pt.style({"stroke-dasharray":bt,"stroke-width":_t+"px"})},m.dashStyle=function(pt,bt){bt=+bt||1;var _t=Math.max(bt,3);return pt==="solid"?pt="":pt==="dot"?pt=_t+"px,"+_t+"px":pt==="dash"?pt=3*_t+"px,"+3*_t+"px":pt==="longdash"?pt=5*_t+"px,"+5*_t+"px":pt==="dashdot"?pt=3*_t+"px,"+_t+"px,"+_t+"px,"+_t+"px":pt==="longdashdot"&&(pt=5*_t+"px,"+2*_t+"px,"+_t+"px,"+2*_t+"px"),pt},m.singleFillStyle=function(pt,bt){var _t=a.select(pt.node());v(pt,((_t.data()[0]||[])[0]||{}).trace||{},bt)},m.fillGroupStyle=function(pt,bt){pt.style("stroke-width",0).each(function(_t){var Dt=a.select(this);_t[0].trace&&v(Dt,_t[0].trace,bt)})};var x=t(90998);m.symbolNames=[],m.symbolFuncs=[],m.symbolBackOffs=[],m.symbolNeedLines={},m.symbolNoDot={},m.symbolNoFill={},m.symbolList=[],Object.keys(x).forEach(function(pt){var bt=x[pt],_t=bt.n;m.symbolList.push(_t,String(_t),pt,_t+100,String(_t+100),pt+"-open"),m.symbolNames[_t]=pt,m.symbolFuncs[_t]=bt.f,m.symbolBackOffs[_t]=bt.backoff||0,bt.needLine&&(m.symbolNeedLines[_t]=!0),bt.noDot?m.symbolNoDot[_t]=!0:m.symbolList.push(_t+200,String(_t+200),pt+"-dot",_t+300,String(_t+300),pt+"-open-dot"),bt.noFill&&(m.symbolNoFill[_t]=!0)});var _=m.symbolNames.length;function T(pt,bt,_t,Dt){var L=pt%100;return m.symbolFuncs[L](bt,_t,Dt)+(pt>=200?"M0,0.5L0.5,0L0,-0.5L-0.5,0Z":"")}m.symbolNumber=function(pt){if(i(pt))pt=+pt;else if(typeof pt=="string"){var bt=0;pt.indexOf("-open")>0&&(bt=100,pt=pt.replace("-open","")),pt.indexOf("-dot")>0&&(bt+=200,pt=pt.replace("-dot","")),(pt=m.symbolNames.indexOf(pt))>=0&&(pt+=bt)}return pt%100>=_||pt>=400?0:Math.floor(Math.max(pt,0))};var C={x1:1,x2:0,y1:0,y2:0},S={x1:0,x2:0,y1:1,y2:0},F=e("~f"),N={radial:{node:"radialGradient"},radialreversed:{node:"radialGradient",reversed:!0},horizontal:{node:"linearGradient",attrs:C},horizontalreversed:{node:"linearGradient",attrs:C,reversed:!0},vertical:{node:"linearGradient",attrs:S},verticalreversed:{node:"linearGradient",attrs:S,reversed:!0}};m.gradient=function(pt,bt,_t,Dt,L,X){for(var it=L.length,ft=N[Dt],gt=new Array(it),wt=0;wt<it;wt++)ft.reversed?gt[it-1-wt]=[F(100*(1-L[wt][0])),L[wt][1]]:gt[wt]=[F(100*L[wt][0]),L[wt][1]];var xt=bt._fullLayout,Ft="g"+xt._uid+"-"+_t,Bt=xt._defs.select(".gradients").selectAll("#"+Ft).data([Dt+gt.join(";")],f.identity);Bt.exit().remove(),Bt.enter().append(ft.node).each(function(){var Mt=a.select(this);ft.attrs&&Mt.attr(ft.attrs),Mt.attr("id",Ft);var St=Mt.selectAll("stop").data(gt);St.exit().remove(),St.enter().append("stop"),St.each(function(Lt){var Pt=r(Lt[1]);a.select(this).attr({offset:Lt[0]+"%","stop-color":o.tinyRGB(Pt),"stop-opacity":Pt.getAlpha()})})}),pt.style(X,et(Ft,bt)).style(X+"-opacity",null),pt.classed("gradient_filled",!0)},m.pattern=function(pt,bt,_t,Dt,L,X,it,ft,gt,wt,xt,Ft){var Bt=bt==="legend";ft&&(gt==="overlay"?(wt=ft,xt=o.contrast(wt)):(wt=void 0,xt=ft));var Mt,St,Lt,Pt,zt,Xt,Gt,Kt,ie,de=_t._fullLayout,Jt="p"+de._uid+"-"+Dt,Nt={},Vt=r(xt),Zt=o.tinyRGB(Vt),Wt=Ft*Vt.getAlpha();switch(L){case"/":Mt=X*Math.sqrt(2),St=X*Math.sqrt(2),Xt="path",Nt={d:Lt="M-"+Mt/4+","+St/4+"l"+Mt/2+",-"+St/2+"M0,"+St+"L"+Mt+",0M"+Mt/4*3+","+St/4*5+"l"+Mt/2+",-"+St/2,opacity:Wt,stroke:Zt,"stroke-width":(Pt=it*X)+"px"};break;case"\\":Mt=X*Math.sqrt(2),St=X*Math.sqrt(2),Xt="path",Nt={d:Lt="M"+Mt/4*3+",-"+St/4+"l"+Mt/2+","+St/2+"M0,0L"+Mt+","+St+"M-"+Mt/4+","+St/4*3+"l"+Mt/2+","+St/2,opacity:Wt,stroke:Zt,"stroke-width":(Pt=it*X)+"px"};break;case"x":Mt=X*Math.sqrt(2),St=X*Math.sqrt(2),Lt="M-"+Mt/4+","+St/4+"l"+Mt/2+",-"+St/2+"M0,"+St+"L"+Mt+",0M"+Mt/4*3+","+St/4*5+"l"+Mt/2+",-"+St/2+"M"+Mt/4*3+",-"+St/4+"l"+Mt/2+","+St/2+"M0,0L"+Mt+","+St+"M-"+Mt/4+","+St/4*3+"l"+Mt/2+","+St/2,Pt=X-X*Math.sqrt(1-it),Xt="path",Nt={d:Lt,opacity:Wt,stroke:Zt,"stroke-width":Pt+"px"};break;case"|":Xt="path",Xt="path",Nt={d:Lt="M"+(Mt=X)/2+",0L"+Mt/2+","+(St=X),opacity:Wt,stroke:Zt,"stroke-width":(Pt=it*X)+"px"};break;case"-":Xt="path",Xt="path",Nt={d:Lt="M0,"+(St=X)/2+"L"+(Mt=X)+","+St/2,opacity:Wt,stroke:Zt,"stroke-width":(Pt=it*X)+"px"};break;case"+":Xt="path",Lt="M"+(Mt=X)/2+",0L"+Mt/2+","+(St=X)+"M0,"+St/2+"L"+Mt+","+St/2,Pt=X-X*Math.sqrt(1-it),Xt="path",Nt={d:Lt,opacity:Wt,stroke:Zt,"stroke-width":Pt+"px"};break;case".":Mt=X,St=X,it<Math.PI/4?zt=Math.sqrt(it*X*X/Math.PI):(Gt=it,Kt=Math.PI/4,zt=(ie=X/2)+(X/Math.sqrt(2)-ie)*(Gt-Kt)/(1-Kt)),Xt="circle",Nt={cx:Mt/2,cy:St/2,r:zt,opacity:Wt,fill:Zt}}var he=[L||"noSh",wt||"noBg",xt||"noFg",X,it].join(";"),$t=de._defs.select(".patterns").selectAll("#"+Jt).data([he],f.identity);$t.exit().remove(),$t.enter().append("pattern").each(function(){var ye=a.select(this);if(ye.attr({id:Jt,width:Mt+"px",height:St+"px",patternUnits:"userSpaceOnUse",patternTransform:Bt?"scale(0.8)":""}),wt){var se=r(wt),Pe=o.tinyRGB(se),Ce=se.getAlpha(),Ne=ye.selectAll("rect").data([0]);Ne.exit().remove(),Ne.enter().append("rect").attr({width:Mt+"px",height:St+"px",fill:Pe,"fill-opacity":Ce})}var yt=ye.selectAll(Xt).data([0]);yt.exit().remove(),yt.enter().append(Xt).attr(Nt)}),pt.style("fill",et(Jt,_t)).style("fill-opacity",null),pt.classed("pattern_filled",!0)},m.initGradients=function(pt){var bt=pt._fullLayout;f.ensureSingle(bt._defs,"g","gradients").selectAll("linearGradient,radialGradient").remove(),a.select(pt).selectAll(".gradient_filled").classed("gradient_filled",!1)},m.initPatterns=function(pt){var bt=pt._fullLayout;f.ensureSingle(bt._defs,"g","patterns").selectAll("pattern").remove(),a.select(pt).selectAll(".pattern_filled").classed("pattern_filled",!1)},m.getPatternAttr=function(pt,bt,_t){return pt&&f.isArrayOrTypedArray(pt)?bt<pt.length?pt[bt]:_t:pt},m.pointStyle=function(pt,bt,_t){if(pt.size()){var Dt=m.makePointStyleFns(bt);pt.each(function(L){m.singlePointStyle(L,a.select(this),bt,Dt,_t)})}},m.singlePointStyle=function(pt,bt,_t,Dt,L){var X=_t.marker,it=X.line;if(bt.style("opacity",Dt.selectedOpacityFn?Dt.selectedOpacityFn(pt):pt.mo===void 0?X.opacity:pt.mo),Dt.ms2mrc){var ft;ft=pt.ms==="various"||X.size==="various"?3:Dt.ms2mrc(pt.ms),pt.mrc=ft,Dt.selectedSizeFn&&(ft=pt.mrc=Dt.selectedSizeFn(pt));var gt=m.symbolNumber(pt.mx||X.symbol)||0;pt.om=gt%200>=100;var wt=It(pt,_t),xt=U(pt,_t);bt.attr("d",T(gt,ft,wt,xt))}var Ft,Bt,Mt,St=!1;if(pt.so)Mt=it.outlierwidth,Bt=it.outliercolor,Ft=X.outliercolor;else{var Lt=(it||{}).width;Mt=(pt.mlw+1||Lt+1||(pt.trace?(pt.trace.marker.line||{}).width:0)+1)-1||0,Bt="mlc"in pt?pt.mlcc=Dt.lineScale(pt.mlc):f.isArrayOrTypedArray(it.color)?o.defaultLine:it.color,f.isArrayOrTypedArray(X.color)&&(Ft=o.defaultLine,St=!0),Ft="mc"in pt?pt.mcc=Dt.markerScale(pt.mc):X.color||"rgba(0,0,0,0)",Dt.selectedColorFn&&(Ft=Dt.selectedColorFn(pt))}if(pt.om)bt.call(o.stroke,Ft).style({"stroke-width":(Mt||1)+"px",fill:"none"});else{bt.style("stroke-width",(pt.isBlank?0:Mt)+"px");var Pt=X.gradient,zt=pt.mgt;zt?St=!0:zt=Pt&&Pt.type,f.isArrayOrTypedArray(zt)&&(zt=zt[0],N[zt]||(zt=0));var Xt=X.pattern,Gt=Xt&&m.getPatternAttr(Xt.shape,pt.i,"");if(zt&&zt!=="none"){var Kt=pt.mgc;Kt?St=!0:Kt=Pt.color;var ie=_t.uid;St&&(ie+="-"+pt.i),m.gradient(bt,L,ie,zt,[[0,Kt],[1,Ft]],"fill")}else if(Gt){var de=m.getPatternAttr(Xt.bgcolor,pt.i,null),Jt=m.getPatternAttr(Xt.fgcolor,pt.i,null),Nt=Xt.fgopacity,Vt=m.getPatternAttr(Xt.size,pt.i,8),Zt=m.getPatternAttr(Xt.solidity,pt.i,.3),Wt=pt.mcc||f.isArrayOrTypedArray(Xt.shape)||f.isArrayOrTypedArray(Xt.bgcolor)||f.isArrayOrTypedArray(Xt.size)||f.isArrayOrTypedArray(Xt.solidity),he=_t.uid;Wt&&(he+="-"+pt.i),m.pattern(bt,"point",L,he,Gt,Vt,Zt,pt.mcc,Xt.fillmode,de,Jt,Nt)}else o.fill(bt,Ft);Mt&&o.stroke(bt,Bt)}},m.makePointStyleFns=function(pt){var bt={},_t=pt.marker;return bt.markerScale=m.tryColorscale(_t,""),bt.lineScale=m.tryColorscale(_t,"line"),n.traceIs(pt,"symbols")&&(bt.ms2mrc=g.isBubble(pt)?y(pt):function(){return(_t.size||6)/2}),pt.selectedpoints&&f.extendFlat(bt,m.makeSelectedPointStyleFns(pt)),bt},m.makeSelectedPointStyleFns=function(pt){var bt={},_t=pt.selected||{},Dt=pt.unselected||{},L=pt.marker||{},X=_t.marker||{},it=Dt.marker||{},ft=L.opacity,gt=X.opacity,wt=it.opacity,xt=gt!==void 0,Ft=wt!==void 0;(f.isArrayOrTypedArray(ft)||xt||Ft)&&(bt.selectedOpacityFn=function(Kt){var ie=Kt.mo===void 0?L.opacity:Kt.mo;return Kt.selected?xt?gt:ie:Ft?wt:p*ie});var Bt=L.color,Mt=X.color,St=it.color;(Mt||St)&&(bt.selectedColorFn=function(Kt){var ie=Kt.mcc||Bt;return Kt.selected?Mt||ie:St||ie});var Lt=L.size,Pt=X.size,zt=it.size,Xt=Pt!==void 0,Gt=zt!==void 0;return n.traceIs(pt,"symbols")&&(Xt||Gt)&&(bt.selectedSizeFn=function(Kt){var ie=Kt.mrc||Lt/2;return Kt.selected?Xt?Pt/2:ie:Gt?zt/2:ie}),bt},m.makeSelectedTextStyleFns=function(pt){var bt={},_t=pt.selected||{},Dt=pt.unselected||{},L=pt.textfont||{},X=_t.textfont||{},it=Dt.textfont||{},ft=L.color,gt=X.color,wt=it.color;return bt.selectedTextColorFn=function(xt){var Ft=xt.tc||ft;return xt.selected?gt||Ft:wt||(gt?Ft:o.addOpacity(Ft,p))},bt},m.selectedPointStyle=function(pt,bt){if(pt.size()&&bt.selectedpoints){var _t=m.makeSelectedPointStyleFns(bt),Dt=bt.marker||{},L=[];_t.selectedOpacityFn&&L.push(function(X,it){X.style("opacity",_t.selectedOpacityFn(it))}),_t.selectedColorFn&&L.push(function(X,it){o.fill(X,_t.selectedColorFn(it))}),_t.selectedSizeFn&&L.push(function(X,it){var ft=it.mx||Dt.symbol||0,gt=_t.selectedSizeFn(it);X.attr("d",T(m.symbolNumber(ft),gt,It(it,bt),U(it,bt))),it.mrc2=gt}),L.length&&pt.each(function(X){for(var it=a.select(this),ft=0;ft<L.length;ft++)L[ft](it,X)})}},m.tryColorscale=function(pt,bt){var _t=bt?f.nestedProperty(pt,bt).get():pt;if(_t){var Dt=_t.color;if((_t.colorscale||_t._colorAx)&&f.isArrayOrTypedArray(Dt))return l.makeColorScaleFuncFromTrace(_t)}return f.identity};var D,j,B={start:1,end:-1,middle:0,bottom:1,top:-1};function J(pt,bt,_t,Dt,L){var X=a.select(pt.node().parentNode),it=bt.indexOf("top")!==-1?"top":bt.indexOf("bottom")!==-1?"bottom":"middle",ft=bt.indexOf("left")!==-1?"end":bt.indexOf("right")!==-1?"start":"middle",gt=Dt?Dt/.8+1:0,wt=(d.lineCount(pt)-1)*h+1,xt=B[ft]*gt,Ft=.75*_t+B[it]*gt+(B[it]-1)*wt*_t/2;pt.attr("text-anchor",ft),L||X.attr("transform",u(xt,Ft))}function P(pt,bt){var _t=pt.ts||bt.textfont.size;return i(_t)&&_t>0?_t:0}function M(pt,bt,_t){return _t&&(pt=Y(pt)),bt?q(pt[1]):O(pt[0])}function O(pt){var bt=a.round(pt,2);return D=bt,bt}function q(pt){var bt=a.round(pt,2);return j=bt,bt}function tt(pt,bt,_t,Dt){var L=pt[0]-bt[0],X=pt[1]-bt[1],it=_t[0]-bt[0],ft=_t[1]-bt[1],gt=Math.pow(L*L+X*X,.25),wt=Math.pow(it*it+ft*ft,.25),xt=(wt*wt*L-gt*gt*it)*Dt,Ft=(wt*wt*X-gt*gt*ft)*Dt,Bt=3*wt*(gt+wt),Mt=3*gt*(gt+wt);return[[O(bt[0]+(Bt&&xt/Bt)),q(bt[1]+(Bt&&Ft/Bt))],[O(bt[0]-(Mt&&xt/Mt)),q(bt[1]-(Mt&&Ft/Mt))]]}m.textPointStyle=function(pt,bt,_t){if(pt.size()){var Dt;if(bt.selectedpoints){var L=m.makeSelectedTextStyleFns(bt);Dt=L.selectedTextColorFn}var X=bt.texttemplate,it=_t._fullLayout;pt.each(function(ft){var gt=a.select(this),wt=X?f.extractOption(ft,bt,"txt","texttemplate"):f.extractOption(ft,bt,"tx","text");if(wt||wt===0){if(X){var xt=bt._module.formatLabels,Ft=xt?xt(ft,bt,it):{},Bt={};b(Bt,bt,ft.i);var Mt=bt._meta||{};wt=f.texttemplateString(wt,Ft,it._d3locale,Bt,ft,Mt)}var St=ft.tp||bt.textposition,Lt=P(ft,bt),Pt=Dt?Dt(ft):ft.tc||bt.textfont.color;gt.call(m.font,ft.tf||bt.textfont.family,Lt,Pt).text(wt).call(d.convertToTspans,_t).call(J,St,Lt,ft.mrc)}else gt.remove()})}},m.selectedTextStyle=function(pt,bt){if(pt.size()&&bt.selectedpoints){var _t=m.makeSelectedTextStyleFns(bt);pt.each(function(Dt){var L=a.select(this),X=_t.selectedTextColorFn(Dt),it=Dt.tp||bt.textposition,ft=P(Dt,bt);o.fill(L,X);var gt=n.traceIs(bt,"bar-like");J(L,it,ft,Dt.mrc2||Dt.mrc,gt)})}},m.smoothopen=function(pt,bt){if(pt.length<3)return"M"+pt.join("L");var _t,Dt="M"+pt[0],L=[];for(_t=1;_t<pt.length-1;_t++)L.push(tt(pt[_t-1],pt[_t],pt[_t+1],bt));for(Dt+="Q"+L[0][0]+" "+pt[1],_t=2;_t<pt.length-1;_t++)Dt+="C"+L[_t-2][1]+" "+L[_t-1][0]+" "+pt[_t];return Dt+"Q"+L[pt.length-3][1]+" "+pt[pt.length-1]},m.smoothclosed=function(pt,bt){if(pt.length<3)return"M"+pt.join("L")+"Z";var _t,Dt="M"+pt[0],L=pt.length-1,X=[tt(pt[L],pt[0],pt[1],bt)];for(_t=1;_t<L;_t++)X.push(tt(pt[_t-1],pt[_t],pt[_t+1],bt));for(X.push(tt(pt[L-1],pt[L],pt[0],bt)),_t=1;_t<=L;_t++)Dt+="C"+X[_t-1][1]+" "+X[_t][0]+" "+pt[_t];return Dt+"C"+X[L][1]+" "+X[0][0]+" "+pt[0]+"Z"};var E={hv:function(pt,bt,_t){return"H"+O(bt[0])+"V"+M(bt,1,_t)},vh:function(pt,bt,_t){return"V"+q(bt[1])+"H"+M(bt,0,_t)},hvh:function(pt,bt,_t){return"H"+O((pt[0]+bt[0])/2)+"V"+q(bt[1])+"H"+M(bt,0,_t)},vhv:function(pt,bt,_t){return"V"+q((pt[1]+bt[1])/2)+"H"+O(bt[0])+"V"+M(bt,1,_t)}},z=function(pt,bt,_t){return"L"+M(bt,0,_t)+","+M(bt,1,_t)};function Y(pt,bt){var _t=pt.backoff,Dt=pt.trace,L=pt.d,X=pt.i;if(_t&&Dt&&Dt.marker&&Dt.marker.angle%360==0&&Dt.line&&Dt.line.shape!=="spline"){var it=f.isArrayOrTypedArray(_t),ft=pt,gt=bt?bt[0]:D||0,wt=bt?bt[1]:j||0,xt=ft[0],Ft=ft[1],Bt=xt-gt,Mt=Ft-wt,St=Math.atan2(Mt,Bt),Lt=it?_t[X]:_t;if(Lt==="auto"){var Pt=ft.i;Dt.type==="scatter"&&Pt--;var zt=ft.marker,Xt=zt.symbol;f.isArrayOrTypedArray(Xt)&&(Xt=Xt[Pt]);var Gt=zt.size;f.isArrayOrTypedArray(Gt)&&(Gt=Gt[Pt]),Lt=zt?m.symbolBackOffs[m.symbolNumber(Xt)]*Gt:0,Lt+=m.getMarkerStandoff(L[Pt],Dt)||0}var Kt=xt-Lt*Math.cos(St),ie=Ft-Lt*Math.sin(St);(Kt<=xt&&Kt>=gt||Kt>=xt&&Kt<=gt)&&(ie<=Ft&&ie>=wt||ie>=Ft&&ie<=wt)&&(pt=[Kt,ie])}return pt}m.steps=function(pt){var bt=E[pt]||z;return function(_t){for(var Dt="M"+O(_t[0][0])+","+q(_t[0][1]),L=_t.length,X=1;X<L;X++)Dt+=bt(_t[X-1],_t[X],X===L-1);return Dt}},m.applyBackoff=Y,m.makeTester=function(){var pt=f.ensureSingleById(a.select("body"),"svg","js-plotly-tester",function(_t){_t.attr(c.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"})}),bt=f.ensureSingle(pt,"path","js-reference-point",function(_t){_t.attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"})});m.tester=pt,m.testref=bt},m.savedBBoxes={};var Q=0;function nt(pt){var bt=pt.getAttribute("data-unformatted");if(bt!==null)return bt+pt.getAttribute("data-math")+pt.getAttribute("text-anchor")+pt.getAttribute("style")}function et(pt,bt){if(!pt)return null;var _t=bt._context,Dt=_t._exportedPlot?"":_t._baseUrl||"";return Dt?"url('"+Dt+"#"+pt+"')":"url(#"+pt+")"}m.bBox=function(pt,bt,_t){var Dt,L,X;if(_t||(_t=nt(pt)),_t){if(Dt=m.savedBBoxes[_t])return f.extendFlat({},Dt)}else if(pt.childNodes.length===1){var it=pt.childNodes[0];if(_t=nt(it)){var ft=+it.getAttribute("x")||0,gt=+it.getAttribute("y")||0,wt=it.getAttribute("transform");if(!wt){var xt=m.bBox(it,!1,_t);return ft&&(xt.left+=ft,xt.right+=ft),gt&&(xt.top+=gt,xt.bottom+=gt),xt}if(_t+="~"+ft+"~"+gt+"~"+wt,Dt=m.savedBBoxes[_t])return f.extendFlat({},Dt)}}bt?L=pt:(X=m.tester.node(),L=pt.cloneNode(!0),X.appendChild(L)),a.select(L).attr("transform",null).call(d.positionText,0,0);var Ft=L.getBoundingClientRect(),Bt=m.testref.node().getBoundingClientRect();bt||X.removeChild(L);var Mt={height:Ft.height,width:Ft.width,left:Ft.left-Bt.left,top:Ft.top-Bt.top,right:Ft.right-Bt.left,bottom:Ft.bottom-Bt.top};return Q>=1e4&&(m.savedBBoxes={},Q=0),_t&&(m.savedBBoxes[_t]=Mt),Q++,f.extendFlat({},Mt)},m.setClipUrl=function(pt,bt,_t){pt.attr("clip-path",et(bt,_t))},m.getTranslate=function(pt){var bt=(pt[pt.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,function(_t,Dt,L){return[Dt,L].join(" ")}).split(" ");return{x:+bt[0]||0,y:+bt[1]||0}},m.setTranslate=function(pt,bt,_t){var Dt=pt.attr?"attr":"getAttribute",L=pt.attr?"attr":"setAttribute",X=pt[Dt]("transform")||"";return bt=bt||0,_t=_t||0,X=X.replace(/(\btranslate\(.*?\);?)/,"").trim(),X=(X+=u(bt,_t)).trim(),pt[L]("transform",X),X},m.getScale=function(pt){var bt=(pt[pt.attr?"attr":"getAttribute"]("transform")||"").replace(/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,function(_t,Dt,L){return[Dt,L].join(" ")}).split(" ");return{x:+bt[0]||1,y:+bt[1]||1}},m.setScale=function(pt,bt,_t){var Dt=pt.attr?"attr":"getAttribute",L=pt.attr?"attr":"setAttribute",X=pt[Dt]("transform")||"";return bt=bt||1,_t=_t||1,X=X.replace(/(\bscale\(.*?\);?)/,"").trim(),X=(X+="scale("+bt+","+_t+")").trim(),pt[L]("transform",X),X};var Z=/\s*sc.*/;m.setPointGroupScale=function(pt,bt,_t){if(bt=bt||1,_t=_t||1,pt){var Dt=bt===1&&_t===1?"":"scale("+bt+","+_t+")";pt.each(function(){var L=(this.getAttribute("transform")||"").replace(Z,"");L=(L+=Dt).trim(),this.setAttribute("transform",L)})}};var H=/translate\([^)]*\)\s*$/;function U(pt,bt){var _t;return pt&&(_t=pt.mf),_t===void 0&&(_t=bt.marker&&bt.marker.standoff||0),bt._geo||bt._xA?_t:-_t}m.setTextPointsScale=function(pt,bt,_t){pt&&pt.each(function(){var Dt,L=a.select(this),X=L.select("text");if(X.node()){var it=parseFloat(X.attr("x")||0),ft=parseFloat(X.attr("y")||0),gt=(L.attr("transform")||"").match(H);Dt=bt===1&&_t===1?[]:[u(it,ft),"scale("+bt+","+_t+")",u(-it,-ft)],gt&&Dt.push(gt),L.attr("transform",Dt.join(""))}})},m.getMarkerStandoff=U;var V,$,at,rt,ot,ct,ht=Math.atan2,mt=Math.cos,kt=Math.sin;function Ct(pt,bt){var _t=bt[0],Dt=bt[1];return[_t*mt(pt)-Dt*kt(pt),_t*kt(pt)+Dt*mt(pt)]}function It(pt,bt){var _t,Dt,L=pt.ma;L===void 0&&(L=bt.marker.angle||0);var X=bt.marker.angleref;if(X==="previous"||X==="north"){if(bt._geo){var it=bt._geo.project(pt.lonlat);_t=it[0],Dt=it[1]}else{var ft=bt._xA,gt=bt._yA;if(!ft||!gt)return 90;_t=ft.c2p(pt.x),Dt=gt.c2p(pt.y)}if(bt._geo){var wt,xt=pt.lonlat[0],Ft=pt.lonlat[1],Bt=bt._geo.project([xt,Ft+1e-5]),Mt=bt._geo.project([xt+1e-5,Ft]),St=ht(Mt[1]-Dt,Mt[0]-_t),Lt=ht(Bt[1]-Dt,Bt[0]-_t);if(X==="north")wt=L/180*Math.PI;else if(X==="previous"){var Pt=xt/180*Math.PI,zt=Ft/180*Math.PI,Xt=V/180*Math.PI,Gt=$/180*Math.PI,Kt=Xt-Pt,ie=mt(Gt)*kt(Kt),de=kt(Gt)*mt(zt)-mt(Gt)*kt(zt)*mt(Kt);wt=-ht(ie,de)-Math.PI,V=xt,$=Ft}var Jt=Ct(St,[mt(wt),0]),Nt=Ct(Lt,[kt(wt),0]);L=ht(Jt[1]+Nt[1],Jt[0]+Nt[0])/Math.PI*180,X!=="previous"||ct===bt.uid&&pt.i===ot+1||(L=null)}if(X==="previous"&&!bt._geo)if(ct===bt.uid&&pt.i===ot+1&&i(_t)&&i(Dt)){var Vt=_t-at,Zt=Dt-rt,Wt=bt.line&&bt.line.shape||"",he=Wt.slice(Wt.length-1);he==="h"&&(Zt=0),he==="v"&&(Vt=0),L+=ht(Zt,Vt)/Math.PI*180+90}else L=null}return at=_t,rt=Dt,ot=pt.i,ct=bt.uid,L}m.getMarkerAngle=It},90998:function(w,s,t){var a,f,e,i,r=t(95616),n=t(39898).round,o="M0,0Z",l=Math.sqrt(2),u=Math.sqrt(3),d=Math.PI,c=Math.cos,h=Math.sin;function p(y){return y===null}function g(y,b,m){if(!(y&&y%360!=0||b))return m;if(e===y&&i===b&&a===m)return f;function v(M,O){var q=c(M),tt=h(M),E=O[0],z=O[1]+(b||0);return[E*q-z*tt,E*tt+z*q]}e=y,i=b,a=m;for(var x=y/180*d,_=0,T=0,C=r(m),S="",F=0;F<C.length;F++){var N=C[F],D=N[0],j=_,B=T;if(D==="M"||D==="L")_=+N[1],T=+N[2];else if(D==="m"||D==="l")_+=+N[1],T+=+N[2];else if(D==="H")_=+N[1];else if(D==="h")_+=+N[1];else if(D==="V")T=+N[1];else if(D==="v")T+=+N[1];else if(D==="A"){_=+N[1],T=+N[2];var J=v(x,[+N[6],+N[7]]);N[6]=J[0],N[7]=J[1],N[3]=+N[3]+y}D!=="H"&&D!=="V"||(D="L"),D!=="h"&&D!=="v"||(D="l"),D!=="m"&&D!=="l"||(_-=j,T-=B);var P=v(x,[_,T]);D!=="H"&&D!=="V"||(D="L"),D!=="M"&&D!=="L"&&D!=="m"&&D!=="l"||(N[1]=P[0],N[2]=P[1]),N[0]=D,S+=N[0]+N.slice(1).join(",")}return f=S,S}w.exports={circle:{n:0,f:function(y,b,m){if(p(b))return o;var v=n(y,2),x="M"+v+",0A"+v+","+v+" 0 1,1 0,-"+v+"A"+v+","+v+" 0 0,1 "+v+",0Z";return m?g(b,m,x):x}},square:{n:1,f:function(y,b,m){if(p(b))return o;var v=n(y,2);return g(b,m,"M"+v+","+v+"H-"+v+"V-"+v+"H"+v+"Z")}},diamond:{n:2,f:function(y,b,m){if(p(b))return o;var v=n(1.3*y,2);return g(b,m,"M"+v+",0L0,"+v+"L-"+v+",0L0,-"+v+"Z")}},cross:{n:3,f:function(y,b,m){if(p(b))return o;var v=n(.4*y,2),x=n(1.2*y,2);return g(b,m,"M"+x+","+v+"H"+v+"V"+x+"H-"+v+"V"+v+"H-"+x+"V-"+v+"H-"+v+"V-"+x+"H"+v+"V-"+v+"H"+x+"Z")}},x:{n:4,f:function(y,b,m){if(p(b))return o;var v=n(.8*y/l,2),x="l"+v+","+v,_="l"+v+",-"+v,T="l-"+v+",-"+v,C="l-"+v+","+v;return g(b,m,"M0,"+v+x+_+T+_+T+C+T+C+x+C+x+"Z")}},"triangle-up":{n:5,f:function(y,b,m){if(p(b))return o;var v=n(2*y/u,2);return g(b,m,"M-"+v+","+n(y/2,2)+"H"+v+"L0,-"+n(y,2)+"Z")}},"triangle-down":{n:6,f:function(y,b,m){if(p(b))return o;var v=n(2*y/u,2);return g(b,m,"M-"+v+",-"+n(y/2,2)+"H"+v+"L0,"+n(y,2)+"Z")}},"triangle-left":{n:7,f:function(y,b,m){if(p(b))return o;var v=n(2*y/u,2);return g(b,m,"M"+n(y/2,2)+",-"+v+"V"+v+"L-"+n(y,2)+",0Z")}},"triangle-right":{n:8,f:function(y,b,m){if(p(b))return o;var v=n(2*y/u,2);return g(b,m,"M-"+n(y/2,2)+",-"+v+"V"+v+"L"+n(y,2)+",0Z")}},"triangle-ne":{n:9,f:function(y,b,m){if(p(b))return o;var v=n(.6*y,2),x=n(1.2*y,2);return g(b,m,"M-"+x+",-"+v+"H"+v+"V"+x+"Z")}},"triangle-se":{n:10,f:function(y,b,m){if(p(b))return o;var v=n(.6*y,2),x=n(1.2*y,2);return g(b,m,"M"+v+",-"+x+"V"+v+"H-"+x+"Z")}},"triangle-sw":{n:11,f:function(y,b,m){if(p(b))return o;var v=n(.6*y,2),x=n(1.2*y,2);return g(b,m,"M"+x+","+v+"H-"+v+"V-"+x+"Z")}},"triangle-nw":{n:12,f:function(y,b,m){if(p(b))return o;var v=n(.6*y,2),x=n(1.2*y,2);return g(b,m,"M-"+v+","+x+"V-"+v+"H"+x+"Z")}},pentagon:{n:13,f:function(y,b,m){if(p(b))return o;var v=n(.951*y,2),x=n(.588*y,2),_=n(-y,2),T=n(-.309*y,2);return g(b,m,"M"+v+","+T+"L"+x+","+n(.809*y,2)+"H-"+x+"L-"+v+","+T+"L0,"+_+"Z")}},hexagon:{n:14,f:function(y,b,m){if(p(b))return o;var v=n(y,2),x=n(y/2,2),_=n(y*u/2,2);return g(b,m,"M"+_+",-"+x+"V"+x+"L0,"+v+"L-"+_+","+x+"V-"+x+"L0,-"+v+"Z")}},hexagon2:{n:15,f:function(y,b,m){if(p(b))return o;var v=n(y,2),x=n(y/2,2),_=n(y*u/2,2);return g(b,m,"M-"+x+","+_+"H"+x+"L"+v+",0L"+x+",-"+_+"H-"+x+"L-"+v+",0Z")}},octagon:{n:16,f:function(y,b,m){if(p(b))return o;var v=n(.924*y,2),x=n(.383*y,2);return g(b,m,"M-"+x+",-"+v+"H"+x+"L"+v+",-"+x+"V"+x+"L"+x+","+v+"H-"+x+"L-"+v+","+x+"V-"+x+"Z")}},star:{n:17,f:function(y,b,m){if(p(b))return o;var v=1.4*y,x=n(.225*v,2),_=n(.951*v,2),T=n(.363*v,2),C=n(.588*v,2),S=n(-v,2),F=n(-.309*v,2),N=n(.118*v,2),D=n(.809*v,2);return g(b,m,"M"+x+","+F+"H"+_+"L"+T+","+N+"L"+C+","+D+"L0,"+n(.382*v,2)+"L-"+C+","+D+"L-"+T+","+N+"L-"+_+","+F+"H-"+x+"L0,"+S+"Z")}},hexagram:{n:18,f:function(y,b,m){if(p(b))return o;var v=n(.66*y,2),x=n(.38*y,2),_=n(.76*y,2);return g(b,m,"M-"+_+",0l-"+x+",-"+v+"h"+_+"l"+x+",-"+v+"l"+x+","+v+"h"+_+"l-"+x+","+v+"l"+x+","+v+"h-"+_+"l-"+x+","+v+"l-"+x+",-"+v+"h-"+_+"Z")}},"star-triangle-up":{n:19,f:function(y,b,m){if(p(b))return o;var v=n(y*u*.8,2),x=n(.8*y,2),_=n(1.6*y,2),T=n(4*y,2),C="A "+T+","+T+" 0 0 1 ";return g(b,m,"M-"+v+","+x+C+v+","+x+C+"0,-"+_+C+"-"+v+","+x+"Z")}},"star-triangle-down":{n:20,f:function(y,b,m){if(p(b))return o;var v=n(y*u*.8,2),x=n(.8*y,2),_=n(1.6*y,2),T=n(4*y,2),C="A "+T+","+T+" 0 0 1 ";return g(b,m,"M"+v+",-"+x+C+"-"+v+",-"+x+C+"0,"+_+C+v+",-"+x+"Z")}},"star-square":{n:21,f:function(y,b,m){if(p(b))return o;var v=n(1.1*y,2),x=n(2*y,2),_="A "+x+","+x+" 0 0 1 ";return g(b,m,"M-"+v+",-"+v+_+"-"+v+","+v+_+v+","+v+_+v+",-"+v+_+"-"+v+",-"+v+"Z")}},"star-diamond":{n:22,f:function(y,b,m){if(p(b))return o;var v=n(1.4*y,2),x=n(1.9*y,2),_="A "+x+","+x+" 0 0 1 ";return g(b,m,"M-"+v+",0"+_+"0,"+v+_+v+",0"+_+"0,-"+v+_+"-"+v+",0Z")}},"diamond-tall":{n:23,f:function(y,b,m){if(p(b))return o;var v=n(.7*y,2),x=n(1.4*y,2);return g(b,m,"M0,"+x+"L"+v+",0L0,-"+x+"L-"+v+",0Z")}},"diamond-wide":{n:24,f:function(y,b,m){if(p(b))return o;var v=n(1.4*y,2),x=n(.7*y,2);return g(b,m,"M0,"+x+"L"+v+",0L0,-"+x+"L-"+v+",0Z")}},hourglass:{n:25,f:function(y,b,m){if(p(b))return o;var v=n(y,2);return g(b,m,"M"+v+","+v+"H-"+v+"L"+v+",-"+v+"H-"+v+"Z")},noDot:!0},bowtie:{n:26,f:function(y,b,m){if(p(b))return o;var v=n(y,2);return g(b,m,"M"+v+","+v+"V-"+v+"L-"+v+","+v+"V-"+v+"Z")},noDot:!0},"circle-cross":{n:27,f:function(y,b,m){if(p(b))return o;var v=n(y,2);return g(b,m,"M0,"+v+"V-"+v+"M"+v+",0H-"+v+"M"+v+",0A"+v+","+v+" 0 1,1 0,-"+v+"A"+v+","+v+" 0 0,1 "+v+",0Z")},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(y,b,m){if(p(b))return o;var v=n(y,2),x=n(y/l,2);return g(b,m,"M"+x+","+x+"L-"+x+",-"+x+"M"+x+",-"+x+"L-"+x+","+x+"M"+v+",0A"+v+","+v+" 0 1,1 0,-"+v+"A"+v+","+v+" 0 0,1 "+v+",0Z")},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(y,b,m){if(p(b))return o;var v=n(y,2);return g(b,m,"M0,"+v+"V-"+v+"M"+v+",0H-"+v+"M"+v+","+v+"H-"+v+"V-"+v+"H"+v+"Z")},needLine:!0,noDot:!0},"square-x":{n:30,f:function(y,b,m){if(p(b))return o;var v=n(y,2);return g(b,m,"M"+v+","+v+"L-"+v+",-"+v+"M"+v+",-"+v+"L-"+v+","+v+"M"+v+","+v+"H-"+v+"V-"+v+"H"+v+"Z")},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(y,b,m){if(p(b))return o;var v=n(1.3*y,2);return g(b,m,"M"+v+",0L0,"+v+"L-"+v+",0L0,-"+v+"ZM0,-"+v+"V"+v+"M-"+v+",0H"+v)},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(y,b,m){if(p(b))return o;var v=n(1.3*y,2),x=n(.65*y,2);return g(b,m,"M"+v+",0L0,"+v+"L-"+v+",0L0,-"+v+"ZM-"+x+",-"+x+"L"+x+","+x+"M-"+x+","+x+"L"+x+",-"+x)},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(y,b,m){if(p(b))return o;var v=n(1.4*y,2);return g(b,m,"M0,"+v+"V-"+v+"M"+v+",0H-"+v)},needLine:!0,noDot:!0,noFill:!0},"x-thin":{n:34,f:function(y,b,m){if(p(b))return o;var v=n(y,2);return g(b,m,"M"+v+","+v+"L-"+v+",-"+v+"M"+v+",-"+v+"L-"+v+","+v)},needLine:!0,noDot:!0,noFill:!0},asterisk:{n:35,f:function(y,b,m){if(p(b))return o;var v=n(1.2*y,2),x=n(.85*y,2);return g(b,m,"M0,"+v+"V-"+v+"M"+v+",0H-"+v+"M"+x+","+x+"L-"+x+",-"+x+"M"+x+",-"+x+"L-"+x+","+x)},needLine:!0,noDot:!0,noFill:!0},hash:{n:36,f:function(y,b,m){if(p(b))return o;var v=n(y/2,2),x=n(y,2);return g(b,m,"M"+v+","+x+"V-"+x+"M"+(v-x)+",-"+x+"V"+x+"M"+x+","+v+"H-"+x+"M-"+x+","+(v-x)+"H"+x)},needLine:!0,noFill:!0},"y-up":{n:37,f:function(y,b,m){if(p(b))return o;var v=n(1.2*y,2),x=n(1.6*y,2),_=n(.8*y,2);return g(b,m,"M-"+v+","+_+"L0,0M"+v+","+_+"L0,0M0,-"+x+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-down":{n:38,f:function(y,b,m){if(p(b))return o;var v=n(1.2*y,2),x=n(1.6*y,2),_=n(.8*y,2);return g(b,m,"M-"+v+",-"+_+"L0,0M"+v+",-"+_+"L0,0M0,"+x+"L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-left":{n:39,f:function(y,b,m){if(p(b))return o;var v=n(1.2*y,2),x=n(1.6*y,2),_=n(.8*y,2);return g(b,m,"M"+_+","+v+"L0,0M"+_+",-"+v+"L0,0M-"+x+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"y-right":{n:40,f:function(y,b,m){if(p(b))return o;var v=n(1.2*y,2),x=n(1.6*y,2),_=n(.8*y,2);return g(b,m,"M-"+_+","+v+"L0,0M-"+_+",-"+v+"L0,0M"+x+",0L0,0")},needLine:!0,noDot:!0,noFill:!0},"line-ew":{n:41,f:function(y,b,m){if(p(b))return o;var v=n(1.4*y,2);return g(b,m,"M"+v+",0H-"+v)},needLine:!0,noDot:!0,noFill:!0},"line-ns":{n:42,f:function(y,b,m){if(p(b))return o;var v=n(1.4*y,2);return g(b,m,"M0,"+v+"V-"+v)},needLine:!0,noDot:!0,noFill:!0},"line-ne":{n:43,f:function(y,b,m){if(p(b))return o;var v=n(y,2);return g(b,m,"M"+v+",-"+v+"L-"+v+","+v)},needLine:!0,noDot:!0,noFill:!0},"line-nw":{n:44,f:function(y,b,m){if(p(b))return o;var v=n(y,2);return g(b,m,"M"+v+","+v+"L-"+v+",-"+v)},needLine:!0,noDot:!0,noFill:!0},"arrow-up":{n:45,f:function(y,b,m){if(p(b))return o;var v=n(y,2);return g(b,m,"M0,0L-"+v+","+n(2*y,2)+"H"+v+"Z")},backoff:1,noDot:!0},"arrow-down":{n:46,f:function(y,b,m){if(p(b))return o;var v=n(y,2);return g(b,m,"M0,0L-"+v+",-"+n(2*y,2)+"H"+v+"Z")},noDot:!0},"arrow-left":{n:47,f:function(y,b,m){if(p(b))return o;var v=n(2*y,2),x=n(y,2);return g(b,m,"M0,0L"+v+",-"+x+"V"+x+"Z")},noDot:!0},"arrow-right":{n:48,f:function(y,b,m){if(p(b))return o;var v=n(2*y,2),x=n(y,2);return g(b,m,"M0,0L-"+v+",-"+x+"V"+x+"Z")},noDot:!0},"arrow-bar-up":{n:49,f:function(y,b,m){if(p(b))return o;var v=n(y,2);return g(b,m,"M-"+v+",0H"+v+"M0,0L-"+v+","+n(2*y,2)+"H"+v+"Z")},backoff:1,needLine:!0,noDot:!0},"arrow-bar-down":{n:50,f:function(y,b,m){if(p(b))return o;var v=n(y,2);return g(b,m,"M-"+v+",0H"+v+"M0,0L-"+v+",-"+n(2*y,2)+"H"+v+"Z")},needLine:!0,noDot:!0},"arrow-bar-left":{n:51,f:function(y,b,m){if(p(b))return o;var v=n(2*y,2),x=n(y,2);return g(b,m,"M0,-"+x+"V"+x+"M0,0L"+v+",-"+x+"V"+x+"Z")},needLine:!0,noDot:!0},"arrow-bar-right":{n:52,f:function(y,b,m){if(p(b))return o;var v=n(2*y,2),x=n(y,2);return g(b,m,"M0,-"+x+"V"+x+"M0,0L-"+v+",-"+x+"V"+x+"Z")},needLine:!0,noDot:!0},arrow:{n:53,f:function(y,b,m){if(p(b))return o;var v=d/2.5,x=2*y*c(v),_=2*y*h(v);return g(b,m,"M0,0L"+-x+","+_+"L"+x+","+_+"Z")},backoff:.9,noDot:!0},"arrow-wide":{n:54,f:function(y,b,m){if(p(b))return o;var v=d/4,x=2*y*c(v),_=2*y*h(v);return g(b,m,"M0,0L"+-x+","+_+"A "+2*y+","+2*y+" 0 0 1 "+x+","+_+"Z")},backoff:.4,noDot:!0}}},25673:function(w){w.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc",_deprecated:{opacity:{valType:"number",editType:"style"}}}},84532:function(w,s,t){var a=t(92770),f=t(73972),e=t(89298),i=t(71828),r=t(45827);function n(o,l,u,d){var c=l["error_"+d]||{},h=[];if(c.visible&&["linear","log"].indexOf(u.type)!==-1){for(var p=r(c),g=0;g<o.length;g++){var y=o[g],b=y.i;if(b===void 0)b=g;else if(b===null)continue;var m=y[d];if(a(u.c2l(m))){var v=p(m,b);if(a(v[0])&&a(v[1])){var x=y[d+"s"]=m-v[0],_=y[d+"h"]=m+v[1];h.push(x,_)}}}var T=u._id,C=l._extremes[T],S=e.findExtremes(u,h,i.extendFlat({tozero:C.opts.tozero},{padded:!0}));C.min=C.min.concat(S.min),C.max=C.max.concat(S.max)}}w.exports=function(o){for(var l=o.calcdata,u=0;u<l.length;u++){var d=l[u],c=d[0].trace;if(c.visible===!0&&f.traceIs(c,"errorBarsOK")){var h=e.getFromId(o,c.xaxis),p=e.getFromId(o,c.yaxis);n(d,c,h,"x"),n(d,c,p,"y")}}}},45827:function(w){function s(t,a){return t==="percent"?function(f){return Math.abs(f*a/100)}:t==="constant"?function(){return Math.abs(a)}:t==="sqrt"?function(f){return Math.sqrt(Math.abs(f))}:void 0}w.exports=function(t){var a=t.type,f=t.symmetric;if(a==="data"){var e=t.array||[];if(f)return function(o,l){var u=+e[l];return[u,u]};var i=t.arrayminus||[];return function(o,l){var u=+e[l],d=+i[l];return isNaN(u)&&isNaN(d)?[NaN,NaN]:[d||0,u||0]}}var r=s(a,t.value),n=s(a,t.valueminus);return f||t.valueminus===void 0?function(o){var l=r(o);return[l,l]}:function(o){return[n(o),r(o)]}}},97587:function(w,s,t){var a=t(92770),f=t(73972),e=t(71828),i=t(44467),r=t(25673);w.exports=function(n,o,l,u){var d="error_"+u.axis,c=i.newContainer(o,d),h=n[d]||{};function p(m,v){return e.coerce(h,c,r,m,v)}if(p("visible",h.array!==void 0||h.value!==void 0||h.type==="sqrt")!==!1){var g=p("type","array"in h?"data":"percent"),y=!0;g!=="sqrt"&&(y=p("symmetric",!((g==="data"?"arrayminus":"valueminus")in h))),g==="data"?(p("array"),p("traceref"),y||(p("arrayminus"),p("tracerefminus"))):g!=="percent"&&g!=="constant"||(p("value"),y||p("valueminus"));var b="copy_"+u.inherit+"style";u.inherit&&(o["error_"+u.inherit]||{}).visible&&p(b,!(h.color||a(h.thickness)||a(h.width))),u.inherit&&c[b]||(p("color",l),p("thickness"),p("width",f.traceIs(o,"gl3d")?0:4))}}},37369:function(w,s,t){var a=t(71828),f=t(30962).overrideAll,e=t(25673),i={error_x:a.extendFlat({},e),error_y:a.extendFlat({},e)};delete i.error_x.copy_zstyle,delete i.error_y.copy_zstyle,delete i.error_y.copy_ystyle;var r={error_x:a.extendFlat({},e),error_y:a.extendFlat({},e),error_z:a.extendFlat({},e)};delete r.error_x.copy_ystyle,delete r.error_y.copy_ystyle,delete r.error_z.copy_ystyle,delete r.error_z.copy_zstyle,w.exports={moduleType:"component",name:"errorbars",schema:{traces:{scatter:i,bar:i,histogram:i,scatter3d:f(r,"calc","nested"),scattergl:f(i,"calc","nested")}},supplyDefaults:t(97587),calc:t(84532),makeComputeError:t(45827),plot:t(19398),style:t(62662),hoverInfo:function(n,o,l){(o.error_y||{}).visible&&(l.yerr=n.yh-n.y,o.error_y.symmetric||(l.yerrneg=n.y-n.ys)),(o.error_x||{}).visible&&(l.xerr=n.xh-n.x,o.error_x.symmetric||(l.xerrneg=n.x-n.xs))}}},19398:function(w,s,t){var a=t(39898),f=t(92770),e=t(91424),i=t(34098);w.exports=function(r,n,o,l){var u=o.xaxis,d=o.yaxis,c=l&&l.duration>0,h=r._context.staticPlot;n.each(function(p){var g,y=p[0].trace,b=y.error_x||{},m=y.error_y||{};y.ids&&(g=function(T){return T.id});var v=i.hasMarkers(y)&&y.marker.maxdisplayed>0;m.visible||b.visible||(p=[]);var x=a.select(this).selectAll("g.errorbar").data(p,g);if(x.exit().remove(),p.length){b.visible||x.selectAll("path.xerror").remove(),m.visible||x.selectAll("path.yerror").remove(),x.style("opacity",1);var _=x.enter().append("g").classed("errorbar",!0);c&&_.style("opacity",0).transition().duration(l.duration).style("opacity",1),e.setClipUrl(x,o.layerClipId,r),x.each(function(T){var C=a.select(this),S=function(J,P,M){var O={x:P.c2p(J.x),y:M.c2p(J.y)};return J.yh!==void 0&&(O.yh=M.c2p(J.yh),O.ys=M.c2p(J.ys),f(O.ys)||(O.noYS=!0,O.ys=M.c2p(J.ys,!0))),J.xh!==void 0&&(O.xh=P.c2p(J.xh),O.xs=P.c2p(J.xs),f(O.xs)||(O.noXS=!0,O.xs=P.c2p(J.xs,!0))),O}(T,u,d);if(!v||T.vis){var F,N=C.select("path.yerror");if(m.visible&&f(S.x)&&f(S.yh)&&f(S.ys)){var D=m.width;F="M"+(S.x-D)+","+S.yh+"h"+2*D+"m-"+D+",0V"+S.ys,S.noYS||(F+="m-"+D+",0h"+2*D),N.size()?c&&(N=N.transition().duration(l.duration).ease(l.easing)):N=C.append("path").style("vector-effect",h?"none":"non-scaling-stroke").classed("yerror",!0),N.attr("d",F)}else N.remove();var j=C.select("path.xerror");if(b.visible&&f(S.y)&&f(S.xh)&&f(S.xs)){var B=(b.copy_ystyle?m:b).width;F="M"+S.xh+","+(S.y-B)+"v"+2*B+"m0,-"+B+"H"+S.xs,S.noXS||(F+="m0,-"+B+"v"+2*B),j.size()?c&&(j=j.transition().duration(l.duration).ease(l.easing)):j=C.append("path").style("vector-effect",h?"none":"non-scaling-stroke").classed("xerror",!0),j.attr("d",F)}else j.remove()}})}})}},62662:function(w,s,t){var a=t(39898),f=t(7901);w.exports=function(e){e.each(function(i){var r=i[0].trace,n=r.error_y||{},o=r.error_x||{},l=a.select(this);l.selectAll("path.yerror").style("stroke-width",n.thickness+"px").call(f.stroke,n.color),o.copy_ystyle&&(o=n),l.selectAll("path.xerror").style("stroke-width",o.thickness+"px").call(f.stroke,o.color)})}},77914:function(w,s,t){var a=t(41940),f=t(528).hoverlabel,e=t(1426).extendFlat;w.exports={hoverlabel:{bgcolor:e({},f.bgcolor,{arrayOk:!0}),bordercolor:e({},f.bordercolor,{arrayOk:!0}),font:a({arrayOk:!0,editType:"none"}),align:e({},f.align,{arrayOk:!0}),namelength:e({},f.namelength,{arrayOk:!0}),editType:"none"}}},30732:function(w,s,t){var a=t(71828),f=t(73972);function e(i,r,n,o){o=o||a.identity,Array.isArray(i)&&(r[0][n]=o(i))}w.exports=function(i){var r=i.calcdata,n=i._fullLayout;function o(h){return function(p){return a.coerceHoverinfo({hoverinfo:p},{_module:h._module},n)}}for(var l=0;l<r.length;l++){var u=r[l],d=u[0].trace;if(!f.traceIs(d,"pie-like")){var c=f.traceIs(d,"2dMap")?e:a.fillArray;c(d.hoverinfo,u,"hi",o(d)),d.hovertemplate&&c(d.hovertemplate,u,"ht"),d.hoverlabel&&(c(d.hoverlabel.bgcolor,u,"hbg"),c(d.hoverlabel.bordercolor,u,"hbc"),c(d.hoverlabel.font.size,u,"hts"),c(d.hoverlabel.font.color,u,"htc"),c(d.hoverlabel.font.family,u,"htf"),c(d.hoverlabel.namelength,u,"hnl"),c(d.hoverlabel.align,u,"hta"))}}}},75914:function(w,s,t){var a=t(73972),f=t(88335).hover;w.exports=function(e,i,r){var n=a.getComponentMethod("annotations","onClick")(e,e._hoverdata);function o(){e.emit("plotly_click",{points:e._hoverdata,event:i})}r!==void 0&&f(e,i,r,!0),e._hoverdata&&i&&i.target&&(n&&n.then?n.then(o):o(),i.stopImmediatePropagation&&i.stopImmediatePropagation())}},26675:function(w){w.exports={YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}},54268:function(w,s,t){var a=t(71828),f=t(77914),e=t(38048);w.exports=function(i,r,n,o){var l=a.extendFlat({},o.hoverlabel);r.hovertemplate&&(l.namelength=-1),e(i,r,function(u,d){return a.coerce(i,r,f,u,d)},l)}},23469:function(w,s,t){var a=t(71828);s.getSubplot=function(o){return o.subplot||o.xaxis+o.yaxis||o.geo},s.isTraceInSubplots=function(o,l){if(o.type==="splom"){for(var u=o.xaxes||[],d=o.yaxes||[],c=0;c<u.length;c++)for(var h=0;h<d.length;h++)if(l.indexOf(u[c]+d[h])!==-1)return!0;return!1}return l.indexOf(s.getSubplot(o))!==-1},s.flat=function(o,l){for(var u=new Array(o.length),d=0;d<o.length;d++)u[d]=l;return u},s.p2c=function(o,l){for(var u=new Array(o.length),d=0;d<o.length;d++)u[d]=o[d].p2c(l);return u},s.getDistanceFunction=function(o,l,u,d){return o==="closest"?d||s.quadrature(l,u):o.charAt(0)==="x"?l:u},s.getClosest=function(o,l,u){if(u.index!==!1)u.index>=0&&u.index<o.length?u.distance=0:u.index=!1;else for(var d=0;d<o.length;d++){var c=l(o[d]);c<=u.distance&&(u.index=d,u.distance=c)}return u},s.inbox=function(o,l,u){return o*l<0||o===0?u:1/0},s.quadrature=function(o,l){return function(u){var d=o(u),c=l(u);return Math.sqrt(d*d+c*c)}},s.makeEventData=function(o,l,u){var d="index"in o?o.index:o.pointNumber,c={data:l._input,fullData:l,curveNumber:l.index,pointNumber:d};if(l._indexToPoints){var h=l._indexToPoints[d];h.length===1?c.pointIndex=h[0]:c.pointIndices=h}else c.pointIndex=d;return l._module.eventData?c=l._module.eventData(c,o,l,u,d):("xVal"in o?c.x=o.xVal:"x"in o&&(c.x=o.x),"yVal"in o?c.y=o.yVal:"y"in o&&(c.y=o.y),o.xa&&(c.xaxis=o.xa),o.ya&&(c.yaxis=o.ya),o.zLabelVal!==void 0&&(c.z=o.zLabelVal)),s.appendArrayPointValue(c,l,d),c},s.appendArrayPointValue=function(o,l,u){var d=l._arrayAttrs;if(d)for(var c=0;c<d.length;c++){var h=d[c],p=e(h);if(o[p]===void 0){var g=i(a.nestedProperty(l,h).get(),u);g!==void 0&&(o[p]=g)}}},s.appendArrayMultiPointValues=function(o,l,u){var d=l._arrayAttrs;if(d)for(var c=0;c<d.length;c++){var h=d[c],p=e(h);if(o[p]===void 0){for(var g=a.nestedProperty(l,h).get(),y=new Array(u.length),b=0;b<u.length;b++)y[b]=i(g,u[b]);o[p]=y}}};var f={ids:"id",locations:"location",labels:"label",values:"value","marker.colors":"color",parents:"parent"};function e(o){return f[o]||o}function i(o,l){return Array.isArray(l)?Array.isArray(o)&&Array.isArray(o[l[0]])?o[l[0]][l[1]]:void 0:o[l]}var r={x:!0,y:!0},n={"x unified":!0,"y unified":!0};s.isUnifiedHover=function(o){return typeof o=="string"&&!!n[o]},s.isXYhover=function(o){return typeof o=="string"&&!!r[o]}},88335:function(w,s,t){var a=t(39898),f=t(92770),e=t(84267),i=t(71828),r=i.strTranslate,n=i.strRotate,o=t(11086),l=t(63893),u=t(39918),d=t(91424),c=t(7901),h=t(28569),p=t(89298),g=t(73972),y=t(23469),b=t(26675),m=t(99017),v=t(43969),x=b.YANGLE,_=Math.PI*x/180,T=1/Math.sin(_),C=Math.cos(_),S=Math.sin(_),F=b.HOVERARROWSIZE,N=b.HOVERTEXTPAD,D={box:!0,ohlc:!0,violin:!0,candlestick:!0},j={scatter:!0,scattergl:!0,splom:!0};function B(H){return[H.trace.index,H.index,H.x0,H.y0,H.name,H.attr,H.xa?H.xa._id:"",H.ya?H.ya._id:""].join(",")}s.hover=function(H,U,V,$){H=i.getGraphDiv(H);var at=U.target;i.throttle(H._fullLayout._uid+b.HOVERID,b.HOVERMINTIME,function(){(function(rt,ot,ct,ht,mt){ct||(ct="xy");var kt=Array.isArray(ct)?ct:[ct],Ct=rt._fullLayout,It=Ct._plots||[],pt=It[ct],bt=Ct._has("cartesian");if(pt){var _t=pt.overlays.map(function(Xe){return Xe.id});kt=kt.concat(_t)}for(var Dt=kt.length,L=new Array(Dt),X=new Array(Dt),it=!1,ft=0;ft<Dt;ft++){var gt=kt[ft];if(It[gt])it=!0,L[ft]=It[gt].xaxis,X[ft]=It[gt].yaxis;else{if(!Ct[gt]||!Ct[gt]._subplot)return void i.warn("Unrecognized subplot: "+gt);var wt=Ct[gt]._subplot;L[ft]=wt.xaxis,X[ft]=wt.yaxis}}var xt=ot.hovermode||Ct.hovermode;if(xt&&!it&&(xt="closest"),["x","y","closest","x unified","y unified"].indexOf(xt)===-1||!rt.calcdata||rt.querySelector(".zoombox")||rt._dragging)return h.unhoverRaw(rt,ot);var Ft=Ct.hoverdistance;Ft===-1&&(Ft=1/0);var Bt=Ct.spikedistance;Bt===-1&&(Bt=1/0);var Mt,St,Lt,Pt,zt,Xt,Gt,Kt,ie,de,Jt,Nt,Vt,Zt=[],Wt=[],he={hLinePoint:null,vLinePoint:null},$t=!1;if(Array.isArray(ot))for(xt="array",Lt=0;Lt<ot.length;Lt++)(zt=rt.calcdata[ot[Lt].curveNumber||0])&&(Xt=zt[0].trace,zt[0].trace.hoverinfo!=="skip"&&(Wt.push(zt),Xt.orientation==="h"&&($t=!0)));else{for(Pt=0;Pt<rt.calcdata.length;Pt++)zt=rt.calcdata[Pt],(Xt=zt[0].trace).hoverinfo!=="skip"&&y.isTraceInSubplots(Xt,kt)&&(Wt.push(zt),Xt.orientation==="h"&&($t=!0));var ye,se;if(mt){if(o.triggerHandler(rt,"plotly_beforehover",ot)===!1)return;var Pe=mt.getBoundingClientRect();ye=ot.clientX-Pe.left,se=ot.clientY-Pe.top,Ct._calcInverseTransform(rt);var Ce=i.apply3DTransform(Ct._invTransform)(ye,se);if(ye=Ce[0],se=Ce[1],ye<0||ye>L[0]._length||se<0||se>X[0]._length)return h.unhoverRaw(rt,ot)}else ye="xpx"in ot?ot.xpx:L[0]._length/2,se="ypx"in ot?ot.ypx:X[0]._length/2;if(ot.pointerX=ye+L[0]._offset,ot.pointerY=se+X[0]._offset,Mt="xval"in ot?y.flat(kt,ot.xval):y.p2c(L,ye),St="yval"in ot?y.flat(kt,ot.yval):y.p2c(X,se),!f(Mt[0])||!f(St[0]))return i.warn("Fx.hover failed",ot,rt),h.unhoverRaw(rt,ot)}var Ne=1/0;function yt(Xe,un){for(Pt=0;Pt<Wt.length;Pt++)if((zt=Wt[Pt])&&zt[0]&&zt[0].trace&&(Xt=zt[0].trace).visible===!0&&Xt._length!==0&&["carpet","contourcarpet"].indexOf(Xt._module.name)===-1){if(Xt.type==="splom"?Gt=kt[Kt=0]:(Gt=y.getSubplot(Xt),Kt=kt.indexOf(Gt)),ie=xt,y.isUnifiedHover(ie)&&(ie=ie.charAt(0)),Nt={cd:zt,trace:Xt,xa:L[Kt],ya:X[Kt],maxHoverDistance:Ft,maxSpikeDistance:Bt,index:!1,distance:Math.min(Ne,Ft),spikeDistance:1/0,xSpike:void 0,ySpike:void 0,color:c.defaultLine,name:Xt.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},Ct[Gt]&&(Nt.subplot=Ct[Gt]._subplot),Ct._splomScenes&&Ct._splomScenes[Xt.uid]&&(Nt.scene=Ct._splomScenes[Xt.uid]),Vt=Zt.length,ie==="array"){var tn=ot[Pt];"pointNumber"in tn?(Nt.index=tn.pointNumber,ie="closest"):(ie="","xval"in tn&&(de=tn.xval,ie="x"),"yval"in tn&&(Jt=tn.yval,ie=ie?"closest":"y"))}else Xe!==void 0&&un!==void 0?(de=Xe,Jt=un):(de=Mt[Kt],Jt=St[Kt]);if(Ft!==0)if(Xt._module&&Xt._module.hoverPoints){var vn=Xt._module.hoverPoints(Nt,de,Jt,ie,{finiteRange:!0,hoverLayer:Ct._hoverlayer});if(vn)for(var fn,gn=0;gn<vn.length;gn++)fn=vn[gn],f(fn.x0)&&f(fn.y0)&&Zt.push(tt(fn,xt))}else i.log("Unrecognized trace type in hover:",Xt);if(xt==="closest"&&Zt.length>Vt&&(Zt.splice(0,Vt),Ne=Zt[0].distance),bt&&Bt!==0&&Zt.length===0){Nt.distance=Bt,Nt.index=!1;var En=Xt._module.hoverPoints(Nt,de,Jt,"closest",{hoverLayer:Ct._hoverlayer});if(En&&(En=En.filter(function(zn){return zn.spikeDistance<=Bt})),En&&En.length){var xn,Cn=En.filter(function(zn){return zn.xa.showspikes&&zn.xa.spikesnap!=="hovered data"});if(Cn.length){var Zn=Cn[0];f(Zn.x0)&&f(Zn.y0)&&(xn=Rt(Zn),(!he.vLinePoint||he.vLinePoint.spikeDistance>xn.spikeDistance)&&(he.vLinePoint=xn))}var Yn=En.filter(function(zn){return zn.ya.showspikes&&zn.ya.spikesnap!=="hovered data"});if(Yn.length){var Fr=Yn[0];f(Fr.x0)&&f(Fr.y0)&&(xn=Rt(Fr),(!he.hLinePoint||he.hLinePoint.spikeDistance>xn.spikeDistance)&&(he.hLinePoint=xn))}}}}}function vt(Xe,un,tn){for(var vn,fn=null,gn=1/0,En=0;En<Xe.length;En++)vn=Xe[En].spikeDistance,tn&&En===0&&(vn=-1/0),vn<=gn&&vn<=un&&(fn=Xe[En],gn=vn);return fn}function Rt(Xe){return Xe?{xa:Xe.xa,ya:Xe.ya,x:Xe.xSpike!==void 0?Xe.xSpike:(Xe.x0+Xe.x1)/2,y:Xe.ySpike!==void 0?Xe.ySpike:(Xe.y0+Xe.y1)/2,distance:Xe.distance,spikeDistance:Xe.spikeDistance,curveNumber:Xe.trace.index,color:Xe.color,pointNumber:Xe.index}:null}yt();var Ut={fullLayout:Ct,container:Ct._hoverlayer,event:ot},Ht=rt._spikepoints,Yt={vLinePoint:he.vLinePoint,hLinePoint:he.hLinePoint};rt._spikepoints=Yt;var ee=function(){Zt.sort(function(Xe,un){return Xe.distance-un.distance}),Zt=function(Xe,un){for(var tn=un.charAt(0),vn=[],fn=[],gn=[],En=0;En<Xe.length;En++){var xn=Xe[En];g.traceIs(xn.trace,"bar-like")||g.traceIs(xn.trace,"box-violin")?gn.push(xn):xn.trace[tn+"period"]?fn.push(xn):vn.push(xn)}return vn.concat(fn).concat(gn)}(Zt,xt)};ee();var ne=xt.charAt(0),re=(ne==="x"||ne==="y")&&Zt[0]&&j[Zt[0].trace.type];if(bt&&Bt!==0&&Zt.length!==0){var ve=vt(Zt.filter(function(Xe){return Xe.ya.showspikes}),Bt,re);he.hLinePoint=Rt(ve);var fe=vt(Zt.filter(function(Xe){return Xe.xa.showspikes}),Bt,re);he.vLinePoint=Rt(fe)}if(Zt.length===0){var pe=h.unhoverRaw(rt,ot);return!bt||he.hLinePoint===null&&he.vLinePoint===null||z(Ht)&&E(rt,he,Ut),pe}if(bt&&z(Ht)&&E(rt,he,Ut),y.isXYhover(ie)&&Zt[0].length!==0&&Zt[0].trace.type!=="splom"){var ze=Zt[0],Be=(Zt=D[ze.trace.type]?Zt.filter(function(Xe){return Xe.trace.index===ze.trace.index}):[ze]).length;yt(Q("x",ze,Ct),Q("y",ze,Ct));var Me,_e=[],xe={},me=0,Te=function(Xe){var un=D[Xe.trace.type]?B(Xe):Xe.trace.index;if(xe[un]){var tn=xe[un]-1,vn=_e[tn];tn>0&&Math.abs(Xe.distance)<Math.abs(vn.distance)&&(_e[tn]=Xe)}else me++,xe[un]=me,_e.push(Xe)};for(Me=0;Me<Be;Me++)Te(Zt[Me]);for(Me=Zt.length-1;Me>Be-1;Me--)Te(Zt[Me]);Zt=_e,ee()}var we=rt._hoverdata,Ae=[],Ye=nt(rt),Re=et(rt);for(Lt=0;Lt<Zt.length;Lt++){var ge=Zt[Lt],ke=y.makeEventData(ge,ge.trace,ge.cd);if(ge.hovertemplate!==!1){var Ee=!1;ge.cd[ge.index]&&ge.cd[ge.index].ht&&(Ee=ge.cd[ge.index].ht),ge.hovertemplate=Ee||ge.trace.hovertemplate||!1}if(ge.xa&&ge.ya){var Oe=ge.x0+ge.xa._offset,Se=ge.x1+ge.xa._offset,Fe=ge.y0+ge.ya._offset,je=ge.y1+ge.ya._offset,Ue=Math.min(Oe,Se),He=Math.max(Oe,Se),Je=Math.min(Fe,je),Qe=Math.max(Fe,je);ke.bbox={x0:Ue+Re,x1:He+Re,y0:Je+Ye,y1:Qe+Ye}}ge.eventData=[ke],Ae.push(ke)}rt._hoverdata=Ae;var ln=xt==="y"&&(Wt.length>1||Zt.length>1)||xt==="closest"&&$t&&Zt.length>1,rn=c.combine(Ct.plot_bgcolor||c.background,Ct.paper_bgcolor),We=P(Zt,{gd:rt,hovermode:xt,rotateLabels:ln,bgColor:rn,container:Ct._hoverlayer,outerContainer:Ct._paper.node(),commonLabelOpts:Ct.hoverlabel,hoverdistance:Ct.hoverdistance}),nn=We.hoverLabels;if(y.isUnifiedHover(xt)||(function(Xe,un,tn,vn){var fn,gn,En,xn,Cn,Zn,Yn,Fr=un?"xa":"ya",zn=un?"ya":"xa",Nn=0,gr=1,mr=Xe.size(),pn=new Array(mr),en=0,Dn=vn.minX,er=vn.maxX,_n=vn.minY,On=vn.maxY,An=function(wn){return wn*tn._invScaleX},Pn=function(wn){return wn*tn._invScaleY};function cr(wn){var ir=wn[0],Dr=wn[wn.length-1];if(gn=ir.pmin-ir.pos-ir.dp+ir.size,En=Dr.pos+Dr.dp+Dr.size-ir.pmax,gn>.01){for(Cn=wn.length-1;Cn>=0;Cn--)wn[Cn].dp+=gn;fn=!1}if(!(En<.01)){if(gn<-.01){for(Cn=wn.length-1;Cn>=0;Cn--)wn[Cn].dp-=En;fn=!1}if(fn){var ur=0;for(xn=0;xn<wn.length;xn++)(Zn=wn[xn]).pos+Zn.dp+Zn.size>ir.pmax&&ur++;for(xn=wn.length-1;xn>=0&&!(ur<=0);xn--)(Zn=wn[xn]).pos>ir.pmax-1&&(Zn.del=!0,ur--);for(xn=0;xn<wn.length&&!(ur<=0);xn++)if((Zn=wn[xn]).pos<ir.pmin+1)for(Zn.del=!0,ur--,En=2*Zn.size,Cn=wn.length-1;Cn>=0;Cn--)wn[Cn].dp-=En;for(xn=wn.length-1;xn>=0&&!(ur<=0);xn--)(Zn=wn[xn]).pos+Zn.dp+Zn.size>ir.pmax&&(Zn.del=!0,ur--)}}}for(Xe.each(function(wn){var ir=wn[Fr],Dr=wn[zn],ur=ir._id.charAt(0)==="x",va=ir.range;en===0&&va&&va[0]>va[1]!==ur&&(gr=-1);var oa=0,jr=ur?tn.width:tn.height;if(tn.hovermode==="x"||tn.hovermode==="y"){var Ur,la,ga=O(wn,un),li=wn.anchor,ma=li==="end"?-1:1;if(li==="middle")la=(Ur=wn.crossPos+(ur?Pn(ga.y-wn.by/2):An(wn.bx/2+wn.tx2width/2)))+(ur?Pn(wn.by):An(wn.bx));else if(ur)la=(Ur=wn.crossPos+Pn(F+ga.y)-Pn(wn.by/2-F))+Pn(wn.by);else{var qa=An(ma*F+ga.x),si=qa+An(ma*wn.bx);Ur=wn.crossPos+Math.min(qa,si),la=wn.crossPos+Math.max(qa,si)}ur?_n!==void 0&&On!==void 0&&Math.min(la,On)-Math.max(Ur,_n)>1&&(Dr.side==="left"?(oa=Dr._mainLinePosition,jr=tn.width):jr=Dr._mainLinePosition):Dn!==void 0&&er!==void 0&&Math.min(la,er)-Math.max(Ur,Dn)>1&&(Dr.side==="top"?(oa=Dr._mainLinePosition,jr=tn.height):jr=Dr._mainLinePosition)}pn[en++]=[{datum:wn,traceIndex:wn.trace.index,dp:0,pos:wn.pos,posref:wn.posref,size:wn.by*(ur?T:1)/2,pmin:oa,pmax:jr}]}),pn.sort(function(wn,ir){return wn[0].posref-ir[0].posref||gr*(ir[0].traceIndex-wn[0].traceIndex)});!fn&&Nn<=mr;){for(Nn++,fn=!0,xn=0;xn<pn.length-1;){var jn=pn[xn],nr=pn[xn+1],kr=jn[jn.length-1],wr=nr[0];if((gn=kr.pos+kr.dp+kr.size-wr.pos-wr.dp+wr.size)>.01&&kr.pmin===wr.pmin&&kr.pmax===wr.pmax){for(Cn=nr.length-1;Cn>=0;Cn--)nr[Cn].dp+=gn;for(jn.push.apply(jn,nr),pn.splice(xn+1,1),Yn=0,Cn=jn.length-1;Cn>=0;Cn--)Yn+=jn[Cn].dp;for(En=Yn/jn.length,Cn=jn.length-1;Cn>=0;Cn--)jn[Cn].dp-=En;fn=!1}else xn++}pn.forEach(cr)}for(xn=pn.length-1;xn>=0;xn--){var xr=pn[xn];for(Cn=xr.length-1;Cn>=0;Cn--){var fr=xr[Cn],Zr=fr.datum;Zr.offset=fr.dp,Zr.del=fr.del}}}(nn,ln,Ct,We.commonLabelBoundingBox),q(nn,ln,Ct._invScaleX,Ct._invScaleY)),mt&&mt.tagName){var sn=g.getComponentMethod("annotations","hasClickToShow")(rt,Ae);u(a.select(mt),sn?"pointer":"")}mt&&!ht&&function(Xe,un,tn){if(!tn||tn.length!==Xe._hoverdata.length)return!0;for(var vn=tn.length-1;vn>=0;vn--){var fn=tn[vn],gn=Xe._hoverdata[vn];if(fn.curveNumber!==gn.curveNumber||String(fn.pointNumber)!==String(gn.pointNumber)||String(fn.pointNumbers)!==String(gn.pointNumbers))return!0}return!1}(rt,0,we)&&(we&&rt.emit("plotly_unhover",{event:ot,points:we}),rt.emit("plotly_hover",{event:ot,points:rt._hoverdata,xaxes:L,yaxes:X,xvals:Mt,yvals:St}))})(H,U,V,$,at)})},s.loneHover=function(H,U){var V=!0;Array.isArray(H)||(V=!1,H=[H]);var $=U.gd,at=nt($),rt=et($),ot=P(H.map(function(mt){var kt=mt._x0||mt.x0||mt.x||0,Ct=mt._x1||mt.x1||mt.x||0,It=mt._y0||mt.y0||mt.y||0,pt=mt._y1||mt.y1||mt.y||0,bt=mt.eventData;if(bt){var _t=Math.min(kt,Ct),Dt=Math.max(kt,Ct),L=Math.min(It,pt),X=Math.max(It,pt),it=mt.trace;if(g.traceIs(it,"gl3d")){var ft=$._fullLayout[it.scene]._scene.container,gt=ft.offsetLeft,wt=ft.offsetTop;_t+=gt,Dt+=gt,L+=wt,X+=wt}bt.bbox={x0:_t+rt,x1:Dt+rt,y0:L+at,y1:X+at},U.inOut_bbox&&U.inOut_bbox.push(bt.bbox)}else bt=!1;return{color:mt.color||c.defaultLine,x0:mt.x0||mt.x||0,x1:mt.x1||mt.x||0,y0:mt.y0||mt.y||0,y1:mt.y1||mt.y||0,xLabel:mt.xLabel,yLabel:mt.yLabel,zLabel:mt.zLabel,text:mt.text,name:mt.name,idealAlign:mt.idealAlign,borderColor:mt.borderColor,fontFamily:mt.fontFamily,fontSize:mt.fontSize,fontColor:mt.fontColor,nameLength:mt.nameLength,textAlign:mt.textAlign,trace:mt.trace||{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0,hovertemplate:mt.hovertemplate||!1,hovertemplateLabels:mt.hovertemplateLabels||!1,eventData:bt}}),{gd:$,hovermode:"closest",rotateLabels:!1,bgColor:U.bgColor||c.background,container:a.select(U.container),outerContainer:U.outerContainer||U.container}).hoverLabels,ct=0,ht=0;return ot.sort(function(mt,kt){return mt.y0-kt.y0}).each(function(mt,kt){var Ct=mt.y0-mt.by/2;mt.offset=Ct-5<ct?ct-Ct+5:0,ct=Ct+mt.by+mt.offset,kt===U.anchorIndex&&(ht=mt.offset)}).each(function(mt){mt.offset-=ht}),q(ot,!1,$._fullLayout._invScaleX,$._fullLayout._invScaleY),V?ot:ot.node()};var J=/<extra>([\s\S]*)<\/extra>/;function P(H,U){var V=U.gd,$=V._fullLayout,at=U.hovermode,rt=U.rotateLabels,ot=U.bgColor,ct=U.container,ht=U.outerContainer,mt=U.commonLabelOpts||{};if(H.length===0)return[[]];var kt=U.fontFamily||b.HOVERFONT,Ct=U.fontSize||b.HOVERFONTSIZE,It=H[0],pt=It.xa,bt=It.ya,_t=at.charAt(0),Dt=_t+"Label",L=It[Dt];if(L===void 0&&pt.type==="multicategory")for(var X=0;X<H.length&&(L=H[X][Dt])===void 0;X++);var it=Z(V,ht),ft=it.top,gt=it.width,wt=it.height,xt=L!==void 0&&It.distance<=U.hoverdistance&&(at==="x"||at==="y");if(xt){var Ft,Bt,Mt=!0;for(Ft=0;Ft<H.length;Ft++)if(Mt&&H[Ft].zLabel===void 0&&(Mt=!1),Bt=H[Ft].hoverinfo||H[Ft].trace.hoverinfo){var St=Array.isArray(Bt)?Bt:Bt.split("+");if(St.indexOf("all")===-1&&St.indexOf(at)===-1){xt=!1;break}}Mt&&(xt=!1)}var Lt=ct.selectAll("g.axistext").data(xt?[0]:[]);Lt.enter().append("g").classed("axistext",!0),Lt.exit().remove();var Pt={minX:0,maxX:0,minY:0,maxY:0};if(Lt.each(function(){var pe=a.select(this),ze=i.ensureSingle(pe,"path","",function(Je){Je.style({"stroke-width":"1px"})}),Be=i.ensureSingle(pe,"text","",function(Je){Je.attr("data-notex",1)}),Me=mt.bgcolor||c.defaultLine,_e=mt.bordercolor||c.contrast(Me),xe=c.contrast(Me),me={family:mt.font.family||kt,size:mt.font.size||Ct,color:mt.font.color||xe};ze.style({fill:Me,stroke:_e}),Be.text(L).call(d.font,me).call(l.positionText,0,0).call(l.convertToTspans,V),pe.attr("transform","");var Te,we,Ae=Z(V,Be.node());if(at==="x"){var Ye=pt.side==="top"?"-":"";Be.attr("text-anchor","middle").call(l.positionText,0,pt.side==="top"?ft-Ae.bottom-F-N:ft-Ae.top+F+N),Te=pt._offset+(It.x0+It.x1)/2,we=bt._offset+(pt.side==="top"?0:bt._length);var Re=Ae.width/2+N;Te<Re?(Te=Re,ze.attr("d","M-"+(Re-F)+",0L-"+(Re-2*F)+","+Ye+F+"H"+Re+"v"+Ye+(2*N+Ae.height)+"H-"+Re+"V"+Ye+F+"Z")):Te>$.width-Re?(Te=$.width-Re,ze.attr("d","M"+(Re-F)+",0L"+Re+","+Ye+F+"v"+Ye+(2*N+Ae.height)+"H-"+Re+"V"+Ye+F+"H"+(Re-2*F)+"Z")):ze.attr("d","M0,0L"+F+","+Ye+F+"H"+Re+"v"+Ye+(2*N+Ae.height)+"H-"+Re+"V"+Ye+F+"H-"+F+"Z"),Pt.minX=Te-Re,Pt.maxX=Te+Re,pt.side==="top"?(Pt.minY=we-(2*N+Ae.height),Pt.maxY=we-N):(Pt.minY=we+N,Pt.maxY=we+(2*N+Ae.height))}else{var ge,ke,Ee;bt.side==="right"?(ge="start",ke=1,Ee="",Te=pt._offset+pt._length):(ge="end",ke=-1,Ee="-",Te=pt._offset),we=bt._offset+(It.y0+It.y1)/2,Be.attr("text-anchor",ge),ze.attr("d","M0,0L"+Ee+F+","+F+"V"+(N+Ae.height/2)+"h"+Ee+(2*N+Ae.width)+"V-"+(N+Ae.height/2)+"H"+Ee+F+"V-"+F+"Z"),Pt.minY=we-(N+Ae.height/2),Pt.maxY=we+(N+Ae.height/2),bt.side==="right"?(Pt.minX=Te+F,Pt.maxX=Te+F+(2*N+Ae.width)):(Pt.minX=Te-F-(2*N+Ae.width),Pt.maxX=Te-F);var Oe,Se=Ae.height/2,Fe=ft-Ae.top-Se,je="clip"+$._uid+"commonlabel"+bt._id;if(Te<Ae.width+2*N+F){Oe="M-"+(F+N)+"-"+Se+"h-"+(Ae.width-N)+"V"+Se+"h"+(Ae.width-N)+"Z";var Ue=Ae.width-Te+N;l.positionText(Be,Ue,Fe),ge==="end"&&Be.selectAll("tspan").each(function(){var Je=a.select(this),Qe=d.tester.append("text").text(Je.text()).call(d.font,me),ln=Z(V,Qe.node());Math.round(ln.width)<Math.round(Ae.width)&&Je.attr("x",Ue-ln.width),Qe.remove()})}else l.positionText(Be,ke*(N+F),Fe),Oe=null;var He=$._topclips.selectAll("#"+je).data(Oe?[0]:[]);He.enter().append("clipPath").attr("id",je).append("path"),He.exit().remove(),He.select("path").attr("d",Oe),d.setClipUrl(Be,Oe?je:null,V)}pe.attr("transform",r(Te,we))}),y.isUnifiedHover(at)){ct.selectAll("g.hovertext").remove();var zt=H.filter(function(pe){return pe.hoverinfo!=="none"});if(zt.length===0)return;var Xt=$.hoverlabel,Gt=Xt.font,Kt={showlegend:!0,legend:{title:{text:L,font:Gt},font:Gt,bgcolor:Xt.bgcolor,bordercolor:Xt.bordercolor,borderwidth:1,tracegroupgap:7,traceorder:$.legend?$.legend.traceorder:void 0,orientation:"v"}},ie={font:Gt};m(Kt,ie,V._fullData);var de=ie.legend;de.entries=[];for(var Jt=0;Jt<zt.length;Jt++){var Nt=zt[Jt];if(Nt.hoverinfo!=="none"){var Vt=M(Nt,!0,at,$,L),Zt=Vt[0],Wt=Vt[1];Nt.name=Wt,Nt.text=Wt!==""?Wt+" : "+Zt:Zt;var he=Nt.cd[Nt.index];he&&(he.mc&&(Nt.mc=he.mc),he.mcc&&(Nt.mc=he.mcc),he.mlc&&(Nt.mlc=he.mlc),he.mlcc&&(Nt.mlc=he.mlcc),he.mlw&&(Nt.mlw=he.mlw),he.mrc&&(Nt.mrc=he.mrc),he.dir&&(Nt.dir=he.dir)),Nt._distinct=!0,de.entries.push([Nt])}}de.entries.sort(function(pe,ze){return pe[0].trace.index-ze[0].trace.index}),de.layer=ct,de._inHover=!0,de._groupTitleFont=Xt.grouptitlefont,v(V,de);var $t,ye,se,Pe,Ce=ct.select("g.legend"),Ne=Z(V,Ce.node()),yt=Ne.width+2*N,vt=Ne.height+2*N,Rt=zt[0],Ut=(Rt.x0+Rt.x1)/2,Ht=(Rt.y0+Rt.y1)/2,Yt=!(g.traceIs(Rt.trace,"bar-like")||g.traceIs(Rt.trace,"box-violin"));_t==="y"?Yt?(ye=Ht-N,$t=Ht+N):(ye=Math.min.apply(null,zt.map(function(pe){return Math.min(pe.y0,pe.y1)})),$t=Math.max.apply(null,zt.map(function(pe){return Math.max(pe.y0,pe.y1)}))):ye=$t=i.mean(zt.map(function(pe){return(pe.y0+pe.y1)/2}))-vt/2,_t==="x"?Yt?(se=Ut+N,Pe=Ut-N):(se=Math.max.apply(null,zt.map(function(pe){return Math.max(pe.x0,pe.x1)})),Pe=Math.min.apply(null,zt.map(function(pe){return Math.min(pe.x0,pe.x1)}))):se=Pe=i.mean(zt.map(function(pe){return(pe.x0+pe.x1)/2}))-yt/2;var ee,ne,re=pt._offset,ve=bt._offset;return Pe+=re-yt,ye+=ve-vt,ee=(se+=re)+yt<gt&&se>=0?se:Pe+yt<gt&&Pe>=0?Pe:re+yt<gt?re:se-Ut<Ut-Pe+yt?gt-yt:0,ee+=N,ne=($t+=ve)+vt<wt&&$t>=0?$t:ye+vt<wt&&ye>=0?ye:ve+vt<wt?ve:$t-Ht<Ht-ye+vt?wt-vt:0,ne+=N,Ce.attr("transform",r(ee-1,ne-1)),Ce}var fe=ct.selectAll("g.hovertext").data(H,function(pe){return B(pe)});return fe.enter().append("g").classed("hovertext",!0).each(function(){var pe=a.select(this);pe.append("rect").call(c.fill,c.addOpacity(ot,.8)),pe.append("text").classed("name",!0),pe.append("path").style("stroke-width","1px"),pe.append("text").classed("nums",!0).call(d.font,kt,Ct)}),fe.exit().remove(),fe.each(function(pe){var ze=a.select(this).attr("transform",""),Be=pe.color;Array.isArray(Be)&&(Be=Be[pe.eventData[0].pointNumber]);var Me=pe.bgcolor||Be,_e=c.combine(c.opacity(Me)?Me:c.defaultLine,ot),xe=c.combine(c.opacity(Be)?Be:c.defaultLine,ot),me=pe.borderColor||c.contrast(_e),Te=M(pe,xt,at,$,L,ze),we=Te[0],Ae=Te[1],Ye=ze.select("text.nums").call(d.font,pe.fontFamily||kt,pe.fontSize||Ct,pe.fontColor||me).text(we).attr("data-notex",1).call(l.positionText,0,0).call(l.convertToTspans,V),Re=ze.select("text.name"),ge=0,ke=0;if(Ae&&Ae!==we){Re.call(d.font,pe.fontFamily||kt,pe.fontSize||Ct,xe).text(Ae).attr("data-notex",1).call(l.positionText,0,0).call(l.convertToTspans,V);var Ee=Z(V,Re.node());ge=Ee.width+2*N,ke=Ee.height+2*N}else Re.remove(),ze.select("rect").remove();ze.select("path").style({fill:_e,stroke:me});var Oe=pe.xa._offset+(pe.x0+pe.x1)/2,Se=pe.ya._offset+(pe.y0+pe.y1)/2,Fe=Math.abs(pe.x1-pe.x0),je=Math.abs(pe.y1-pe.y0),Ue=Z(V,Ye.node()),He=Ue.width/$._invScaleX,Je=Ue.height/$._invScaleY;pe.ty0=(ft-Ue.top)/$._invScaleY,pe.bx=He+2*N,pe.by=Math.max(Je+2*N,ke),pe.anchor="start",pe.txwidth=He,pe.tx2width=ge,pe.offset=0;var Qe,ln,rn=(He+F+N+ge)*$._invScaleX;if(rt)pe.pos=Oe,Qe=Se+je/2+rn<=wt,ln=Se-je/2-rn>=0,pe.idealAlign!=="top"&&Qe||!ln?Qe?(Se+=je/2,pe.anchor="start"):pe.anchor="middle":(Se-=je/2,pe.anchor="end"),pe.crossPos=Se;else{if(pe.pos=Se,Qe=Oe+Fe/2+rn<=gt,ln=Oe-Fe/2-rn>=0,pe.idealAlign!=="left"&&Qe||!ln)if(Qe)Oe+=Fe/2,pe.anchor="start";else{pe.anchor="middle";var We=rn/2,nn=Oe+We-gt,sn=Oe-We;nn>0&&(Oe-=nn),sn<0&&(Oe+=-sn)}else Oe-=Fe/2,pe.anchor="end";pe.crossPos=Oe}Ye.attr("text-anchor",pe.anchor),ge&&Re.attr("text-anchor",pe.anchor),ze.attr("transform",r(Oe,Se)+(rt?n(x):""))}),{hoverLabels:fe,commonLabelBoundingBox:Pt}}function M(H,U,V,$,at,rt){var ot="",ct="";H.nameOverride!==void 0&&(H.name=H.nameOverride),H.name&&(H.trace._meta&&(H.name=i.templateString(H.name,H.trace._meta)),ot=Y(H.name,H.nameLength));var ht=V.charAt(0),mt=ht==="x"?"y":"x";H.zLabel!==void 0?(H.xLabel!==void 0&&(ct+="x: "+H.xLabel+"<br>"),H.yLabel!==void 0&&(ct+="y: "+H.yLabel+"<br>"),H.trace.type!=="choropleth"&&H.trace.type!=="choroplethmapbox"&&(ct+=(ct?"z: ":"")+H.zLabel)):U&&H[ht+"Label"]===at?ct=H[mt+"Label"]||"":H.xLabel===void 0?H.yLabel!==void 0&&H.trace.type!=="scattercarpet"&&(ct=H.yLabel):ct=H.yLabel===void 0?H.xLabel:"("+H.xLabel+", "+H.yLabel+")",!H.text&&H.text!==0||Array.isArray(H.text)||(ct+=(ct?"<br>":"")+H.text),H.extraText!==void 0&&(ct+=(ct?"<br>":"")+H.extraText),rt&&ct===""&&!H.hovertemplate&&(ot===""&&rt.remove(),ct=ot);var kt=H.hovertemplate||!1;if(kt){var Ct=H.hovertemplateLabels||H;H[ht+"Label"]!==at&&(Ct[ht+"other"]=Ct[ht+"Val"],Ct[ht+"otherLabel"]=Ct[ht+"Label"]),ct=(ct=i.hovertemplateString(kt,Ct,$._d3locale,H.eventData[0]||{},H.trace._meta)).replace(J,function(It,pt){return ot=Y(pt,H.nameLength),""})}return[ct,ot]}function O(H,U){var V=0,$=H.offset;return U&&($*=-S,V=H.offset*C),{x:V,y:$}}function q(H,U,V,$){var at=function(ot){return ot*V},rt=function(ot){return ot*$};H.each(function(ot){var ct=a.select(this);if(ot.del)return ct.remove();var ht,mt,kt,Ct,It=ct.select("text.nums"),pt=ot.anchor,bt=pt==="end"?-1:1,_t=(Ct=(kt=(mt={start:1,end:-1,middle:0}[(ht=ot).anchor])*(F+N))+mt*(ht.txwidth+N),ht.anchor==="middle"&&(kt-=ht.tx2width/2,Ct+=ht.txwidth/2+N),{alignShift:mt,textShiftX:kt,text2ShiftX:Ct}),Dt=O(ot,U),L=Dt.x,X=Dt.y,it=pt==="middle";ct.select("path").attr("d",it?"M-"+at(ot.bx/2+ot.tx2width/2)+","+rt(X-ot.by/2)+"h"+at(ot.bx)+"v"+rt(ot.by)+"h-"+at(ot.bx)+"Z":"M0,0L"+at(bt*F+L)+","+rt(F+X)+"v"+rt(ot.by/2-F)+"h"+at(bt*ot.bx)+"v-"+rt(ot.by)+"H"+at(bt*F+L)+"V"+rt(X-F)+"Z");var ft=L+_t.textShiftX,gt=X+ot.ty0-ot.by/2+N,wt=ot.textAlign||"auto";wt!=="auto"&&(wt==="left"&&pt!=="start"?(It.attr("text-anchor","start"),ft=it?-ot.bx/2-ot.tx2width/2+N:-ot.bx-N):wt==="right"&&pt!=="end"&&(It.attr("text-anchor","end"),ft=it?ot.bx/2-ot.tx2width/2-N:ot.bx+N)),It.call(l.positionText,at(ft),rt(gt)),ot.tx2width&&(ct.select("text.name").call(l.positionText,at(_t.text2ShiftX+_t.alignShift*N+L),rt(X+ot.ty0-ot.by/2+N)),ct.select("rect").call(d.setRect,at(_t.text2ShiftX+(_t.alignShift-1)*ot.tx2width/2+L),rt(X-ot.by/2-1),at(ot.tx2width),rt(ot.by+2)))})}function tt(H,U){var V=H.index,$=H.trace||{},at=H.cd[0],rt=H.cd[V]||{};function ot(It){return It||f(It)&&It===0}var ct=Array.isArray(V)?function(It,pt){var bt=i.castOption(at,V,It);return ot(bt)?bt:i.extractOption({},$,"",pt)}:function(It,pt){return i.extractOption(rt,$,It,pt)};function ht(It,pt,bt){var _t=ct(pt,bt);ot(_t)&&(H[It]=_t)}if(ht("hoverinfo","hi","hoverinfo"),ht("bgcolor","hbg","hoverlabel.bgcolor"),ht("borderColor","hbc","hoverlabel.bordercolor"),ht("fontFamily","htf","hoverlabel.font.family"),ht("fontSize","hts","hoverlabel.font.size"),ht("fontColor","htc","hoverlabel.font.color"),ht("nameLength","hnl","hoverlabel.namelength"),ht("textAlign","hta","hoverlabel.align"),H.posref=U==="y"||U==="closest"&&$.orientation==="h"?H.xa._offset+(H.x0+H.x1)/2:H.ya._offset+(H.y0+H.y1)/2,H.x0=i.constrain(H.x0,0,H.xa._length),H.x1=i.constrain(H.x1,0,H.xa._length),H.y0=i.constrain(H.y0,0,H.ya._length),H.y1=i.constrain(H.y1,0,H.ya._length),H.xLabelVal!==void 0&&(H.xLabel="xLabel"in H?H.xLabel:p.hoverLabelText(H.xa,H.xLabelVal,$.xhoverformat),H.xVal=H.xa.c2d(H.xLabelVal)),H.yLabelVal!==void 0&&(H.yLabel="yLabel"in H?H.yLabel:p.hoverLabelText(H.ya,H.yLabelVal,$.yhoverformat),H.yVal=H.ya.c2d(H.yLabelVal)),H.zLabelVal!==void 0&&H.zLabel===void 0&&(H.zLabel=String(H.zLabelVal)),!(isNaN(H.xerr)||H.xa.type==="log"&&H.xerr<=0)){var mt=p.tickText(H.xa,H.xa.c2l(H.xerr),"hover").text;H.xerrneg!==void 0?H.xLabel+=" +"+mt+" / -"+p.tickText(H.xa,H.xa.c2l(H.xerrneg),"hover").text:H.xLabel+=" ± "+mt,U==="x"&&(H.distance+=1)}if(!(isNaN(H.yerr)||H.ya.type==="log"&&H.yerr<=0)){var kt=p.tickText(H.ya,H.ya.c2l(H.yerr),"hover").text;H.yerrneg!==void 0?H.yLabel+=" +"+kt+" / -"+p.tickText(H.ya,H.ya.c2l(H.yerrneg),"hover").text:H.yLabel+=" ± "+kt,U==="y"&&(H.distance+=1)}var Ct=H.hoverinfo||H.trace.hoverinfo;return Ct&&Ct!=="all"&&((Ct=Array.isArray(Ct)?Ct:Ct.split("+")).indexOf("x")===-1&&(H.xLabel=void 0),Ct.indexOf("y")===-1&&(H.yLabel=void 0),Ct.indexOf("z")===-1&&(H.zLabel=void 0),Ct.indexOf("text")===-1&&(H.text=void 0),Ct.indexOf("name")===-1&&(H.name=void 0)),H}function E(H,U,V){var $,at,rt=V.container,ot=V.fullLayout,ct=ot._size,ht=V.event,mt=!!U.hLinePoint,kt=!!U.vLinePoint;if(rt.selectAll(".spikeline").remove(),kt||mt){var Ct=c.combine(ot.plot_bgcolor,ot.paper_bgcolor);if(mt){var It,pt,bt=U.hLinePoint;$=bt&&bt.xa,(at=bt&&bt.ya).spikesnap==="cursor"?(It=ht.pointerX,pt=ht.pointerY):(It=$._offset+bt.x,pt=at._offset+bt.y);var _t,Dt,L=e.readability(bt.color,Ct)<1.5?c.contrast(Ct):bt.color,X=at.spikemode,it=at.spikethickness,ft=at.spikecolor||L,gt=p.getPxPosition(H,at);if(X.indexOf("toaxis")!==-1||X.indexOf("across")!==-1){if(X.indexOf("toaxis")!==-1&&(_t=gt,Dt=It),X.indexOf("across")!==-1){var wt=at._counterDomainMin,xt=at._counterDomainMax;at.anchor==="free"&&(wt=Math.min(wt,at.position),xt=Math.max(xt,at.position)),_t=ct.l+wt*ct.w,Dt=ct.l+xt*ct.w}rt.insert("line",":first-child").attr({x1:_t,x2:Dt,y1:pt,y2:pt,"stroke-width":it,stroke:ft,"stroke-dasharray":d.dashStyle(at.spikedash,it)}).classed("spikeline",!0).classed("crisp",!0),rt.insert("line",":first-child").attr({x1:_t,x2:Dt,y1:pt,y2:pt,"stroke-width":it+2,stroke:Ct}).classed("spikeline",!0).classed("crisp",!0)}X.indexOf("marker")!==-1&&rt.insert("circle",":first-child").attr({cx:gt+(at.side!=="right"?it:-it),cy:pt,r:it,fill:ft}).classed("spikeline",!0)}if(kt){var Ft,Bt,Mt=U.vLinePoint;$=Mt&&Mt.xa,at=Mt&&Mt.ya,$.spikesnap==="cursor"?(Ft=ht.pointerX,Bt=ht.pointerY):(Ft=$._offset+Mt.x,Bt=at._offset+Mt.y);var St,Lt,Pt=e.readability(Mt.color,Ct)<1.5?c.contrast(Ct):Mt.color,zt=$.spikemode,Xt=$.spikethickness,Gt=$.spikecolor||Pt,Kt=p.getPxPosition(H,$);if(zt.indexOf("toaxis")!==-1||zt.indexOf("across")!==-1){if(zt.indexOf("toaxis")!==-1&&(St=Kt,Lt=Bt),zt.indexOf("across")!==-1){var ie=$._counterDomainMin,de=$._counterDomainMax;$.anchor==="free"&&(ie=Math.min(ie,$.position),de=Math.max(de,$.position)),St=ct.t+(1-de)*ct.h,Lt=ct.t+(1-ie)*ct.h}rt.insert("line",":first-child").attr({x1:Ft,x2:Ft,y1:St,y2:Lt,"stroke-width":Xt,stroke:Gt,"stroke-dasharray":d.dashStyle($.spikedash,Xt)}).classed("spikeline",!0).classed("crisp",!0),rt.insert("line",":first-child").attr({x1:Ft,x2:Ft,y1:St,y2:Lt,"stroke-width":Xt+2,stroke:Ct}).classed("spikeline",!0).classed("crisp",!0)}zt.indexOf("marker")!==-1&&rt.insert("circle",":first-child").attr({cx:Ft,cy:Kt-($.side!=="top"?Xt:-Xt),r:Xt,fill:Gt}).classed("spikeline",!0)}}}function z(H,U){return!U||U.vLinePoint!==H._spikepoints.vLinePoint||U.hLinePoint!==H._spikepoints.hLinePoint}function Y(H,U){return l.plainText(H||"",{len:U,allowedTags:["br","sub","sup","b","i","em"]})}function Q(H,U,V){var $=U[H+"a"],at=U[H+"Val"],rt=U.cd[0];if($.type==="category"||$.type==="multicategory")at=$._categoriesMap[at];else if($.type==="date"){var ot=U.trace[H+"periodalignment"];if(ot){var ct=U.cd[U.index],ht=ct[H+"Start"];ht===void 0&&(ht=ct[H]);var mt=ct[H+"End"];mt===void 0&&(mt=ct[H]);var kt=mt-ht;ot==="end"?at+=kt:ot==="middle"&&(at+=kt/2)}at=$.d2c(at)}return rt&&rt.t&&rt.t.posLetter===$._id&&(V.boxmode!=="group"&&V.violinmode!=="group"||(at+=rt.t.dPos)),at}function nt(H){return H.offsetTop+H.clientTop}function et(H){return H.offsetLeft+H.clientLeft}function Z(H,U){var V=H._fullLayout,$=U.getBoundingClientRect(),at=$.left,rt=$.top,ot=at+$.width,ct=rt+$.height,ht=i.apply3DTransform(V._invTransform)(at,rt),mt=i.apply3DTransform(V._invTransform)(ot,ct),kt=ht[0],Ct=ht[1],It=mt[0],pt=mt[1];return{x:kt,y:Ct,width:It-kt,height:pt-Ct,top:Math.min(Ct,pt),left:Math.min(kt,It),right:Math.max(kt,It),bottom:Math.max(Ct,pt)}}},38048:function(w,s,t){var a=t(71828),f=t(7901),e=t(23469).isUnifiedHover;w.exports=function(i,r,n,o){o=o||{};var l=r.legend;function u(d){o.font[d]||(o.font[d]=l?r.legend.font[d]:r.font[d])}r&&e(r.hovermode)&&(o.font||(o.font={}),u("size"),u("family"),u("color"),l?(o.bgcolor||(o.bgcolor=f.combine(r.legend.bgcolor,r.paper_bgcolor)),o.bordercolor||(o.bordercolor=r.legend.bordercolor)):o.bgcolor||(o.bgcolor=r.paper_bgcolor)),n("hoverlabel.bgcolor",o.bgcolor),n("hoverlabel.bordercolor",o.bordercolor),n("hoverlabel.namelength",o.namelength),a.coerceFont(n,"hoverlabel.font",o.font),n("hoverlabel.align",o.align)}},98212:function(w,s,t){var a=t(71828),f=t(528);w.exports=function(e,i){function r(n,o){return i[n]!==void 0?i[n]:a.coerce(e,i,f,n,o)}return r("clickmode"),r("hovermode")}},30211:function(w,s,t){var a=t(39898),f=t(71828),e=t(28569),i=t(23469),r=t(528),n=t(88335);w.exports={moduleType:"component",name:"fx",constants:t(26675),schema:{layout:r},attributes:t(77914),layoutAttributes:r,supplyLayoutGlobalDefaults:t(22774),supplyDefaults:t(54268),supplyLayoutDefaults:t(34938),calc:t(30732),getDistanceFunction:i.getDistanceFunction,getClosest:i.getClosest,inbox:i.inbox,quadrature:i.quadrature,appendArrayPointValue:i.appendArrayPointValue,castHoverOption:function(o,l,u){return f.castOption(o,l,"hoverlabel."+u)},castHoverinfo:function(o,l,u){return f.castOption(o,u,"hoverinfo",function(d){return f.coerceHoverinfo({hoverinfo:d},{_module:o._module},l)})},hover:n.hover,unhover:e.unhover,loneHover:n.loneHover,loneUnhover:function(o){var l=f.isD3Selection(o)?o:a.select(o);l.selectAll("g.hovertext").remove(),l.selectAll(".spikeline").remove()},click:t(75914)}},528:function(w,s,t){var a=t(26675),f=t(41940),e=f({editType:"none"});e.family.dflt=a.HOVERFONT,e.size.dflt=a.HOVERFONTSIZE,w.exports={clickmode:{valType:"flaglist",flags:["event","select"],dflt:"event",editType:"plot",extras:["none"]},dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","drawclosedpath","drawopenpath","drawline","drawrect","drawcircle","orbit","turntable",!1],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1,"x unified","y unified"],dflt:"closest",editType:"modebar"},hoverdistance:{valType:"integer",min:-1,dflt:20,editType:"none"},spikedistance:{valType:"integer",min:-1,dflt:-1,editType:"none"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:e,grouptitlefont:f({editType:"none"}),align:{valType:"enumerated",values:["left","right","auto"],dflt:"auto",editType:"none"},namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"},selectdirection:{valType:"enumerated",values:["h","v","d","any"],dflt:"any",editType:"none"}}},34938:function(w,s,t){var a=t(71828),f=t(528),e=t(98212),i=t(38048);w.exports=function(r,n){function o(c,h){return a.coerce(r,n,f,c,h)}e(r,n)&&(o("hoverdistance"),o("spikedistance")),o("dragmode")==="select"&&o("selectdirection");var l=n._has("mapbox"),u=n._has("geo"),d=n._basePlotModules.length;n.dragmode==="zoom"&&((l||u)&&d===1||l&&u&&d===2)&&(n.dragmode="pan"),i(r,n,o),a.coerceFont(o,"hoverlabel.grouptitlefont",n.hoverlabel.font)}},22774:function(w,s,t){var a=t(71828),f=t(38048),e=t(528);w.exports=function(i,r){f(i,r,function(n,o){return a.coerce(i,r,e,n,o)})}},83312:function(w,s,t){var a=t(71828),f=t(30587).counter,e=t(27670).Y,i=t(85555).idRegex,r=t(44467),n={rows:{valType:"integer",min:1,editType:"plot"},roworder:{valType:"enumerated",values:["top to bottom","bottom to top"],dflt:"top to bottom",editType:"plot"},columns:{valType:"integer",min:1,editType:"plot"},subplots:{valType:"info_array",freeLength:!0,dimensions:2,items:{valType:"enumerated",values:[f("xy").toString(),""],editType:"plot"},editType:"plot"},xaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[i.x.toString(),""],editType:"plot"},editType:"plot"},yaxes:{valType:"info_array",freeLength:!0,items:{valType:"enumerated",values:[i.y.toString(),""],editType:"plot"},editType:"plot"},pattern:{valType:"enumerated",values:["independent","coupled"],dflt:"coupled",editType:"plot"},xgap:{valType:"number",min:0,max:1,editType:"plot"},ygap:{valType:"number",min:0,max:1,editType:"plot"},domain:e({name:"grid",editType:"plot",noGridCell:!0},{}),xside:{valType:"enumerated",values:["bottom","bottom plot","top plot","top"],dflt:"bottom plot",editType:"plot"},yside:{valType:"enumerated",values:["left","left plot","right plot","right"],dflt:"left plot",editType:"plot"},editType:"plot"};function o(d,c,h){var p=c[h+"axes"],g=Object.keys((d._splomAxes||{})[h]||{});return Array.isArray(p)?p:g.length?g:void 0}function l(d,c,h,p,g,y){var b=c(d+"gap",h),m=c("domain."+d);c(d+"side",p);for(var v=new Array(g),x=m[0],_=(m[1]-x)/(g-b),T=_*(1-b),C=0;C<g;C++){var S=x+_*C;v[y?g-1-C:C]=[S,S+T]}return v}function u(d,c,h,p,g){var y,b=new Array(h);function m(v,x){c.indexOf(x)!==-1&&p[x]===void 0?(b[v]=x,p[x]=v):b[v]=""}if(Array.isArray(d))for(y=0;y<h;y++)m(y,d[y]);else for(m(0,g),y=1;y<h;y++)m(y,g+(y+1));return b}w.exports={moduleType:"component",name:"grid",schema:{layout:{grid:n}},layoutAttributes:n,sizeDefaults:function(d,c){var h=d.grid||{},p=o(c,h,"x"),g=o(c,h,"y");if(d.grid||p||g){var y,b,m=Array.isArray(h.subplots)&&Array.isArray(h.subplots[0]),v=Array.isArray(p),x=Array.isArray(g),_=v&&p!==h.xaxes&&x&&g!==h.yaxes;m?(y=h.subplots.length,b=h.subplots[0].length):(x&&(y=g.length),v&&(b=p.length));var T=r.newContainer(c,"grid"),C=J("rows",y),S=J("columns",b);if(C*S>1){m||v||x||J("pattern")==="independent"&&(m=!0),T._hasSubplotGrid=m;var F,N,D=J("roworder")==="top to bottom",j=m?.2:.1,B=m?.3:.1;_&&c._splomGridDflt&&(F=c._splomGridDflt.xside,N=c._splomGridDflt.yside),T._domains={x:l("x",J,j,F,S),y:l("y",J,B,N,C,D)}}else delete c.grid}function J(P,M){return a.coerce(h,T,n,P,M)}},contentDefaults:function(d,c){var h=c.grid;if(h&&h._domains){var p,g,y,b,m,v,x,_=d.grid||{},T=c._subplots,C=h._hasSubplotGrid,S=h.rows,F=h.columns,N=h.pattern==="independent",D=h._axisMap={};if(C){var j=_.subplots||[];v=h.subplots=new Array(S);var B=1;for(p=0;p<S;p++){var J=v[p]=new Array(F),P=j[p]||[];for(g=0;g<F;g++)if(N?(m=B===1?"xy":"x"+B+"y"+B,B++):m=P[g],J[g]="",T.cartesian.indexOf(m)!==-1){if(x=m.indexOf("y"),y=m.slice(0,x),b=m.slice(x),D[y]!==void 0&&D[y]!==g||D[b]!==void 0&&D[b]!==p)continue;J[g]=m,D[y]=g,D[b]=p}}}else{var M=o(c,_,"x"),O=o(c,_,"y");h.xaxes=u(M,T.xaxis,F,D,"x"),h.yaxes=u(O,T.yaxis,S,D,"y")}var q=h._anchors={},tt=h.roworder==="top to bottom";for(var E in D){var z,Y,Q,nt=E.charAt(0),et=h[nt+"side"];if(et.length<8)q[E]="free";else if(nt==="x"){if(et.charAt(0)==="t"===tt?(z=0,Y=1,Q=S):(z=S-1,Y=-1,Q=-1),C){var Z=D[E];for(p=z;p!==Q;p+=Y)if((m=v[p][Z])&&(x=m.indexOf("y"),m.slice(0,x)===E)){q[E]=m.slice(x);break}}else for(p=z;p!==Q;p+=Y)if(b=h.yaxes[p],T.cartesian.indexOf(E+b)!==-1){q[E]=b;break}}else if(et.charAt(0)==="l"?(z=0,Y=1,Q=F):(z=F-1,Y=-1,Q=-1),C){var H=D[E];for(p=z;p!==Q;p+=Y)if((m=v[H][p])&&(x=m.indexOf("y"),m.slice(x)===E)){q[E]=m.slice(0,x);break}}else for(p=z;p!==Q;p+=Y)if(y=h.xaxes[p],T.cartesian.indexOf(y+E)!==-1){q[E]=y;break}}}}}},69819:function(w,s,t){var a=t(85555),f=t(44467).templatedArray;t(24695),w.exports=f("image",{visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",a.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",a.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"})},75378:function(w,s,t){var a=t(92770),f=t(58163);w.exports=function(e,i,r,n){i=i||{};var o=r==="log"&&i.type==="linear",l=r==="linear"&&i.type==="log";if(o||l){for(var u,d,c=e._fullLayout.images,h=i._id.charAt(0),p=0;p<c.length;p++)if(d="images["+p+"].",(u=c[p])[h+"ref"]===i._id){var g=u[h],y=u["size"+h],b=null,m=null;if(o){b=f(g,i.range);var v=y/Math.pow(10,b)/2;m=2*Math.log(v+Math.sqrt(1+v*v))/Math.LN10}else m=(b=Math.pow(10,g))*(Math.pow(10,y/2)-Math.pow(10,-y/2));a(b)?a(m)||(m=null):(b=null,m=null),n(d+h,b),n(d+"size"+h,m)}}}},81603:function(w,s,t){var a=t(71828),f=t(89298),e=t(85501),i=t(69819);function r(n,o,l){function u(b,m){return a.coerce(n,o,i,b,m)}var d=u("source");if(!u("visible",!!d))return o;u("layer"),u("xanchor"),u("yanchor"),u("sizex"),u("sizey"),u("sizing"),u("opacity");for(var c={_fullLayout:l},h=["x","y"],p=0;p<2;p++){var g=h[p],y=f.coerceRef(n,o,c,g,"paper",void 0);y!=="paper"&&f.getFromId(c,y)._imgIndices.push(o._index),f.coercePosition(o,c,u,y,g,0)}return o}w.exports=function(n,o){e(n,o,{name:"images",handleItemDefaults:r})}},80750:function(w,s,t){var a=t(39898),f=t(91424),e=t(89298),i=t(41675),r=t(77922);w.exports=function(n){var o,l,u=n._fullLayout,d=[],c={},h=[];for(l=0;l<u.images.length;l++){var p=u.images[l];if(p.visible)if(p.layer==="below"&&p.xref!=="paper"&&p.yref!=="paper"){o=i.ref2id(p.xref)+i.ref2id(p.yref);var g=u._plots[o];if(!g){h.push(p);continue}g.mainplot&&(o=g.mainplot.id),c[o]||(c[o]=[]),c[o].push(p)}else p.layer==="above"?d.push(p):h.push(p)}var y={left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-.5},right:{sizing:"xMax",offset:-1}},b={top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-.5},bottom:{sizing:"YMax",offset:-1}};function m(F){var N=a.select(this);if(this._imgSrc!==F.source)if(N.attr("xmlns",r.svg),F.source&&F.source.slice(0,5)==="data:")N.attr("xlink:href",F.source),this._imgSrc=F.source;else{var D=new Promise(function(j){var B=new Image;function J(){N.remove(),j()}this.img=B,B.setAttribute("crossOrigin","anonymous"),B.onerror=J,B.onload=function(){var P=document.createElement("canvas");P.width=this.width,P.height=this.height,P.getContext("2d",{willReadFrequently:!0}).drawImage(this,0,0);var M=P.toDataURL("image/png");N.attr("xlink:href",M),j()},N.on("error",J),B.src=F.source,this._imgSrc=F.source}.bind(this));n._promises.push(D)}}function v(F){var N,D,j=a.select(this),B=e.getFromId(n,F.xref),J=e.getFromId(n,F.yref),P=e.getRefType(F.xref)==="domain",M=e.getRefType(F.yref)==="domain",O=u._size;N=B!==void 0?typeof F.xref=="string"&&P?B._length*F.sizex:Math.abs(B.l2p(F.sizex)-B.l2p(0)):F.sizex*O.w,D=J!==void 0?typeof F.yref=="string"&&M?J._length*F.sizey:Math.abs(J.l2p(F.sizey)-J.l2p(0)):F.sizey*O.h;var q,tt,E=N*y[F.xanchor].offset,z=D*b[F.yanchor].offset,Y=y[F.xanchor].sizing+b[F.yanchor].sizing;switch(q=B!==void 0?typeof F.xref=="string"&&P?B._length*F.x+B._offset:B.r2p(F.x)+B._offset:F.x*O.w+O.l,q+=E,tt=J!==void 0?typeof F.yref=="string"&&M?J._length*(1-F.y)+J._offset:J.r2p(F.y)+J._offset:O.h-F.y*O.h+O.t,tt+=z,F.sizing){case"fill":Y+=" slice";break;case"stretch":Y="none"}j.attr({x:q,y:tt,width:N,height:D,preserveAspectRatio:Y,opacity:F.opacity});var Q=(B&&e.getRefType(F.xref)!=="domain"?B._id:"")+(J&&e.getRefType(F.yref)!=="domain"?J._id:"");f.setClipUrl(j,Q?"clip"+u._uid+Q:null,n)}var x=u._imageLowerLayer.selectAll("image").data(h),_=u._imageUpperLayer.selectAll("image").data(d);x.enter().append("image"),_.enter().append("image"),x.exit().remove(),_.exit().remove(),x.each(function(F){m.bind(this)(F),v.bind(this)(F)}),_.each(function(F){m.bind(this)(F),v.bind(this)(F)});var T=Object.keys(u._plots);for(l=0;l<T.length;l++){o=T[l];var C=u._plots[o];if(C.imagelayer){var S=C.imagelayer.selectAll("image").data(c[o]||[]);S.enter().append("image"),S.exit().remove(),S.each(function(F){m.bind(this)(F),v.bind(this)(F)})}}}},68804:function(w,s,t){w.exports={moduleType:"component",name:"images",layoutAttributes:t(69819),supplyLayoutDefaults:t(81603),includeBasePlot:t(76325)("images"),draw:t(80750),convertCoords:t(75378)}},33030:function(w,s,t){var a=t(41940),f=t(22399);w.exports={_isSubplotObj:!0,visible:{valType:"boolean",dflt:!0,editType:"legend"},bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:f.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:a({editType:"legend"}),grouptitlefont:a({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},entrywidth:{valType:"number",min:0,editType:"legend"},entrywidthmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels",editType:"legend"},itemsizing:{valType:"enumerated",values:["trace","constant"],dflt:"trace",editType:"legend"},itemwidth:{valType:"number",min:30,dflt:30,editType:"legend"},itemclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggle",editType:"legend"},itemdoubleclick:{valType:"enumerated",values:["toggle","toggleothers",!1],dflt:"toggleothers",editType:"legend"},groupclick:{valType:"enumerated",values:["toggleitem","togglegroup"],dflt:"togglegroup",editType:"legend"},x:{valType:"number",min:-2,max:3,editType:"legend"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",min:-2,max:3,editType:"legend"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],editType:"legend"},uirevision:{valType:"any",editType:"none"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"legend"},title:{text:{valType:"string",dflt:"",editType:"legend"},font:a({editType:"legend"}),side:{valType:"enumerated",values:["top","left","top left"],editType:"legend"},editType:"legend"},editType:"legend"}},14928:function(w){w.exports={scrollBarWidth:6,scrollBarMinHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4,scrollBarEnterAttrs:{rx:20,ry:3,width:0,height:0},titlePad:2,itemGap:5}},99017:function(w,s,t){var a=t(73972),f=t(71828),e=t(44467),i=t(9012),r=t(33030),n=t(10820),o=t(10130);function l(u,d,c,h){var p=d[u]||{},g=e.newContainer(c,u);function y(M,O){return f.coerce(p,g,r,M,O)}var b=f.coerceFont(y,"font",c.font);if(y("bgcolor",c.paper_bgcolor),y("bordercolor"),y("visible")){for(var m,v=function(M,O){var q=m._input,tt=m;return f.coerce(q,tt,i,M,O)},x=c.font||{},_=f.coerceFont(y,"grouptitlefont",f.extendFlat({},x,{size:Math.round(1.1*x.size)})),T=0,C=!1,S="normal",F=0;F<h.length;F++)(m=h[F]).visible&&((m.showlegend||m._dfltShowLegend&&!(m._module&&m._module.attributes&&m._module.attributes.showlegend&&m._module.attributes.showlegend.dflt===!1))&&(T++,m.showlegend&&(C=!0,(a.traceIs(m,"pie-like")||m._input.showlegend===!0)&&T++),f.coerceFont(v,"legendgrouptitle.font",_)),(a.traceIs(m,"bar")&&c.barmode==="stack"||["tonextx","tonexty"].indexOf(m.fill)!==-1)&&(S=o.isGrouped({traceorder:S})?"grouped+reversed":"reversed"),m.legendgroup!==void 0&&m.legendgroup!==""&&(S=o.isReversed({traceorder:S})?"reversed+grouped":"grouped"));var N=f.coerce(d,c,n,"showlegend",C&&T>1);if(N===!1&&(c.legend=void 0),(N!==!1||p.uirevision)&&(y("uirevision",c.uirevision),N!==!1)){y("borderwidth");var D,j,B,J=y("orientation")==="h";if(J?(D=0,a.getComponentMethod("rangeslider","isVisible")(d.xaxis)?(j=1.1,B="bottom"):(j=-.1,B="top")):(D=1.02,j=1,B="auto"),y("traceorder",S),o.isGrouped(c.legend)&&y("tracegroupgap"),y("entrywidth"),y("entrywidthmode"),y("itemsizing"),y("itemwidth"),y("itemclick"),y("itemdoubleclick"),y("groupclick"),y("x",D),y("xanchor"),y("y",j),y("yanchor",B),y("valign"),f.noneOrAll(p,g,["x","y"]),y("title.text")){y("title.side",J?"left":"top");var P=f.extendFlat({},b,{size:f.bigFont(b.size)});f.coerceFont(y,"title.font",P)}}}}w.exports=function(u,d,c){var h,p=["legend"];for(h=0;h<c.length;h++)f.pushUnique(p,c[h].legend);for(d._legends=[],h=0;h<p.length;h++){var g=p[h];l(g,u,d,c),d[g]&&d[g].visible&&(d[g]._id=g),d._legends.push(g)}}},43969:function(w,s,t){var a=t(39898),f=t(71828),e=t(74875),i=t(73972),r=t(11086),n=t(28569),o=t(91424),l=t(7901),u=t(63893),d=t(85167),c=t(14928),h=t(18783),p=h.LINE_SPACING,g=h.FROM_TL,y=h.FROM_BR,b=t(82424),m=t(53630),v=t(10130),x=/^legend[0-9]*$/;function _(P,M){var O,q,tt=M||{},E=P._fullLayout,z=J(tt),Y=tt._inHover;if(Y?(q=tt.layer,O="hover"):(q=E._infolayer,O=z),q){var Q;if(O+=E._uid,P._legendMouseDownTime||(P._legendMouseDownTime=0),Y){if(!tt.entries)return;Q=b(tt.entries,tt)}else{if(!P.calcdata)return;Q=E.showlegend&&b(P.calcdata,tt,E._legends.length>1)}var nt=E.hiddenlabels||[];if(!(Y||E.showlegend&&Q.length))return q.selectAll("."+z).remove(),E._topdefs.select("#"+O).remove(),e.autoMargin(P,z);var et=f.ensureSingle(q,"g",z,function(ct){Y||ct.attr("pointer-events","all")}),Z=f.ensureSingleById(E._topdefs,"clipPath",O,function(ct){ct.append("rect")}),H=f.ensureSingle(et,"rect","bg",function(ct){ct.attr("shape-rendering","crispEdges")});H.call(l.stroke,tt.bordercolor).call(l.fill,tt.bgcolor).style("stroke-width",tt.borderwidth+"px");var U=f.ensureSingle(et,"g","scrollbox"),V=tt.title;if(tt._titleWidth=0,tt._titleHeight=0,V.text){var $=f.ensureSingle(U,"text",z+"titletext");$.attr("text-anchor","start").call(o.font,V.font).text(V.text),D($,U,P,tt,1)}else U.selectAll("."+z+"titletext").remove();var at=f.ensureSingle(et,"rect","scrollbar",function(ct){ct.attr(c.scrollBarEnterAttrs).call(l.fill,c.scrollBarColor)}),rt=U.selectAll("g.groups").data(Q);rt.enter().append("g").attr("class","groups"),rt.exit().remove();var ot=rt.selectAll("g.traces").data(f.identity);ot.enter().append("g").attr("class","traces"),ot.exit().remove(),ot.style("opacity",function(ct){var ht=ct[0].trace;return i.traceIs(ht,"pie-like")?nt.indexOf(ct[0].label)!==-1?.5:1:ht.visible==="legendonly"?.5:1}).each(function(){a.select(this).call(S,P,tt)}).call(m,P,tt).each(function(){Y||a.select(this).call(N,P,z)}),f.syncOrAsync([e.previousPromises,function(){return function(ct,ht,mt,kt){var Ct=ct._fullLayout,It=J(kt);kt||(kt=Ct[It]);var pt=Ct._size,bt=v.isVertical(kt),_t=v.isGrouped(kt),Dt=kt.entrywidthmode==="fraction",L=kt.borderwidth,X=2*L,it=c.itemGap,ft=kt.itemwidth+2*it,gt=2*(L+it),wt=B(kt),xt=kt.y<0||kt.y===0&&wt==="top",Ft=kt.y>1||kt.y===1&&wt==="bottom",Bt=kt.tracegroupgap,Mt={};kt._maxHeight=Math.max(xt||Ft?Ct.height/2:pt.h,30);var St=0;kt._width=0,kt._height=0;var Lt=function(yt){var vt=0,Rt=0,Ut=yt.title.side;return Ut&&(Ut.indexOf("left")!==-1&&(vt=yt._titleWidth),Ut.indexOf("top")!==-1&&(Rt=yt._titleHeight)),[vt,Rt]}(kt);if(bt)mt.each(function(yt){var vt=yt[0].height;o.setTranslate(this,L+Lt[0],L+Lt[1]+kt._height+vt/2+it),kt._height+=vt,kt._width=Math.max(kt._width,yt[0].width)}),St=ft+kt._width,kt._width+=it+ft+X,kt._height+=gt,_t&&(ht.each(function(yt,vt){o.setTranslate(this,0,vt*kt.tracegroupgap)}),kt._height+=(kt._lgroupsLength-1)*kt.tracegroupgap);else{var Pt=j(kt),zt=kt.x<0||kt.x===0&&Pt==="right",Xt=kt.x>1||kt.x===1&&Pt==="left",Gt=Ft||xt,Kt=Ct.width/2;kt._maxWidth=Math.max(zt?Gt&&Pt==="left"?pt.l+pt.w:Kt:Xt?Gt&&Pt==="right"?pt.r+pt.w:Kt:pt.w,2*ft);var ie=0,de=0;mt.each(function(yt){var vt=T(yt,kt,ft);ie=Math.max(ie,vt),de+=vt}),St=null;var Jt=0;if(_t){var Nt=0,Vt=0,Zt=0;ht.each(function(){var yt=0,vt=0;a.select(this).selectAll("g.traces").each(function(Ut){var Ht=T(Ut,kt,ft),Yt=Ut[0].height;o.setTranslate(this,Lt[0],Lt[1]+L+it+Yt/2+vt),vt+=Yt,yt=Math.max(yt,Ht),Mt[Ut[0].trace.legendgroup]=yt});var Rt=yt+it;Vt>0&&Rt+L+Vt>kt._maxWidth?(Jt=Math.max(Jt,Vt),Vt=0,Zt+=Nt+Bt,Nt=vt):Nt=Math.max(Nt,vt),o.setTranslate(this,Vt,Zt),Vt+=Rt}),kt._width=Math.max(Jt,Vt)+L,kt._height=Zt+Nt+gt}else{var Wt=mt.size(),he=de+X+(Wt-1)*it<kt._maxWidth,$t=0,ye=0,se=0,Pe=0;mt.each(function(yt){var vt=yt[0].height,Rt=T(yt,kt,ft),Ut=he?Rt:ie;Dt||(Ut+=it),Ut+L+ye-it>=kt._maxWidth&&(Jt=Math.max(Jt,Pe),ye=0,se+=$t,kt._height+=$t,$t=0),o.setTranslate(this,Lt[0]+L+ye,Lt[1]+L+se+vt/2+it),Pe=ye+Rt+it,ye+=Ut,$t=Math.max($t,vt)}),he?(kt._width=ye+X,kt._height=$t+gt):(kt._width=Math.max(Jt,Pe)+X,kt._height+=$t+gt)}}kt._width=Math.ceil(Math.max(kt._width+Lt[0],kt._titleWidth+2*(L+c.titlePad))),kt._height=Math.ceil(Math.max(kt._height+Lt[1],kt._titleHeight+2*(L+c.itemGap))),kt._effHeight=Math.min(kt._height,kt._maxHeight);var Ce=ct._context.edits,Ne=Ce.legendText||Ce.legendPosition;mt.each(function(yt){var vt=a.select(this).select("."+It+"toggle"),Rt=yt[0].height,Ut=yt[0].trace.legendgroup,Ht=T(yt,kt,ft);_t&&Ut!==""&&(Ht=Mt[Ut]);var Yt=Ne?ft:St||Ht;bt||Dt||(Yt+=it/2),o.setRect(vt,0,-Rt/2,Yt,Rt)})}(P,rt,ot,tt)},function(){var ct,ht,mt,kt,Ct=E._size,It=tt.borderwidth;if(!Y){var pt=function(zt,Xt){var Gt=zt._fullLayout[Xt],Kt=j(Gt),ie=B(Gt);return e.autoMargin(zt,Xt,{x:Gt.x,y:Gt.y,l:Gt._width*g[Kt],r:Gt._width*y[Kt],b:Gt._effHeight*y[ie],t:Gt._effHeight*g[ie]})}(P,z);if(pt)return;var bt=Ct.l+Ct.w*tt.x-g[j(tt)]*tt._width,_t=Ct.t+Ct.h*(1-tt.y)-g[B(tt)]*tt._effHeight;if(E.margin.autoexpand){var Dt=bt,L=_t;bt=f.constrain(bt,0,E.width-tt._width),_t=f.constrain(_t,0,E.height-tt._effHeight),bt!==Dt&&f.log("Constrain "+z+".x to make legend fit inside graph"),_t!==L&&f.log("Constrain "+z+".y to make legend fit inside graph")}o.setTranslate(et,bt,_t)}if(at.on(".drag",null),et.on("wheel",null),Y||tt._height<=tt._maxHeight||P._context.staticPlot){var X=tt._effHeight;Y&&(X=tt._height),H.attr({width:tt._width-It,height:X-It,x:It/2,y:It/2}),o.setTranslate(U,0,0),Z.select("rect").attr({width:tt._width-2*It,height:X-2*It,x:It,y:It}),o.setClipUrl(U,O,P),o.setRect(at,0,0,0,0),delete tt._scrollY}else{var it,ft,gt,wt=Math.max(c.scrollBarMinHeight,tt._effHeight*tt._effHeight/tt._height),xt=tt._effHeight-wt-2*c.scrollBarMargin,Ft=tt._height-tt._effHeight,Bt=xt/Ft,Mt=Math.min(tt._scrollY||0,Ft);H.attr({width:tt._width-2*It+c.scrollBarWidth+c.scrollBarMargin,height:tt._effHeight-It,x:It/2,y:It/2}),Z.select("rect").attr({width:tt._width-2*It+c.scrollBarWidth+c.scrollBarMargin,height:tt._effHeight-2*It,x:It,y:It+Mt}),o.setClipUrl(U,O,P),Pt(Mt,wt,Bt),et.on("wheel",function(){Pt(Mt=f.constrain(tt._scrollY+a.event.deltaY/xt*Ft,0,Ft),wt,Bt),Mt!==0&&Mt!==Ft&&a.event.preventDefault()});var St=a.behavior.drag().on("dragstart",function(){var zt=a.event.sourceEvent;it=zt.type==="touchstart"?zt.changedTouches[0].clientY:zt.clientY,gt=Mt}).on("drag",function(){var zt=a.event.sourceEvent;zt.buttons===2||zt.ctrlKey||(ft=zt.type==="touchmove"?zt.changedTouches[0].clientY:zt.clientY,Mt=function(Xt,Gt,Kt){var ie=(Kt-Gt)/Bt+Xt;return f.constrain(ie,0,Ft)}(gt,it,ft),Pt(Mt,wt,Bt))});at.call(St);var Lt=a.behavior.drag().on("dragstart",function(){var zt=a.event.sourceEvent;zt.type==="touchstart"&&(it=zt.changedTouches[0].clientY,gt=Mt)}).on("drag",function(){var zt=a.event.sourceEvent;zt.type==="touchmove"&&(ft=zt.changedTouches[0].clientY,Mt=function(Xt,Gt,Kt){var ie=(Gt-Kt)/Bt+Xt;return f.constrain(ie,0,Ft)}(gt,it,ft),Pt(Mt,wt,Bt))});U.call(Lt)}function Pt(zt,Xt,Gt){tt._scrollY=P._fullLayout[z]._scrollY=zt,o.setTranslate(U,0,-zt),o.setRect(at,tt._width,c.scrollBarMargin+zt*Gt,c.scrollBarWidth,Xt),Z.select("rect").attr("y",It+zt)}P._context.edits.legendPosition&&(et.classed("cursor-move",!0),n.init({element:et.node(),gd:P,prepFn:function(){var zt=o.getTranslate(et);mt=zt.x,kt=zt.y},moveFn:function(zt,Xt){var Gt=mt+zt,Kt=kt+Xt;o.setTranslate(et,Gt,Kt),ct=n.align(Gt,tt._width,Ct.l,Ct.l+Ct.w,tt.xanchor),ht=n.align(Kt+tt._height,-tt._height,Ct.t+Ct.h,Ct.t,tt.yanchor)},doneFn:function(){if(ct!==void 0&&ht!==void 0){var zt={};zt[z+".x"]=ct,zt[z+".y"]=ht,i.call("_guiRelayout",P,zt)}},clickFn:function(zt,Xt){var Gt=rt.selectAll("g.traces").filter(function(){var Kt=this.getBoundingClientRect();return Xt.clientX>=Kt.left&&Xt.clientX<=Kt.right&&Xt.clientY>=Kt.top&&Xt.clientY<=Kt.bottom});Gt.size()>0&&C(P,et,Gt,zt,Xt)}}))}],P)}}function T(P,M,O){var q=P[0],tt=q.width,E=M.entrywidthmode,z=q.trace.legendwidth||M.entrywidth;return E==="fraction"?M._maxWidth*z:O+(z||tt)}function C(P,M,O,q,tt){var E=O.data()[0][0].trace,z={event:tt,node:O.node(),curveNumber:E.index,expandedIndex:E._expandedIndex,data:P.data,layout:P.layout,frames:P._transitionData._frames,config:P._context,fullData:P._fullData,fullLayout:P._fullLayout};E._group&&(z.group=E._group),i.traceIs(E,"pie-like")&&(z.label=O.datum()[0].label),r.triggerHandler(P,"plotly_legendclick",z)!==!1&&(q===1?M._clickTimeout=setTimeout(function(){P._fullLayout&&d(O,P,q)},P._context.doubleClickDelay):q===2&&(M._clickTimeout&&clearTimeout(M._clickTimeout),P._legendMouseDownTime=0,r.triggerHandler(P,"plotly_legenddoubleclick",z)!==!1&&d(O,P,q)))}function S(P,M,O){var q,tt,E=J(O),z=P.data()[0][0],Y=z.trace,Q=i.traceIs(Y,"pie-like"),nt=!O._inHover&&M._context.edits.legendText&&!Q,et=O._maxNameLength;z.groupTitle?(q=z.groupTitle.text,tt=z.groupTitle.font):(tt=O.font,O.entries?q=z.text:(q=Q?z.label:Y.name,Y._meta&&(q=f.templateString(q,Y._meta))));var Z=f.ensureSingle(P,"text",E+"text");Z.attr("text-anchor","start").call(o.font,tt).text(nt?F(q,et):q);var H=O.itemwidth+2*c.itemGap;u.positionText(Z,H,0),nt?Z.call(u.makeEditable,{gd:M,text:q}).call(D,P,M,O).on("edit",function(U){this.text(F(U,et)).call(D,P,M,O);var V=z.trace._fullInput||{},$={};if(i.hasTransform(V,"groupby")){var at=i.getTransformIndices(V,"groupby"),rt=at[at.length-1],ot=f.keyedContainer(V,"transforms["+rt+"].styles","target","value.name");ot.set(z.trace._group,U),$=ot.constructUpdate()}else $.name=U;return i.call("_guiRestyle",M,$,Y.index)}):D(Z,P,M,O)}function F(P,M){var O=Math.max(4,M);if(P&&P.trim().length>=O/2)return P;for(var q=O-(P=P||"").length;q>0;q--)P+=" ";return P}function N(P,M,O){var q,tt=M._context.doubleClickDelay,E=1,z=f.ensureSingle(P,"rect",O+"toggle",function(Y){M._context.staticPlot||Y.style("cursor","pointer").attr("pointer-events","all"),Y.call(l.fill,"rgba(0,0,0,0)")});M._context.staticPlot||(z.on("mousedown",function(){(q=new Date().getTime())-M._legendMouseDownTime<tt?E+=1:(E=1,M._legendMouseDownTime=q)}),z.on("mouseup",function(){if(!M._dragged&&!M._editing){var Y=M._fullLayout[O];new Date().getTime()-M._legendMouseDownTime>tt&&(E=Math.max(E-1,1)),C(M,Y,P,E,a.event)}}))}function D(P,M,O,q,tt){q._inHover&&P.attr("data-notex",!0),u.convertToTspans(P,O,function(){(function(E,z,Y,Q){var nt=E.data()[0][0];if(Y._inHover||!nt||nt.trace.showlegend){var et=E.select("g[class*=math-group]"),Z=et.node(),H=J(Y);Y||(Y=z._fullLayout[H]);var U,V,$=Y.borderwidth,at=(Q===1?Y.title.font:nt.groupTitle?nt.groupTitle.font:Y.font).size*p;if(Z){var rt=o.bBox(Z);U=rt.height,V=rt.width,Q===1?o.setTranslate(et,$,$+.75*U):o.setTranslate(et,0,.25*U)}else{var ot="."+H+(Q===1?"title":"")+"text",ct=E.select(ot),ht=u.lineCount(ct),mt=ct.node();if(U=at*ht,V=mt?o.bBox(mt).width:0,Q===1)Y.title.side==="left"&&(V+=2*c.itemGap),u.positionText(ct,$+c.titlePad,$+at);else{var kt=2*c.itemGap+Y.itemwidth;nt.groupTitle&&(kt=c.itemGap,V-=Y.itemwidth),u.positionText(ct,kt,-at*((ht-1)/2-.3))}}Q===1?(Y._titleWidth=V,Y._titleHeight=U):(nt.lineHeight=at,nt.height=Math.max(U,16)+3,nt.width=V)}else E.remove()})(M,O,q,tt)})}function j(P){return f.isRightAnchor(P)?"right":f.isCenterAnchor(P)?"center":"left"}function B(P){return f.isBottomAnchor(P)?"bottom":f.isMiddleAnchor(P)?"middle":"top"}function J(P){return P._id||"legend"}w.exports=function(P,M){if(M)_(P,M);else{var O=P._fullLayout,q=O._legends;O._infolayer.selectAll('[class^="legend"]').each(function(){var z=a.select(this),Y=z.attr("class").split(" ")[0];Y.match(x)&&q.indexOf(Y)===-1&&z.remove()});for(var tt=0;tt<q.length;tt++){var E=q[tt];_(P,P._fullLayout[E])}}}},82424:function(w,s,t){var a=t(73972),f=t(10130);w.exports=function(e,i,r){var n,o,l=i._inHover,u=f.isGrouped(i),d=f.isReversed(i),c={},h=[],p=!1,g={},y=0,b=0;function m(tt,E,z){if(i.visible!==!1&&(!r||tt===i._id))if(E!==""&&f.isGrouped(i))h.indexOf(E)===-1?(h.push(E),p=!0,c[E]=[z]):c[E].push(z);else{var Y="~~i"+y;h.push(Y),c[Y]=[z],y++}}for(n=0;n<e.length;n++){var v=e[n],x=v[0],_=x.trace,T=_.legend,C=_.legendgroup;if(l||_.visible&&_.showlegend)if(a.traceIs(_,"pie-like"))for(g[C]||(g[C]={}),o=0;o<v.length;o++){var S=v[o].label;g[C][S]||(m(T,C,{label:S,color:v[o].color,i:v[o].i,trace:_,pts:v[o].pts}),g[C][S]=!0,b=Math.max(b,(S||"").length))}else m(T,C,x),b=Math.max(b,(_.name||"").length)}if(!h.length)return[];var F=!p||!u,N=[];for(n=0;n<h.length;n++){var D=c[h[n]];F?N.push(D[0]):N.push(D)}for(F&&(N=[N]),n=0;n<N.length;n++){var j=1/0;for(o=0;o<N[n].length;o++){var B=N[n][o].trace.legendrank;j>B&&(j=B)}N[n][0]._groupMinRank=j,N[n][0]._preGroupSort=n}var J=function(tt,E){return tt.trace.legendrank-E.trace.legendrank||tt._preSort-E._preSort};for(N.forEach(function(tt,E){tt[0]._preGroupSort=E}),N.sort(function(tt,E){return tt[0]._groupMinRank-E[0]._groupMinRank||tt[0]._preGroupSort-E[0]._preGroupSort}),n=0;n<N.length;n++){N[n].forEach(function(tt,E){tt._preSort=E}),N[n].sort(J);var P=N[n][0].trace,M=null;for(o=0;o<N[n].length;o++){var O=N[n][o].trace.legendgrouptitle;if(O&&O.text){M=O,l&&(O.font=i._groupTitleFont);break}}if(d&&N[n].reverse(),M){var q=!1;for(o=0;o<N[n].length;o++)if(a.traceIs(N[n][o].trace,"pie-like")){q=!0;break}N[n].unshift({i:-1,groupTitle:M,noClick:q,trace:{showlegend:P.showlegend,legendgroup:P.legendgroup,visible:i.groupclick==="toggleitem"||P.visible}})}for(o=0;o<N[n].length;o++)N[n][o]=[N[n][o]]}return i._lgroupsLength=N.length,i._maxNameLength=b,N}},85167:function(w,s,t){var a=t(71828),f=t(73972),e=!0;w.exports=function(i,r,n){var o=r._fullLayout;if(!r._dragged&&!r._editing){var l,u=o.legend.itemclick,d=o.legend.itemdoubleclick,c=o.legend.groupclick;if(n===1&&u==="toggle"&&d==="toggleothers"&&e&&r.data&&r._context.showTips&&a.notifier(a._(r,"Double-click on legend to isolate one trace"),"long"),e=!1,n===1?l=u:n===2&&(l=d),l){var h=c==="togglegroup",p=o.hiddenlabels?o.hiddenlabels.slice():[],g=i.data()[0][0];if(!g.groupTitle||!g.noClick){var y,b,m,v,x,_=r._fullData,T=g.trace,C=T.legendgroup,S={},F=[],N=[],D=[];if(f.traceIs(T,"pie-like")){var j=g.label,B=p.indexOf(j);l==="toggle"?B===-1?p.push(j):p.splice(B,1):l==="toggleothers"&&(p=[],r.calcdata[0].forEach(function(H){j!==H.label&&p.push(H.label)}),r._fullLayout.hiddenlabels&&r._fullLayout.hiddenlabels.length===p.length&&B===-1&&(p=[])),f.call("_guiRelayout",r,"hiddenlabels",p)}else{var J,P=C&&C.length,M=[];if(P)for(y=0;y<_.length;y++)(J=_[y]).visible&&J.legendgroup===C&&M.push(y);if(l==="toggle"){var O;switch(T.visible){case!0:O="legendonly";break;case!1:O=!1;break;case"legendonly":O=!0}if(P)if(h)for(y=0;y<_.length;y++)_[y].visible!==!1&&_[y].legendgroup===C&&Z(_[y],O);else Z(T,O);else Z(T,O)}else if(l==="toggleothers"){var q,tt,E,z,Y=!0;for(y=0;y<_.length;y++)if(q=_[y]===T,E=_[y].showlegend!==!0,!(q||E||(tt=P&&_[y].legendgroup===C)||_[y].visible!==!0||f.traceIs(_[y],"notLegendIsolatable"))){Y=!1;break}for(y=0;y<_.length;y++)if(_[y].visible!==!1&&!f.traceIs(_[y],"notLegendIsolatable"))switch(T.visible){case"legendonly":Z(_[y],!0);break;case!0:z=!!Y||"legendonly",q=_[y]===T,E=_[y].showlegend!==!0&&!_[y].legendgroup,tt=q||P&&_[y].legendgroup===C,Z(_[y],!(!tt&&!E)||z)}}for(y=0;y<N.length;y++)if(m=N[y]){var Q=m.constructUpdate(),nt=Object.keys(Q);for(b=0;b<nt.length;b++)v=nt[b],(S[v]=S[v]||[])[D[y]]=Q[v]}for(x=Object.keys(S),y=0;y<x.length;y++)for(v=x[y],b=0;b<F.length;b++)S[v].hasOwnProperty(b)||(S[v][b]=void 0);f.call("_guiRestyle",r,S,F)}}}}function et(H,U,V){var $=F.indexOf(H),at=S[U];return at||(at=S[U]=[]),F.indexOf(H)===-1&&(F.push(H),$=F.length-1),at[$]=V,$}function Z(H,U){if(!g.groupTitle||h){var V=H._fullInput;if(f.hasTransform(V,"groupby")){var $=N[V.index];if(!$){var at=f.getTransformIndices(V,"groupby"),rt=at[at.length-1];$=a.keyedContainer(V,"transforms["+rt+"].styles","target","value.visible"),N[V.index]=$}var ot=$.get(H._group);ot===void 0&&(ot=!0),ot!==!1&&$.set(H._group,U),D[V.index]=et(V.index,"visible",V.visible!==!1)}else{var ct=V.visible!==!1&&U;et(V.index,"visible",ct)}}}}},10130:function(w,s){s.isGrouped=function(t){return(t.traceorder||"").indexOf("grouped")!==-1},s.isVertical=function(t){return t.orientation!=="h"},s.isReversed=function(t){return(t.traceorder||"").indexOf("reversed")!==-1}},2199:function(w,s,t){w.exports={moduleType:"component",name:"legend",layoutAttributes:t(33030),supplyLayoutDefaults:t(99017),draw:t(43969),style:t(53630)}},53630:function(w,s,t){var a=t(39898),f=t(73972),e=t(71828),i=e.strTranslate,r=t(91424),n=t(7901),o=t(52075).extractOpts,l=t(34098),u=t(63463),d=t(53581).castOption,c=t(14928);function h(y,b){return(b?"radial":"horizontal")+(y?"":"reversed")}function p(y){var b=y[0].trace,m=b.contours,v=l.hasLines(b),x=l.hasMarkers(b),_=b.visible&&b.fill&&b.fill!=="none",T=!1,C=!1;if(m){var S=m.coloring;S==="lines"?T=!0:v=S==="none"||S==="heatmap"||m.showlines,m.type==="constraint"?_=m._operation!=="=":S!=="fill"&&S!=="heatmap"||(C=!0)}return{showMarker:x,showLine:v,showFill:_,showGradientLine:T,showGradientFill:C,anyLine:v||T,anyFill:_||C}}function g(y,b,m){return y&&e.isArrayOrTypedArray(y)?b:y>m?m:y}w.exports=function(y,b,m){var v=b._fullLayout;m||(m=v.legend);var x=m.itemsizing==="constant",_=m.itemwidth,T=(_+2*c.itemGap)/2,C=i(T,0),S=function(D,j,B,J){var P;if(D+1)P=D;else{if(!(j&&j.width>0))return 0;P=j.width}return x?J:Math.min(P,B)};function F(D,j,B){var J=D[0].trace,P=J.marker||{},M=P.line||{},O=B?J.visible&&J.type===B:f.traceIs(J,"bar"),q=a.select(j).select("g.legendpoints").selectAll("path.legend"+B).data(O?[D]:[]);q.enter().append("path").classed("legend"+B,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",C),q.exit().remove(),q.each(function(tt){var E=a.select(this),z=tt[0],Y=S(z.mlw,P.line,5,2);E.style("stroke-width",Y+"px");var Q=z.mcc;if(!m._inHover&&"mc"in z){var nt=o(P),et=nt.mid;et===void 0&&(et=(nt.max+nt.min)/2),Q=r.tryColorscale(P,"")(et)}var Z=Q||z.mc||P.color,H=P.pattern,U=H&&r.getPatternAttr(H.shape,0,"");if(U){var V=r.getPatternAttr(H.bgcolor,0,null),$=r.getPatternAttr(H.fgcolor,0,null),at=H.fgopacity,rt=g(H.size,8,10),ot=g(H.solidity,.5,1),ct="legend-"+J.uid;E.call(r.pattern,"legend",b,ct,U,rt,ot,Q,H.fillmode,V,$,at)}else E.call(n.fill,Z);Y&&n.stroke(E,z.mlc||M.color)})}function N(D,j,B){var J=D[0],P=J.trace,M=B?P.visible&&P.type===B:f.traceIs(P,B),O=a.select(j).select("g.legendpoints").selectAll("path.legend"+B).data(M?[D]:[]);if(O.enter().append("path").classed("legend"+B,!0).attr("d","M6,6H-6V-6H6Z").attr("transform",C),O.exit().remove(),O.size()){var q=(P.marker||{}).line,tt=S(d(q.width,J.pts),q,5,2),E=e.minExtend(P,{marker:{line:{width:tt}}});E.marker.line.color=q.color;var z=e.minExtend(J,{trace:E});u(O,z,E)}}y.each(function(D){var j=a.select(this),B=e.ensureSingle(j,"g","layers");B.style("opacity",D[0].trace.opacity);var J=m.valign,P=D[0].lineHeight,M=D[0].height;if(J!=="middle"&&P&&M){var O={top:1,bottom:-1}[J]*(.5*(P-M+3));B.attr("transform",i(0,O))}else B.attr("transform",null);B.selectAll("g.legendfill").data([D]).enter().append("g").classed("legendfill",!0),B.selectAll("g.legendlines").data([D]).enter().append("g").classed("legendlines",!0);var q=B.selectAll("g.legendsymbols").data([D]);q.enter().append("g").classed("legendsymbols",!0),q.selectAll("g.legendpoints").data([D]).enter().append("g").classed("legendpoints",!0)}).each(function(D){var j,B=D[0].trace,J=[];if(B.visible)switch(B.type){case"histogram2d":case"heatmap":J=[["M-15,-2V4H15V-2Z"]],j=!0;break;case"choropleth":case"choroplethmapbox":J=[["M-6,-6V6H6V-6Z"]],j=!0;break;case"densitymapbox":J=[["M-6,0 a6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"]],j="radial";break;case"cone":J=[["M-6,2 A2,2 0 0,0 -6,6 V6L6,4Z"],["M-6,-6 A2,2 0 0,0 -6,-2 L6,-4Z"],["M-6,-2 A2,2 0 0,0 -6,2 L6,0Z"]],j=!1;break;case"streamtube":J=[["M-6,2 A2,2 0 0,0 -6,6 H6 A2,2 0 0,1 6,2 Z"],["M-6,-6 A2,2 0 0,0 -6,-2 H6 A2,2 0 0,1 6,-6 Z"],["M-6,-2 A2,2 0 0,0 -6,2 H6 A2,2 0 0,1 6,-2 Z"]],j=!1;break;case"surface":J=[["M-6,-6 A2,3 0 0,0 -6,0 H6 A2,3 0 0,1 6,-6 Z"],["M-6,1 A2,3 0 0,1 -6,6 H6 A2,3 0 0,0 6,0 Z"]],j=!0;break;case"mesh3d":J=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],j=!1;break;case"volume":J=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6H6L0,6Z"]],j=!0;break;case"isosurface":J=[["M-6,6H0L-6,-6Z"],["M6,6H0L6,-6Z"],["M-6,-6 A12,24 0 0,0 6,-6 L0,6Z"]],j=!1}var P=a.select(this).select("g.legendpoints").selectAll("path.legend3dandfriends").data(J);P.enter().append("path").classed("legend3dandfriends",!0).attr("transform",C).style("stroke-miterlimit",1),P.exit().remove(),P.each(function(M,O){var q,tt=a.select(this),E=o(B),z=E.colorscale,Y=E.reversescale;if(z){if(!j){var Q=z.length;q=O===0?z[Y?Q-1:0][1]:O===1?z[Y?0:Q-1][1]:z[Math.floor((Q-1)/2)][1]}}else{var nt=B.vertexcolor||B.facecolor||B.color;q=e.isArrayOrTypedArray(nt)?nt[O]||nt[0]:nt}tt.attr("d",M[0]),q?tt.call(n.fill,q):tt.call(function(et){if(et.size()){var Z="legendfill-"+B.uid;r.gradient(et,b,Z,h(Y,j==="radial"),z,"fill")}})})}).each(function(D){var j=D[0].trace,B=j.type==="waterfall";if(D[0]._distinct&&B){var J=D[0].trace[D[0].dir].marker;return D[0].mc=J.color,D[0].mlw=J.line.width,D[0].mlc=J.line.color,F(D,this,"waterfall")}var P=[];j.visible&&B&&(P=D[0].hasTotals?[["increasing","M-6,-6V6H0Z"],["totals","M6,6H0L-6,-6H-0Z"],["decreasing","M6,6V-6H0Z"]]:[["increasing","M-6,-6V6H6Z"],["decreasing","M6,6V-6H-6Z"]]);var M=a.select(this).select("g.legendpoints").selectAll("path.legendwaterfall").data(P);M.enter().append("path").classed("legendwaterfall",!0).attr("transform",C).style("stroke-miterlimit",1),M.exit().remove(),M.each(function(O){var q=a.select(this),tt=j[O[0]].marker,E=S(void 0,tt.line,5,2);q.attr("d",O[1]).style("stroke-width",E+"px").call(n.fill,tt.color),E&&q.call(n.stroke,tt.line.color)})}).each(function(D){F(D,this,"funnel")}).each(function(D){F(D,this)}).each(function(D){var j=D[0].trace,B=a.select(this).select("g.legendpoints").selectAll("path.legendbox").data(j.visible&&f.traceIs(j,"box-violin")?[D]:[]);B.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform",C),B.exit().remove(),B.each(function(){var J=a.select(this);if(j.boxpoints!=="all"&&j.points!=="all"||n.opacity(j.fillcolor)!==0||n.opacity((j.line||{}).color)!==0){var P=S(void 0,j.line,5,2);J.style("stroke-width",P+"px").call(n.fill,j.fillcolor),P&&n.stroke(J,j.line.color)}else{var M=e.minExtend(j,{marker:{size:x?12:e.constrain(j.marker.size,2,16),sizeref:1,sizemin:1,sizemode:"diameter"}});B.call(r.pointStyle,M,b)}})}).each(function(D){N(D,this,"funnelarea")}).each(function(D){N(D,this,"pie")}).each(function(D){var j,B,J=p(D),P=J.showFill,M=J.showLine,O=J.showGradientLine,q=J.showGradientFill,tt=J.anyFill,E=J.anyLine,z=D[0],Y=z.trace,Q=o(Y),nt=Q.colorscale,et=Q.reversescale,Z=l.hasMarkers(Y)||!tt?"M5,0":E?"M5,-2":"M5,-3",H=a.select(this),U=H.select(".legendfill").selectAll("path").data(P||q?[D]:[]);if(U.enter().append("path").classed("js-fill",!0),U.exit().remove(),U.attr("d",Z+"h"+_+"v6h-"+_+"z").call(function(at){if(at.size())if(P)r.fillGroupStyle(at,b);else{var rt="legendfill-"+Y.uid;r.gradient(at,b,rt,h(et),nt,"fill")}}),M||O){var V=S(void 0,Y.line,10,5);B=e.minExtend(Y,{line:{width:V}}),j=[e.minExtend(z,{trace:B})]}var $=H.select(".legendlines").selectAll("path").data(M||O?[j]:[]);$.enter().append("path").classed("js-line",!0),$.exit().remove(),$.attr("d",Z+(O?"l"+_+",0.0001":"h"+_)).call(M?r.lineGroupStyle:function(at){if(at.size()){var rt="legendline-"+Y.uid;r.lineGroupStyle(at),r.gradient(at,b,rt,h(et),nt,"stroke")}})}).each(function(D){var j,B,J=p(D),P=J.anyFill,M=J.anyLine,O=J.showLine,q=J.showMarker,tt=D[0],E=tt.trace,z=!q&&!M&&!P&&l.hasText(E);function Y($,at,rt,ot){var ct=e.nestedProperty(E,$).get(),ht=e.isArrayOrTypedArray(ct)&&at?at(ct):ct;if(x&&ht&&ot!==void 0&&(ht=ot),rt){if(ht<rt[0])return rt[0];if(ht>rt[1])return rt[1]}return ht}function Q($){return tt._distinct&&tt.index&&$[tt.index]?$[tt.index]:$[0]}if(q||z||O){var nt={},et={};if(q){nt.mc=Y("marker.color",Q),nt.mx=Y("marker.symbol",Q),nt.mo=Y("marker.opacity",e.mean,[.2,1]),nt.mlc=Y("marker.line.color",Q),nt.mlw=Y("marker.line.width",e.mean,[0,5],2),et.marker={sizeref:1,sizemin:1,sizemode:"diameter"};var Z=Y("marker.size",e.mean,[2,16],12);nt.ms=Z,et.marker.size=Z}O&&(et.line={width:Y("line.width",Q,[0,10],5)}),z&&(nt.tx="Aa",nt.tp=Y("textposition",Q),nt.ts=10,nt.tc=Y("textfont.color",Q),nt.tf=Y("textfont.family",Q)),j=[e.minExtend(tt,nt)],(B=e.minExtend(E,et)).selectedpoints=null,B.texttemplate=null}var H=a.select(this).select("g.legendpoints"),U=H.selectAll("path.scatterpts").data(q?j:[]);U.enter().insert("path",":first-child").classed("scatterpts",!0).attr("transform",C),U.exit().remove(),U.call(r.pointStyle,B,b),q&&(j[0].mrc=3);var V=H.selectAll("g.pointtext").data(z?j:[]);V.enter().append("g").classed("pointtext",!0).append("text").attr("transform",C),V.exit().remove(),V.selectAll("text").call(r.textPointStyle,B,b)}).each(function(D){var j=D[0].trace,B=a.select(this).select("g.legendpoints").selectAll("path.legendcandle").data(j.visible&&j.type==="candlestick"?[D,D]:[]);B.enter().append("path").classed("legendcandle",!0).attr("d",function(J,P){return P?"M-15,0H-8M-8,6V-6H8Z":"M15,0H8M8,-6V6H-8Z"}).attr("transform",C).style("stroke-miterlimit",1),B.exit().remove(),B.each(function(J,P){var M=a.select(this),O=j[P?"increasing":"decreasing"],q=S(void 0,O.line,5,2);M.style("stroke-width",q+"px").call(n.fill,O.fillcolor),q&&n.stroke(M,O.line.color)})}).each(function(D){var j=D[0].trace,B=a.select(this).select("g.legendpoints").selectAll("path.legendohlc").data(j.visible&&j.type==="ohlc"?[D,D]:[]);B.enter().append("path").classed("legendohlc",!0).attr("d",function(J,P){return P?"M-15,0H0M-8,-6V0":"M15,0H0M8,6V0"}).attr("transform",C).style("stroke-miterlimit",1),B.exit().remove(),B.each(function(J,P){var M=a.select(this),O=j[P?"increasing":"decreasing"],q=S(void 0,O.line,5,2);M.style("fill","none").call(r.dashLine,O.line.dash,q),q&&n.stroke(M,O.line.color)})})}},42068:function(w,s,t){t(93348),w.exports={editType:"modebar",orientation:{valType:"enumerated",values:["v","h"],dflt:"h",editType:"modebar"},bgcolor:{valType:"color",editType:"modebar"},color:{valType:"color",editType:"modebar"},activecolor:{valType:"color",editType:"modebar"},uirevision:{valType:"any",editType:"none"},add:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"},remove:{valType:"string",arrayOk:!0,dflt:"",editType:"modebar"}}},26023:function(w,s,t){var a=t(73972),f=t(74875),e=t(41675),i=t(24255),r=t(34031).eraseActiveShape,n=t(71828),o=n._,l=w.exports={};function u(v,x){var _,T,C=x.currentTarget,S=C.getAttribute("data-attr"),F=C.getAttribute("data-val")||!0,N=v._fullLayout,D={},j=e.list(v,null,!0),B=N._cartesianSpikesEnabled;if(S==="zoom"){var J,P=F==="in"?.5:2,M=(1+P)/2,O=(1-P)/2;for(T=0;T<j.length;T++)if(!(_=j[T]).fixedrange)if(J=_._name,F==="auto")D[J+".autorange"]=!0;else if(F==="reset"){if(_._rangeInitial===void 0)D[J+".autorange"]=!0;else{var q=_._rangeInitial.slice();D[J+".range[0]"]=q[0],D[J+".range[1]"]=q[1]}_._showSpikeInitial!==void 0&&(D[J+".showspikes"]=_._showSpikeInitial,B!=="on"||_._showSpikeInitial||(B="off"))}else{var tt=[_.r2l(_.range[0]),_.r2l(_.range[1])],E=[M*tt[0]+O*tt[1],M*tt[1]+O*tt[0]];D[J+".range[0]"]=_.l2r(E[0]),D[J+".range[1]"]=_.l2r(E[1])}}else S!=="hovermode"||F!=="x"&&F!=="y"||(F=N._isHoriz?"y":"x",C.setAttribute("data-val",F)),D[S]=F;N._cartesianSpikesEnabled=B,a.call("_guiRelayout",v,D)}function d(v,x){for(var _=x.currentTarget,T=_.getAttribute("data-attr"),C=_.getAttribute("data-val")||!0,S=v._fullLayout._subplots.gl3d||[],F={},N=T.split("."),D=0;D<S.length;D++)F[S[D]+"."+N[1]]=C;var j=C==="pan"?C:"zoom";F.dragmode=j,a.call("_guiRelayout",v,F)}function c(v,x){for(var _=x.currentTarget.getAttribute("data-attr"),T=_==="resetLastSave",C=_==="resetDefault",S=v._fullLayout,F=S._subplots.gl3d||[],N={},D=0;D<F.length;D++){var j,B=F[D],J=B+".camera",P=B+".aspectratio",M=B+".aspectmode",O=S[B]._scene;T?(N[J+".up"]=O.viewInitial.up,N[J+".eye"]=O.viewInitial.eye,N[J+".center"]=O.viewInitial.center,j=!0):C&&(N[J+".up"]=null,N[J+".eye"]=null,N[J+".center"]=null,j=!0),j&&(N[P+".x"]=O.viewInitial.aspectratio.x,N[P+".y"]=O.viewInitial.aspectratio.y,N[P+".z"]=O.viewInitial.aspectratio.z,N[M]=O.viewInitial.aspectmode)}a.call("_guiRelayout",v,N)}function h(v,x){var _=x.currentTarget,T=_._previousVal,C=v._fullLayout,S=C._subplots.gl3d||[],F=["xaxis","yaxis","zaxis"],N={},D={};if(T)D=T,_._previousVal=null;else{for(var j=0;j<S.length;j++){var B=S[j],J=C[B],P=B+".hovermode";N[P]=J.hovermode,D[P]=!1;for(var M=0;M<3;M++){var O=F[M],q=B+"."+O+".showspikes";D[q]=!1,N[q]=J[O].showspikes}}_._previousVal=N}return D}function p(v,x){for(var _=x.currentTarget,T=_.getAttribute("data-attr"),C=_.getAttribute("data-val")||!0,S=v._fullLayout,F=S._subplots.geo||[],N=0;N<F.length;N++){var D=F[N],j=S[D];if(T==="zoom"){var B=j.projection.scale,J=C==="in"?2*B:.5*B;a.call("_guiRelayout",v,D+".projection.scale",J)}}T==="reset"&&m(v,"geo")}function g(v){var x=v._fullLayout;return!x.hovermode&&(x._has("cartesian")?x._isHoriz?"y":"x":"closest")}function y(v){var x=g(v);a.call("_guiRelayout",v,"hovermode",x)}function b(v,x){for(var _=x.currentTarget.getAttribute("data-val"),T=v._fullLayout,C=T._subplots.mapbox||[],S={},F=0;F<C.length;F++){var N=C[F],D=T[N].zoom,j=_==="in"?1.05*D:D/1.05;S[N+".zoom"]=j}a.call("_guiRelayout",v,S)}function m(v,x){for(var _=v._fullLayout,T=_._subplots[x]||[],C={},S=0;S<T.length;S++)for(var F=T[S],N=_[F]._subplot.viewInitial,D=Object.keys(N),j=0;j<D.length;j++){var B=D[j];C[F+"."+B]=N[B]}a.call("_guiRelayout",v,C)}l.toImage={name:"toImage",title:function(v){var x=(v._context.toImageButtonOptions||{}).format||"png";return o(v,x==="png"?"Download plot as a png":"Download plot")},icon:i.camera,click:function(v){var x=v._context.toImageButtonOptions,_={format:x.format||"png"};n.notifier(o(v,"Taking snapshot - this may take a few seconds"),"long"),_.format!=="svg"&&n.isIE()&&(n.notifier(o(v,"IE only supports svg.  Changing format to svg."),"long"),_.format="svg"),["filename","width","height","scale"].forEach(function(T){T in x&&(_[T]=x[T])}),a.call("downloadImage",v,_).then(function(T){n.notifier(o(v,"Snapshot succeeded")+" - "+T,"long")}).catch(function(){n.notifier(o(v,"Sorry, there was a problem downloading your snapshot!"),"long")})}},l.sendDataToCloud={name:"sendDataToCloud",title:function(v){return o(v,"Edit in Chart Studio")},icon:i.disk,click:function(v){f.sendDataToCloud(v)}},l.editInChartStudio={name:"editInChartStudio",title:function(v){return o(v,"Edit in Chart Studio")},icon:i.pencil,click:function(v){f.sendDataToCloud(v)}},l.zoom2d={name:"zoom2d",_cat:"zoom",title:function(v){return o(v,"Zoom")},attr:"dragmode",val:"zoom",icon:i.zoombox,click:u},l.pan2d={name:"pan2d",_cat:"pan",title:function(v){return o(v,"Pan")},attr:"dragmode",val:"pan",icon:i.pan,click:u},l.select2d={name:"select2d",_cat:"select",title:function(v){return o(v,"Box Select")},attr:"dragmode",val:"select",icon:i.selectbox,click:u},l.lasso2d={name:"lasso2d",_cat:"lasso",title:function(v){return o(v,"Lasso Select")},attr:"dragmode",val:"lasso",icon:i.lasso,click:u},l.drawclosedpath={name:"drawclosedpath",title:function(v){return o(v,"Draw closed freeform")},attr:"dragmode",val:"drawclosedpath",icon:i.drawclosedpath,click:u},l.drawopenpath={name:"drawopenpath",title:function(v){return o(v,"Draw open freeform")},attr:"dragmode",val:"drawopenpath",icon:i.drawopenpath,click:u},l.drawline={name:"drawline",title:function(v){return o(v,"Draw line")},attr:"dragmode",val:"drawline",icon:i.drawline,click:u},l.drawrect={name:"drawrect",title:function(v){return o(v,"Draw rectangle")},attr:"dragmode",val:"drawrect",icon:i.drawrect,click:u},l.drawcircle={name:"drawcircle",title:function(v){return o(v,"Draw circle")},attr:"dragmode",val:"drawcircle",icon:i.drawcircle,click:u},l.eraseshape={name:"eraseshape",title:function(v){return o(v,"Erase active shape")},icon:i.eraseshape,click:r},l.zoomIn2d={name:"zoomIn2d",_cat:"zoomin",title:function(v){return o(v,"Zoom in")},attr:"zoom",val:"in",icon:i.zoom_plus,click:u},l.zoomOut2d={name:"zoomOut2d",_cat:"zoomout",title:function(v){return o(v,"Zoom out")},attr:"zoom",val:"out",icon:i.zoom_minus,click:u},l.autoScale2d={name:"autoScale2d",_cat:"autoscale",title:function(v){return o(v,"Autoscale")},attr:"zoom",val:"auto",icon:i.autoscale,click:u},l.resetScale2d={name:"resetScale2d",_cat:"resetscale",title:function(v){return o(v,"Reset axes")},attr:"zoom",val:"reset",icon:i.home,click:u},l.hoverClosestCartesian={name:"hoverClosestCartesian",_cat:"hoverclosest",title:function(v){return o(v,"Show closest data on hover")},attr:"hovermode",val:"closest",icon:i.tooltip_basic,gravity:"ne",click:u},l.hoverCompareCartesian={name:"hoverCompareCartesian",_cat:"hoverCompare",title:function(v){return o(v,"Compare data on hover")},attr:"hovermode",val:function(v){return v._fullLayout._isHoriz?"y":"x"},icon:i.tooltip_compare,gravity:"ne",click:u},l.zoom3d={name:"zoom3d",_cat:"zoom",title:function(v){return o(v,"Zoom")},attr:"scene.dragmode",val:"zoom",icon:i.zoombox,click:d},l.pan3d={name:"pan3d",_cat:"pan",title:function(v){return o(v,"Pan")},attr:"scene.dragmode",val:"pan",icon:i.pan,click:d},l.orbitRotation={name:"orbitRotation",title:function(v){return o(v,"Orbital rotation")},attr:"scene.dragmode",val:"orbit",icon:i["3d_rotate"],click:d},l.tableRotation={name:"tableRotation",title:function(v){return o(v,"Turntable rotation")},attr:"scene.dragmode",val:"turntable",icon:i["z-axis"],click:d},l.resetCameraDefault3d={name:"resetCameraDefault3d",_cat:"resetCameraDefault",title:function(v){return o(v,"Reset camera to default")},attr:"resetDefault",icon:i.home,click:c},l.resetCameraLastSave3d={name:"resetCameraLastSave3d",_cat:"resetCameraLastSave",title:function(v){return o(v,"Reset camera to last save")},attr:"resetLastSave",icon:i.movie,click:c},l.hoverClosest3d={name:"hoverClosest3d",_cat:"hoverclosest",title:function(v){return o(v,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:i.tooltip_basic,gravity:"ne",click:function(v,x){var _=h(v,x);a.call("_guiRelayout",v,_)}},l.zoomInGeo={name:"zoomInGeo",_cat:"zoomin",title:function(v){return o(v,"Zoom in")},attr:"zoom",val:"in",icon:i.zoom_plus,click:p},l.zoomOutGeo={name:"zoomOutGeo",_cat:"zoomout",title:function(v){return o(v,"Zoom out")},attr:"zoom",val:"out",icon:i.zoom_minus,click:p},l.resetGeo={name:"resetGeo",_cat:"reset",title:function(v){return o(v,"Reset")},attr:"reset",val:null,icon:i.autoscale,click:p},l.hoverClosestGeo={name:"hoverClosestGeo",_cat:"hoverclosest",title:function(v){return o(v,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:i.tooltip_basic,gravity:"ne",click:y},l.hoverClosestGl2d={name:"hoverClosestGl2d",_cat:"hoverclosest",title:function(v){return o(v,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:i.tooltip_basic,gravity:"ne",click:y},l.hoverClosestPie={name:"hoverClosestPie",_cat:"hoverclosest",title:function(v){return o(v,"Toggle show closest data on hover")},attr:"hovermode",val:"closest",icon:i.tooltip_basic,gravity:"ne",click:y},l.resetViewSankey={name:"resetSankeyGroup",title:function(v){return o(v,"Reset view")},icon:i.home,click:function(v){for(var x={"node.groups":[],"node.x":[],"node.y":[]},_=0;_<v._fullData.length;_++){var T=v._fullData[_]._viewInitial;x["node.groups"].push(T.node.groups.slice()),x["node.x"].push(T.node.x.slice()),x["node.y"].push(T.node.y.slice())}a.call("restyle",v,x)}},l.toggleHover={name:"toggleHover",title:function(v){return o(v,"Toggle show closest data on hover")},attr:"hovermode",val:null,toggle:!0,icon:i.tooltip_basic,gravity:"ne",click:function(v,x){var _=h(v,x);_.hovermode=g(v),a.call("_guiRelayout",v,_)}},l.resetViews={name:"resetViews",title:function(v){return o(v,"Reset views")},icon:i.home,click:function(v,x){var _=x.currentTarget;_.setAttribute("data-attr","zoom"),_.setAttribute("data-val","reset"),u(v,x),_.setAttribute("data-attr","resetLastSave"),c(v,x),m(v,"geo"),m(v,"mapbox")}},l.toggleSpikelines={name:"toggleSpikelines",title:function(v){return o(v,"Toggle Spike Lines")},icon:i.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(v){var x=v._fullLayout,_=x._cartesianSpikesEnabled;x._cartesianSpikesEnabled=_==="on"?"off":"on",a.call("_guiRelayout",v,function(T){for(var C=T._fullLayout._cartesianSpikesEnabled==="on",S=e.list(T,null,!0),F={},N=0;N<S.length;N++){var D=S[N];F[D._name+".showspikes"]=!!C||D._showSpikeInitial}return F}(v))}},l.resetViewMapbox={name:"resetViewMapbox",_cat:"resetView",title:function(v){return o(v,"Reset view")},attr:"reset",icon:i.home,click:function(v){m(v,"mapbox")}},l.zoomInMapbox={name:"zoomInMapbox",_cat:"zoomin",title:function(v){return o(v,"Zoom in")},attr:"zoom",val:"in",icon:i.zoom_plus,click:b},l.zoomOutMapbox={name:"zoomOutMapbox",_cat:"zoomout",title:function(v){return o(v,"Zoom out")},attr:"zoom",val:"out",icon:i.zoom_minus,click:b}},93348:function(w,s,t){var a=t(26023),f=Object.keys(a),e=["drawline","drawopenpath","drawclosedpath","drawcircle","drawrect","eraseshape"],i=["v1hovermode","hoverclosest","hovercompare","togglehover","togglespikelines"].concat(e),r=[];f.forEach(function(n){(function(o){if(i.indexOf(o._cat||o.name)===-1){var l=o.name,u=(o._cat||o.name).toLowerCase();r.indexOf(l)===-1&&r.push(l),r.indexOf(u)===-1&&r.push(u)}})(a[n])}),r.sort(),w.exports={DRAW_MODES:e,backButtons:i,foreButtons:r}},35750:function(w,s,t){var a=t(71828),f=t(7901),e=t(44467),i=t(42068);w.exports=function(r,n){var o=r.modebar||{},l=e.newContainer(n,"modebar");function u(c,h){return a.coerce(o,l,i,c,h)}u("orientation"),u("bgcolor",f.addOpacity(n.paper_bgcolor,.5));var d=f.contrast(f.rgb(n.modebar.bgcolor));u("color",f.addOpacity(d,.3)),u("activecolor",f.addOpacity(d,.7)),u("uirevision",n.uirevision),u("add"),u("remove")}},64168:function(w,s,t){w.exports={moduleType:"component",name:"modebar",layoutAttributes:t(42068),supplyLayoutDefaults:t(35750),manage:t(14192)}},14192:function(w,s,t){var a=t(41675),f=t(34098),e=t(73972),i=t(23469).isUnifiedHover,r=t(37676),n=t(26023),o=t(93348).DRAW_MODES,l=t(71828).extendDeep;w.exports=function(u){var d=u._fullLayout,c=u._context,h=d._modeBar;if(c.displayModeBar||c.watermark){if(!Array.isArray(c.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(c.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var p,g=c.modeBarButtons;p=Array.isArray(g)&&g.length?function(y){for(var b=l([],y),m=0;m<b.length;m++)for(var v=b[m],x=0;x<v.length;x++){var _=v[x];if(typeof _=="string"){if(n[_]===void 0)throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "));b[m][x]=n[_]}}return b}(g):!c.displayModeBar&&c.watermark?[]:function(y){var b=y._fullLayout,m=y._fullData,v=y._context;function x(ct,ht){if(typeof ht=="string"){if(ht.toLowerCase()===ct.toLowerCase())return!0}else{var mt=ht.name,kt=ht._cat||ht.name;if(mt===ct||kt===ct.toLowerCase())return!0}return!1}var _=b.modebar.add;typeof _=="string"&&(_=[_]);var T=b.modebar.remove;typeof T=="string"&&(T=[T]);var C=v.modeBarButtonsToAdd.concat(_.filter(function(ct){for(var ht=0;ht<v.modeBarButtonsToRemove.length;ht++)if(x(ct,v.modeBarButtonsToRemove[ht]))return!1;return!0})),S=v.modeBarButtonsToRemove.concat(T.filter(function(ct){for(var ht=0;ht<v.modeBarButtonsToAdd.length;ht++)if(x(ct,v.modeBarButtonsToAdd[ht]))return!1;return!0})),F=b._has("cartesian"),N=b._has("gl3d"),D=b._has("geo"),j=b._has("pie"),B=b._has("funnelarea"),J=b._has("gl2d"),P=b._has("ternary"),M=b._has("mapbox"),O=b._has("polar"),q=b._has("smith"),tt=b._has("sankey"),E=function(ct){for(var ht=a.list({_fullLayout:ct},null,!0),mt=0;mt<ht.length;mt++)if(!ht[mt].fixedrange)return!1;return!0}(b),z=i(b.hovermode),Y=[];function Q(ct){if(ct.length){for(var ht=[],mt=0;mt<ct.length;mt++){for(var kt=ct[mt],Ct=n[kt],It=Ct.name.toLowerCase(),pt=(Ct._cat||Ct.name).toLowerCase(),bt=!1,_t=0;_t<S.length;_t++){var Dt=S[_t].toLowerCase();if(Dt===It||Dt===pt){bt=!0;break}}bt||ht.push(n[kt])}Y.push(ht)}}var nt=["toImage"];v.showEditInChartStudio?nt.push("editInChartStudio"):v.showSendToCloud&&nt.push("sendDataToCloud"),Q(nt);var et=[],Z=[],H=[],U=[];(F||J||j||B||P)+D+N+M+O+q>1?(Z=["toggleHover"],H=["resetViews"]):D?(et=["zoomInGeo","zoomOutGeo"],Z=["hoverClosestGeo"],H=["resetGeo"]):N?(Z=["hoverClosest3d"],H=["resetCameraDefault3d","resetCameraLastSave3d"]):M?(et=["zoomInMapbox","zoomOutMapbox"],Z=["toggleHover"],H=["resetViewMapbox"]):J?Z=["hoverClosestGl2d"]:j?Z=["hoverClosestPie"]:tt?(Z=["hoverClosestCartesian","hoverCompareCartesian"],H=["resetViewSankey"]):Z=["toggleHover"],F&&(Z=["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]),(function(ct){for(var ht=0;ht<ct.length;ht++)if(!e.traceIs(ct[ht],"noHover"))return!1;return!0}(m)||z)&&(Z=[]),!F&&!J||E||(et=["zoomIn2d","zoomOut2d","autoScale2d"],H[0]!=="resetViews"&&(H=["resetScale2d"])),N?U=["zoom3d","pan3d","orbitRotation","tableRotation"]:(F||J)&&!E||P?U=["zoom2d","pan2d"]:M||D?U=["pan2d"]:O&&(U=["zoom2d"]),function(ct){for(var ht=!1,mt=0;mt<ct.length&&!ht;mt++){var kt=ct[mt];kt._module&&kt._module.selectPoints&&(e.traceIs(kt,"scatter-like")?(f.hasMarkers(kt)||f.hasText(kt))&&(ht=!0):e.traceIs(kt,"box-violin")&&kt.boxpoints!=="all"&&kt.points!=="all"||(ht=!0))}return ht}(m)&&U.push("select2d","lasso2d");var V=[],$=function(ct){V.indexOf(ct)===-1&&Z.indexOf(ct)!==-1&&V.push(ct)};if(Array.isArray(C)){for(var at=[],rt=0;rt<C.length;rt++){var ot=C[rt];typeof ot=="string"?(ot=ot.toLowerCase(),o.indexOf(ot)!==-1?(b._has("mapbox")||b._has("cartesian"))&&U.push(ot):ot==="togglespikelines"?$("toggleSpikelines"):ot==="togglehover"?$("toggleHover"):ot==="hovercompare"?$("hoverCompareCartesian"):ot==="hoverclosest"?($("hoverClosestCartesian"),$("hoverClosestGeo"),$("hoverClosest3d"),$("hoverClosestGl2d"),$("hoverClosestPie")):ot==="v1hovermode"&&($("toggleHover"),$("hoverClosestCartesian"),$("hoverCompareCartesian"),$("hoverClosestGeo"),$("hoverClosest3d"),$("hoverClosestGl2d"),$("hoverClosestPie"))):at.push(ot)}C=at}return Q(U),Q(et.concat(H)),Q(V),function(ct,ht){if(ht.length)if(Array.isArray(ht[0]))for(var mt=0;mt<ht.length;mt++)ct.push(ht[mt]);else ct.push(ht);return ct}(Y,C)}(u),h?h.update(u,p):d._modeBar=r(u,p)}else h&&(h.destroy(),delete d._modeBar)}},37676:function(w,s,t){var a=t(39898),f=t(92770),e=t(71828),i=t(24255),r=t(11506).version,n=new DOMParser;function o(u){this.container=u.container,this.element=document.createElement("div"),this.update(u.graphInfo,u.buttons),this.container.appendChild(this.element)}var l=o.prototype;l.update=function(u,d){this.graphInfo=u;var c=this.graphInfo._context,h=this.graphInfo._fullLayout,p="modebar-"+h._uid;this.element.setAttribute("id",p),this._uid=p,this.element.className="modebar",c.displayModeBar==="hover"&&(this.element.className+=" modebar--hover ease-bg"),h.modebar.orientation==="v"&&(this.element.className+=" vertical",d=d.reverse());var g=h.modebar,y=c.displayModeBar==="hover"?".js-plotly-plot .plotly:hover ":"";e.deleteRelatedStyleRule(p),e.addRelatedStyleRule(p,y+"#"+p+" .modebar-group","background-color: "+g.bgcolor),e.addRelatedStyleRule(p,"#"+p+" .modebar-btn .icon path","fill: "+g.color),e.addRelatedStyleRule(p,"#"+p+" .modebar-btn:hover .icon path","fill: "+g.activecolor),e.addRelatedStyleRule(p,"#"+p+" .modebar-btn.active .icon path","fill: "+g.activecolor);var b=!this.hasButtons(d),m=this.hasLogo!==c.displaylogo,v=this.locale!==c.locale;if(this.locale=c.locale,(b||m||v)&&(this.removeAllButtons(),this.updateButtons(d),c.watermark||c.displaylogo)){var x=this.getLogo();c.watermark&&(x.className=x.className+" watermark"),h.modebar.orientation==="v"?this.element.insertBefore(x,this.element.childNodes[0]):this.element.appendChild(x),this.hasLogo=!0}this.updateActiveButton()},l.updateButtons=function(u){var d=this;this.buttons=u,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(c){var h=d.createGroup();c.forEach(function(p){var g=p.name;if(!g)throw new Error("must provide button 'name' in button config");if(d.buttonsNames.indexOf(g)!==-1)throw new Error("button name '"+g+"' is taken");d.buttonsNames.push(g);var y=d.createButton(p);d.buttonElements.push(y),h.appendChild(y)}),d.element.appendChild(h)})},l.createGroup=function(){var u=document.createElement("div");return u.className="modebar-group",u},l.createButton=function(u){var d=this,c=document.createElement("a");c.setAttribute("rel","tooltip"),c.className="modebar-btn";var h=u.title;h===void 0?h=u.name:typeof h=="function"&&(h=h(this.graphInfo)),(h||h===0)&&c.setAttribute("data-title",h),u.attr!==void 0&&c.setAttribute("data-attr",u.attr);var p=u.val;if(p!==void 0&&(typeof p=="function"&&(p=p(this.graphInfo)),c.setAttribute("data-val",p)),typeof u.click!="function")throw new Error("must provide button 'click' function in button config");c.addEventListener("click",function(y){u.click(d.graphInfo,y),d.updateActiveButton(y.currentTarget)}),c.setAttribute("data-toggle",u.toggle||!1),u.toggle&&a.select(c).classed("active",!0);var g=u.icon;return typeof g=="function"?c.appendChild(g()):c.appendChild(this.createIcon(g||i.question)),c.setAttribute("data-gravity",u.gravity||"n"),c},l.createIcon=function(u){var d,c=f(u.height)?Number(u.height):u.ascent-u.descent,h="http://www.w3.org/2000/svg";if(u.path){(d=document.createElementNS(h,"svg")).setAttribute("viewBox",[0,0,u.width,c].join(" ")),d.setAttribute("class","icon");var p=document.createElementNS(h,"path");p.setAttribute("d",u.path),u.transform?p.setAttribute("transform",u.transform):u.ascent!==void 0&&p.setAttribute("transform","matrix(1 0 0 -1 0 "+u.ascent+")"),d.appendChild(p)}return u.svg&&(d=n.parseFromString(u.svg,"application/xml").childNodes[0]),d.setAttribute("height","1em"),d.setAttribute("width","1em"),d},l.updateActiveButton=function(u){var d=this.graphInfo._fullLayout,c=u!==void 0?u.getAttribute("data-attr"):null;this.buttonElements.forEach(function(h){var p=h.getAttribute("data-val")||!0,g=h.getAttribute("data-attr"),y=h.getAttribute("data-toggle")==="true",b=a.select(h);if(y)g===c&&b.classed("active",!b.classed("active"));else{var m=g===null?g:e.nestedProperty(d,g).get();b.classed("active",m===p)}})},l.hasButtons=function(u){var d=this.buttons;if(!d||u.length!==d.length)return!1;for(var c=0;c<u.length;++c){if(u[c].length!==d[c].length)return!1;for(var h=0;h<u[c].length;h++)if(u[c][h].name!==d[c][h].name)return!1}return!0},l.getLogo=function(){var u=this.createGroup(),d=document.createElement("a");return d.href="https://plotly.com/",d.target="_blank",d.setAttribute("data-title",e._(this.graphInfo,"Produced with Plotly.js")+" (v"+r+")"),d.className="modebar-btn plotlyjsicon modebar-btn--logo",d.appendChild(this.createIcon(i.newplotlylogo)),u.appendChild(d),u},l.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},l.destroy=function(){e.removeElement(this.container.querySelector(".modebar")),e.deleteRelatedStyleRule(this._uid)},w.exports=function(u,d){var c=u._fullLayout,h=new o({graphInfo:u,container:c._modebardiv.node(),buttons:d});return c._privateplot&&a.select(h.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),h}},37113:function(w,s,t){var a=t(41940),f=t(22399),e=(0,t(44467).templatedArray)("button",{visible:{valType:"boolean",dflt:!0,editType:"plot"},step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"});w.exports={visible:{valType:"boolean",editType:"plot"},buttons:e,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:a({editType:"plot"}),bgcolor:{valType:"color",dflt:f.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:f.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}},89573:function(w){w.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},28674:function(w,s,t){var a=t(71828),f=t(7901),e=t(44467),i=t(85501),r=t(37113),n=t(89573);function o(l,u,d,c){var h=c.calendar;function p(y,b){return a.coerce(l,u,r.buttons,y,b)}if(p("visible")){var g=p("step");g!=="all"&&(!h||h==="gregorian"||g!=="month"&&g!=="year"?p("stepmode"):u.stepmode="backward",p("count")),p("label")}}w.exports=function(l,u,d,c,h){var p=l.rangeselector||{},g=e.newContainer(u,"rangeselector");function y(v,x){return a.coerce(p,g,r,v,x)}if(y("visible",i(p,g,{name:"buttons",handleItemDefaults:o,calendar:h}).length>0)){var b=function(v,x,_){for(var T=_.filter(function(N){return x[N].anchor===v._id}),C=0,S=0;S<T.length;S++){var F=x[T[S]].domain;F&&(C=Math.max(F[1],C))}return[v.domain[0],C+n.yPad]}(u,d,c);y("x",b[0]),y("y",b[1]),a.noneOrAll(l,u,["x","y"]),y("xanchor"),y("yanchor"),a.coerceFont(y,"font",d.font);var m=y("bgcolor");y("activecolor",f.contrast(m,n.lightAmount,n.darkAmount)),y("bordercolor"),y("borderwidth")}}},21598:function(w,s,t){var a=t(39898),f=t(73972),e=t(74875),i=t(7901),r=t(91424),n=t(71828),o=n.strTranslate,l=t(63893),u=t(41675),d=t(18783),c=d.LINE_SPACING,h=d.FROM_TL,p=d.FROM_BR,g=t(89573),y=t(70565);function b(x){return x._id}function m(x,_,T){var C=n.ensureSingle(x,"rect","selector-rect",function(S){S.attr("shape-rendering","crispEdges")});C.attr({rx:g.rx,ry:g.ry}),C.call(i.stroke,_.bordercolor).call(i.fill,function(S,F){return F._isActive||F._isHovered?S.activecolor:S.bgcolor}(_,T)).style("stroke-width",_.borderwidth+"px")}function v(x,_,T,C){var S,F;n.ensureSingle(x,"text","selector-text",function(N){N.attr("text-anchor","middle")}).call(r.font,_.font).text((S=T,F=C._fullLayout._meta,S.label?F?n.templateString(S.label,F):S.label:S.step==="all"?"all":S.count+S.step.charAt(0))).call(function(N){l.convertToTspans(N,C)})}w.exports=function(x){var _=x._fullLayout._infolayer.selectAll(".rangeselector").data(function(T){for(var C=u.list(T,"x",!0),S=[],F=0;F<C.length;F++){var N=C[F];N.rangeselector&&N.rangeselector.visible&&S.push(N)}return S}(x),b);_.enter().append("g").classed("rangeselector",!0),_.exit().remove(),_.style({cursor:"pointer","pointer-events":"all"}),_.each(function(T){var C=a.select(this),S=T,F=S.rangeselector,N=C.selectAll("g.button").data(n.filterVisible(F.buttons));N.enter().append("g").classed("button",!0),N.exit().remove(),N.each(function(D){var j=a.select(this),B=y(S,D);D._isActive=function(J,P,M){if(P.step==="all")return J.autorange===!0;var O=Object.keys(M);return J.range[0]===M[O[0]]&&J.range[1]===M[O[1]]}(S,D,B),j.call(m,F,D),j.call(v,F,D,x),j.on("click",function(){x._dragged||f.call("_guiRelayout",x,B)}),j.on("mouseover",function(){D._isHovered=!0,j.call(m,F,D)}),j.on("mouseout",function(){D._isHovered=!1,j.call(m,F,D)})}),function(D,j,B,J,P){var M=0,O=0,q=B.borderwidth;j.each(function(){var nt=a.select(this).select(".selector-text"),et=B.font.size*c,Z=Math.max(et*l.lineCount(nt),16)+3;O=Math.max(O,Z)}),j.each(function(){var nt=a.select(this),et=nt.select(".selector-rect"),Z=nt.select(".selector-text"),H=Z.node()&&r.bBox(Z.node()).width,U=B.font.size*c,V=l.lineCount(Z),$=Math.max(H+10,g.minButtonWidth);nt.attr("transform",o(q+M,q)),et.attr({x:0,y:0,width:$,height:O}),l.positionText(Z,$/2,O/2-(V-1)*U/2+3),M+=$+5});var tt=D._fullLayout._size,E=tt.l+tt.w*B.x,z=tt.t+tt.h*(1-B.y),Y="left";n.isRightAnchor(B)&&(E-=M,Y="right"),n.isCenterAnchor(B)&&(E-=M/2,Y="center");var Q="top";n.isBottomAnchor(B)&&(z-=O,Q="bottom"),n.isMiddleAnchor(B)&&(z-=O/2,Q="middle"),M=Math.ceil(M),O=Math.ceil(O),E=Math.round(E),z=Math.round(z),e.autoMargin(D,J+"-range-selector",{x:B.x,y:B.y,l:M*h[Y],r:M*p[Y],b:O*p[Q],t:O*h[Q]}),P.attr("transform",o(E,z))}(x,N,F,S._name,C)})}},70565:function(w,s,t){var a=t(81041),f=t(71828).titleCase;w.exports=function(e,i){var r=e._name,n={};if(i.step==="all")n[r+".autorange"]=!0;else{var o=function(l,u){var d,c=l.range,h=new Date(l.r2l(c[1])),p=u.step,g=a["utc"+f(p)],y=u.count;switch(u.stepmode){case"backward":d=l.l2r(+g.offset(h,-y));break;case"todate":var b=g.offset(h,-y);d=l.l2r(+g.ceil(b))}return[d,c[1]]}(e,i);n[r+".range[0]"]=o[0],n[r+".range[1]"]=o[1]}return n}},97218:function(w,s,t){w.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:t(37113)}}},layoutAttributes:t(37113),handleDefaults:t(28674),draw:t(21598)}},75148:function(w,s,t){var a=t(22399);w.exports={bgcolor:{valType:"color",dflt:a.background,editType:"plot"},bordercolor:{valType:"color",dflt:a.defaultLine,editType:"plot"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"plot"},autorange:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},range:{valType:"info_array",items:[{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"calc",impliedEdits:{"^autorange":!1}}],editType:"calc",impliedEdits:{autorange:!1}},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"plot"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}},88443:function(w,s,t){var a=t(41675).list,f=t(71739).getAutoRange,e=t(73251);w.exports=function(i){for(var r=a(i,"x",!0),n=0;n<r.length;n++){var o=r[n],l=o[e.name];l&&l.visible&&l.autorange&&(l._input.autorange=!0,l._input.range=l.range=f(i,o))}}},73251:function(w){w.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskMinOppAxisClassName:"rangeslider-mask-min-opp-axis",maskMaxOppAxisClassName:"rangeslider-mask-max-opp-axis",maskColor:"rgba(0,0,0,0.4)",maskOppAxisColor:"rgba(0,0,0,0.2)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},26377:function(w,s,t){var a=t(71828),f=t(44467),e=t(41675),i=t(75148),r=t(47850);w.exports=function(n,o,l){var u=n[l],d=o[l];if(u.rangeslider||o._requestRangeslider[d._id]){a.isPlainObject(u.rangeslider)||(u.rangeslider={});var c,h,p=u.rangeslider,g=f.newContainer(d,"rangeslider");if(C("visible")){C("bgcolor",o.plot_bgcolor),C("bordercolor"),C("borderwidth"),C("thickness"),C("autorange",!d.isValidRange(p.range)),C("range");var y=o._subplots;if(y)for(var b=y.cartesian.filter(function(F){return F.substr(0,F.indexOf("y"))===e.name2id(l)}).map(function(F){return F.substr(F.indexOf("y"),F.length)}),m=a.simpleMap(b,e.id2name),v=0;v<m.length;v++){var x=m[v];c=p[x]||{},h=f.newContainer(g,x,"yaxis");var _,T=o[x];c.range&&T.isValidRange(c.range)&&(_="fixed"),S("rangemode",_)!=="match"&&S("range",T.range.slice())}g._input=p}}function C(F,N){return a.coerce(p,g,i,F,N)}function S(F,N){return a.coerce(c,h,r,F,N)}}},72413:function(w,s,t){var a=t(39898),f=t(73972),e=t(74875),i=t(71828),r=i.strTranslate,n=t(91424),o=t(7901),l=t(92998),u=t(93612),d=t(41675),c=t(28569),h=t(6964),p=t(73251);function g(_,T,C,S){var F=i.ensureSingle(_,"rect",p.bgClassName,function(B){B.attr({x:0,y:0,"shape-rendering":"crispEdges"})}),N=S.borderwidth%2==0?S.borderwidth:S.borderwidth-1,D=-S._offsetShift,j=n.crispRound(T,S.borderwidth);F.attr({width:S._width+N,height:S._height+N,transform:r(D,D),"stroke-width":j}).call(o.stroke,S.bordercolor).call(o.fill,S.bgcolor)}function y(_,T,C,S){var F=T._fullLayout;i.ensureSingleById(F._topdefs,"clipPath",S._clipId,function(N){N.append("rect").attr({x:0,y:0})}).select("rect").attr({width:S._width,height:S._height})}function b(_,T,C,S){var F,N=T.calcdata,D=_.selectAll("g."+p.rangePlotClassName).data(C._subplotsWith,i.identity);D.enter().append("g").attr("class",function(j){return p.rangePlotClassName+" "+j}).call(n.setClipUrl,S._clipId,T),D.order(),D.exit().remove(),D.each(function(j,B){var J=a.select(this),P=B===0,M=d.getFromId(T,j,"y"),O=M._name,q=S[O],tt={data:[],layout:{xaxis:{type:C.type,domain:[0,1],range:S.range.slice(),calendar:C.calendar},width:S._width,height:S._height,margin:{t:0,b:0,l:0,r:0}},_context:T._context};C.rangebreaks&&(tt.layout.xaxis.rangebreaks=C.rangebreaks),tt.layout[O]={type:M.type,domain:[0,1],range:q.rangemode!=="match"?q.range.slice():M.range.slice(),calendar:M.calendar},M.rangebreaks&&(tt.layout[O].rangebreaks=M.rangebreaks),e.supplyDefaults(tt);var E=tt._fullLayout.xaxis,z=tt._fullLayout[O];E.clearCalc(),E.setScale(),z.clearCalc(),z.setScale();var Y={id:j,plotgroup:J,xaxis:E,yaxis:z,isRangePlot:!0};P?F=Y:(Y.mainplot="xy",Y.mainplotinfo=F),u.rangePlot(T,Y,function(Q,nt){for(var et=[],Z=0;Z<Q.length;Z++){var H=Q[Z],U=H[0].trace;U.xaxis+U.yaxis===nt&&et.push(H)}return et}(N,j))})}function m(_,T,C,S,F){i.ensureSingle(_,"rect",p.maskMinClassName,function(N){N.attr({x:0,y:0,"shape-rendering":"crispEdges"})}).attr("height",S._height).call(o.fill,p.maskColor),i.ensureSingle(_,"rect",p.maskMaxClassName,function(N){N.attr({y:0,"shape-rendering":"crispEdges"})}).attr("height",S._height).call(o.fill,p.maskColor),F.rangemode!=="match"&&(i.ensureSingle(_,"rect",p.maskMinOppAxisClassName,function(N){N.attr({y:0,"shape-rendering":"crispEdges"})}).attr("width",S._width).call(o.fill,p.maskOppAxisColor),i.ensureSingle(_,"rect",p.maskMaxOppAxisClassName,function(N){N.attr({y:0,"shape-rendering":"crispEdges"})}).attr("width",S._width).style("border-top",p.maskOppBorder).call(o.fill,p.maskOppAxisColor))}function v(_,T,C,S){T._context.staticPlot||i.ensureSingle(_,"rect",p.slideBoxClassName,function(F){F.attr({y:0,cursor:p.slideBoxCursor,"shape-rendering":"crispEdges"})}).attr({height:S._height,fill:p.slideBoxFill})}function x(_,T,C,S){var F=i.ensureSingle(_,"g",p.grabberMinClassName),N=i.ensureSingle(_,"g",p.grabberMaxClassName),D={x:0,width:p.handleWidth,rx:p.handleRadius,fill:o.background,stroke:o.defaultLine,"stroke-width":p.handleStrokeWidth,"shape-rendering":"crispEdges"},j={y:Math.round(S._height/4),height:Math.round(S._height/2)};i.ensureSingle(F,"rect",p.handleMinClassName,function(J){J.attr(D)}).attr(j),i.ensureSingle(N,"rect",p.handleMaxClassName,function(J){J.attr(D)}).attr(j);var B={width:p.grabAreaWidth,x:0,y:0,fill:p.grabAreaFill,cursor:T._context.staticPlot?void 0:p.grabAreaCursor};i.ensureSingle(F,"rect",p.grabAreaMinClassName,function(J){J.attr(B)}).attr("height",S._height),i.ensureSingle(N,"rect",p.grabAreaMaxClassName,function(J){J.attr(B)}).attr("height",S._height)}w.exports=function(_){for(var T=_._fullLayout,C=T._rangeSliderData,S=0;S<C.length;S++){var F=C[S][p.name];F._clipId=F._id+"-"+T._uid}var N=T._infolayer.selectAll("g."+p.containerClassName).data(C,function(D){return D._name});N.exit().each(function(D){var j=D[p.name];T._topdefs.select("#"+j._clipId).remove()}).remove(),C.length!==0&&(N.enter().append("g").classed(p.containerClassName,!0).attr("pointer-events","all"),N.each(function(D){var j=a.select(this),B=D[p.name],J=T[d.id2name(D.anchor)],P=B[d.id2name(D.anchor)];if(B.range){var M,O=i.simpleMap(B.range,D.r2l),q=i.simpleMap(D.range,D.r2l);M=q[0]<q[1]?[Math.min(O[0],q[0]),Math.max(O[1],q[1])]:[Math.max(O[0],q[0]),Math.min(O[1],q[1])],B.range=B._input.range=i.simpleMap(M,D.l2r)}D.cleanRange("rangeslider.range");var tt=T._size,E=D.domain;B._width=tt.w*(E[1]-E[0]);var z=Math.round(tt.l+tt.w*E[0]),Y=Math.round(tt.t+tt.h*(1-D._counterDomainMin)+(D.side==="bottom"?D._depth:0)+B._offsetShift+p.extraPad);j.attr("transform",r(z,Y)),B._rl=i.simpleMap(B.range,D.r2l);var Q=B._rl[0],nt=B._rl[1],et=nt-Q;if(B.p2d=function(ct){return ct/B._width*et+Q},B.d2p=function(ct){return(ct-Q)/et*B._width},D.rangebreaks){var Z=D.locateBreaks(Q,nt);if(Z.length){var H,U,V=0;for(H=0;H<Z.length;H++)V+=(U=Z[H]).max-U.min;var $=B._width/(nt-Q-V),at=[-$*Q];for(H=0;H<Z.length;H++)U=Z[H],at.push(at[at.length-1]-$*(U.max-U.min));for(B.d2p=function(ct){for(var ht=at[0],mt=0;mt<Z.length;mt++){var kt=Z[mt];if(ct>=kt.max)ht=at[mt+1];else if(ct<kt.min)break}return ht+$*ct},H=0;H<Z.length;H++)(U=Z[H]).pmin=B.d2p(U.min),U.pmax=B.d2p(U.max);B.p2d=function(ct){for(var ht=at[0],mt=0;mt<Z.length;mt++){var kt=Z[mt];if(ct>=kt.pmax)ht=at[mt+1];else if(ct<kt.pmin)break}return(ct-ht)/$}}}if(P.rangemode!=="match"){var rt=J.r2l(P.range[0]),ot=J.r2l(P.range[1])-rt;B.d2pOppAxis=function(ct){return(ct-rt)/ot*B._height}}j.call(g,_,D,B).call(y,_,D,B).call(b,_,D,B).call(m,_,D,B,P).call(v,_,D,B).call(x,_,D,B),function(ct,ht,mt,kt){if(!ht._context.staticPlot){var Ct=ct.select("rect."+p.slideBoxClassName).node(),It=ct.select("rect."+p.grabAreaMinClassName).node(),pt=ct.select("rect."+p.grabAreaMaxClassName).node();ct.on("mousedown",bt),ct.on("touchstart",bt)}function bt(){var _t=a.event,Dt=_t.target,L=_t.clientX||_t.touches[0].clientX,X=L-ct.node().getBoundingClientRect().left,it=kt.d2p(mt._rl[0]),ft=kt.d2p(mt._rl[1]),gt=c.coverSlip();function wt(Ft){var Bt,Mt,St,Lt=+(Ft.clientX||Ft.touches[0].clientX)-L;switch(Dt){case Ct:if(St="ew-resize",it+Lt>mt._length||ft+Lt<0)return;Bt=it+Lt,Mt=ft+Lt;break;case It:if(St="col-resize",it+Lt>mt._length)return;Bt=it+Lt,Mt=ft;break;case pt:if(St="col-resize",ft+Lt<0)return;Bt=it,Mt=ft+Lt;break;default:St="ew-resize",Bt=X,Mt=X+Lt}if(Mt<Bt){var Pt=Mt;Mt=Bt,Bt=Pt}kt._pixelMin=Bt,kt._pixelMax=Mt,h(a.select(gt),St),function(zt,Xt,Gt,Kt){function ie(Nt){return Gt.l2r(i.constrain(Nt,Kt._rl[0],Kt._rl[1]))}var de=ie(Kt.p2d(Kt._pixelMin)),Jt=ie(Kt.p2d(Kt._pixelMax));window.requestAnimationFrame(function(){f.call("_guiRelayout",Xt,Gt._name+".range",[de,Jt])})}(0,ht,mt,kt)}function xt(){gt.removeEventListener("mousemove",wt),gt.removeEventListener("mouseup",xt),this.removeEventListener("touchmove",wt),this.removeEventListener("touchend",xt),i.removeElement(gt)}this.addEventListener("touchmove",wt),this.addEventListener("touchend",xt),gt.addEventListener("mousemove",wt),gt.addEventListener("mouseup",xt)}}(j,_,D,B),function(ct,ht,mt,kt,Ct,It){var pt=p.handleWidth/2;function bt(Ft){return i.constrain(Ft,0,kt._width)}function _t(Ft){return i.constrain(Ft,0,kt._height)}function Dt(Ft){return i.constrain(Ft,-pt,kt._width+pt)}var L=bt(kt.d2p(mt._rl[0])),X=bt(kt.d2p(mt._rl[1]));if(ct.select("rect."+p.slideBoxClassName).attr("x",L).attr("width",X-L),ct.select("rect."+p.maskMinClassName).attr("width",L),ct.select("rect."+p.maskMaxClassName).attr("x",X).attr("width",kt._width-X),It.rangemode!=="match"){var it=kt._height-_t(kt.d2pOppAxis(Ct._rl[1])),ft=kt._height-_t(kt.d2pOppAxis(Ct._rl[0]));ct.select("rect."+p.maskMinOppAxisClassName).attr("x",L).attr("height",it).attr("width",X-L),ct.select("rect."+p.maskMaxOppAxisClassName).attr("x",L).attr("y",ft).attr("height",kt._height-ft).attr("width",X-L),ct.select("rect."+p.slideBoxClassName).attr("y",it).attr("height",ft-it)}var gt=.5,wt=Math.round(Dt(L-pt))-gt,xt=Math.round(Dt(X-pt))+gt;ct.select("g."+p.grabberMinClassName).attr("transform",r(wt,gt)),ct.select("g."+p.grabberMaxClassName).attr("transform",r(xt,gt))}(j,0,D,B,J,P),D.side==="bottom"&&l.draw(_,D._id+"title",{propContainer:D,propName:D._name+".title",placeholder:T._dfltTitle.x,attributes:{x:D._offset+D._length/2,y:Y+B._height+B._offsetShift+10+1.5*D.title.font.size,"text-anchor":"middle"}})}))}},549:function(w,s,t){var a=t(41675),f=t(63893),e=t(73251),i=t(18783).LINE_SPACING,r=e.name;function n(o){var l=o&&o[r];return l&&l.visible}s.isVisible=n,s.makeData=function(o){var l=a.list({_fullLayout:o},"x",!0),u=o.margin,d=[];if(!o._has("gl2d"))for(var c=0;c<l.length;c++){var h=l[c];if(n(h)){d.push(h);var p=h[r];p._id=r+h._id,p._height=(o.height-u.b-u.t)*p.thickness,p._offsetShift=Math.floor(p.borderwidth/2)}}o._rangeSliderData=d},s.autoMarginOpts=function(o,l){var u=o._fullLayout,d=l[r],c=l._id.charAt(0),h=0,p=0;return l.side==="bottom"&&(h=l._depth,l.title.text!==u._dfltTitle[c]&&(p=1.5*l.title.font.size+10+d._offsetShift,p+=(l.title.text.match(f.BR_TAG_ALL)||[]).length*l.title.font.size*i)),{x:0,y:l._counterDomainMin,l:0,r:0,t:0,b:d._height+h+Math.max(u.margin.b,p),pad:e.extraPad+2*d._offsetShift}}},13137:function(w,s,t){var a=t(71828),f=t(75148),e=t(47850),i=t(549);w.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:a.extendFlat({},f,{yaxis:e})}}},layoutAttributes:t(75148),handleDefaults:t(26377),calcAutorange:t(88443),draw:t(72413),isVisible:i.isVisible,makeData:i.makeData,autoMarginOpts:i.autoMarginOpts}},47850:function(w){w.exports={_isSubplotObj:!0,rangemode:{valType:"enumerated",values:["auto","fixed","match"],dflt:"match",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot"},{valType:"any",editType:"plot"}],editType:"plot"},editType:"calc"}},8389:function(w,s,t){var a=t(50215),f=t(82196).line,e=t(79952).P,i=t(1426).extendFlat,r=t(30962).overrideAll,n=t(44467).templatedArray;t(24695),w.exports=r(n("selection",{type:{valType:"enumerated",values:["rect","path"]},xref:i({},a.xref,{}),yref:i({},a.yref,{}),x0:{valType:"any"},x1:{valType:"any"},y0:{valType:"any"},y1:{valType:"any"},path:{valType:"string",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:.7,editType:"arraydraw"},line:{color:f.color,width:i({},f.width,{min:1,dflt:1}),dash:i({},e,{dflt:"dot"})}}),"arraydraw","from-root")},34122:function(w){w.exports={BENDPX:1.5,MINSELECT:12,SELECTDELAY:100,SELECTID:"-select"}},59402:function(w,s,t){var a=t(71828),f=t(89298),e=t(85501),i=t(8389),r=t(30477);function n(o,l,u){function d(j,B){return a.coerce(o,l,i,j,B)}var c=d("path"),h=d("type",c?"path":"rect")!=="path";h&&delete l.path,d("opacity"),d("line.color"),d("line.width"),d("line.dash");for(var p=["x","y"],g=0;g<2;g++){var y,b,m,v=p[g],x={_fullLayout:u},_=f.coerceRef(o,l,x,v);if((y=f.getFromId(x,_))._selectionIndices.push(l._index),m=r.rangeToShapePosition(y),b=r.shapePositionToRange(y),h){var T=v+"0",C=v+"1",S=o[T],F=o[C];o[T]=b(o[T],!0),o[C]=b(o[C],!0),f.coercePosition(l,x,d,_,T),f.coercePosition(l,x,d,_,C);var N=l[T],D=l[C];N!==void 0&&D!==void 0&&(l[T]=m(N),l[C]=m(D),o[T]=S,o[C]=F)}}h&&a.noneOrAll(o,l,["x0","x1","y0","y1"])}w.exports=function(o,l){e(o,l,{name:"selections",handleItemDefaults:n});for(var u=l.selections,d=0;d<u.length;d++){var c=u[d];c&&c.path===void 0&&(c.x0!==void 0&&c.x1!==void 0&&c.y0!==void 0&&c.y1!==void 0||(l.selections[d]=null))}}},32485:function(w,s,t){var a=t(60165).readPaths,f=t(42359),e=t(51873).clearOutlineControllers,i=t(7901),r=t(91424),n=t(44467).arrayEditor,o=t(30477),l=o.getPathString;function u(g){var y=g._fullLayout;for(var b in e(g),y._selectionLayer.selectAll("path").remove(),y._plots){var m=y._plots[b].selectionLayer;m&&m.selectAll("path").remove()}for(var v=0;v<y.selections.length;v++)c(g,v)}function d(g){return g._context.editSelection}function c(g,y){g._fullLayout._paperdiv.selectAll('.selectionlayer [data-index="'+y+'"]').remove();var b=o.makeSelectionsOptionsAndPlotinfo(g,y),m=b.options,v=b.plotinfo;m._input&&function(x){var _=l(g,m),T={"data-index":y,"fill-rule":"evenodd",d:_},C=m.opacity,S="rgba(0,0,0,0)",F=m.line.color||i.contrast(g._fullLayout.plot_bgcolor),N=m.line.width,D=m.line.dash;N||(N=5,D="solid");var j=d(g)&&g._fullLayout._activeSelectionIndex===y;j&&(S=g._fullLayout.activeselection.fillcolor,C=g._fullLayout.activeselection.opacity);for(var B=[],J=1;J>=0;J--){var P=x.append("path").attr(T).style("opacity",J?.1:C).call(i.stroke,F).call(i.fill,S).call(r.dashLine,J?"solid":D,J?4+N:N);if(h(P,g,m),j){var M=n(g.layout,"selections",m);P.style({cursor:"move"});var O={element:P.node(),plotinfo:v,gd:g,editHelpers:M,isActiveSelection:!0},q=a(_,g);f(q,P,O)}else P.style("pointer-events",J?"all":"none");B[J]=P}var tt=B[0];B[1].node().addEventListener("click",function(){return function(E,z){if(d(E)){var Y=+z.node().getAttribute("data-index");if(Y>=0){if(Y===E._fullLayout._activeSelectionIndex)return void p(E);E._fullLayout._activeSelectionIndex=Y,E._fullLayout._deactivateSelection=p,u(E)}}}(g,tt)})}(g._fullLayout._selectionLayer)}function h(g,y,b){var m=b.xref+b.yref;r.setClipUrl(g,"clip"+y._fullLayout._uid+m,y)}function p(g){d(g)&&g._fullLayout._activeSelectionIndex>=0&&(e(g),delete g._fullLayout._activeSelectionIndex,u(g))}w.exports={draw:u,drawOne:c,activateLastSelection:function(g){if(d(g)){var y=g._fullLayout.selections.length-1;g._fullLayout._activeSelectionIndex=y,g._fullLayout._deactivateSelection=p,u(g)}}}},53777:function(w,s,t){var a=t(79952).P,f=t(1426).extendFlat;w.exports={newselection:{mode:{valType:"enumerated",values:["immediate","gradual"],dflt:"immediate",editType:"none"},line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:1,dflt:1,editType:"none"},dash:f({},a,{dflt:"dot",editType:"none"}),editType:"none"},editType:"none"},activeselection:{fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}},90849:function(w){w.exports=function(s,t,a){a("newselection.mode"),a("newselection.line.width")&&(a("newselection.line.color"),a("newselection.line.dash")),a("activeselection.fillcolor"),a("activeselection.opacity")}},35855:function(w,s,t){var a=t(64505).selectMode,f=t(51873).clearOutline,e=t(60165),i=e.readPaths,r=e.writePaths,n=e.fixDatesForPaths;w.exports=function(o,l){if(o.length){var u=o[0][0];if(u){var d=u.getAttribute("d"),c=l.gd,h=c._fullLayout.newselection,p=l.plotinfo,g=p.xaxis,y=p.yaxis,b=l.isActiveSelection,m=l.dragmode,v=(c.layout||{}).selections||[];if(!a(m)&&b!==void 0){var x=c._fullLayout._activeSelectionIndex;if(x<v.length)switch(c._fullLayout.selections[x].type){case"rect":m="select";break;case"path":m="lasso"}}var _,T=i(d,c,p,b),C={xref:g._id,yref:y._id,opacity:h.opacity,line:{color:h.line.color,width:h.line.width,dash:h.line.dash}};T.length===1&&(_=T[0]),_&&_.length===5&&m==="select"?(C.type="rect",C.x0=_[0][1],C.y0=_[0][2],C.x1=_[2][1],C.y1=_[2][2]):(C.type="path",g&&y&&n(T,g,y),C.path=r(T),_=null),f(c);for(var S=l.editHelpers,F=(S||{}).modifyItem,N=[],D=0;D<v.length;D++){var j=c._fullLayout.selections[D];if(j){if(N[D]=j._input,b!==void 0&&D===c._fullLayout._activeSelectionIndex){var B=C;switch(j.type){case"rect":F("x0",B.x0),F("x1",B.x1),F("y0",B.y0),F("y1",B.y1);break;case"path":F("path",B.path)}}}else N[D]=j}return b===void 0?(N.push(C),N):S?S.getUpdateObj():{}}}}},75549:function(w,s,t){var a=t(71828).strTranslate;function f(e,i){switch(e.type){case"log":return e.p2d(i);case"date":return e.p2r(i,0,e.calendar);default:return e.p2r(i)}}w.exports={p2r:f,r2p:function(e,i){switch(e.type){case"log":return e.d2p(i);case"date":return e.r2p(i,0,e.calendar);default:return e.r2p(i)}},axValue:function(e){var i=e._id.charAt(0)==="y"?1:0;return function(r){return f(e,r[i])}},getTransform:function(e){return a(e.xaxis._offset,e.yaxis._offset)}}},47322:function(w,s,t){var a=t(32485),f=t(3937);w.exports={moduleType:"component",name:"selections",layoutAttributes:t(8389),supplyLayoutDefaults:t(59402),supplyDrawNewSelectionDefaults:t(90849),includeBasePlot:t(76325)("selections"),draw:a.draw,drawOne:a.drawOne,reselect:f.reselect,prepSelect:f.prepSelect,clearOutline:f.clearOutline,clearSelectionsCache:f.clearSelectionsCache,selectOnClick:f.selectOnClick}},3937:function(w,s,t){var a=t(52142),f=t(38258),e=t(73972),i=t(91424).dashStyle,r=t(7901),n=t(30211),o=t(23469).makeEventData,l=t(64505),u=l.freeMode,d=l.rectMode,c=l.drawMode,h=l.openMode,p=l.selectMode,g=t(30477),y=t(21459),b=t(42359),m=t(51873).clearOutline,v=t(60165),x=v.handleEllipse,_=v.readPaths,T=t(90551),C=t(35855),S=t(32485).activateLastSelection,F=t(71828),N=F.sorterAsc,D=t(61082),j=t(79990),B=t(41675).getFromId,J=t(33306),P=t(61549).redrawReglTraces,M=t(34122),O=M.MINSELECT,q=D.filter,tt=D.tester,E=t(75549),z=E.p2r,Y=E.axValue,Q=E.getTransform;function nt(xt){return xt.subplot!==void 0}function et(xt,Ft,Bt,Mt,St,Lt,Pt){var zt,Xt,Gt,Kt,ie,de,Jt,Nt,Vt,Zt=Ft._hoverdata,Wt=Ft._fullLayout.clickmode.indexOf("event")>-1,he=[];if(function(Ce){return Ce&&Array.isArray(Ce)&&Ce[0].hoverOnBox!==!0}(Zt)){V(xt,Ft,Lt);var $t=function(Ce,Ne){var yt,vt,Rt=Ce[0],Ut=-1,Ht=[];for(vt=0;vt<Ne.length;vt++)if(yt=Ne[vt],Rt.fullData._expandedIndex===yt.cd[0].trace._expandedIndex){if(Rt.hoverOnBox===!0)break;Rt.pointNumber!==void 0?Ut=Rt.pointNumber:Rt.binNumber!==void 0&&(Ut=Rt.binNumber,Ht=Rt.pointNumbers);break}return{pointNumber:Ut,pointNumbers:Ht,searchInfo:yt}}(Zt,zt=rt(Ft,Bt,Mt,St));if($t.pointNumbers.length>0?function(Ce,Ne){var yt,vt,Rt,Ut=[];for(Rt=0;Rt<Ce.length;Rt++)(yt=Ce[Rt]).cd[0].trace.selectedpoints&&yt.cd[0].trace.selectedpoints.length>0&&Ut.push(yt);if(Ut.length===1&&Ut[0]===Ne.searchInfo&&(vt=Ne.searchInfo.cd[0].trace).selectedpoints.length===Ne.pointNumbers.length){for(Rt=0;Rt<Ne.pointNumbers.length;Rt++)if(vt.selectedpoints.indexOf(Ne.pointNumbers[Rt])<0)return!1;return!0}return!1}(zt,$t):function(Ce){var Ne,yt,vt=0;for(yt=0;yt<Ce.length;yt++)if((Ne=Ce[yt].cd[0].trace).selectedpoints&&(Ne.selectedpoints.length>1||(vt+=Ne.selectedpoints.length)>1))return!1;return vt===1}(zt)&&(de=ct($t))){for(Pt&&Pt.remove(),Vt=0;Vt<zt.length;Vt++)(Xt=zt[Vt])._module.selectPoints(Xt,!1);ht(Ft,zt),$(Lt),Wt&&wt(Ft)}else{for(Jt=xt.shiftKey&&(de!==void 0?de:ct($t)),Gt=function(Ce,Ne,yt){return{pointNumber:Ce,searchInfo:Ne,subtract:!!yt}}($t.pointNumber,$t.searchInfo,Jt),Kt=U(Lt.selectionDefs.concat([Gt])),Vt=0;Vt<zt.length;Vt++)if(ie=kt(zt[Vt]._module.selectPoints(zt[Vt],Kt),zt[Vt]),he.length)for(var ye=0;ye<ie.length;ye++)he.push(ie[ye]);else he=ie;if(ht(Ft,zt,Nt={points:he}),Gt&&Lt&&Lt.selectionDefs.push(Gt),Pt){var se=Lt.mergedPolygons,Pe=h(Lt.dragmode);b(Ct(se,Pe),Pt,Lt)}Wt&&gt(Ft,Nt)}}}function Z(xt){return"pointNumber"in xt&&"searchInfo"in xt}function H(xt){return{xmin:0,xmax:0,ymin:0,ymax:0,pts:[],contains:function(Ft,Bt,Mt,St){var Lt=xt.searchInfo.cd[0].trace._expandedIndex;return St.cd[0].trace._expandedIndex===Lt&&Mt===xt.pointNumber},isRect:!1,degenerate:!1,subtract:!!xt.subtract}}function U(xt){if(xt.length){for(var Ft=[],Bt=Z(xt[0])?0:xt[0][0][0],Mt=Bt,St=Z(xt[0])?0:xt[0][0][1],Lt=St,Pt=0;Pt<xt.length;Pt++)if(Z(xt[Pt]))Ft.push(H(xt[Pt]));else{var zt=tt(xt[Pt]);zt.subtract=!!xt[Pt].subtract,Ft.push(zt),Bt=Math.min(Bt,zt.xmin),Mt=Math.max(Mt,zt.xmax),St=Math.min(St,zt.ymin),Lt=Math.max(Lt,zt.ymax)}return{xmin:Bt,xmax:Mt,ymin:St,ymax:Lt,pts:[],contains:function(Xt,Gt,Kt,ie){for(var de=!1,Jt=0;Jt<Ft.length;Jt++)Ft[Jt].contains(Xt,Gt,Kt,ie)&&(de=!Ft[Jt].subtract);return de},isRect:!1,degenerate:!1}}}function V(xt,Ft,Bt){var Mt=Ft._fullLayout,St=Bt.plotinfo,Lt=Bt.dragmode,Pt=Mt._lastSelectedSubplot&&Mt._lastSelectedSubplot===St.id,zt=(xt.shiftKey||xt.altKey)&&!(c(Lt)&&h(Lt));Pt&&zt&&St.selection&&St.selection.selectionDefs&&!Bt.selectionDefs?(Bt.selectionDefs=St.selection.selectionDefs,Bt.mergedPolygons=St.selection.mergedPolygons):zt&&St.selection||$(Bt),Pt||(m(Ft),Mt._lastSelectedSubplot=St.id)}function $(xt,Ft){var Bt=xt.dragmode,Mt=xt.plotinfo,St=xt.gd;(function(ie){return ie._fullLayout._activeShapeIndex>=0})(St)&&St._fullLayout._deactivateShape(St),function(ie){return ie._fullLayout._activeSelectionIndex>=0}(St)&&St._fullLayout._deactivateSelection(St);var Lt=St._fullLayout._zoomlayer,Pt=c(Bt),zt=p(Bt);if(Pt||zt){var Xt,Gt,Kt=Lt.selectAll(".select-outline-"+Mt.id);Kt&&St._fullLayout._outlining&&(Pt&&(Xt=T(Kt,xt)),Xt&&e.call("_guiRelayout",St,{shapes:Xt}),zt&&!nt(xt)&&(Gt=C(Kt,xt)),Gt&&(St._fullLayout._noEmitSelectedAtStart=!0,e.call("_guiRelayout",St,{selections:Gt}).then(function(){Ft&&S(St)})),St._fullLayout._outlining=!1)}Mt.selection={},Mt.selection.selectionDefs=xt.selectionDefs=[],Mt.selection.mergedPolygons=xt.mergedPolygons=[]}function at(xt){return xt._id}function rt(xt,Ft,Bt,Mt){if(!xt.calcdata)return[];var St,Lt,Pt,zt=[],Xt=Ft.map(at),Gt=Bt.map(at);for(Pt=0;Pt<xt.calcdata.length;Pt++)if((Lt=(St=xt.calcdata[Pt])[0].trace).visible===!0&&Lt._module&&Lt._module.selectPoints)if(!nt({subplot:Mt})||Lt.subplot!==Mt&&Lt.geo!==Mt)if(Lt.type==="splom"){if(Lt._xaxes[Xt[0]]&&Lt._yaxes[Gt[0]]){var Kt=ot(Lt._module,St,Ft[0],Bt[0]);Kt.scene=xt._fullLayout._splomScenes[Lt.uid],zt.push(Kt)}}else if(Lt.type==="sankey"){var ie=ot(Lt._module,St,Ft[0],Bt[0]);zt.push(ie)}else{if(Xt.indexOf(Lt.xaxis)===-1||Gt.indexOf(Lt.yaxis)===-1)continue;zt.push(ot(Lt._module,St,B(xt,Lt.xaxis),B(xt,Lt.yaxis)))}else zt.push(ot(Lt._module,St,Ft[0],Bt[0]));return zt}function ot(xt,Ft,Bt,Mt){return{_module:xt,cd:Ft,xaxis:Bt,yaxis:Mt}}function ct(xt){var Ft=xt.searchInfo.cd[0].trace,Bt=xt.pointNumber,Mt=xt.pointNumbers,St=Mt.length>0?Mt[0]:Bt;return!!Ft.selectedpoints&&Ft.selectedpoints.indexOf(St)>-1}function ht(xt,Ft,Bt){var Mt,St;for(Mt=0;Mt<Ft.length;Mt++){var Lt=Ft[Mt].cd[0].trace._fullInput,Pt=xt._fullLayout._tracePreGUI[Lt.uid]||{};Pt.selectedpoints===void 0&&(Pt.selectedpoints=Lt._input.selectedpoints||null)}if(Bt){var zt=Bt.points||[];for(Mt=0;Mt<Ft.length;Mt++)(St=Ft[Mt].cd[0].trace)._input.selectedpoints=St._fullInput.selectedpoints=[],St._fullInput!==St&&(St.selectedpoints=[]);for(var Xt=0;Xt<zt.length;Xt++){var Gt=zt[Xt],Kt=Gt.data,ie=Gt.fullData,de=Gt.pointIndex,Jt=Gt.pointIndices;Jt?([].push.apply(Kt.selectedpoints,Jt),St._fullInput!==St&&[].push.apply(ie.selectedpoints,Jt)):(Kt.selectedpoints.push(de),St._fullInput!==St&&ie.selectedpoints.push(de))}}else for(Mt=0;Mt<Ft.length;Mt++)delete(St=Ft[Mt].cd[0].trace).selectedpoints,delete St._input.selectedpoints,St._fullInput!==St&&delete St._fullInput.selectedpoints;(function(Nt,Vt){for(var Zt=!1,Wt=0;Wt<Vt.length;Wt++){var he=Vt[Wt],$t=he.cd;e.traceIs($t[0].trace,"regl")&&(Zt=!0);var ye=he._module,se=ye.styleOnSelect||ye.style;se&&(se(Nt,$t,$t[0].node3),$t[0].nodeRangePlot3&&se(Nt,$t,$t[0].nodeRangePlot3))}Zt&&(J(Nt),P(Nt))})(xt,Ft)}function mt(xt,Ft,Bt){for(var Mt=(Bt?a.difference:a.union)({regions:xt},{regions:[Ft]}).regions.reverse(),St=0;St<Mt.length;St++){var Lt=Mt[St];Lt.subtract=L(Lt,Mt.slice(0,St))}return Mt}function kt(xt,Ft){if(Array.isArray(xt))for(var Bt=Ft.cd,Mt=Ft.cd[0].trace,St=0;St<xt.length;St++)xt[St]=o(xt[St],Mt,Bt);return xt}function Ct(xt,Ft){for(var Bt=[],Mt=0;Mt<xt.length;Mt++){Bt[Mt]=[];for(var St=0;St<xt[Mt].length;St++){Bt[Mt][St]=[],Bt[Mt][St][0]=St?"L":"M";for(var Lt=0;Lt<xt[Mt][St].length;Lt++)Bt[Mt][St].push(xt[Mt][St][Lt])}Ft||Bt[Mt].push(["Z",Bt[Mt][0][1],Bt[Mt][0][2]])}return Bt}function It(xt,Ft){for(var Bt,Mt,St=[],Lt=[],Pt=0;Pt<Ft.length;Pt++){var zt=Ft[Pt];Mt=zt._module.selectPoints(zt,xt),Lt.push(Mt),Bt=kt(Mt,zt),St=St.concat(Bt)}return St}function pt(xt,Ft,Bt,Mt,St){var Lt,Pt,zt,Xt=!!Mt;St&&(Lt=St.plotinfo,Pt=St.xaxes[0]._id,zt=St.yaxes[0]._id);var Gt=[],Kt=[],ie=Dt(xt),de=xt._fullLayout;if(Lt){var Jt=de._zoomlayer,Nt=de.dragmode,Vt=c(Nt),Zt=p(Nt);if(Vt||Zt){var Wt=B(xt,Pt,"x"),he=B(xt,zt,"y");if(Wt&&he){var $t=Jt.selectAll(".select-outline-"+Lt.id);if($t&&xt._fullLayout._outlining&&$t.length){for(var ye=$t[0][0].getAttribute("d"),se=_(ye,xt,Lt),Pe=[],Ce=0;Ce<se.length;Ce++){for(var Ne=se[Ce],yt=[],vt=0;vt<Ne.length;vt++)yt.push([X(Wt,Ne[vt][1]),X(he,Ne[vt][2])]);yt.xref=Pt,yt.yref=zt,yt.subtract=L(yt,Pe),Pe.push(yt)}ie=ie.concat(Pe)}}}}var Rt=Pt&&zt?[Pt+zt]:de._subplots.cartesian;(function(je){var Ue=je.calcdata;if(Ue)for(var He=0;He<Ue.length;He++){var Je=Ue[He][0].trace,Qe=je._fullLayout._splomScenes;if(Qe){var ln=Qe[Je.uid];ln&&(ln.selectBatch=[])}}})(xt);for(var Ut={},Ht=0;Ht<Rt.length;Ht++){var Yt=Rt[Ht],ee=Yt.indexOf("y"),ne=Yt.slice(0,ee),re=Yt.slice(ee),ve=Pt&&zt?Bt:void 0;if(ve=_t(ie,ne,re,ve)){var fe=Mt;if(!Xt){var pe=B(xt,ne,"x"),ze=B(xt,re,"y");fe=rt(xt,[pe],[ze],Yt);for(var Be=0;Be<fe.length;Be++){var Me=fe[Be],_e=Me.cd[0],xe=_e.trace;if(Me._module.name==="scattergl"&&!_e.t.xpx){var me=xe.x,Te=xe.y,we=xe._length;_e.t.xpx=[],_e.t.ypx=[];for(var Ae=0;Ae<we;Ae++)_e.t.xpx[Ae]=pe.c2p(me[Ae]),_e.t.ypx[Ae]=ze.c2p(Te[Ae])}Me._module.name==="splom"&&(Ut[xe.uid]||(Ut[xe.uid]=!0))}}var Ye=It(ve,fe);Gt=Gt.concat(Ye),Kt=Kt.concat(fe)}}var Re={points:Gt};ht(xt,Kt,Re);var ge=de.clickmode.indexOf("event")>-1&&Ft;if(!Lt&&Ft){var ke=Dt(xt,!0);if(ke.length){var Ee=ke[0].xref,Oe=ke[0].yref;if(Ee&&Oe){var Se=it(ke);ft([B(xt,Ee,"x"),B(xt,Oe,"y")])(Re,Se)}}xt._fullLayout._noEmitSelectedAtStart?xt._fullLayout._noEmitSelectedAtStart=!1:ge&&gt(xt,Re),de._reselect=!1}if(!Lt&&de._deselect){var Fe=de._deselect;(function(je,Ue,He){for(var Je=0;Je<He.length;Je++){var Qe=He[Je];if(Qe.xaxis&&Qe.xaxis._id===je&&Qe.yaxis&&Qe.yaxis._id===Ue)return!0}return!1})(Pt=Fe.xref,zt=Fe.yref,Kt)||bt(xt,Pt,zt,Mt),ge&&(Re.points.length?gt(xt,Re):wt(xt)),de._deselect=!1}return{eventData:Re,selectionTesters:Bt}}function bt(xt,Ft,Bt,Mt){Mt=rt(xt,[B(xt,Ft,"x")],[B(xt,Bt,"y")],Ft+Bt);for(var St=0;St<Mt.length;St++){var Lt=Mt[St];Lt._module.selectPoints(Lt,!1)}ht(xt,Mt)}function _t(xt,Ft,Bt,Mt){for(var St,Lt=0;Lt<xt.length;Lt++){var Pt=xt[Lt];Ft===Pt.xref&&Bt===Pt.yref&&(St?Mt=U(St=mt(St,Pt,!!Pt.subtract)):(St=[Pt],Mt=tt(Pt)))}return Mt}function Dt(xt,Ft){for(var Bt=[],Mt=xt._fullLayout,St=Mt.selections,Lt=St.length,Pt=0;Pt<Lt;Pt++)if(!Ft||Pt===Mt._activeSelectionIndex){var zt=St[Pt];if(zt){var Xt,Gt,Kt,ie,de,Jt=zt.xref,Nt=zt.yref,Vt=B(xt,Jt,"x"),Zt=B(xt,Nt,"y");if(zt.type==="rect"){de=[];var Wt=X(Vt,zt.x0),he=X(Vt,zt.x1),$t=X(Zt,zt.y0),ye=X(Zt,zt.y1);de=[[Wt,$t],[Wt,ye],[he,ye],[he,$t]],Xt=Math.min(Wt,he),Gt=Math.max(Wt,he),Kt=Math.min($t,ye),ie=Math.max($t,ye),de.xmin=Xt,de.xmax=Gt,de.ymin=Kt,de.ymax=ie,de.xref=Jt,de.yref=Nt,de.subtract=!1,de.isRect=!0,Bt.push(de)}else if(zt.type==="path")for(var se=zt.path.split("Z"),Pe=[],Ce=0;Ce<se.length;Ce++){var Ne=se[Ce];if(Ne){Ne+="Z";var yt=g.extractPathCoords(Ne,y.paramIsX,"raw"),vt=g.extractPathCoords(Ne,y.paramIsY,"raw");Xt=1/0,Gt=-1/0,Kt=1/0,ie=-1/0,de=[];for(var Rt=0;Rt<yt.length;Rt++){var Ut=X(Vt,yt[Rt]),Ht=X(Zt,vt[Rt]);de.push([Ut,Ht]),Xt=Math.min(Ut,Xt),Gt=Math.max(Ut,Gt),Kt=Math.min(Ht,Kt),ie=Math.max(Ht,ie)}de.xmin=Xt,de.xmax=Gt,de.ymin=Kt,de.ymax=ie,de.xref=Jt,de.yref=Nt,de.subtract=L(de,Pe),Pe.push(de),Bt.push(de)}}}}return Bt}function L(xt,Ft){for(var Bt=!1,Mt=0;Mt<Ft.length;Mt++)for(var St=Ft[Mt],Lt=0;Lt<xt.length;Lt++)if(f(xt[Lt],St)){Bt=!Bt;break}return Bt}function X(xt,Ft){return xt.type==="date"&&(Ft=Ft.replace("_"," ")),xt.type==="log"?xt.c2p(Ft):xt.r2p(Ft,null,xt.calendar)}function it(xt){for(var Ft=xt.length,Bt=[],Mt=0;Mt<Ft;Mt++){var St=xt[Mt];Bt=(Bt=Bt.concat(St)).concat([St[0]])}return(Lt=Bt).isRect=Lt.length===5&&Lt[0][0]===Lt[4][0]&&Lt[0][1]===Lt[4][1]&&Lt[0][0]===Lt[1][0]&&Lt[2][0]===Lt[3][0]&&Lt[0][1]===Lt[3][1]&&Lt[1][1]===Lt[2][1]||Lt[0][1]===Lt[1][1]&&Lt[2][1]===Lt[3][1]&&Lt[0][0]===Lt[3][0]&&Lt[1][0]===Lt[2][0],Lt.isRect&&(Lt.xmin=Math.min(Lt[0][0],Lt[2][0]),Lt.xmax=Math.max(Lt[0][0],Lt[2][0]),Lt.ymin=Math.min(Lt[0][1],Lt[2][1]),Lt.ymax=Math.max(Lt[0][1],Lt[2][1])),Lt;var Lt}function ft(xt){return function(Ft,Bt){for(var Mt,St,Lt=0;Lt<xt.length;Lt++){var Pt=xt[Lt],zt=Pt._id,Xt=zt.charAt(0);if(Bt.isRect){Mt||(Mt={});var Gt=Bt[Xt+"min"],Kt=Bt[Xt+"max"];Gt!==void 0&&Kt!==void 0&&(Mt[zt]=[z(Pt,Gt),z(Pt,Kt)].sort(N))}else St||(St={}),St[zt]=Bt.map(Y(Pt))}Mt&&(Ft.range=Mt),St&&(Ft.lassoPoints=St)}}function gt(xt,Ft){Ft&&(Ft.selections=(xt.layout||{}).selections||[]),xt.emit("plotly_selected",Ft)}function wt(xt){xt.emit("plotly_deselect",null)}w.exports={reselect:pt,prepSelect:function(xt,Ft,Bt,Mt,St){var Lt=!nt(Mt),Pt=u(St),zt=d(St),Xt=h(St),Gt=c(St),Kt=p(St),ie=St==="drawcircle",de=St==="drawline"||ie,Jt=Mt.gd,Nt=Jt._fullLayout,Vt=Kt&&Nt.newselection.mode==="immediate"&&Lt,Zt=Nt._zoomlayer,Wt=Mt.element.getBoundingClientRect(),he=Mt.plotinfo,$t=Q(he),ye=Ft-Wt.left,se=Bt-Wt.top;Nt._calcInverseTransform(Jt);var Pe=F.apply3DTransform(Nt._invTransform)(ye,se);ye=Pe[0],se=Pe[1];var Ce,Ne,yt,vt,Rt,Ut,Ht,Yt=Nt._invScaleX,ee=Nt._invScaleY,ne=ye,re=se,ve="M"+ye+","+se,fe=Mt.xaxes[0],pe=Mt.yaxes[0],ze=fe._length,Be=pe._length,Me=xt.altKey&&!(c(St)&&Xt);V(xt,Jt,Mt),Pt&&(Ce=q([[ye,se]],M.BENDPX));var _e=Zt.selectAll("path.select-outline-"+he.id).data([1]),xe=Gt?Nt.newshape:Nt.newselection,me=Gt&&!Xt?xe.fillcolor:"rgba(0,0,0,0)",Te=xe.line.color||(Lt?r.contrast(Jt._fullLayout.plot_bgcolor):"#7f7f7f");_e.enter().append("path").attr("class","select-outline select-outline-"+he.id).style({opacity:Gt?xe.opacity/2:1,"stroke-dasharray":i(xe.line.dash,xe.line.width),"stroke-width":xe.line.width+"px","shape-rendering":"crispEdges"}).call(r.stroke,Te).call(r.fill,me).attr("fill-rule","evenodd").classed("cursor-move",!!Gt).attr("transform",$t).attr("d",ve+"Z");var we=Zt.append("path").attr("class","zoombox-corners").style({fill:r.background,stroke:r.defaultLine,"stroke-width":1}).attr("transform",$t).attr("d","M0,0Z"),Ae=Nt._uid+M.SELECTID,Ye=[],Re=rt(Jt,Mt.xaxes,Mt.yaxes,Mt.subplot);Vt&&!xt.shiftKey&&(Mt._clearSubplotSelections=function(){if(Lt){var ke=fe._id,Ee=pe._id;bt(Jt,ke,Ee,Re);for(var Oe=(Jt.layout||{}).selections||[],Se=[],Fe=!1,je=0;je<Oe.length;je++){var Ue=Nt.selections[je];Ue.xref!==ke||Ue.yref!==Ee?Se.push(Oe[je]):Fe=!0}Fe&&(Jt._fullLayout._noEmitSelectedAtStart=!0,e.call("_guiRelayout",Jt,{selections:Se}))}});var ge=function(ke){return ke.plotinfo.fillRangeItems||ft(ke.xaxes.concat(ke.yaxes))}(Mt);Mt.moveFn=function(ke,Ee){Mt._clearSubplotSelections&&(Mt._clearSubplotSelections(),Mt._clearSubplotSelections=void 0),ne=Math.max(0,Math.min(ze,Yt*ke+ye)),re=Math.max(0,Math.min(Be,ee*Ee+se));var Oe=Math.abs(ne-ye),Se=Math.abs(re-se);if(zt){var Fe,je,Ue;if(Kt){var He=Nt.selectdirection;switch(Fe=He==="any"?Se<Math.min(.6*Oe,O)?"h":Oe<Math.min(.6*Se,O)?"v":"d":He){case"h":je=ie?Be/2:0,Ue=Be;break;case"v":je=ie?ze/2:0,Ue=ze}}if(Gt)switch(Nt.newshape.drawdirection){case"vertical":Fe="h",je=ie?Be/2:0,Ue=Be;break;case"horizontal":Fe="v",je=ie?ze/2:0,Ue=ze;break;case"ortho":Oe<Se?(Fe="h",je=se,Ue=re):(Fe="v",je=ye,Ue=ne);break;default:Fe="d"}Fe==="h"?((vt=de?x(ie,[ne,je],[ne,Ue]):[[ye,je],[ye,Ue],[ne,Ue],[ne,je]]).xmin=de?ne:Math.min(ye,ne),vt.xmax=de?ne:Math.max(ye,ne),vt.ymin=Math.min(je,Ue),vt.ymax=Math.max(je,Ue),we.attr("d","M"+vt.xmin+","+(se-O)+"h-4v"+2*O+"h4ZM"+(vt.xmax-1)+","+(se-O)+"h4v"+2*O+"h-4Z")):Fe==="v"?((vt=de?x(ie,[je,re],[Ue,re]):[[je,se],[je,re],[Ue,re],[Ue,se]]).xmin=Math.min(je,Ue),vt.xmax=Math.max(je,Ue),vt.ymin=de?re:Math.min(se,re),vt.ymax=de?re:Math.max(se,re),we.attr("d","M"+(ye-O)+","+vt.ymin+"v-4h"+2*O+"v4ZM"+(ye-O)+","+(vt.ymax-1)+"v4h"+2*O+"v-4Z")):Fe==="d"&&((vt=de?x(ie,[ye,se],[ne,re]):[[ye,se],[ye,re],[ne,re],[ne,se]]).xmin=Math.min(ye,ne),vt.xmax=Math.max(ye,ne),vt.ymin=Math.min(se,re),vt.ymax=Math.max(se,re),we.attr("d","M0,0Z"))}else Pt&&(Ce.addPt([ne,re]),vt=Ce.filtered);if(Mt.selectionDefs&&Mt.selectionDefs.length?(yt=mt(Mt.mergedPolygons,vt,Me),vt.subtract=Me,Ne=U(Mt.selectionDefs.concat([vt]))):(yt=[vt],Ne=tt(vt)),b(Ct(yt,Xt),_e,Mt),Kt){var Je,Qe=pt(Jt,!1),ln=Qe.eventData?Qe.eventData.points.slice():[];Qe=pt(Jt,!1,Ne,Re,Mt),Ne=Qe.selectionTesters,Ht=Qe.eventData,Je=Ce?Ce.filtered:it(yt),j.throttle(Ae,M.SELECTDELAY,function(){for(var rn=(Ye=It(Ne,Re)).slice(),We=0;We<ln.length;We++){for(var nn=ln[We],sn=!1,Xe=0;Xe<rn.length;Xe++)if(rn[Xe].curveNumber===nn.curveNumber&&rn[Xe].pointNumber===nn.pointNumber){sn=!0;break}sn||rn.push(nn)}rn.length&&(Ht||(Ht={}),Ht.points=rn),ge(Ht,Je),function(un,tn){un.emit("plotly_selecting",tn)}(Jt,Ht)})}},Mt.clickFn=function(ke,Ee){if(we.remove(),Jt._fullLayout._activeShapeIndex>=0)Jt._fullLayout._deactivateShape(Jt);else if(!Gt){var Oe=Nt.clickmode;j.done(Ae).then(function(){if(j.clear(Ae),ke===2){for(_e.remove(),Rt=0;Rt<Re.length;Rt++)(Ut=Re[Rt])._module.selectPoints(Ut,!1);if(ht(Jt,Re),$(Mt),wt(Jt),Re.length){var Se=Re[0].xaxis,Fe=Re[0].yaxis;if(Se&&Fe){for(var je=[],Ue=Jt._fullLayout.selections,He=0;He<Ue.length;He++){var Je=Ue[He];Je&&(Je.xref===Se._id&&Je.yref===Fe._id||je.push(Je))}je.length<Ue.length&&(Jt._fullLayout._noEmitSelectedAtStart=!0,e.call("_guiRelayout",Jt,{selections:je}))}}}else Oe.indexOf("select")>-1&&et(Ee,Jt,Mt.xaxes,Mt.yaxes,Mt.subplot,Mt,_e),Oe==="event"&&gt(Jt,void 0);n.click(Jt,Ee)}).catch(F.error)}},Mt.doneFn=function(){we.remove(),j.done(Ae).then(function(){j.clear(Ae),!Vt&&vt&&Mt.selectionDefs&&(vt.subtract=Me,Mt.selectionDefs.push(vt),Mt.mergedPolygons.length=0,[].push.apply(Mt.mergedPolygons,yt)),(Vt||Gt)&&$(Mt,Vt),Mt.doneFnCompleted&&Mt.doneFnCompleted(Ye),Kt&&gt(Jt,Ht)}).catch(F.error)}},clearOutline:m,clearSelectionsCache:$,selectOnClick:et}},89827:function(w,s,t){var a=t(50215),f=t(41940),e=t(82196).line,i=t(79952).P,r=t(1426).extendFlat,n=t(44467).templatedArray,o=(t(24695),t(5386).R),l=t(37281);w.exports=n("shape",{visible:{valType:"boolean",dflt:!0,editType:"calc+arraydraw"},type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calc+arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},xref:r({},a.xref,{}),xsizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},xanchor:{valType:"any",editType:"calc+arraydraw"},x0:{valType:"any",editType:"calc+arraydraw"},x1:{valType:"any",editType:"calc+arraydraw"},yref:r({},a.yref,{}),ysizemode:{valType:"enumerated",values:["scaled","pixel"],dflt:"scaled",editType:"calc+arraydraw"},yanchor:{valType:"any",editType:"calc+arraydraw"},y0:{valType:"any",editType:"calc+arraydraw"},y1:{valType:"any",editType:"calc+arraydraw"},path:{valType:"string",editType:"calc+arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:r({},e.color,{editType:"arraydraw"}),width:r({},e.width,{editType:"calc+arraydraw"}),dash:r({},i,{editType:"arraydraw"}),editType:"calc+arraydraw"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"arraydraw"},editable:{valType:"boolean",dflt:!1,editType:"calc+arraydraw"},label:{text:{valType:"string",dflt:"",editType:"arraydraw"},texttemplate:o({},{keys:Object.keys(l)}),font:f({editType:"calc+arraydraw",colorEditType:"arraydraw"}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"],editType:"arraydraw"},textangle:{valType:"angle",dflt:"auto",editType:"calc+arraydraw"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calc+arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],editType:"calc+arraydraw"},padding:{valType:"number",dflt:3,min:0,editType:"arraydraw"},editType:"arraydraw"},editType:"arraydraw"})},5627:function(w,s,t){var a=t(71828),f=t(89298),e=t(21459),i=t(30477);function r(u){return o(u.line.width,u.xsizemode,u.x0,u.x1,u.path,!1)}function n(u){return o(u.line.width,u.ysizemode,u.y0,u.y1,u.path,!0)}function o(u,d,c,h,p,g){var y=u/2,b=g;if(d==="pixel"){var m=p?i.extractPathCoords(p,g?e.paramIsY:e.paramIsX):[c,h],v=a.aggNums(Math.max,null,m),x=a.aggNums(Math.min,null,m),_=x<0?Math.abs(x)+y:y,T=v>0?v+y:y;return{ppad:y,ppadplus:b?_:T,ppadminus:b?T:_}}return{ppad:y}}function l(u,d,c,h,p){var g=u.type==="category"||u.type==="multicategory"?u.r2c:u.d2c;if(d!==void 0)return[g(d),g(c)];if(h){var y,b,m,v,x=1/0,_=-1/0,T=h.match(e.segmentRE);for(u.type==="date"&&(g=i.decodeDate(g)),y=0;y<T.length;y++)(b=p[T[y].charAt(0)].drawn)!==void 0&&(!(m=T[y].substr(1).match(e.paramRE))||m.length<b||((v=g(m[b]))<x&&(x=v),v>_&&(_=v)));return _>=x?[x,_]:void 0}}w.exports=function(u){var d=u._fullLayout,c=a.filterVisible(d.shapes);if(c.length&&u._fullData.length)for(var h=0;h<c.length;h++){var p,g,y=c[h];y._extremes={};var b=f.getRefType(y.xref),m=f.getRefType(y.yref);if(y.xref!=="paper"&&b!=="domain"){var v=y.xsizemode==="pixel"?y.xanchor:y.x0,x=y.xsizemode==="pixel"?y.xanchor:y.x1;(g=l(p=f.getFromId(u,y.xref),v,x,y.path,e.paramIsX))&&(y._extremes[p._id]=f.findExtremes(p,g,r(y)))}if(y.yref!=="paper"&&m!=="domain"){var _=y.ysizemode==="pixel"?y.yanchor:y.y0,T=y.ysizemode==="pixel"?y.yanchor:y.y1;(g=l(p=f.getFromId(u,y.yref),_,T,y.path,e.paramIsY))&&(y._extremes[p._id]=f.findExtremes(p,g,n(y)))}}}},21459:function(w){w.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},84726:function(w,s,t){var a=t(71828),f=t(89298),e=t(85501),i=t(89827),r=t(30477);function n(o,l,u){function d(E,z){return a.coerce(o,l,i,E,z)}if(d("visible")){var c=d("path"),h=d("type",c?"path":"rect"),p=h!=="path";p&&delete l.path,d("editable"),d("layer"),d("opacity"),d("fillcolor"),d("fillrule"),d("line.width")&&(d("line.color"),d("line.dash"));for(var g=d("xsizemode"),y=d("ysizemode"),b=["x","y"],m=0;m<2;m++){var v,x,_,T=b[m],C=T+"anchor",S=T==="x"?g:y,F={_fullLayout:u},N=f.coerceRef(o,l,F,T,void 0,"paper");if(f.getRefType(N)==="range"?((v=f.getFromId(F,N))._shapeIndices.push(l._index),_=r.rangeToShapePosition(v),x=r.shapePositionToRange(v)):x=_=a.identity,p){var D=T+"0",j=T+"1",B=o[D],J=o[j];o[D]=x(o[D],!0),o[j]=x(o[j],!0),S==="pixel"?(d(D,0),d(j,10)):(f.coercePosition(l,F,d,N,D,.25),f.coercePosition(l,F,d,N,j,.75)),l[D]=_(l[D]),l[j]=_(l[j]),o[D]=B,o[j]=J}if(S==="pixel"){var P=o[C];o[C]=x(o[C],!0),f.coercePosition(l,F,d,N,C,.25),l[C]=_(l[C]),o[C]=P}}p&&a.noneOrAll(o,l,["x0","x1","y0","y1"]);var M,O,q=h==="line";if(p&&(M=d("label.texttemplate")),M||(O=d("label.text")),O||M){d("label.textangle");var tt=d("label.textposition",q?"middle":"middle center");d("label.xanchor"),d("label.yanchor",function(E,z){return E?"bottom":z.indexOf("top")!==-1?"top":z.indexOf("bottom")!==-1?"bottom":"middle"}(q,tt)),d("label.padding"),a.coerceFont(d,"label.font",u.font)}}}w.exports=function(o,l){e(o,l,{name:"shapes",handleItemDefaults:n})}},42359:function(w,s,t){var a=t(71828).strTranslate,f=t(28569),e=t(64505),i=e.drawMode,r=e.selectMode,n=t(73972),o=t(7901),l=t(89995),u=l.i000,d=l.i090,c=l.i180,h=l.i270,p=t(51873).clearOutlineControllers,g=t(60165),y=g.pointsOnRectangle,b=g.pointsOnEllipse,m=g.writePaths,v=t(90551),x=t(35855);function _(T,C){var S,F,N,D=T[C][1],j=T[C][2],B=T.length;return F=T[S=(C+1)%B][1],N=T[S][2],F===D&&N===j&&(F=T[S=(C+2)%B][1],N=T[S][2]),[S,F,N]}w.exports=function T(C,S,F,N){N||(N=0);var D=F.gd;function j(){T(C,S,F,N++),(b(C[0])||F.hasText)&&B({redrawing:!0})}function B(at){var rt={};F.isActiveShape!==void 0&&(F.isActiveShape=!1,rt=v(S,F)),F.isActiveSelection!==void 0&&(F.isActiveSelection=!1,rt=x(S,F),D._fullLayout._reselect=!0),Object.keys(rt).length&&n.call((at||{}).redrawing?"relayout":"_guiRelayout",D,rt)}var J,P,M,O,q,tt=D._fullLayout._zoomlayer,E=F.dragmode,z=i(E),Y=r(E);function Q(at){M=+at.srcElement.getAttribute("data-i"),O=+at.srcElement.getAttribute("data-j"),J[M][O].moveFn=nt}function nt(at,rt){if(C.length){var ot=q[M][O][1],ct=q[M][O][2],ht=C[M],mt=ht.length;if(y(ht)){var kt=at,Ct=rt;F.isActiveSelection&&(_(ht,O)[1]===ht[O][1]?Ct=0:kt=0);for(var It=0;It<mt;It++)if(It!==O){var pt=ht[It];pt[1]===ht[O][1]&&(pt[1]=ot+kt),pt[2]===ht[O][2]&&(pt[2]=ct+Ct)}if(ht[O][1]=ot+kt,ht[O][2]=ct+Ct,!y(ht))for(var bt=0;bt<mt;bt++)for(var _t=0;_t<ht[bt].length;_t++)ht[bt][_t]=q[M][bt][_t]}else ht[O][1]=ot+at,ht[O][2]=ct+rt;j()}}function et(){B()}function Z(at,rt){if(at===2){M=+rt.srcElement.getAttribute("data-i"),O=+rt.srcElement.getAttribute("data-j");var ot=C[M];y(ot)||b(ot)||function(){if(C.length&&C[M]&&C[M].length){for(var ct=[],ht=0;ht<C[M].length;ht++)ht!==O&&ct.push(C[M][ht]);ct.length>1&&(ct.length!==2||ct[1][0]!=="Z")&&(O===0&&(ct[0][0]="M"),C[M]=ct,j(),B())}}()}}function H(at,rt){(function(ot,ct){if(C.length)for(var ht=0;ht<C.length;ht++)for(var mt=0;mt<C[ht].length;mt++)for(var kt=0;kt+2<C[ht][mt].length;kt+=2)C[ht][mt][kt+1]=q[ht][mt][kt+1]+ot,C[ht][mt][kt+2]=q[ht][mt][kt+2]+ct})(at,rt),j()}function U(at){(M=+at.srcElement.getAttribute("data-i"))||(M=0),P[M].moveFn=H}function V(){B()}function $(at){at===2&&function(rt){if(r(rt._fullLayout.dragmode)){p(rt);var ot=rt._fullLayout._activeSelectionIndex,ct=(rt.layout||{}).selections||[];if(ot<ct.length){for(var ht=[],mt=0;mt<ct.length;mt++)mt!==ot&&ht.push(ct[mt]);delete rt._fullLayout._activeSelectionIndex;var kt=rt._fullLayout.selections[ot];rt._fullLayout._deselect={xref:kt.xref,yref:kt.yref},n.call("_guiRelayout",rt,{selections:ht})}}}(D)}(z||Y)&&(D._fullLayout._outlining=!0),p(D),S.attr("d",m(C)),N||!F.isActiveShape&&!F.isActiveSelection||(q=function(at,rt){for(var ot=0;ot<rt.length;ot++){var ct=rt[ot];at[ot]=[];for(var ht=0;ht<ct.length;ht++){at[ot][ht]=[];for(var mt=0;mt<ct[ht].length;mt++)at[ot][ht][mt]=ct[ht][mt]}}return at}([],C),function(at){J=[];for(var rt=0;rt<C.length;rt++){var ot=C[rt],ct=y(ot),ht=!ct&&b(ot);J[rt]=[];for(var mt=ot.length,kt=0;kt<mt;kt++)if(ot[kt][0]!=="Z"&&(!ht||kt===u||kt===d||kt===c||kt===h)){var Ct,It=ct&&F.isActiveSelection;It&&(Ct=_(ot,kt));var pt=ot[kt][1],bt=ot[kt][2],_t=at.append(It?"rect":"circle").attr("data-i",rt).attr("data-j",kt).style({fill:o.background,stroke:o.defaultLine,"stroke-width":1,"shape-rendering":"crispEdges"});if(It){var Dt=Ct[1]-pt,L=Ct[2]-bt,X=L?5:Math.max(Math.min(25,Math.abs(Dt)-5),5),it=Dt?5:Math.max(Math.min(25,Math.abs(L)-5),5);_t.classed(L?"cursor-ew-resize":"cursor-ns-resize",!0).attr("width",X).attr("height",it).attr("x",pt-X/2).attr("y",bt-it/2).attr("transform",a(Dt/2,L/2))}else _t.classed("cursor-grab",!0).attr("r",5).attr("cx",pt).attr("cy",bt);J[rt][kt]={element:_t.node(),gd:D,prepFn:Q,doneFn:et,clickFn:Z},f.init(J[rt][kt])}}}(tt.append("g").attr("class","outline-controllers")),function(){P=[],C.length&&(P[0]={element:S[0][0],gd:D,prepFn:U,doneFn:V,clickFn:$},f.init(P[0]))}())}},34031:function(w,s,t){var a=t(39898),f=t(73972),e=t(71828),i=t(89298),r=t(60165).readPaths,n=t(42359),o=t(51873).clearOutlineControllers,l=t(7901),u=t(91424),d=t(44467).arrayEditor,c=t(28569),h=t(6964),p=t(63893),g=t(21459),y=t(30477),b=y.getPathString,m=t(37281),v=t(18783).FROM_TL;function x(j){var B=j._fullLayout;for(var J in B._shapeUpperLayer.selectAll("path").remove(),B._shapeLowerLayer.selectAll("path").remove(),B._shapeUpperLayer.selectAll("text").remove(),B._shapeLowerLayer.selectAll("text").remove(),B._plots){var P=B._plots[J].shapelayer;P&&(P.selectAll("path").remove(),P.selectAll("text").remove())}for(var M=0;M<B.shapes.length;M++)B.shapes[M].visible&&C(j,M)}function _(j){return!!j._fullLayout._outlining}function T(j){return!j._context.edits.shapePosition}function C(j,B){j._fullLayout._paperdiv.selectAll('.shapelayer [data-index="'+B+'"]').remove();var J=y.makeShapesOptionsAndPlotinfo(j,B),P=J.options,M=J.plotinfo;function O(q){var tt=b(j,P),E={"data-index":B,"fill-rule":P.fillrule,d:tt},z=P.opacity,Y=P.fillcolor,Q=P.line.width?P.line.color:"rgba(0,0,0,0)",nt=P.line.width,et=P.line.dash;nt||P.editable!==!0||(nt=5,et="solid");var Z=tt[tt.length-1]!=="Z",H=T(j)&&P.editable&&j._fullLayout._activeShapeIndex===B;H&&(Y=Z?"rgba(0,0,0,0)":j._fullLayout.activeshape.fillcolor,z=j._fullLayout.activeshape.opacity);var U,V=q.append("g").classed("shape-group",!0).attr({"data-index":B}),$=V.append("path").attr(E).style("opacity",z).call(l.stroke,Q).call(l.fill,Y).call(u.dashLine,et,nt);if(S(V,j,P),F(j,B,P,V),(H||j._context.edits.shapePosition)&&(U=d(j.layout,"shapes",P)),H){$.style({cursor:"move"});var at={element:$.node(),plotinfo:M,gd:j,editHelpers:U,hasText:P.label.text||P.label.texttemplate,isActiveShape:!0},rt=r(tt,j);n(rt,$,at)}else j._context.edits.shapePosition?function(ot,ct,ht,mt,kt,Ct){var It,pt,bt,_t,Dt,L,X,it,ft,gt,wt,xt,Ft,Bt,Mt,St,Lt=ht.xsizemode==="pixel",Pt=ht.ysizemode==="pixel",zt=ht.type==="line",Xt=ht.type==="path",Gt=Ct.modifyItem,Kt=a.select(ct.node().parentNode),ie=i.getFromId(ot,ht.xref),de=i.getRefType(ht.xref),Jt=i.getFromId(ot,ht.yref),Nt=i.getRefType(ht.yref),Vt=y.getDataToPixel(ot,ie,!1,de),Zt=y.getDataToPixel(ot,Jt,!0,Nt),Wt=y.getPixelToData(ot,ie,!1,de),he=y.getPixelToData(ot,Jt,!0,Nt),$t=zt?function(){var vt=10,Rt=Math.max(ht.line.width,vt),Ut=kt.append("g").attr("data-index",mt).attr("drag-helper",!0);Ut.append("path").attr("d",ct.attr("d")).style({cursor:"move","stroke-width":Rt,"stroke-opacity":"0"});var Ht={"fill-opacity":"0"},Yt=Math.max(Rt/2,vt);return Ut.append("circle").attr({"data-line-point":"start-point",cx:Lt?Vt(ht.xanchor)+ht.x0:Vt(ht.x0),cy:Pt?Zt(ht.yanchor)-ht.y0:Zt(ht.y0),r:Yt}).style(Ht).classed("cursor-grab",!0),Ut.append("circle").attr({"data-line-point":"end-point",cx:Lt?Vt(ht.xanchor)+ht.x1:Vt(ht.x1),cy:Pt?Zt(ht.yanchor)-ht.y1:Zt(ht.y1),r:Yt}).style(Ht).classed("cursor-grab",!0),Ut}():ct,ye={element:$t.node(),gd:ot,prepFn:function(vt){_(ot)||(Lt&&(Dt=Vt(ht.xanchor)),Pt&&(L=Zt(ht.yanchor)),ht.type==="path"?Mt=ht.path:(It=Lt?ht.x0:Vt(ht.x0),pt=Pt?ht.y0:Zt(ht.y0),bt=Lt?ht.x1:Vt(ht.x1),_t=Pt?ht.y1:Zt(ht.y1)),It<bt?(ft=It,Ft="x0",gt=bt,Bt="x1"):(ft=bt,Ft="x1",gt=It,Bt="x0"),!Pt&&pt<_t||Pt&&pt>_t?(X=pt,wt="y0",it=_t,xt="y1"):(X=_t,wt="y1",it=pt,xt="y0"),se(vt),Ne(kt,ht),function(Rt,Ut,Ht){var Yt=Ut.xref,ee=Ut.yref,ne=i.getFromId(Ht,Yt),re=i.getFromId(Ht,ee),ve="";Yt==="paper"||ne.autorange||(ve+=Yt),ee==="paper"||re.autorange||(ve+=ee),u.setClipUrl(Rt,ve?"clip"+Ht._fullLayout._uid+ve:null,Ht)}(ct,ht,ot),ye.moveFn=St==="move"?Pe:Ce,ye.altKey=vt.altKey)},doneFn:function(){_(ot)||(h(ct),yt(kt),S(ct,ot,ht),f.call("_guiRelayout",ot,Ct.getUpdateObj()))},clickFn:function(){_(ot)||yt(kt)}};function se(vt){if(_(ot))St=null;else if(zt)St=vt.target.tagName==="path"?"move":vt.target.attributes["data-line-point"].value==="start-point"?"resize-over-start-point":"resize-over-end-point";else{var Rt=ye.element.getBoundingClientRect(),Ut=Rt.right-Rt.left,Ht=Rt.bottom-Rt.top,Yt=vt.clientX-Rt.left,ee=vt.clientY-Rt.top,ne=!Xt&&Ut>10&&Ht>10&&!vt.shiftKey?c.getCursor(Yt/Ut,1-ee/Ht):"move";h(ct,ne),St=ne.split("-")[0]}}function Pe(vt,Rt){if(ht.type==="path"){var Ut=function(ee){return ee},Ht=Ut,Yt=Ut;Lt?Gt("xanchor",ht.xanchor=Wt(Dt+vt)):(Ht=function(ee){return Wt(Vt(ee)+vt)},ie&&ie.type==="date"&&(Ht=y.encodeDate(Ht))),Pt?Gt("yanchor",ht.yanchor=he(L+Rt)):(Yt=function(ee){return he(Zt(ee)+Rt)},Jt&&Jt.type==="date"&&(Yt=y.encodeDate(Yt))),Gt("path",ht.path=N(Mt,Ht,Yt))}else Lt?Gt("xanchor",ht.xanchor=Wt(Dt+vt)):(Gt("x0",ht.x0=Wt(It+vt)),Gt("x1",ht.x1=Wt(bt+vt))),Pt?Gt("yanchor",ht.yanchor=he(L+Rt)):(Gt("y0",ht.y0=he(pt+Rt)),Gt("y1",ht.y1=he(_t+Rt)));ct.attr("d",b(ot,ht)),Ne(kt,ht),F(ot,mt,ht,Kt)}function Ce(vt,Rt){if(Xt){var Ut=function(we){return we},Ht=Ut,Yt=Ut;Lt?Gt("xanchor",ht.xanchor=Wt(Dt+vt)):(Ht=function(we){return Wt(Vt(we)+vt)},ie&&ie.type==="date"&&(Ht=y.encodeDate(Ht))),Pt?Gt("yanchor",ht.yanchor=he(L+Rt)):(Yt=function(we){return he(Zt(we)+Rt)},Jt&&Jt.type==="date"&&(Yt=y.encodeDate(Yt))),Gt("path",ht.path=N(Mt,Ht,Yt))}else if(zt){if(St==="resize-over-start-point"){var ee=It+vt,ne=Pt?pt-Rt:pt+Rt;Gt("x0",ht.x0=Lt?ee:Wt(ee)),Gt("y0",ht.y0=Pt?ne:he(ne))}else if(St==="resize-over-end-point"){var re=bt+vt,ve=Pt?_t-Rt:_t+Rt;Gt("x1",ht.x1=Lt?re:Wt(re)),Gt("y1",ht.y1=Pt?ve:he(ve))}}else{var fe=function(we){return St.indexOf(we)!==-1},pe=fe("n"),ze=fe("s"),Be=fe("w"),Me=fe("e"),_e=pe?X+Rt:X,xe=ze?it+Rt:it,me=Be?ft+vt:ft,Te=Me?gt+vt:gt;Pt&&(pe&&(_e=X-Rt),ze&&(xe=it-Rt)),(!Pt&&xe-_e>10||Pt&&_e-xe>10)&&(Gt(wt,ht[wt]=Pt?_e:he(_e)),Gt(xt,ht[xt]=Pt?xe:he(xe))),Te-me>10&&(Gt(Ft,ht[Ft]=Lt?me:Wt(me)),Gt(Bt,ht[Bt]=Lt?Te:Wt(Te)))}ct.attr("d",b(ot,ht)),Ne(kt,ht),F(ot,mt,ht,Kt)}function Ne(vt,Rt){(Lt||Pt)&&function(){var Ut=Rt.type!=="path",Ht=vt.selectAll(".visual-cue").data([0]);Ht.enter().append("path").attr({fill:"#fff","fill-rule":"evenodd",stroke:"#000","stroke-width":1}).classed("visual-cue",!0);var Yt=Vt(Lt?Rt.xanchor:e.midRange(Ut?[Rt.x0,Rt.x1]:y.extractPathCoords(Rt.path,g.paramIsX))),ee=Zt(Pt?Rt.yanchor:e.midRange(Ut?[Rt.y0,Rt.y1]:y.extractPathCoords(Rt.path,g.paramIsY)));if(Yt=y.roundPositionForSharpStrokeRendering(Yt,1),ee=y.roundPositionForSharpStrokeRendering(ee,1),Lt&&Pt){var ne="M"+(Yt-1-1)+","+(ee-1-1)+"h-8v2h8 v8h2v-8 h8v-2h-8 v-8h-2 Z";Ht.attr("d",ne)}else if(Lt){var re="M"+(Yt-1-1)+","+(ee-9-1)+"v18 h2 v-18 Z";Ht.attr("d",re)}else{var ve="M"+(Yt-9-1)+","+(ee-1-1)+"h18 v2 h-18 Z";Ht.attr("d",ve)}}()}function yt(vt){vt.selectAll(".visual-cue").remove()}c.init(ye),$t.node().onmousemove=se}(j,$,P,B,q,U):P.editable===!0&&$.style("pointer-events",Z||l.opacity(Y)*z<=.5?"stroke":"all");$.node().addEventListener("click",function(){return function(ot,ct){if(T(ot)){var ht=+ct.node().getAttribute("data-index");if(ht>=0){if(ht===ot._fullLayout._activeShapeIndex)return void D(ot);ot._fullLayout._activeShapeIndex=ht,ot._fullLayout._deactivateShape=D,x(ot)}}}(j,$)})}P._input&&P.visible!==!1&&(P.layer!=="below"?O(j._fullLayout._shapeUpperLayer):P.xref==="paper"||P.yref==="paper"?O(j._fullLayout._shapeLowerLayer):M._hadPlotinfo?O((M.mainplotinfo||M).shapelayer):O(j._fullLayout._shapeLowerLayer))}function S(j,B,J){var P=(J.xref+J.yref).replace(/paper/g,"").replace(/[xyz][1-9]* *domain/g,"");u.setClipUrl(j,P?"clip"+B._fullLayout._uid+P:null,B)}function F(j,B,J,P){if(P.selectAll(".shape-label").remove(),J.label.text||J.label.texttemplate){var M;if(J.label.texttemplate){var O={};if(J.type!=="path"){var q=i.getFromId(j,J.xref),tt=i.getFromId(j,J.yref);for(var E in m){var z=m[E](J,q,tt);z!==void 0&&(O[E]=z)}}M=e.texttemplateStringForShapes(J.label.texttemplate,{},j._fullLayout._d3locale,O)}else M=J.label.text;var Y,Q,nt,et,Z={"data-index":B},H=J.label.font,U=P.append("g").attr(Z).classed("shape-label",!0).append("text").attr({"data-notex":1}).classed("shape-label-text",!0).text(M);if(J.path){var V=b(j,J),$=r(V,j);Y=1/0,nt=1/0,Q=-1/0,et=-1/0;for(var at=0;at<$.length;at++)for(var rt=0;rt<$[at].length;rt++)for(var ot=$[at][rt],ct=1;ct<ot.length;ct+=2){var ht=ot[ct],mt=ot[ct+1];Y=Math.min(Y,ht),Q=Math.max(Q,ht),nt=Math.min(nt,mt),et=Math.max(et,mt)}}else{var kt=i.getFromId(j,J.xref),Ct=i.getRefType(J.xref),It=i.getFromId(j,J.yref),pt=i.getRefType(J.yref),bt=y.getDataToPixel(j,kt,!1,Ct),_t=y.getDataToPixel(j,It,!0,pt);Y=bt(J.x0),Q=bt(J.x1),nt=_t(J.y0),et=_t(J.y1)}var Dt=J.label.textangle;Dt==="auto"&&(Dt=J.type==="line"?function(gt,wt,xt,Ft){var Bt,Mt;return Mt=Math.abs(xt-gt),Bt=xt>=gt?wt-Ft:Ft-wt,-180/Math.PI*Math.atan2(Bt,Mt)}(Y,nt,Q,et):0),U.call(function(gt){return gt.call(u.font,H).attr({}),p.convertToTspans(gt,j),gt});var L=function(gt,wt,xt,Ft,Bt,Mt,St){var Lt,Pt,zt,Xt,Gt=Bt.label.textposition,Kt=Bt.label.textangle,ie=Bt.label.padding,de=Bt.type,Jt=Math.PI/180*Mt,Nt=Math.sin(Jt),Vt=Math.cos(Jt),Zt=Bt.label.xanchor,Wt=Bt.label.yanchor;if(de==="line"){Gt==="start"?(Lt=gt,Pt=wt):Gt==="end"?(Lt=xt,Pt=Ft):(Lt=(gt+xt)/2,Pt=(wt+Ft)/2),Zt==="auto"&&(Zt=Gt==="start"?Kt==="auto"?xt>gt?"left":xt<gt?"right":"center":xt>gt?"right":xt<gt?"left":"center":Gt==="end"?Kt==="auto"?xt>gt?"right":xt<gt?"left":"center":xt>gt?"left":xt<gt?"right":"center":"center");var he={bottom:-1,middle:0,top:1};if(Kt==="auto"){var $t=he[Wt];zt=-ie*Nt*$t,Xt=ie*Vt*$t}else zt=ie*{left:1,center:0,right:-1}[Zt],Xt=ie*he[Wt];Lt+=zt,Pt+=Xt}else zt=ie+3,Gt.indexOf("right")!==-1?(Lt=Math.max(gt,xt)-zt,Zt==="auto"&&(Zt="right")):Gt.indexOf("left")!==-1?(Lt=Math.min(gt,xt)+zt,Zt==="auto"&&(Zt="left")):(Lt=(gt+xt)/2,Zt==="auto"&&(Zt="center")),Pt=Gt.indexOf("top")!==-1?Math.min(wt,Ft):Gt.indexOf("bottom")!==-1?Math.max(wt,Ft):(wt+Ft)/2,Xt=ie,Wt==="bottom"?Pt-=Xt:Wt==="top"&&(Pt+=Xt);var ye=v[Wt],se=Bt.label.font.size,Pe=St.height;return{textx:Lt+(Pe*ye-se)*Nt,texty:Pt+-(Pe*ye-se)*Vt,xanchor:Zt}}(Y,nt,Q,et,J,Dt,u.bBox(U.node())),X=L.textx,it=L.texty,ft=L.xanchor;U.attr({"text-anchor":{left:"start",center:"middle",right:"end"}[ft],y:it,x:X,transform:"rotate("+Dt+","+X+","+it+")"}).call(p.positionText,X,it)}}function N(j,B,J){return j.replace(g.segmentRE,function(P){var M=0,O=P.charAt(0),q=g.paramIsX[O],tt=g.paramIsY[O],E=g.numParams[O];return O+P.substr(1).replace(g.paramRE,function(z){return M>=E||(q[M]?z=B(z):tt[M]&&(z=J(z)),M++),z})})}function D(j){T(j)&&j._fullLayout._activeShapeIndex>=0&&(o(j),delete j._fullLayout._activeShapeIndex,x(j))}w.exports={draw:x,drawOne:C,eraseActiveShape:function(j){if(T(j)){o(j);var B=j._fullLayout._activeShapeIndex,J=(j.layout||{}).shapes||[];if(B<J.length){for(var P=[],M=0;M<J.length;M++)M!==B&&P.push(J[M]);delete j._fullLayout._activeShapeIndex,f.call("_guiRelayout",j,{shapes:P})}}},drawLabel:F}},29241:function(w,s,t){var a=t(41940),f=t(79952).P,e=t(1426).extendFlat,i=t(5386).R,r=t(37281);w.exports={newshape:{line:{color:{valType:"color",editType:"none"},width:{valType:"number",min:0,dflt:4,editType:"none"},dash:e({},f,{dflt:"solid",editType:"none"}),editType:"none"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"none"},fillrule:{valType:"enumerated",values:["evenodd","nonzero"],dflt:"evenodd",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"none"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"none"},drawdirection:{valType:"enumerated",values:["ortho","horizontal","vertical","diagonal"],dflt:"diagonal",editType:"none"},label:{text:{valType:"string",dflt:"",editType:"none"},texttemplate:i({newshape:!0,editType:"none"},{keys:Object.keys(r)}),font:a({editType:"none"}),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right","start","middle","end"],editType:"none"},textangle:{valType:"angle",dflt:"auto",editType:"none"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"none"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],editType:"none"},padding:{valType:"number",dflt:3,min:0,editType:"none"},editType:"none"},editType:"none"},activeshape:{fillcolor:{valType:"color",dflt:"rgb(255,0,255)",editType:"none"},opacity:{valType:"number",min:0,max:1,dflt:.5,editType:"none"},editType:"none"}}},89995:function(w){w.exports={CIRCLE_SIDES:32,i000:0,i090:8,i180:16,i270:24,cos45:Math.cos(Math.PI/4),sin45:Math.sin(Math.PI/4),SQRT2:Math.sqrt(2)}},45547:function(w,s,t){var a=t(7901),f=t(71828);w.exports=function(e,i,r){if(r("newshape.drawdirection"),r("newshape.layer"),r("newshape.fillcolor"),r("newshape.fillrule"),r("newshape.opacity"),r("newshape.line.width")){var n=(e||{}).plot_bgcolor||"#FFF";r("newshape.line.color",a.contrast(n)),r("newshape.line.dash")}var o=e.dragmode==="drawline",l=r("newshape.label.text"),u=r("newshape.label.texttemplate");if(l||u){r("newshape.label.textangle");var d=r("newshape.label.textposition",o?"middle":"middle center");r("newshape.label.xanchor"),r("newshape.label.yanchor",function(c,h){return c?"bottom":h.indexOf("top")!==-1?"top":h.indexOf("bottom")!==-1?"bottom":"middle"}(o,d)),r("newshape.label.padding"),f.coerceFont(r,"newshape.label.font",i.font)}r("activeshape.fillcolor"),r("activeshape.opacity")}},60165:function(w,s,t){var a=t(95616),f=t(89995),e=f.CIRCLE_SIDES,i=f.SQRT2,r=t(75549),n=r.p2r,o=r.r2p,l=[0,3,4,5,6,1,2],u=[0,3,4,1,2];function d(h,p){return Math.abs(h-p)<=1e-6}function c(h,p){var g=p[1]-h[1],y=p[2]-h[2];return Math.sqrt(g*g+y*y)}s.writePaths=function(h){var p=h.length;if(!p)return"M0,0Z";for(var g="",y=0;y<p;y++)for(var b=h[y].length,m=0;m<b;m++){var v=h[y][m][0];if(v==="Z")g+="Z";else for(var x=h[y][m].length,_=0;_<x;_++){var T=_;v==="Q"||v==="S"?T=u[_]:v==="C"&&(T=l[_]),g+=h[y][m][T],_>0&&_<x-1&&(g+=",")}}return g},s.readPaths=function(h,p,g,y){var b,m,v,x=a(h),_=[],T=-1,C=0,S=0,F=function(){m=C,v=S};F();for(var N=0;N<x.length;N++){var D,j,B,J,P=[],M=x[N][0],O=M;switch(M){case"M":_[++T]=[],C=+x[N][1],S=+x[N][2],P.push([O,C,S]),F();break;case"Q":case"S":D=+x[N][1],B=+x[N][2],C=+x[N][3],S=+x[N][4],P.push([O,C,S,D,B]);break;case"C":D=+x[N][1],B=+x[N][2],j=+x[N][3],J=+x[N][4],C=+x[N][5],S=+x[N][6],P.push([O,C,S,D,B,j,J]);break;case"T":case"L":C=+x[N][1],S=+x[N][2],P.push([O,C,S]);break;case"H":O="L",C=+x[N][1],P.push([O,C,S]);break;case"V":O="L",S=+x[N][1],P.push([O,C,S]);break;case"A":O="L";var q=+x[N][1],tt=+x[N][2];+x[N][4]||(q=-q,tt=-tt);var E=C-q,z=S;for(b=1;b<=e/2;b++){var Y=2*Math.PI*b/e;P.push([O,E+q*Math.cos(Y),z+tt*Math.sin(Y)])}break;case"Z":C===m&&S===v||(C=m,S=v,P.push([O,C,S]))}for(var Q=(g||{}).domain,nt=p._fullLayout._size,et=g&&g.xsizemode==="pixel",Z=g&&g.ysizemode==="pixel",H=y===!1,U=0;U<P.length;U++){for(b=0;b+2<7;b+=2){var V=P[U][b+1],$=P[U][b+2];V!==void 0&&$!==void 0&&(C=V,S=$,g&&(g.xaxis&&g.xaxis.p2r?(H&&(V-=g.xaxis._offset),V=et?o(g.xaxis,g.xanchor)+V:n(g.xaxis,V)):(H&&(V-=nt.l),Q?V=Q.x[0]+V/nt.w:V/=nt.w),g.yaxis&&g.yaxis.p2r?(H&&($-=g.yaxis._offset),$=Z?o(g.yaxis,g.yanchor)-$:n(g.yaxis,$)):(H&&($-=nt.t),$=Q?Q.y[1]-$/nt.h:1-$/nt.h)),P[U][b+1]=V,P[U][b+2]=$)}_[T].push(P[U].slice())}}return _},s.pointsOnRectangle=function(h){if(h.length!==5)return!1;for(var p=1;p<3;p++)if(!d(h[0][p]-h[1][p],h[3][p]-h[2][p])||!d(h[0][p]-h[3][p],h[1][p]-h[2][p]))return!1;return!(!d(h[0][1],h[1][1])&&!d(h[0][1],h[3][1])||!(c(h[0],h[1])*c(h[0],h[3])))},s.pointsOnEllipse=function(h){var p=h.length;if(p!==e+1)return!1;p=e;for(var g=0;g<p;g++){var y=(2*p-g)%p,b=(p/2+y)%p,m=(p/2+g)%p;if(!d(c(h[g],h[m]),c(h[y],h[b])))return!1}return!0},s.handleEllipse=function(h,p,g){if(!h)return[p,g];var y=s.ellipseOver({x0:p[0],y0:p[1],x1:g[0],y1:g[1]}),b=(y.x1+y.x0)/2,m=(y.y1+y.y0)/2,v=(y.x1-y.x0)/2,x=(y.y1-y.y0)/2;v||(v=x/=i),x||(x=v/=i);for(var _=[],T=0;T<e;T++){var C=2*T*Math.PI/e;_.push([b+v*Math.cos(C),m+x*Math.sin(C)])}return _},s.ellipseOver=function(h){var p=h.x0,g=h.y0,y=h.x1,b=h.y1,m=y-p,v=b-g,x=((p-=m)+y)/2,_=((g-=v)+b)/2;return{x0:x-(m*=i),y0:_-(v*=i),x1:x+m,y1:_+v}},s.fixDatesForPaths=function(h,p,g){var y=p.type==="date",b=g.type==="date";if(!y&&!b)return h;for(var m=0;m<h.length;m++)for(var v=0;v<h[m].length;v++)for(var x=0;x+2<h[m][v].length;x+=2)y&&(h[m][v][x+1]=h[m][v][x+1].replace(" ","_")),b&&(h[m][v][x+2]=h[m][v][x+2].replace(" ","_"));return h}},90551:function(w,s,t){var a=t(64505),f=a.drawMode,e=a.openMode,i=t(89995),r=i.i000,n=i.i090,o=i.i180,l=i.i270,u=i.cos45,d=i.sin45,c=t(75549),h=c.p2r,p=c.r2p,g=t(51873).clearOutline,y=t(60165),b=y.readPaths,m=y.writePaths,v=y.ellipseOver,x=y.fixDatesForPaths;w.exports=function(_,T){if(_.length){var C=_[0][0];if(C){var S=C.getAttribute("d"),F=T.gd,N=F._fullLayout.newshape,D=T.plotinfo,j=D.xaxis,B=D.yaxis,J=!!D.domain||!D.xaxis,P=!!D.domain||!D.yaxis,M=T.isActiveShape,O=T.dragmode,q=(F.layout||{}).shapes||[];if(!f(O)&&M!==void 0){var tt=F._fullLayout._activeShapeIndex;if(tt<q.length)switch(F._fullLayout.shapes[tt].type){case"rect":O="drawrect";break;case"circle":O="drawcircle";break;case"line":O="drawline";break;case"path":var E=q[tt].path||"";O=E[E.length-1]==="Z"?"drawclosedpath":"drawopenpath"}}var z,Y=e(O),Q=b(S,F,D,M),nt={editable:!0,label:N.label,xref:J?"paper":j._id,yref:P?"paper":B._id,layer:N.layer,opacity:N.opacity,line:{color:N.line.color,width:N.line.width,dash:N.line.dash}};if(Y||(nt.fillcolor=N.fillcolor,nt.fillrule=N.fillrule),Q.length===1&&(z=Q[0]),z&&z.length===5&&O==="drawrect")nt.type="rect",nt.x0=z[0][1],nt.y0=z[0][2],nt.x1=z[2][1],nt.y1=z[2][2];else if(z&&O==="drawline")nt.type="line",nt.x0=z[0][1],nt.y0=z[0][2],nt.x1=z[1][1],nt.y1=z[1][2];else if(z&&O==="drawcircle"){nt.type="circle";var et=z[r][1],Z=z[n][1],H=z[o][1],U=z[l][1],V=z[r][2],$=z[n][2],at=z[o][2],rt=z[l][2],ot=D.xaxis&&(D.xaxis.type==="date"||D.xaxis.type==="log"),ct=D.yaxis&&(D.yaxis.type==="date"||D.yaxis.type==="log");ot&&(et=p(D.xaxis,et),Z=p(D.xaxis,Z),H=p(D.xaxis,H),U=p(D.xaxis,U)),ct&&(V=p(D.yaxis,V),$=p(D.yaxis,$),at=p(D.yaxis,at),rt=p(D.yaxis,rt));var ht=(Z+U)/2,mt=(V+at)/2,kt=v({x0:ht,y0:mt,x1:ht+(U-Z+H-et)/2*u,y1:mt+(rt-$+at-V)/2*d});ot&&(kt.x0=h(D.xaxis,kt.x0),kt.x1=h(D.xaxis,kt.x1)),ct&&(kt.y0=h(D.yaxis,kt.y0),kt.y1=h(D.yaxis,kt.y1)),nt.x0=kt.x0,nt.y0=kt.y0,nt.x1=kt.x1,nt.y1=kt.y1}else nt.type="path",j&&B&&x(Q,j,B),nt.path=m(Q),z=null;g(F);for(var Ct=T.editHelpers,It=(Ct||{}).modifyItem,pt=[],bt=0;bt<q.length;bt++){var _t=F._fullLayout.shapes[bt];if(pt[bt]=_t._input,M!==void 0&&bt===F._fullLayout._activeShapeIndex){var Dt=nt;switch(_t.type){case"line":case"rect":case"circle":It("x0",Dt.x0),It("x1",Dt.x1),It("y0",Dt.y0),It("y1",Dt.y1);break;case"path":It("path",Dt.path)}}}return M===void 0?(pt.push(nt),pt):Ct?Ct.getUpdateObj():{}}}}},51873:function(w){w.exports={clearOutlineControllers:function(s){var t=s._fullLayout._zoomlayer;t&&t.selectAll(".outline-controllers").remove()},clearOutline:function(s){var t=s._fullLayout._zoomlayer;t&&t.selectAll(".select-outline").remove(),s._fullLayout._outlining=!1}}},30477:function(w,s,t){var a=t(21459),f=t(71828),e=t(89298);s.rangeToShapePosition=function(i){return i.type==="log"?i.r2d:function(r){return r}},s.shapePositionToRange=function(i){return i.type==="log"?i.d2r:function(r){return r}},s.decodeDate=function(i){return function(r){return r.replace&&(r=r.replace("_"," ")),i(r)}},s.encodeDate=function(i){return function(r){return i(r).replace(" ","_")}},s.extractPathCoords=function(i,r,n){var o=[];return i.match(a.segmentRE).forEach(function(l){var u=r[l.charAt(0)].drawn;if(u!==void 0){var d=l.substr(1).match(a.paramRE);if(d&&!(d.length<u)){var c=d[u],h=n?c:f.cleanNumber(c);o.push(h)}}}),o},s.getDataToPixel=function(i,r,n,o){var l,u=i._fullLayout._size;if(r)if(o==="domain")l=function(c){return r._length*(n?1-c:c)+r._offset};else{var d=s.shapePositionToRange(r);l=function(c){return r._offset+r.r2p(d(c,!0))},r.type==="date"&&(l=s.decodeDate(l))}else l=n?function(c){return u.t+u.h*(1-c)}:function(c){return u.l+u.w*c};return l},s.getPixelToData=function(i,r,n,o){var l,u=i._fullLayout._size;if(r)if(o==="domain")l=function(c){var h=(c-r._offset)/r._length;return n?1-h:h};else{var d=s.rangeToShapePosition(r);l=function(c){return d(r.p2r(c-r._offset))}}else l=n?function(c){return 1-(c-u.t)/u.h}:function(c){return(c-u.l)/u.w};return l},s.roundPositionForSharpStrokeRendering=function(i,r){var n=Math.round(r%2)===1,o=Math.round(i);return n?o+.5:o},s.makeShapesOptionsAndPlotinfo=function(i,r){var n=i._fullLayout.shapes[r]||{},o=i._fullLayout._plots[n.xref+n.yref];return o?o._hadPlotinfo=!0:(o={},n.xref&&n.xref!=="paper"&&(o.xaxis=i._fullLayout[n.xref+"axis"]),n.yref&&n.yref!=="paper"&&(o.yaxis=i._fullLayout[n.yref+"axis"])),o.xsizemode=n.xsizemode,o.ysizemode=n.ysizemode,o.xanchor=n.xanchor,o.yanchor=n.yanchor,{options:n,plotinfo:o}},s.makeSelectionsOptionsAndPlotinfo=function(i,r){var n=i._fullLayout.selections[r]||{},o=i._fullLayout._plots[n.xref+n.yref];return o?o._hadPlotinfo=!0:(o={},n.xref&&(o.xaxis=i._fullLayout[n.xref+"axis"]),n.yref&&(o.yaxis=i._fullLayout[n.yref+"axis"])),{options:n,plotinfo:o}},s.getPathString=function(i,r){var n,o,l,u,d,c,h,p,g=r.type,y=e.getRefType(r.xref),b=e.getRefType(r.yref),m=e.getFromId(i,r.xref),v=e.getFromId(i,r.yref),x=i._fullLayout._size;if(m?y==="domain"?o=function(B){return m._offset+m._length*B}:(n=s.shapePositionToRange(m),o=function(B){return m._offset+m.r2p(n(B,!0))}):o=function(B){return x.l+x.w*B},v?b==="domain"?u=function(B){return v._offset+v._length*(1-B)}:(l=s.shapePositionToRange(v),u=function(B){return v._offset+v.r2p(l(B,!0))}):u=function(B){return x.t+x.h*(1-B)},g==="path")return m&&m.type==="date"&&(o=s.decodeDate(o)),v&&v.type==="date"&&(u=s.decodeDate(u)),function(B,J,P){var M=B.path,O=B.xsizemode,q=B.ysizemode,tt=B.xanchor,E=B.yanchor;return M.replace(a.segmentRE,function(z){var Y=0,Q=z.charAt(0),nt=a.paramIsX[Q],et=a.paramIsY[Q],Z=a.numParams[Q],H=z.substr(1).replace(a.paramRE,function(U){return nt[Y]?U=O==="pixel"?J(tt)+Number(U):J(U):et[Y]&&(U=q==="pixel"?P(E)-Number(U):P(U)),++Y>Z&&(U="X"),U});return Y>Z&&(H=H.replace(/[\s,]*X.*/,""),f.log("Ignoring extra params in segment "+z)),Q+H})}(r,o,u);if(r.xsizemode==="pixel"){var _=o(r.xanchor);d=_+r.x0,c=_+r.x1}else d=o(r.x0),c=o(r.x1);if(r.ysizemode==="pixel"){var T=u(r.yanchor);h=T-r.y0,p=T-r.y1}else h=u(r.y0),p=u(r.y1);if(g==="line")return"M"+d+","+h+"L"+c+","+p;if(g==="rect")return"M"+d+","+h+"H"+c+"V"+p+"H"+d+"Z";var C=(d+c)/2,S=(h+p)/2,F=Math.abs(C-d),N=Math.abs(S-h),D="A"+F+","+N,j=C+F+","+S;return"M"+j+D+" 0 1,1 "+C+","+(S-N)+D+" 0 0,1 "+j+"Z"}},89853:function(w,s,t){var a=t(34031);w.exports={moduleType:"component",name:"shapes",layoutAttributes:t(89827),supplyLayoutDefaults:t(84726),supplyDrawNewShapeDefaults:t(45547),includeBasePlot:t(76325)("shapes"),calcAutorange:t(5627),draw:a.draw,drawOne:a.drawOne}},37281:function(w){function s(e,i){return i?i.d2l(e):e}function t(e,i){return i?i.l2d(e):e}function a(e,i){return s(e.x1,i)-s(e.x0,i)}function f(e,i,r){return s(e.y1,r)-s(e.y0,r)}w.exports={x0:function(e){return e.x0},x1:function(e){return e.x1},y0:function(e){return e.y0},y1:function(e){return e.y1},slope:function(e,i,r){return e.type!=="line"?void 0:f(e,0,r)/a(e,i)},dx:a,dy:f,width:function(e,i){return Math.abs(a(e,i))},height:function(e,i,r){return Math.abs(f(e,0,r))},length:function(e,i,r){return e.type!=="line"?void 0:Math.sqrt(Math.pow(a(e,i),2)+Math.pow(f(e,0,r),2))},xcenter:function(e,i){return t((s(e.x1,i)+s(e.x0,i))/2,i)},ycenter:function(e,i,r){return t((s(e.y1,r)+s(e.y0,r))/2,r)}}},75067:function(w,s,t){var a=t(41940),f=t(35025),e=t(1426).extendDeepAll,i=t(30962).overrideAll,r=t(85594),n=t(44467).templatedArray,o=t(98292),l=n("step",{visible:{valType:"boolean",dflt:!0},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}});w.exports=i(n("slider",{visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:l,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:e(f({editType:"arraydraw"}),{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:r.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:a({})},font:a({}),activebgcolor:{valType:"color",dflt:o.gripBgActiveColor},bgcolor:{valType:"color",dflt:o.railBgColor},bordercolor:{valType:"color",dflt:o.railBorderColor},borderwidth:{valType:"number",min:0,dflt:o.railBorderWidth},ticklen:{valType:"number",min:0,dflt:o.tickLength},tickcolor:{valType:"color",dflt:o.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:o.minorTickLength}}),"arraydraw","from-root")},98292:function(w){w.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},12343:function(w,s,t){var a=t(71828),f=t(85501),e=t(75067),i=t(98292).name,r=e.steps;function n(l,u,d){function c(b,m){return a.coerce(l,u,e,b,m)}for(var h=f(l,u,{name:"steps",handleItemDefaults:o}),p=0,g=0;g<h.length;g++)h[g].visible&&p++;if(p<2?u.visible=!1:c("visible")){u._stepCount=p;var y=u._visibleSteps=a.filterVisible(h);(h[c("active")]||{}).visible||(u.active=y[0]._index),c("x"),c("y"),a.noneOrAll(l,u,["x","y"]),c("xanchor"),c("yanchor"),c("len"),c("lenmode"),c("pad.t"),c("pad.r"),c("pad.b"),c("pad.l"),a.coerceFont(c,"font",d.font),c("currentvalue.visible")&&(c("currentvalue.xanchor"),c("currentvalue.prefix"),c("currentvalue.suffix"),c("currentvalue.offset"),a.coerceFont(c,"currentvalue.font",u.font)),c("transition.duration"),c("transition.easing"),c("bgcolor"),c("activebgcolor"),c("bordercolor"),c("borderwidth"),c("ticklen"),c("tickwidth"),c("tickcolor"),c("minorticklen")}}function o(l,u){function d(h,p){return a.coerce(l,u,r,h,p)}if(l.method==="skip"||Array.isArray(l.args)?d("visible"):u.visible=!1){d("method"),d("args");var c=d("label","step-"+u._index);d("value",c),d("execute")}}w.exports=function(l,u){f(l,u,{name:i,handleItemDefaults:n})}},44504:function(w,s,t){var a=t(39898),f=t(74875),e=t(7901),i=t(91424),r=t(71828),n=r.strTranslate,o=t(63893),l=t(44467).arrayEditor,u=t(98292),d=t(18783),c=d.LINE_SPACING,h=d.FROM_TL,p=d.FROM_BR;function g(P){return u.autoMarginIdRoot+P._index}function y(P){return P._index}function b(P,M){var O=i.tester.selectAll("g."+u.labelGroupClass).data(M._visibleSteps);O.enter().append("g").classed(u.labelGroupClass,!0);var q=0,tt=0;O.each(function(U){var V=x(a.select(this),{step:U},M).node();if(V){var $=i.bBox(V);tt=Math.max(tt,$.height),q=Math.max(q,$.width)}}),O.remove();var E=M._dims={};E.inputAreaWidth=Math.max(u.railWidth,u.gripHeight);var z=P._fullLayout._size;E.lx=z.l+z.w*M.x,E.ly=z.t+z.h*(1-M.y),M.lenmode==="fraction"?E.outerLength=Math.round(z.w*M.len):E.outerLength=M.len,E.inputAreaStart=0,E.inputAreaLength=Math.round(E.outerLength-M.pad.l-M.pad.r);var Y=(E.inputAreaLength-2*u.stepInset)/(M._stepCount-1),Q=q+u.labelPadding;if(E.labelStride=Math.max(1,Math.ceil(Q/Y)),E.labelHeight=tt,E.currentValueMaxWidth=0,E.currentValueHeight=0,E.currentValueTotalHeight=0,E.currentValueMaxLines=1,M.currentvalue.visible){var nt=i.tester.append("g");O.each(function(U){var V=m(nt,M,U.label),$=V.node()&&i.bBox(V.node())||{width:0,height:0},at=o.lineCount(V);E.currentValueMaxWidth=Math.max(E.currentValueMaxWidth,Math.ceil($.width)),E.currentValueHeight=Math.max(E.currentValueHeight,Math.ceil($.height)),E.currentValueMaxLines=Math.max(E.currentValueMaxLines,at)}),E.currentValueTotalHeight=E.currentValueHeight+M.currentvalue.offset,nt.remove()}E.height=E.currentValueTotalHeight+u.tickOffset+M.ticklen+u.labelOffset+E.labelHeight+M.pad.t+M.pad.b;var et="left";r.isRightAnchor(M)&&(E.lx-=E.outerLength,et="right"),r.isCenterAnchor(M)&&(E.lx-=E.outerLength/2,et="center");var Z="top";r.isBottomAnchor(M)&&(E.ly-=E.height,Z="bottom"),r.isMiddleAnchor(M)&&(E.ly-=E.height/2,Z="middle"),E.outerLength=Math.ceil(E.outerLength),E.height=Math.ceil(E.height),E.lx=Math.round(E.lx),E.ly=Math.round(E.ly);var H={y:M.y,b:E.height*p[Z],t:E.height*h[Z]};M.lenmode==="fraction"?(H.l=0,H.xl=M.x-M.len*h[et],H.r=0,H.xr=M.x+M.len*p[et]):(H.x=M.x,H.l=E.outerLength*h[et],H.r=E.outerLength*p[et]),f.autoMargin(P,g(M),H)}function m(P,M,O){if(M.currentvalue.visible){var q,tt,E=M._dims;switch(M.currentvalue.xanchor){case"right":q=E.inputAreaLength-u.currentValueInset-E.currentValueMaxWidth,tt="left";break;case"center":q=.5*E.inputAreaLength,tt="middle";break;default:q=u.currentValueInset,tt="left"}var z=r.ensureSingle(P,"text",u.labelClass,function(H){H.attr({"text-anchor":tt,"data-notex":1})}),Y=M.currentvalue.prefix?M.currentvalue.prefix:"";if(typeof O=="string")Y+=O;else{var Q=M.steps[M.active].label,nt=M._gd._fullLayout._meta;nt&&(Q=r.templateString(Q,nt)),Y+=Q}M.currentvalue.suffix&&(Y+=M.currentvalue.suffix),z.call(i.font,M.currentvalue.font).text(Y).call(o.convertToTspans,M._gd);var et=o.lineCount(z),Z=(E.currentValueMaxLines+1-et)*M.currentvalue.font.size*c;return o.positionText(z,q,Z),z}}function v(P,M,O){r.ensureSingle(P,"rect",u.gripRectClass,function(q){q.call(S,M,P,O).style("pointer-events","all")}).attr({width:u.gripWidth,height:u.gripHeight,rx:u.gripRadius,ry:u.gripRadius}).call(e.stroke,O.bordercolor).call(e.fill,O.bgcolor).style("stroke-width",O.borderwidth+"px")}function x(P,M,O){var q=r.ensureSingle(P,"text",u.labelClass,function(z){z.attr({"text-anchor":"middle","data-notex":1})}),tt=M.step.label,E=O._gd._fullLayout._meta;return E&&(tt=r.templateString(tt,E)),q.call(i.font,O.font).text(tt).call(o.convertToTspans,O._gd),q}function _(P,M){var O=r.ensureSingle(P,"g",u.labelsClass),q=M._dims,tt=O.selectAll("g."+u.labelGroupClass).data(q.labelSteps);tt.enter().append("g").classed(u.labelGroupClass,!0),tt.exit().remove(),tt.each(function(E){var z=a.select(this);z.call(x,E,M),i.setTranslate(z,D(M,E.fraction),u.tickOffset+M.ticklen+M.font.size*c+u.labelOffset+q.currentValueTotalHeight)})}function T(P,M,O,q,tt){var E=Math.round(q*(O._stepCount-1)),z=O._visibleSteps[E]._index;z!==O.active&&C(P,M,O,z,!0,tt)}function C(P,M,O,q,tt,E){var z=O.active;O.active=q,l(P.layout,u.name,O).applyUpdate("active",q);var Y=O.steps[O.active];M.call(N,O,E),M.call(m,O),P.emit("plotly_sliderchange",{slider:O,step:O.steps[O.active],interaction:tt,previousActive:z}),Y&&Y.method&&tt&&(M._nextMethod?(M._nextMethod.step=Y,M._nextMethod.doCallback=tt,M._nextMethod.doTransition=E):(M._nextMethod={step:Y,doCallback:tt,doTransition:E},M._nextMethodRaf=window.requestAnimationFrame(function(){var Q=M._nextMethod.step;Q.method&&(Q.execute&&f.executeAPICommand(P,Q.method,Q.args),M._nextMethod=null,M._nextMethodRaf=null)})))}function S(P,M,O){if(!M._context.staticPlot){var q=O.node(),tt=a.select(M);P.on("mousedown",z),P.on("touchstart",z)}function E(){return O.data()[0]}function z(){var Y=E();M.emit("plotly_sliderstart",{slider:Y});var Q=O.select("."+u.gripRectClass);a.event.stopPropagation(),a.event.preventDefault(),Q.call(e.fill,Y.activebgcolor);var nt=j(Y,a.mouse(q)[0]);function et(){var H=E(),U=j(H,a.mouse(q)[0]);T(M,O,H,U,!1)}function Z(){var H=E();H._dragging=!1,Q.call(e.fill,H.bgcolor),tt.on("mouseup",null),tt.on("mousemove",null),tt.on("touchend",null),tt.on("touchmove",null),M.emit("plotly_sliderend",{slider:H,step:H.steps[H.active]})}T(M,O,Y,nt,!0),Y._dragging=!0,tt.on("mousemove",et),tt.on("touchmove",et),tt.on("mouseup",Z),tt.on("touchend",Z)}}function F(P,M){var O=P.selectAll("rect."+u.tickRectClass).data(M._visibleSteps),q=M._dims;O.enter().append("rect").classed(u.tickRectClass,!0),O.exit().remove(),O.attr({width:M.tickwidth+"px","shape-rendering":"crispEdges"}),O.each(function(tt,E){var z=E%q.labelStride==0,Y=a.select(this);Y.attr({height:z?M.ticklen:M.minorticklen}).call(e.fill,M.tickcolor),i.setTranslate(Y,D(M,E/(M._stepCount-1))-.5*M.tickwidth,(z?u.tickOffset:u.minorTickOffset)+q.currentValueTotalHeight)})}function N(P,M,O){for(var q=P.select("rect."+u.gripRectClass),tt=0,E=0;E<M._stepCount;E++)if(M._visibleSteps[E]._index===M.active){tt=E;break}var z=D(M,tt/(M._stepCount-1));if(!M._invokingCommand){var Y=q;O&&M.transition.duration>0&&(Y=Y.transition().duration(M.transition.duration).ease(M.transition.easing)),Y.attr("transform",n(z-.5*u.gripWidth,M._dims.currentValueTotalHeight))}}function D(P,M){var O=P._dims;return O.inputAreaStart+u.stepInset+(O.inputAreaLength-2*u.stepInset)*Math.min(1,Math.max(0,M))}function j(P,M){var O=P._dims;return Math.min(1,Math.max(0,(M-u.stepInset-O.inputAreaStart)/(O.inputAreaLength-2*u.stepInset-2*O.inputAreaStart)))}function B(P,M,O){var q=O._dims,tt=r.ensureSingle(P,"rect",u.railTouchRectClass,function(E){E.call(S,M,P,O).style("pointer-events","all")});tt.attr({width:q.inputAreaLength,height:Math.max(q.inputAreaWidth,u.tickOffset+O.ticklen+q.labelHeight)}).call(e.fill,O.bgcolor).attr("opacity",0),i.setTranslate(tt,0,q.currentValueTotalHeight)}function J(P,M){var O=M._dims,q=O.inputAreaLength-2*u.railInset,tt=r.ensureSingle(P,"rect",u.railRectClass);tt.attr({width:q,height:u.railWidth,rx:u.railRadius,ry:u.railRadius,"shape-rendering":"crispEdges"}).call(e.stroke,M.bordercolor).call(e.fill,M.bgcolor).style("stroke-width",M.borderwidth+"px"),i.setTranslate(tt,u.railInset,.5*(O.inputAreaWidth-u.railWidth)+O.currentValueTotalHeight)}w.exports=function(P){var M=P._context.staticPlot,O=P._fullLayout,q=function(nt,et){for(var Z=nt[u.name],H=[],U=0;U<Z.length;U++){var V=Z[U];V.visible&&(V._gd=et,H.push(V))}return H}(O,P),tt=O._infolayer.selectAll("g."+u.containerClassName).data(q.length>0?[0]:[]);function E(nt){nt._commandObserver&&(nt._commandObserver.remove(),delete nt._commandObserver),f.autoMargin(P,g(nt))}if(tt.enter().append("g").classed(u.containerClassName,!0).style("cursor",M?null:"ew-resize"),tt.exit().each(function(){a.select(this).selectAll("g."+u.groupClassName).each(E)}).remove(),q.length!==0){var z=tt.selectAll("g."+u.groupClassName).data(q,y);z.enter().append("g").classed(u.groupClassName,!0),z.exit().each(E).remove();for(var Y=0;Y<q.length;Y++){var Q=q[Y];b(P,Q)}z.each(function(nt){var et=a.select(this);(function(Z){var H=Z._dims;H.labelSteps=[];for(var U=Z._stepCount,V=0;V<U;V+=H.labelStride)H.labelSteps.push({fraction:V/(U-1),step:Z._visibleSteps[V]})})(nt),f.manageCommandObserver(P,nt,nt._visibleSteps,function(Z){var H=et.data()[0];H.active!==Z.index&&(H._dragging||C(P,et,H,Z.index,!1,!0))}),function(Z,H,U){(U.steps[U.active]||{}).visible||(U.active=U._visibleSteps[0]._index),H.call(m,U).call(J,U).call(_,U).call(F,U).call(B,Z,U).call(v,Z,U);var V=U._dims;i.setTranslate(H,V.lx+U.pad.l,V.ly+U.pad.t),H.call(N,U,!1),H.call(m,U)}(P,a.select(this),nt)})}}},23243:function(w,s,t){var a=t(98292);w.exports={moduleType:"component",name:a.name,layoutAttributes:t(75067),supplyLayoutDefaults:t(12343),draw:t(44504)}},92998:function(w,s,t){var a=t(39898),f=t(92770),e=t(74875),i=t(73972),r=t(71828),n=r.strTranslate,o=t(91424),l=t(7901),u=t(63893),d=t(37822),c=t(18783).OPPOSITE_SIDE,h=/ [XY][0-9]* /;w.exports={draw:function(p,g,y){var b,m=y.propContainer,v=y.propName,x=y.placeholder,_=y.traceIndex,T=y.avoid||{},C=y.attributes,S=y.transform,F=y.containerGroup,N=p._fullLayout,D=1,j=!1,B=m.title,J=(B&&B.text?B.text:"").trim(),P=B&&B.font?B.font:{},M=P.family,O=P.size,q=P.color;v==="title.text"?b="titleText":v.indexOf("axis")!==-1?b="axisTitleText":v.indexOf(!0)&&(b="colorbarTitleText");var tt=p._context.edits[b];J===""?D=0:J.replace(h," % ")===x.replace(h," % ")&&(D=.2,j=!0,tt||(J="")),y._meta?J=r.templateString(J,y._meta):N._meta&&(J=r.templateString(J,N._meta));var E,z=J||tt;F||(F=r.ensureSingle(N._infolayer,"g","g-"+g),E=N._hColorbarMoveTitle);var Y=F.selectAll("text").data(z?[0]:[]);if(Y.enter().append("text"),Y.text(J).attr("class",g),Y.exit().remove(),!z)return F;function Q(Z){r.syncOrAsync([nt,et],Z)}function nt(Z){var H;return!S&&E&&(S={}),S?(H="",S.rotate&&(H+="rotate("+[S.rotate,C.x,C.y]+")"),(S.offset||E)&&(H+=n(0,(S.offset||0)-(E||0)))):H=null,Z.attr("transform",H),Z.style({"font-family":M,"font-size":a.round(O,2)+"px",fill:l.rgb(q),opacity:D*l.opacity(q),"font-weight":e.fontWeight}).attr(C).call(u.convertToTspans,p),e.previousPromises(p)}function et(Z){var H=a.select(Z.node().parentNode);if(T&&T.selection&&T.side&&J){H.attr("transform",null);var U=c[T.side],V=T.side==="left"||T.side==="top"?-1:1,$=f(T.pad)?T.pad:2,at=o.bBox(H.node()),rt={t:0,b:0,l:0,r:0},ot=p._fullLayout._reservedMargin;for(var ct in ot)for(var ht in ot[ct]){var mt=ot[ct][ht];rt[ht]=Math.max(rt[ht],mt)}var kt={left:rt.l,top:rt.t,right:N.width-rt.r,bottom:N.height-rt.b},Ct=T.maxShift||V*(kt[T.side]-at[T.side]),It=0;if(Ct<0)It=Ct;else{var pt=T.offsetLeft||0,bt=T.offsetTop||0;at.left-=pt,at.right-=pt,at.top-=bt,at.bottom-=bt,T.selection.each(function(){var Dt=o.bBox(this);r.bBoxIntersect(at,Dt,$)&&(It=Math.max(It,V*(Dt[T.side]-at[U])+$))}),It=Math.min(Ct,It),m._titleScoot=Math.abs(It)}if(It>0||Ct<0){var _t={left:[-It,0],right:[It,0],top:[0,-It],bottom:[0,It]}[T.side];H.attr("transform",n(_t[0],_t[1]))}}}return Y.call(Q),tt&&(J?Y.on(".opacity",null):(D=0,j=!0,Y.text(x).on("mouseover.opacity",function(){a.select(this).transition().duration(d.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){a.select(this).transition().duration(d.HIDE_PLACEHOLDER).style("opacity",0)})),Y.call(u.makeEditable,{gd:p}).on("edit",function(Z){_!==void 0?i.call("_guiRestyle",p,v,Z,_):i.call("_guiRelayout",p,v,Z)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(Q)}).on("input",function(Z){this.text(Z||" ").call(u.positionText,C.x,C.y)})),Y.classed("js-placeholder",j),F}}},7163:function(w,s,t){var a=t(41940),f=t(22399),e=t(1426).extendFlat,i=t(30962).overrideAll,r=t(35025),n=t(44467).templatedArray,o=n("button",{visible:{valType:"boolean"},method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},args2:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}});w.exports=i(n("updatemenu",{_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:o,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:e(r({editType:"arraydraw"}),{}),font:a({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:f.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}}),"arraydraw","from-root")},75909:function(w){w.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"◄",right:"►",up:"▲",down:"▼"}}},64897:function(w,s,t){var a=t(71828),f=t(85501),e=t(7163),i=t(75909).name,r=e.buttons;function n(l,u,d){function c(h,p){return a.coerce(l,u,e,h,p)}c("visible",f(l,u,{name:"buttons",handleItemDefaults:o}).length>0)&&(c("active"),c("direction"),c("type"),c("showactive"),c("x"),c("y"),a.noneOrAll(l,u,["x","y"]),c("xanchor"),c("yanchor"),c("pad.t"),c("pad.r"),c("pad.b"),c("pad.l"),a.coerceFont(c,"font",d.font),c("bgcolor",d.paper_bgcolor),c("bordercolor"),c("borderwidth"))}function o(l,u){function d(c,h){return a.coerce(l,u,r,c,h)}d("visible",l.method==="skip"||Array.isArray(l.args))&&(d("method"),d("args"),d("args2"),d("label"),d("execute"))}w.exports=function(l,u){f(l,u,{name:i,handleItemDefaults:n})}},13689:function(w,s,t){var a=t(39898),f=t(74875),e=t(7901),i=t(91424),r=t(71828),n=t(63893),o=t(44467).arrayEditor,l=t(18783).LINE_SPACING,u=t(75909),d=t(25849);function c(D){return D._index}function h(D,j){return+D.attr(u.menuIndexAttrName)===j._index}function p(D,j,B,J,P,M,O,q){j.active=O,o(D.layout,u.name,j).applyUpdate("active",O),j.type==="buttons"?y(D,J,null,null,j):j.type==="dropdown"&&(P.attr(u.menuIndexAttrName,"-1"),g(D,J,P,M,j),q||y(D,J,P,M,j))}function g(D,j,B,J,P){var M=r.ensureSingle(j,"g",u.headerClassName,function(Y){Y.style("pointer-events","all")}),O=P._dims,q=P.active,tt=P.buttons[q]||u.blankHeaderOpts,E={y:P.pad.t,yPad:0,x:P.pad.l,xPad:0,index:0},z={width:O.headerWidth,height:O.headerHeight};M.call(b,P,tt,D).call(F,P,E,z),r.ensureSingle(j,"text",u.headerArrowClassName,function(Y){Y.attr("text-anchor","end").call(i.font,P.font).text(u.arrowSymbol[P.direction])}).attr({x:O.headerWidth-u.arrowOffsetX+P.pad.l,y:O.headerHeight/2+u.textOffsetY+P.pad.t}),M.on("click",function(){B.call(N,String(h(B,P)?-1:P._index)),y(D,j,B,J,P)}),M.on("mouseover",function(){M.call(_)}),M.on("mouseout",function(){M.call(T,P)}),i.setTranslate(j,O.lx,O.ly)}function y(D,j,B,J,P){B||(B=j).attr("pointer-events","all");var M=function(H){return+H.attr(u.menuIndexAttrName)==-1}(B)&&P.type!=="buttons"?[]:P.buttons,O=P.type==="dropdown"?u.dropdownButtonClassName:u.buttonClassName,q=B.selectAll("g."+O).data(r.filterVisible(M)),tt=q.enter().append("g").classed(O,!0),E=q.exit();P.type==="dropdown"?(tt.attr("opacity","0").transition().attr("opacity","1"),E.transition().attr("opacity","0").remove()):E.remove();var z=0,Y=0,Q=P._dims,nt=["up","down"].indexOf(P.direction)!==-1;P.type==="dropdown"&&(nt?Y=Q.headerHeight+u.gapButtonHeader:z=Q.headerWidth+u.gapButtonHeader),P.type==="dropdown"&&P.direction==="up"&&(Y=-u.gapButtonHeader+u.gapButton-Q.openHeight),P.type==="dropdown"&&P.direction==="left"&&(z=-u.gapButtonHeader+u.gapButton-Q.openWidth);var et={x:Q.lx+z+P.pad.l,y:Q.ly+Y+P.pad.t,yPad:u.gapButton,xPad:u.gapButton,index:0},Z={l:et.x+P.borderwidth,t:et.y+P.borderwidth};q.each(function(H,U){var V=a.select(this);V.call(b,P,H,D).call(F,P,et),V.on("click",function(){a.event.defaultPrevented||(H.execute&&(H.args2&&P.active===U?(p(D,P,0,j,B,J,-1),f.executeAPICommand(D,H.method,H.args2)):(p(D,P,0,j,B,J,U),f.executeAPICommand(D,H.method,H.args))),D.emit("plotly_buttonclicked",{menu:P,button:H,active:P.active}))}),V.on("mouseover",function(){V.call(_)}),V.on("mouseout",function(){V.call(T,P),q.call(x,P)})}),q.call(x,P),nt?(Z.w=Math.max(Q.openWidth,Q.headerWidth),Z.h=et.y-Z.t):(Z.w=et.x-Z.l,Z.h=Math.max(Q.openHeight,Q.headerHeight)),Z.direction=P.direction,J&&(q.size()?function(H,U,V,$,at,rt){var ot,ct,ht,mt=at.direction,kt=mt==="up"||mt==="down",Ct=at._dims,It=at.active;if(kt)for(ct=0,ht=0;ht<It;ht++)ct+=Ct.heights[ht]+u.gapButton;else for(ot=0,ht=0;ht<It;ht++)ot+=Ct.widths[ht]+u.gapButton;$.enable(rt,ot,ct),$.hbar&&$.hbar.attr("opacity","0").transition().attr("opacity","1"),$.vbar&&$.vbar.attr("opacity","0").transition().attr("opacity","1")}(0,0,0,J,P,Z):function(H){var U=!!H.hbar,V=!!H.vbar;U&&H.hbar.transition().attr("opacity","0").each("end",function(){U=!1,V||H.disable()}),V&&H.vbar.transition().attr("opacity","0").each("end",function(){V=!1,U||H.disable()})}(J))}function b(D,j,B,J){D.call(m,j).call(v,j,B,J)}function m(D,j){r.ensureSingle(D,"rect",u.itemRectClassName,function(B){B.attr({rx:u.rx,ry:u.ry,"shape-rendering":"crispEdges"})}).call(e.stroke,j.bordercolor).call(e.fill,j.bgcolor).style("stroke-width",j.borderwidth+"px")}function v(D,j,B,J){var P=r.ensureSingle(D,"text",u.itemTextClassName,function(q){q.attr({"text-anchor":"start","data-notex":1})}),M=B.label,O=J._fullLayout._meta;O&&(M=r.templateString(M,O)),P.call(i.font,j.font).text(M).call(n.convertToTspans,J)}function x(D,j){var B=j.active;D.each(function(J,P){var M=a.select(this);P===B&&j.showactive&&M.select("rect."+u.itemRectClassName).call(e.fill,u.activeColor)})}function _(D){D.select("rect."+u.itemRectClassName).call(e.fill,u.hoverColor)}function T(D,j){D.select("rect."+u.itemRectClassName).call(e.fill,j.bgcolor)}function C(D,j){var B=j._dims={width1:0,height1:0,heights:[],widths:[],totalWidth:0,totalHeight:0,openWidth:0,openHeight:0,lx:0,ly:0},J=i.tester.selectAll("g."+u.dropdownButtonClassName).data(r.filterVisible(j.buttons));J.enter().append("g").classed(u.dropdownButtonClassName,!0);var P=["up","down"].indexOf(j.direction)!==-1;J.each(function(z,Y){var Q=a.select(this);Q.call(b,j,z,D);var nt=Q.select("."+u.itemTextClassName),et=nt.node()&&i.bBox(nt.node()).width,Z=Math.max(et+u.textPadX,u.minWidth),H=j.font.size*l,U=n.lineCount(nt),V=Math.max(H*U,u.minHeight)+u.textOffsetY;V=Math.ceil(V),Z=Math.ceil(Z),B.widths[Y]=Z,B.heights[Y]=V,B.height1=Math.max(B.height1,V),B.width1=Math.max(B.width1,Z),P?(B.totalWidth=Math.max(B.totalWidth,Z),B.openWidth=B.totalWidth,B.totalHeight+=V+u.gapButton,B.openHeight+=V+u.gapButton):(B.totalWidth+=Z+u.gapButton,B.openWidth+=Z+u.gapButton,B.totalHeight=Math.max(B.totalHeight,V),B.openHeight=B.totalHeight)}),P?B.totalHeight-=u.gapButton:B.totalWidth-=u.gapButton,B.headerWidth=B.width1+u.arrowPadX,B.headerHeight=B.height1,j.type==="dropdown"&&(P?(B.width1+=u.arrowPadX,B.totalHeight=B.height1):B.totalWidth=B.width1,B.totalWidth+=u.arrowPadX),J.remove();var M=B.totalWidth+j.pad.l+j.pad.r,O=B.totalHeight+j.pad.t+j.pad.b,q=D._fullLayout._size;B.lx=q.l+q.w*j.x,B.ly=q.t+q.h*(1-j.y);var tt="left";r.isRightAnchor(j)&&(B.lx-=M,tt="right"),r.isCenterAnchor(j)&&(B.lx-=M/2,tt="center");var E="top";r.isBottomAnchor(j)&&(B.ly-=O,E="bottom"),r.isMiddleAnchor(j)&&(B.ly-=O/2,E="middle"),B.totalWidth=Math.ceil(B.totalWidth),B.totalHeight=Math.ceil(B.totalHeight),B.lx=Math.round(B.lx),B.ly=Math.round(B.ly),f.autoMargin(D,S(j),{x:j.x,y:j.y,l:M*({right:1,center:.5}[tt]||0),r:M*({left:1,center:.5}[tt]||0),b:O*({top:1,middle:.5}[E]||0),t:O*({bottom:1,middle:.5}[E]||0)})}function S(D){return u.autoMarginIdRoot+D._index}function F(D,j,B,J){J=J||{};var P=D.select("."+u.itemRectClassName),M=D.select("."+u.itemTextClassName),O=j.borderwidth,q=B.index,tt=j._dims;i.setTranslate(D,O+B.x,O+B.y);var E=["up","down"].indexOf(j.direction)!==-1,z=J.height||(E?tt.heights[q]:tt.height1);P.attr({x:0,y:0,width:J.width||(E?tt.width1:tt.widths[q]),height:z});var Y=j.font.size*l,Q=(n.lineCount(M)-1)*Y/2;n.positionText(M,u.textOffsetX,z/2-Q+u.textOffsetY),E?B.y+=tt.heights[q]+B.yPad:B.x+=tt.widths[q]+B.xPad,B.index++}function N(D,j){D.attr(u.menuIndexAttrName,j||"-1").selectAll("g."+u.dropdownButtonClassName).remove()}w.exports=function(D){var j=D._fullLayout,B=r.filterVisible(j[u.name]);function J(Y){f.autoMargin(D,S(Y))}var P=j._menulayer.selectAll("g."+u.containerClassName).data(B.length>0?[0]:[]);if(P.enter().append("g").classed(u.containerClassName,!0).style("cursor","pointer"),P.exit().each(function(){a.select(this).selectAll("g."+u.headerGroupClassName).each(J)}).remove(),B.length!==0){var M=P.selectAll("g."+u.headerGroupClassName).data(B,c);M.enter().append("g").classed(u.headerGroupClassName,!0);for(var O=r.ensureSingle(P,"g",u.dropdownButtonGroupClassName,function(Y){Y.style("pointer-events","all")}),q=0;q<B.length;q++){var tt=B[q];C(D,tt)}var E="updatemenus"+j._uid,z=new d(D,O,E);M.enter().size()&&(O.node().parentNode.appendChild(O.node()),O.call(N)),M.exit().each(function(Y){O.call(N),J(Y)}).remove(),M.each(function(Y){var Q=a.select(this),nt=Y.type==="dropdown"?O:null;f.manageCommandObserver(D,Y,Y.buttons,function(et){p(D,Y,Y.buttons[et.index],Q,nt,z,et.index,!0)}),Y.type==="dropdown"?(g(D,Q,O,z,Y),h(O,Y)&&y(D,Q,O,z,Y)):y(D,Q,null,null,Y)})}}},20763:function(w,s,t){var a=t(75909);w.exports={moduleType:"component",name:a.name,layoutAttributes:t(7163),supplyLayoutDefaults:t(64897),draw:t(13689)}},25849:function(w,s,t){w.exports=r;var a=t(39898),f=t(7901),e=t(91424),i=t(71828);function r(n,o,l){this.gd=n,this.container=o,this.id=l,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}r.barWidth=2,r.barLength=20,r.barRadius=2,r.barPad=1,r.barColor="#808BA4",r.prototype.enable=function(n,o,l){var u=this.gd._fullLayout,d=u.width,c=u.height;this.position=n;var h,p,g,y,b=this.position.l,m=this.position.w,v=this.position.t,x=this.position.h,_=this.position.direction,T=_==="down",C=_==="left",S=_==="up",F=m,N=x;T||C||_==="right"||S||(this.position.direction="down",T=!0),T||S?(p=(h=b)+F,T?(g=v,N=(y=Math.min(g+N,c))-g):N=(y=v+N)-(g=Math.max(y-N,0))):(y=(g=v)+N,C?F=(p=b+F)-(h=Math.max(p-F,0)):(h=b,F=(p=Math.min(h+F,d))-h)),this._box={l:h,t:g,w:F,h:N};var D=m>F,j=r.barLength+2*r.barPad,B=r.barWidth+2*r.barPad,J=b,P=v+x;P+B>c&&(P=c-B);var M=this.container.selectAll("rect.scrollbar-horizontal").data(D?[0]:[]);M.exit().on(".drag",null).remove(),M.enter().append("rect").classed("scrollbar-horizontal",!0).call(f.fill,r.barColor),D?(this.hbar=M.attr({rx:r.barRadius,ry:r.barRadius,x:J,y:P,width:j,height:B}),this._hbarXMin=J+j/2,this._hbarTranslateMax=F-j):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var O=x>N,q=r.barWidth+2*r.barPad,tt=r.barLength+2*r.barPad,E=b+m,z=v;E+q>d&&(E=d-q);var Y=this.container.selectAll("rect.scrollbar-vertical").data(O?[0]:[]);Y.exit().on(".drag",null).remove(),Y.enter().append("rect").classed("scrollbar-vertical",!0).call(f.fill,r.barColor),O?(this.vbar=Y.attr({rx:r.barRadius,ry:r.barRadius,x:E,y:z,width:q,height:tt}),this._vbarYMin=z+tt/2,this._vbarTranslateMax=N-tt):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var Q=this.id,nt=h-.5,et=O?p+q+.5:p+.5,Z=g-.5,H=D?y+B+.5:y+.5,U=u._topdefs.selectAll("#"+Q).data(D||O?[0]:[]);if(U.exit().remove(),U.enter().append("clipPath").attr("id",Q).append("rect"),D||O?(this._clipRect=U.select("rect").attr({x:Math.floor(nt),y:Math.floor(Z),width:Math.ceil(et)-Math.floor(nt),height:Math.ceil(H)-Math.floor(Z)}),this.container.call(e.setClipUrl,Q,this.gd),this.bg.attr({x:b,y:v,width:m,height:x})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(e.setClipUrl,null),delete this._clipRect),D||O){var V=a.behavior.drag().on("dragstart",function(){a.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(V);var $=a.behavior.drag().on("dragstart",function(){a.event.sourceEvent.preventDefault(),a.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));D&&this.hbar.on(".drag",null).call($),O&&this.vbar.on(".drag",null).call($)}this.setTranslate(o,l)},r.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(e.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},r.prototype._onBoxDrag=function(){var n=this.translateX,o=this.translateY;this.hbar&&(n-=a.event.dx),this.vbar&&(o-=a.event.dy),this.setTranslate(n,o)},r.prototype._onBoxWheel=function(){var n=this.translateX,o=this.translateY;this.hbar&&(n+=a.event.deltaY),this.vbar&&(o+=a.event.deltaY),this.setTranslate(n,o)},r.prototype._onBarDrag=function(){var n=this.translateX,o=this.translateY;if(this.hbar){var l=n+this._hbarXMin,u=l+this._hbarTranslateMax;n=(i.constrain(a.event.x,l,u)-l)/(u-l)*(this.position.w-this._box.w)}if(this.vbar){var d=o+this._vbarYMin,c=d+this._vbarTranslateMax;o=(i.constrain(a.event.y,d,c)-d)/(c-d)*(this.position.h-this._box.h)}this.setTranslate(n,o)},r.prototype.setTranslate=function(n,o){var l=this.position.w-this._box.w,u=this.position.h-this._box.h;if(n=i.constrain(n||0,0,l),o=i.constrain(o||0,0,u),this.translateX=n,this.translateY=o,this.container.call(e.setTranslate,this._box.l-this.position.l-n,this._box.t-this.position.t-o),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+n-.5),y:Math.floor(this.position.t+o-.5)}),this.hbar){var d=n/l;this.hbar.call(e.setTranslate,n+d*this._hbarTranslateMax,o)}if(this.vbar){var c=o/u;this.vbar.call(e.setTranslate,n,o+c*this._vbarTranslateMax)}}},18783:function(w){w.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},FROM_BR:{left:1,center:.5,right:0,bottom:0,middle:.5,top:1},LINE_SPACING:1.3,CAP_SHIFT:.7,MID_SHIFT:.35,OPPOSITE_SIDE:{left:"right",right:"left",top:"bottom",bottom:"top"}}},24695:function(w){w.exports={axisRefDescription:function(s,t,a){return["If set to a",s,"axis id (e.g. *"+s+"* or","*"+s+"2*), the `"+s+"` position refers to a",s,"coordinate. If set to *paper*, the `"+s+"`","position refers to the distance from the",t,"of the plotting","area in normalized coordinates where *0* (*1*) corresponds to the",t,"("+a+"). If set to a",s,"axis ID followed by","*domain* (separated by a space), the position behaves like for","*paper*, but refers to the distance in fractions of the domain","length from the",t,"of the domain of that axis: e.g.,","*"+s+"2 domain* refers to the domain of the second",s," axis and a",s,"position of 0.5 refers to the","point between the",t,"and the",a,"of the domain of the","second",s,"axis."].join(" ")}}},31562:function(w){w.exports={FORMAT_LINK:"https://github.com/d3/d3-format/tree/v1.4.5#d3-format",DATE_FORMAT_LINK:"https://github.com/d3/d3-time-format/tree/v2.2.3#locale_format"}},74808:function(w){w.exports={COMPARISON_OPS:["=","!=","<",">=",">","<="],COMPARISON_OPS2:["=","<",">=",">","<="],INTERVAL_OPS:["[]","()","[)","(]","][",")(","](",")["],SET_OPS:["{}","}{"],CONSTRAINT_REDUCTION:{"=":"=","<":"<","<=":"<",">":">",">=":">","[]":"[]","()":"[]","[)":"[]","(]":"[]","][":"][",")(":"][","](":"][",")[":"]["}}},37822:function(w){w.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DESELECTDIM:.2}},50606:function(w){w.exports={BADNUM:void 0,FP_SAFE:1e-4*Number.MAX_VALUE,ONEMAXYEAR:316224e5,ONEAVGYEAR:315576e5,ONEMINYEAR:31536e6,ONEMAXQUARTER:79488e5,ONEAVGQUARTER:78894e5,ONEMINQUARTER:76896e5,ONEMAXMONTH:26784e5,ONEAVGMONTH:26298e5,ONEMINMONTH:24192e5,ONEWEEK:6048e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,EPOCHJD:24405875e-1,ALMOST_EQUAL:.999999,LOG_CLIP:10,MINUS_SIGN:"−"}},77922:function(w,s){s.xmlns="http://www.w3.org/2000/xmlns/",s.svg="http://www.w3.org/2000/svg",s.xlink="http://www.w3.org/1999/xlink",s.svgAttrs={xmlns:s.svg,"xmlns:xlink":s.xlink}},8729:function(w,s,t){s.version=t(11506).version,t(7417),t(98847);for(var a=t(73972),f=s.register=a.register,e=t(10641),i=Object.keys(e),r=0;r<i.length;r++){var n=i[r];n.charAt(0)!=="_"&&(s[n]=e[n]),f({moduleType:"apiMethod",name:n,fn:e[n]})}f(t(67368)),f([t(2199),t(30211),t(32745),t(2468),t(47322),t(89853),t(68804),t(20763),t(23243),t(13137),t(97218),t(83312),t(37369),t(21081),t(12311),t(64168)]),f([t(92177),t(37815)]),window.PlotlyLocales&&Array.isArray(window.PlotlyLocales)&&(f(window.PlotlyLocales),delete window.PlotlyLocales),s.Icons=t(24255);var o=t(30211),l=t(74875);s.Plots={resize:l.resize,graphJson:l.graphJson,sendDataToCloud:l.sendDataToCloud},s.Fx={hover:o.hover,unhover:o.unhover,loneHover:o.loneHover,loneUnhover:o.loneUnhover},s.Snapshot=t(44511),s.PlotSchema=t(86281)},24255:function(w){w.exports={undo:{width:857.1,height:1e3,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",transform:"matrix(1 0 0 -1 0 850)"},home:{width:928.6,height:1e3,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",transform:"matrix(1 0 0 -1 0 850)"},"camera-retro":{width:1e3,height:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",transform:"matrix(1 0 0 -1 0 850)"},zoombox:{width:1e3,height:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",transform:"matrix(1 0 0 -1 0 850)"},pan:{width:1e3,height:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",transform:"matrix(1 0 0 -1 0 850)"},zoom_plus:{width:875,height:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},zoom_minus:{width:875,height:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",transform:"matrix(1 0 0 -1 0 850)"},autoscale:{width:1e3,height:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_basic:{width:1500,height:1e3,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",transform:"matrix(1 0 0 -1 0 850)"},tooltip_compare:{width:1125,height:1e3,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",transform:"matrix(1 0 0 -1 0 850)"},plotlylogo:{width:1542,height:1e3,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",transform:"matrix(1 0 0 -1 0 850)"},"z-axis":{width:1e3,height:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",transform:"matrix(1 0 0 -1 0 850)"},"3d_rotate":{width:1e3,height:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",transform:"matrix(1 0 0 -1 0 850)"},camera:{width:1e3,height:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",transform:"matrix(1 0 0 -1 0 850)"},movie:{width:1e3,height:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",transform:"matrix(1 0 0 -1 0 850)"},question:{width:857.1,height:1e3,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",transform:"matrix(1 0 0 -1 0 850)"},disk:{width:857.1,height:1e3,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",transform:"matrix(1 0 0 -1 0 850)"},drawopenpath:{width:70,height:70,path:"M33.21,85.65a7.31,7.31,0,0,1-2.59-.48c-8.16-3.11-9.27-19.8-9.88-41.3-.1-3.58-.19-6.68-.35-9-.15-2.1-.67-3.48-1.43-3.79-2.13-.88-7.91,2.32-12,5.86L3,32.38c1.87-1.64,11.55-9.66,18.27-6.9,2.13.87,4.75,3.14,5.17,9,.17,2.43.26,5.59.36,9.25a224.17,224.17,0,0,0,1.5,23.4c1.54,10.76,4,12.22,4.48,12.4.84.32,2.79-.46,5.76-3.59L43,80.07C41.53,81.57,37.68,85.64,33.21,85.65ZM74.81,69a11.34,11.34,0,0,0,6.09-6.72L87.26,44.5,74.72,32,56.9,38.35c-2.37.86-5.57,3.42-6.61,6L38.65,72.14l8.42,8.43ZM55,46.27a7.91,7.91,0,0,1,3.64-3.17l14.8-5.3,8,8L76.11,60.6l-.06.19a6.37,6.37,0,0,1-3,3.43L48.25,74.59,44.62,71Zm16.57,7.82A6.9,6.9,0,1,0,64.64,61,6.91,6.91,0,0,0,71.54,54.09Zm-4.05,0a2.85,2.85,0,1,1-2.85-2.85A2.86,2.86,0,0,1,67.49,54.09Zm-4.13,5.22L60.5,56.45,44.26,72.7l2.86,2.86ZM97.83,35.67,84.14,22l-8.57,8.57L89.26,44.24Zm-13.69-8,8,8-2.85,2.85-8-8Z",transform:"matrix(1 0 0 1 -15 -15)"},drawclosedpath:{width:90,height:90,path:"M88.41,21.12a26.56,26.56,0,0,0-36.18,0l-2.07,2-2.07-2a26.57,26.57,0,0,0-36.18,0,23.74,23.74,0,0,0,0,34.8L48,90.12a3.22,3.22,0,0,0,4.42,0l36-34.21a23.73,23.73,0,0,0,0-34.79ZM84,51.24,50.16,83.35,16.35,51.25a17.28,17.28,0,0,1,0-25.47,20,20,0,0,1,27.3,0l4.29,4.07a3.23,3.23,0,0,0,4.44,0l4.29-4.07a20,20,0,0,1,27.3,0,17.27,17.27,0,0,1,0,25.46ZM66.76,47.68h-33v6.91h33ZM53.35,35H46.44V68h6.91Z",transform:"matrix(1 0 0 1 -5 -5)"},lasso:{width:1031,height:1e3,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",transform:"matrix(1 0 0 -1 0 850)"},selectbox:{width:1e3,height:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",transform:"matrix(1 0 0 -1 0 850)"},drawline:{width:70,height:70,path:"M60.64,62.3a11.29,11.29,0,0,0,6.09-6.72l6.35-17.72L60.54,25.31l-17.82,6.4c-2.36.86-5.57,3.41-6.6,6L24.48,65.5l8.42,8.42ZM40.79,39.63a7.89,7.89,0,0,1,3.65-3.17l14.79-5.31,8,8L61.94,54l-.06.19a6.44,6.44,0,0,1-3,3.43L34.07,68l-3.62-3.63Zm16.57,7.81a6.9,6.9,0,1,0-6.89,6.9A6.9,6.9,0,0,0,57.36,47.44Zm-4,0a2.86,2.86,0,1,1-2.85-2.85A2.86,2.86,0,0,1,53.32,47.44Zm-4.13,5.22L46.33,49.8,30.08,66.05l2.86,2.86ZM83.65,29,70,15.34,61.4,23.9,75.09,37.59ZM70,21.06l8,8-2.84,2.85-8-8ZM87,80.49H10.67V87H87Z",transform:"matrix(1 0 0 1 -15 -15)"},drawrect:{width:80,height:80,path:"M78,22V79H21V22H78m9-9H12V88H87V13ZM68,46.22H31V54H68ZM53,32H45.22V69H53Z",transform:"matrix(1 0 0 1 -10 -10)"},drawcircle:{width:80,height:80,path:"M50,84.72C26.84,84.72,8,69.28,8,50.3S26.84,15.87,50,15.87,92,31.31,92,50.3,73.16,84.72,50,84.72Zm0-60.59c-18.6,0-33.74,11.74-33.74,26.17S31.4,76.46,50,76.46,83.74,64.72,83.74,50.3,68.6,24.13,50,24.13Zm17.15,22h-34v7.11h34Zm-13.8-13H46.24v34h7.11Z",transform:"matrix(1 0 0 1 -10 -10)"},eraseshape:{width:80,height:80,path:"M82.77,78H31.85L6,49.57,31.85,21.14H82.77a8.72,8.72,0,0,1,8.65,8.77V69.24A8.72,8.72,0,0,1,82.77,78ZM35.46,69.84H82.77a.57.57,0,0,0,.49-.6V29.91a.57.57,0,0,0-.49-.61H35.46L17,49.57Zm32.68-34.7-24,24,5,5,24-24Zm-19,.53-5,5,24,24,5-5Z",transform:"matrix(1 0 0 1 -10 -10)"},spikeline:{width:1e3,height:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",transform:"matrix(1.5 0 0 -1.5 0 850)"},pencil:{width:1792,height:1792,path:"M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z",transform:"matrix(1 0 0 1 0 1)"},newplotlylogo:{name:"newplotlylogo",svg:["<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 132 132'>","<defs>"," <style>","  .cls-0{fill:#000;}","  .cls-1{fill:#FFF;}","  .cls-2{fill:#F26;}","  .cls-3{fill:#D69;}","  .cls-4{fill:#BAC;}","  .cls-5{fill:#9EF;}"," </style>","</defs>"," <title>plotly-logomark</title>"," <g id='symbol'>","  <rect class='cls-0' x='0' y='0' width='132' height='132' rx='18' ry='18'/>","  <circle class='cls-5' cx='102' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='30' r='6'/>","  <circle class='cls-4' cx='78' cy='54' r='6'/>","  <circle class='cls-3' cx='54' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='30' r='6'/>","  <circle class='cls-2' cx='30' cy='54' r='6'/>","  <path class='cls-1' d='M30,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,30,72Z'/>","  <path class='cls-1' d='M78,72a6,6,0,0,0-6,6v24a6,6,0,0,0,12,0V78A6,6,0,0,0,78,72Z'/>","  <path class='cls-1' d='M54,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,54,48Z'/>","  <path class='cls-1' d='M102,48a6,6,0,0,0-6,6v48a6,6,0,0,0,12,0V54A6,6,0,0,0,102,48Z'/>"," </g>","</svg>"].join("")}}},99863:function(w,s){s.isLeftAnchor=function(t){return t.xanchor==="left"||t.xanchor==="auto"&&t.x<=.3333333333333333},s.isCenterAnchor=function(t){return t.xanchor==="center"||t.xanchor==="auto"&&t.x>.3333333333333333&&t.x<.6666666666666666},s.isRightAnchor=function(t){return t.xanchor==="right"||t.xanchor==="auto"&&t.x>=.6666666666666666},s.isTopAnchor=function(t){return t.yanchor==="top"||t.yanchor==="auto"&&t.y>=.6666666666666666},s.isMiddleAnchor=function(t){return t.yanchor==="middle"||t.yanchor==="auto"&&t.y>.3333333333333333&&t.y<.6666666666666666},s.isBottomAnchor=function(t){return t.yanchor==="bottom"||t.yanchor==="auto"&&t.y<=.3333333333333333}},26348:function(w,s,t){var a=t(64872),f=a.mod,e=a.modHalf,i=Math.PI,r=2*i;function n(d){return Math.abs(d[1]-d[0])>r-1e-14}function o(d,c){return e(c-d,r)}function l(d,c){if(n(c))return!0;var h,p;c[0]<c[1]?(h=c[0],p=c[1]):(h=c[1],p=c[0]),(h=f(h,r))>(p=f(p,r))&&(p+=r);var g=f(d,r),y=g+r;return g>=h&&g<=p||y>=h&&y<=p}function u(d,c,h,p,g,y,b){g=g||0,y=y||0;var m,v,x,_,T,C=n([h,p]);function S(j,B){return[j*Math.cos(B)+g,y-j*Math.sin(B)]}C?(m=0,v=i,x=r):h<p?(m=h,x=p):(m=p,x=h),d<c?(_=d,T=c):(_=c,T=d);var F,N=Math.abs(x-m)<=i?0:1;function D(j,B,J){return"A"+[j,j]+" "+[0,N,J]+" "+S(j,B)}return C?F=_===null?"M"+S(T,m)+D(T,v,0)+D(T,x,0)+"Z":"M"+S(_,m)+D(_,v,0)+D(_,x,0)+"ZM"+S(T,m)+D(T,v,1)+D(T,x,1)+"Z":_===null?(F="M"+S(T,m)+D(T,x,0),b&&(F+="L0,0Z")):F="M"+S(_,m)+"L"+S(T,m)+D(T,x,0)+"L"+S(_,x)+D(_,m,1)+"Z",F}w.exports={deg2rad:function(d){return d/180*i},rad2deg:function(d){return d/i*180},angleDelta:o,angleDist:function(d,c){return Math.abs(o(d,c))},isFullCircle:n,isAngleInsideSector:l,isPtInsideSector:function(d,c,h,p){return!!l(c,p)&&(h[0]<h[1]?(g=h[0],y=h[1]):(g=h[1],y=h[0]),d>=g&&d<=y);var g,y},pathArc:function(d,c,h,p,g){return u(null,d,c,h,p,g,0)},pathSector:function(d,c,h,p,g){return u(null,d,c,h,p,g,1)},pathAnnulus:function(d,c,h,p,g,y){return u(d,c,h,p,g,y,1)}}},73627:function(w,s){var t=Array.isArray,a=ArrayBuffer,f=DataView;function e(n){return a.isView(n)&&!(n instanceof f)}function i(n){return t(n)||e(n)}function r(n,o,l){if(i(n)){if(i(n[0])){for(var u=l,d=0;d<n.length;d++)u=o(u,n[d].length);return u}return n.length}return 0}s.isTypedArray=e,s.isArrayOrTypedArray=i,s.isArray1D=function(n){return!i(n[0])},s.ensureArray=function(n,o){return t(n)||(n=[]),n.length=o,n},s.concat=function(){var n,o,l,u,d,c,h,p,g=[],y=!0,b=0;for(l=0;l<arguments.length;l++)(c=(u=arguments[l]).length)&&(o?g.push(u):(o=u,d=c),t(u)?n=!1:(y=!1,b?n!==u.constructor&&(n=!1):n=u.constructor),b+=c);if(!b)return[];if(!g.length)return o;if(y)return o.concat.apply(o,g);if(n){for((h=new n(b)).set(o),l=0;l<g.length;l++)u=g[l],h.set(u,d),d+=u.length;return h}for(h=new Array(b),p=0;p<o.length;p++)h[p]=o[p];for(l=0;l<g.length;l++){for(u=g[l],p=0;p<u.length;p++)h[d+p]=u[p];d+=p}return h},s.maxRowLength=function(n){return r(n,Math.max,0)},s.minRowLength=function(n){return r(n,Math.min,1/0)}},95218:function(w,s,t){var a=t(92770),f=t(50606).BADNUM,e=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;w.exports=function(i){return typeof i=="string"&&(i=i.replace(e,"")),a(i)?Number(i):f}},33306:function(w){w.exports=function(s){var t=s._fullLayout;t._glcanvas&&t._glcanvas.size()&&t._glcanvas.each(function(a){a.regl&&a.regl.clear({color:!0,depth:!0})})}},86367:function(w){w.exports=function(s){s._responsiveChartHandler&&(window.removeEventListener("resize",s._responsiveChartHandler),delete s._responsiveChartHandler)}},96554:function(w,s,t){var a=t(92770),f=t(84267),e=t(9012),i=t(63282),r=t(7901),n=t(37822).DESELECTDIM,o=t(65487),l=t(30587).counter,u=t(64872).modHalf,d=t(73627).isArrayOrTypedArray;function c(h,p){var g=s.valObjectMeta[p.valType];if(p.arrayOk&&d(h))return!0;if(g.validateFunction)return g.validateFunction(h,p);var y={},b=y,m={set:function(v){b=v}};return g.coerceFunction(h,m,y,p),b!==y}s.valObjectMeta={data_array:{coerceFunction:function(h,p,g){d(h)?p.set(h):g!==void 0&&p.set(g)}},enumerated:{coerceFunction:function(h,p,g,y){y.coerceNumber&&(h=+h),y.values.indexOf(h)===-1?p.set(g):p.set(h)},validateFunction:function(h,p){p.coerceNumber&&(h=+h);for(var g=p.values,y=0;y<g.length;y++){var b=String(g[y]);if(b.charAt(0)==="/"&&b.charAt(b.length-1)==="/"){if(new RegExp(b.substr(1,b.length-2)).test(h))return!0}else if(h===g[y])return!0}return!1}},boolean:{coerceFunction:function(h,p,g){h===!0||h===!1?p.set(h):p.set(g)}},number:{coerceFunction:function(h,p,g,y){!a(h)||y.min!==void 0&&h<y.min||y.max!==void 0&&h>y.max?p.set(g):p.set(+h)}},integer:{coerceFunction:function(h,p,g,y){h%1||!a(h)||y.min!==void 0&&h<y.min||y.max!==void 0&&h>y.max?p.set(g):p.set(+h)}},string:{coerceFunction:function(h,p,g,y){if(typeof h!="string"){var b=typeof h=="number";y.strict!==!0&&b?p.set(String(h)):p.set(g)}else y.noBlank&&!h?p.set(g):p.set(h)}},color:{coerceFunction:function(h,p,g){f(h).isValid()?p.set(h):p.set(g)}},colorlist:{coerceFunction:function(h,p,g){Array.isArray(h)&&h.length&&h.every(function(y){return f(y).isValid()})?p.set(h):p.set(g)}},colorscale:{coerceFunction:function(h,p,g){p.set(i.get(h,g))}},angle:{coerceFunction:function(h,p,g){h==="auto"?p.set("auto"):a(h)?p.set(u(+h,360)):p.set(g)}},subplotid:{coerceFunction:function(h,p,g,y){var b=y.regex||l(g);typeof h=="string"&&b.test(h)?p.set(h):p.set(g)},validateFunction:function(h,p){var g=p.dflt;return h===g||typeof h=="string"&&!!l(g).test(h)}},flaglist:{coerceFunction:function(h,p,g,y){if((y.extras||[]).indexOf(h)===-1)if(typeof h=="string"){for(var b=h.split("+"),m=0;m<b.length;){var v=b[m];y.flags.indexOf(v)===-1||b.indexOf(v)<m?b.splice(m,1):m++}b.length?p.set(b.join("+")):p.set(g)}else p.set(g);else p.set(h)}},any:{coerceFunction:function(h,p,g){h===void 0?p.set(g):p.set(h)}},info_array:{coerceFunction:function(h,p,g,y){function b(P,M,O){var q,tt={set:function(E){q=E}};return O===void 0&&(O=M.dflt),s.valObjectMeta[M.valType].coerceFunction(P,tt,O,M),q}var m=y.dimensions===2||y.dimensions==="1-2"&&Array.isArray(h)&&Array.isArray(h[0]);if(Array.isArray(h)){var v,x,_,T,C,S,F=y.items,N=[],D=Array.isArray(F),j=D&&m&&Array.isArray(F[0]),B=m&&D&&!j,J=D&&!B?F.length:h.length;if(g=Array.isArray(g)?g:[],m)for(v=0;v<J;v++)for(N[v]=[],_=Array.isArray(h[v])?h[v]:[],C=B?F.length:D?F[v].length:_.length,x=0;x<C;x++)T=B?F[x]:D?F[v][x]:F,(S=b(_[x],T,(g[v]||[])[x]))!==void 0&&(N[v][x]=S);else for(v=0;v<J;v++)(S=b(h[v],D?F[v]:F,g[v]))!==void 0&&(N[v]=S);p.set(N)}else p.set(g)},validateFunction:function(h,p){if(!Array.isArray(h))return!1;var g=p.items,y=Array.isArray(g),b=p.dimensions===2;if(!p.freeLength&&h.length!==g.length)return!1;for(var m=0;m<h.length;m++)if(b){if(!Array.isArray(h[m])||!p.freeLength&&h[m].length!==g[m].length)return!1;for(var v=0;v<h[m].length;v++)if(!c(h[m][v],y?g[m][v]:g))return!1}else if(!c(h[m],y?g[m]:g))return!1;return!0}}},s.coerce=function(h,p,g,y,b){var m=o(g,y).get(),v=o(h,y),x=o(p,y),_=v.get(),T=p._template;if(_===void 0&&T&&(_=o(T,y).get(),T=0),b===void 0&&(b=m.dflt),m.arrayOk&&d(_))return x.set(_),_;var C=s.valObjectMeta[m.valType].coerceFunction;C(_,x,b,m);var S=x.get();return T&&S===b&&!c(_,m)&&(C(_=o(T,y).get(),x,b,m),S=x.get()),S},s.coerce2=function(h,p,g,y,b){var m=o(h,y),v=s.coerce(h,p,g,y,b);return m.get()!=null&&v},s.coerceFont=function(h,p,g){var y={};return g=g||{},y.family=h(p+".family",g.family),y.size=h(p+".size",g.size),y.color=h(p+".color",g.color),y},s.coercePattern=function(h,p,g,y){if(h(p+".shape")){h(p+".solidity"),h(p+".size");var b=h(p+".fillmode")==="overlay";if(!y){var m=h(p+".bgcolor",b?g:void 0);h(p+".fgcolor",b?r.contrast(m):g)}h(p+".fgopacity",b?.5:1)}},s.coerceHoverinfo=function(h,p,g){var y,b=p._module.attributes,m=b.hoverinfo?b:e,v=m.hoverinfo;if(g._dataLength===1){var x=v.dflt==="all"?v.flags.slice():v.dflt.split("+");x.splice(x.indexOf("name"),1),y=x.join("+")}return s.coerce(h,p,m,"hoverinfo",y)},s.coerceSelectionMarkerOpacity=function(h,p){if(h.marker){var g,y,b=h.marker.opacity;b!==void 0&&(d(b)||h.selected||h.unselected||(g=b,y=n*b),p("selected.marker.opacity",g),p("unselected.marker.opacity",y))}},s.validate=c},41631:function(w,s,t){var a,f,e=t(84096).i$,i=t(92770),r=t(47769),n=t(64872).mod,o=t(50606),l=o.BADNUM,u=o.ONEDAY,d=o.ONEHOUR,c=o.ONEMIN,h=o.ONESEC,p=o.EPOCHJD,g=t(73972),y=t(84096).g0,b=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,m=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d(:?\d\d)?)?)?)?)?)?\s*$/m,v=new Date().getFullYear()-70;function x(M){return M&&g.componentsRegistry.calendars&&typeof M=="string"&&M!=="gregorian"}function _(M,O){return String(M+Math.pow(10,O)).substr(1)}s.dateTick0=function(M,O){var q=function(E,z){return x(E)?z?g.getComponentMethod("calendars","CANONICAL_SUNDAY")[E]:g.getComponentMethod("calendars","CANONICAL_TICK")[E]:z?"2000-01-02":"2000-01-01"}(M,!!O);if(O<2)return q;var tt=s.dateTime2ms(q,M);return tt+=u*(O-1),s.ms2DateTime(tt,0,M)},s.dfltRange=function(M){return x(M)?g.getComponentMethod("calendars","DFLTRANGE")[M]:["2000-01-01","2001-01-01"]},s.isJSDate=function(M){return typeof M=="object"&&M!==null&&typeof M.getTime=="function"},s.dateTime2ms=function(M,O){if(s.isJSDate(M)){var q=M.getTimezoneOffset()*c,tt=(M.getUTCMinutes()-M.getMinutes())*c+(M.getUTCSeconds()-M.getSeconds())*h+(M.getUTCMilliseconds()-M.getMilliseconds());if(tt){var E=3*c;q=q-E/2+n(tt-q+E/2,E)}return(M=Number(M)-q)>=a&&M<=f?M:l}if(typeof M!="string"&&typeof M!="number")return l;M=String(M);var z=x(O),Y=M.charAt(0);!z||Y!=="G"&&Y!=="g"||(M=M.substr(1),O="");var Q=z&&O.substr(0,7)==="chinese",nt=M.match(Q?m:b);if(!nt)return l;var et=nt[1],Z=nt[3]||"1",H=Number(nt[5]||1),U=Number(nt[7]||0),V=Number(nt[9]||0),$=Number(nt[11]||0);if(z){if(et.length===2)return l;var at;et=Number(et);try{var rt=g.getComponentMethod("calendars","getCal")(O);if(Q){var ot=Z.charAt(Z.length-1)==="i";Z=parseInt(Z,10),at=rt.newDate(et,rt.toMonthIndex(et,Z,ot),H)}else at=rt.newDate(et,Number(Z),H)}catch{return l}return at?(at.toJD()-p)*u+U*d+V*c+$*h:l}et=et.length===2?(Number(et)+2e3-v)%100+v:Number(et),Z-=1;var ct=new Date(Date.UTC(2e3,Z,H,U,V));return ct.setUTCFullYear(et),ct.getUTCMonth()!==Z||ct.getUTCDate()!==H?l:ct.getTime()+$*h},a=s.MIN_MS=s.dateTime2ms("-9999"),f=s.MAX_MS=s.dateTime2ms("9999-12-31 23:59:59.9999"),s.isDateTime=function(M,O){return s.dateTime2ms(M,O)!==l};var T=90*u,C=3*d,S=5*c;function F(M,O,q,tt,E){if((O||q||tt||E)&&(M+=" "+_(O,2)+":"+_(q,2),(tt||E)&&(M+=":"+_(tt,2),E))){for(var z=4;E%10==0;)z-=1,E/=10;M+="."+_(E,z)}return M}s.ms2DateTime=function(M,O,q){if(typeof M!="number"||!(M>=a&&M<=f))return l;O||(O=0);var tt,E,z,Y,Q,nt,et=Math.floor(10*n(M+.05,1)),Z=Math.round(M-et/10);if(x(q)){var H=Math.floor(Z/u)+p,U=Math.floor(n(M,u));try{tt=g.getComponentMethod("calendars","getCal")(q).fromJD(H).formatDate("yyyy-mm-dd")}catch{tt=y("G%Y-%m-%d")(new Date(Z))}if(tt.charAt(0)==="-")for(;tt.length<11;)tt="-0"+tt.substr(1);else for(;tt.length<10;)tt="0"+tt;E=O<T?Math.floor(U/d):0,z=O<T?Math.floor(U%d/c):0,Y=O<C?Math.floor(U%c/h):0,Q=O<S?U%h*10+et:0}else nt=new Date(Z),tt=y("%Y-%m-%d")(nt),E=O<T?nt.getUTCHours():0,z=O<T?nt.getUTCMinutes():0,Y=O<C?nt.getUTCSeconds():0,Q=O<S?10*nt.getUTCMilliseconds()+et:0;return F(tt,E,z,Y,Q)},s.ms2DateTimeLocal=function(M){if(!(M>=a+u&&M<=f-u))return l;var O=Math.floor(10*n(M+.05,1)),q=new Date(Math.round(M-O/10));return F(e("%Y-%m-%d")(q),q.getHours(),q.getMinutes(),q.getSeconds(),10*q.getUTCMilliseconds()+O)},s.cleanDate=function(M,O,q){if(M===l)return O;if(s.isJSDate(M)||typeof M=="number"&&isFinite(M)){if(x(q))return r.error("JS Dates and milliseconds are incompatible with world calendars",M),O;if(!(M=s.ms2DateTimeLocal(+M))&&O!==void 0)return O}else if(!s.isDateTime(M,q))return r.error("unrecognized date",M),O;return M};var N=/%\d?f/g,D=/%h/g,j={1:"1",2:"1",3:"2",4:"2"};function B(M,O,q,tt){M=M.replace(N,function(z){var Y=Math.min(+z.charAt(1)||6,6);return(O/1e3%1+2).toFixed(Y).substr(2).replace(/0+$/,"")||"0"});var E=new Date(Math.floor(O+.05));if(M=M.replace(D,function(){return j[q("%q")(E)]}),x(tt))try{M=g.getComponentMethod("calendars","worldCalFmt")(M,O,tt)}catch{return"Invalid"}return q(M)(E)}var J=[59,59.9,59.99,59.999,59.9999];s.formatDate=function(M,O,q,tt,E,z){if(E=x(E)&&E,!O)if(q==="y")O=z.year;else if(q==="m")O=z.month;else{if(q!=="d")return function(Y,Q){var nt=n(Y+.05,u),et=_(Math.floor(nt/d),2)+":"+_(n(Math.floor(nt/c),60),2);if(Q!=="M"){i(Q)||(Q=0);var Z=(100+Math.min(n(Y/h,60),J[Q])).toFixed(Q).substr(1);Q>0&&(Z=Z.replace(/0+$/,"").replace(/[\.]$/,"")),et+=":"+Z}return et}(M,q)+`
`+B(z.dayMonthYear,M,tt,E);O=z.dayMonth+`
`+z.year}return B(O,M,tt,E)};var P=3*u;s.incrementMonth=function(M,O,q){q=x(q)&&q;var tt=n(M,u);if(M=Math.round(M-tt),q)try{var E=Math.round(M/u)+p,z=g.getComponentMethod("calendars","getCal")(q),Y=z.fromJD(E);return O%12?z.add(Y,O,"m"):z.add(Y,O/12,"y"),(Y.toJD()-p)*u+tt}catch{r.error("invalid ms "+M+" in calendar "+q)}var Q=new Date(M+P);return Q.setUTCMonth(Q.getUTCMonth()+O)+tt-P},s.findExactDates=function(M,O){for(var q,tt,E=0,z=0,Y=0,Q=0,nt=x(O)&&g.getComponentMethod("calendars","getCal")(O),et=0;et<M.length;et++)if(tt=M[et],i(tt)){if(!(tt%u))if(nt)try{(q=nt.fromJD(tt/u+p)).day()===1?q.month()===1?E++:z++:Y++}catch{}else(q=new Date(tt)).getUTCDate()===1?q.getUTCMonth()===0?E++:z++:Y++}else Q++;Y+=z+=E;var Z=M.length-Q;return{exactYears:E/Z,exactMonths:z/Z,exactDays:Y/Z}}},24401:function(w,s,t){var a=t(39898),f=t(47769),e=t(35657),i=t(79576);function r(d){var c=d&&d.parentNode;c&&c.removeChild(d)}function n(d,c,h){var p="plotly.js-style-"+d,g=document.getElementById(p);g||((g=document.createElement("style")).setAttribute("id",p),g.appendChild(document.createTextNode("")),document.head.appendChild(g));var y=g.sheet;y.insertRule?y.insertRule(c+"{"+h+"}",0):y.addRule?y.addRule(c,h,0):f.warn("addStyleRule failed")}function o(d){var c=window.getComputedStyle(d,null),h=c.getPropertyValue("-webkit-transform")||c.getPropertyValue("-moz-transform")||c.getPropertyValue("-ms-transform")||c.getPropertyValue("-o-transform")||c.getPropertyValue("transform");return h==="none"?null:h.replace("matrix","").replace("3d","").slice(1,-1).split(",").map(function(p){return+p})}function l(d){for(var c=[];u(d);)c.push(d),d=d.parentNode;return c}function u(d){return d&&(d instanceof Element||d instanceof HTMLElement)}w.exports={getGraphDiv:function(d){var c;if(typeof d=="string"){if((c=document.getElementById(d))===null)throw new Error("No DOM element with id '"+d+"' exists on the page.");return c}if(d==null)throw new Error("DOM element provided is null or undefined");return d},isPlotDiv:function(d){var c=a.select(d);return c.node()instanceof HTMLElement&&c.size()&&c.classed("js-plotly-plot")},removeElement:r,addStyleRule:function(d,c){n("global",d,c)},addRelatedStyleRule:n,deleteRelatedStyleRule:function(d){var c="plotly.js-style-"+d,h=document.getElementById(c);h&&r(h)},getFullTransformMatrix:function(d){var c=l(d),h=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return c.forEach(function(p){var g=o(p);if(g){var y=e.convertCssMatrix(g);h=i.multiply(h,h,y)}}),h},getElementTransformMatrix:o,getElementAndAncestors:l,equalDomRects:function(d,c){return d&&c&&d.top===c.top&&d.left===c.left&&d.right===c.right&&d.bottom===c.bottom}}},11086:function(w,s,t){var a=t(15398).EventEmitter,f={init:function(e){if(e._ev instanceof a)return e;var i=new a,r=new a;return e._ev=i,e._internalEv=r,e.on=i.on.bind(i),e.once=i.once.bind(i),e.removeListener=i.removeListener.bind(i),e.removeAllListeners=i.removeAllListeners.bind(i),e._internalOn=r.on.bind(r),e._internalOnce=r.once.bind(r),e._removeInternalListener=r.removeListener.bind(r),e._removeAllInternalListeners=r.removeAllListeners.bind(r),e.emit=function(n,o){typeof jQuery<"u"&&jQuery(e).trigger(n,o),i.emit(n,o),r.emit(n,o)},e},triggerHandler:function(e,i,r){var n,o;typeof jQuery<"u"&&(n=jQuery(e).triggerHandler(i,r));var l=e._ev;if(!l)return n;var u,d=l._events[i];if(!d)return n;function c(h){return h.listener?(l.removeListener(i,h.listener),h.fired?void 0:(h.fired=!0,h.listener.apply(l,[r]))):h.apply(l,[r])}for(d=Array.isArray(d)?d:[d],u=0;u<d.length-1;u++)c(d[u]);return o=c(d[u]),n!==void 0?n:o},purge:function(e){return delete e._ev,delete e.on,delete e.once,delete e.removeListener,delete e.removeAllListeners,delete e.emit,delete e._ev,delete e._internalEv,delete e._internalOn,delete e._internalOnce,delete e._removeInternalListener,delete e._removeAllInternalListeners,e}};w.exports=f},1426:function(w,s,t){var a=t(41965),f=Array.isArray;function e(i,r,n,o){var l,u,d,c,h,p,g,y=i[0],b=i.length;if(b===2&&f(y)&&f(i[1])&&y.length===0){if(g=function(v,x){var _,T;for(_=0;_<v.length;_++){if((T=v[_])!==null&&typeof T=="object")return!1;T!==void 0&&(x[_]=T)}return!0}(i[1],y),g)return y;y.splice(0,y.length)}for(var m=1;m<b;m++)for(u in l=i[m])d=y[u],c=l[u],o&&f(c)?y[u]=c:r&&c&&(a(c)||(h=f(c)))?(h?(h=!1,p=d&&f(d)?d:[]):p=d&&a(d)?d:{},y[u]=e([p,c],r,n,o)):(c!==void 0||n)&&(y[u]=c);return y}s.extendFlat=function(){return e(arguments,!1,!1,!1)},s.extendDeep=function(){return e(arguments,!0,!1,!1)},s.extendDeepAll=function(){return e(arguments,!0,!0,!1)},s.extendDeepNoArrays=function(){return e(arguments,!0,!1,!0)}},75744:function(w){w.exports=function(s){for(var t={},a=[],f=0,e=0;e<s.length;e++){var i=s[e];t[i]!==1&&(t[i]=1,a[f++]=i)}return a}},76756:function(w){function s(a){return a.visible===!0}function t(a){var f=a[0].trace;return f.visible===!0&&f._length!==0}w.exports=function(a){for(var f,e=(f=a,Array.isArray(f)&&Array.isArray(f[0])&&f[0][0]&&f[0][0].trace?t:s),i=[],r=0;r<a.length;r++){var n=a[r];e(n)&&i.push(n)}return i}},87642:function(w,s,t){var a,f,e,i=t(64872).mod;function r(o,l,u,d,c,h,p,g){var y=u-o,b=c-o,m=p-c,v=d-l,x=h-l,_=g-h,T=y*_-m*v;if(T===0)return null;var C=(b*_-m*x)/T,S=(b*v-y*x)/T;return S<0||S>1||C<0||C>1?null:{x:o+y*C,y:l+v*C}}function n(o,l,u,d,c){var h=d*o+c*l;if(h<0)return d*d+c*c;if(h>u){var p=d-o,g=c-l;return p*p+g*g}var y=d*l-c*o;return y*y/u}s.segmentsIntersect=r,s.segmentDistance=function(o,l,u,d,c,h,p,g){if(r(o,l,u,d,c,h,p,g))return 0;var y=u-o,b=d-l,m=p-c,v=g-h,x=y*y+b*b,_=m*m+v*v,T=Math.min(n(y,b,x,c-o,h-l),n(y,b,x,p-o,g-l),n(m,v,_,o-c,l-h),n(m,v,_,u-c,d-h));return Math.sqrt(T)},s.getTextLocation=function(o,l,u,d){if(o===f&&d===e||(a={},f=o,e=d),a[u])return a[u];var c=o.getPointAtLength(i(u-d/2,l)),h=o.getPointAtLength(i(u+d/2,l)),p=Math.atan((h.y-c.y)/(h.x-c.x)),g=o.getPointAtLength(i(u,l)),y={x:(4*g.x+c.x+h.x)/6,y:(4*g.y+c.y+h.y)/6,theta:p};return a[u]=y,y},s.clearLocationCache=function(){f=null},s.getVisibleSegment=function(o,l,u){var d,c,h=l.left,p=l.right,g=l.top,y=l.bottom,b=0,m=o.getTotalLength(),v=m;function x(T){var C=o.getPointAtLength(T);T===0?d=C:T===m&&(c=C);var S=C.x<h?h-C.x:C.x>p?C.x-p:0,F=C.y<g?g-C.y:C.y>y?C.y-y:0;return Math.sqrt(S*S+F*F)}for(var _=x(b);_;){if((b+=_+u)>v)return;_=x(b)}for(_=x(v);_;){if(b>(v-=_+u))return;_=x(v)}return{min:b,max:v,len:v-b,total:m,isClosed:b===0&&v===m&&Math.abs(d.x-c.x)<.1&&Math.abs(d.y-c.y)<.1}},s.findPointOnPath=function(o,l,u,d){for(var c,h,p,g=(d=d||{}).pathLength||o.getTotalLength(),y=d.tolerance||.001,b=d.iterationLimit||30,m=o.getPointAtLength(0)[u]>o.getPointAtLength(g)[u]?-1:1,v=0,x=0,_=g;v<b;){if(c=(x+_)/2,p=(h=o.getPointAtLength(c))[u]-l,Math.abs(p)<y)return h;m*p>0?_=c:x=c,v++}return h}},23389:function(w){w.exports=function(s){return s}},39240:function(w){w.exports=function(s,t){if(!t)return s;var a=1/Math.abs(t),f=a>1?(a*s+a*t)/a:s+t,e=String(f).length;if(e>16){var i=String(t).length;if(e>=String(s).length+i){var r=parseFloat(f).toPrecision(12);r.indexOf("e+")===-1&&(f=+r)}}return f}},71828:function(w,s,t){var a=t(39898),f=t(84096).g0,e=t(60721).WU,i=t(92770),r=t(50606),n=r.FP_SAFE,o=-n,l=r.BADNUM,u=w.exports={};u.adjustFormat=function(U){return!U||/^\d[.]\df/.test(U)||/[.]\d%/.test(U)?U:U==="0.f"?"~f":/^\d%/.test(U)?"~%":/^\ds/.test(U)?"~s":!/^[~,.0$]/.test(U)&&/[&fps]/.test(U)?"~"+U:U};var d={};u.warnBadFormat=function(U){var V=String(U);d[V]||(d[V]=1,u.warn('encountered bad format: "'+V+'"'))},u.noFormat=function(U){return String(U)},u.numberFormat=function(U){var V;try{V=e(u.adjustFormat(U))}catch{return u.warnBadFormat(U),u.noFormat}return V},u.nestedProperty=t(65487),u.keyedContainer=t(66636),u.relativeAttr=t(6962),u.isPlainObject=t(41965),u.toLogRange=t(58163),u.relinkPrivateKeys=t(51332);var c=t(73627);u.isTypedArray=c.isTypedArray,u.isArrayOrTypedArray=c.isArrayOrTypedArray,u.isArray1D=c.isArray1D,u.ensureArray=c.ensureArray,u.concat=c.concat,u.maxRowLength=c.maxRowLength,u.minRowLength=c.minRowLength;var h=t(64872);u.mod=h.mod,u.modHalf=h.modHalf;var p=t(96554);u.valObjectMeta=p.valObjectMeta,u.coerce=p.coerce,u.coerce2=p.coerce2,u.coerceFont=p.coerceFont,u.coercePattern=p.coercePattern,u.coerceHoverinfo=p.coerceHoverinfo,u.coerceSelectionMarkerOpacity=p.coerceSelectionMarkerOpacity,u.validate=p.validate;var g=t(41631);u.dateTime2ms=g.dateTime2ms,u.isDateTime=g.isDateTime,u.ms2DateTime=g.ms2DateTime,u.ms2DateTimeLocal=g.ms2DateTimeLocal,u.cleanDate=g.cleanDate,u.isJSDate=g.isJSDate,u.formatDate=g.formatDate,u.incrementMonth=g.incrementMonth,u.dateTick0=g.dateTick0,u.dfltRange=g.dfltRange,u.findExactDates=g.findExactDates,u.MIN_MS=g.MIN_MS,u.MAX_MS=g.MAX_MS;var y=t(65888);u.findBin=y.findBin,u.sorterAsc=y.sorterAsc,u.sorterDes=y.sorterDes,u.distinctVals=y.distinctVals,u.roundUp=y.roundUp,u.sort=y.sort,u.findIndexOfMin=y.findIndexOfMin,u.sortObjectKeys=t(78607);var b=t(80038);u.aggNums=b.aggNums,u.len=b.len,u.mean=b.mean,u.median=b.median,u.midRange=b.midRange,u.variance=b.variance,u.stdev=b.stdev,u.interp=b.interp;var m=t(35657);u.init2dArray=m.init2dArray,u.transposeRagged=m.transposeRagged,u.dot=m.dot,u.translationMatrix=m.translationMatrix,u.rotationMatrix=m.rotationMatrix,u.rotationXYMatrix=m.rotationXYMatrix,u.apply3DTransform=m.apply3DTransform,u.apply2DTransform=m.apply2DTransform,u.apply2DTransform2=m.apply2DTransform2,u.convertCssMatrix=m.convertCssMatrix,u.inverseTransformMatrix=m.inverseTransformMatrix;var v=t(26348);u.deg2rad=v.deg2rad,u.rad2deg=v.rad2deg,u.angleDelta=v.angleDelta,u.angleDist=v.angleDist,u.isFullCircle=v.isFullCircle,u.isAngleInsideSector=v.isAngleInsideSector,u.isPtInsideSector=v.isPtInsideSector,u.pathArc=v.pathArc,u.pathSector=v.pathSector,u.pathAnnulus=v.pathAnnulus;var x=t(99863);u.isLeftAnchor=x.isLeftAnchor,u.isCenterAnchor=x.isCenterAnchor,u.isRightAnchor=x.isRightAnchor,u.isTopAnchor=x.isTopAnchor,u.isMiddleAnchor=x.isMiddleAnchor,u.isBottomAnchor=x.isBottomAnchor;var _=t(87642);u.segmentsIntersect=_.segmentsIntersect,u.segmentDistance=_.segmentDistance,u.getTextLocation=_.getTextLocation,u.clearLocationCache=_.clearLocationCache,u.getVisibleSegment=_.getVisibleSegment,u.findPointOnPath=_.findPointOnPath;var T=t(1426);u.extendFlat=T.extendFlat,u.extendDeep=T.extendDeep,u.extendDeepAll=T.extendDeepAll,u.extendDeepNoArrays=T.extendDeepNoArrays;var C=t(47769);u.log=C.log,u.warn=C.warn,u.error=C.error;var S=t(30587);u.counterRegex=S.counter;var F=t(79990);u.throttle=F.throttle,u.throttleDone=F.done,u.clearThrottle=F.clear;var N=t(24401);function D(U){var V={};for(var $ in U)for(var at=U[$],rt=0;rt<at.length;rt++)V[at[rt]]=+$;return V}u.getGraphDiv=N.getGraphDiv,u.isPlotDiv=N.isPlotDiv,u.removeElement=N.removeElement,u.addStyleRule=N.addStyleRule,u.addRelatedStyleRule=N.addRelatedStyleRule,u.deleteRelatedStyleRule=N.deleteRelatedStyleRule,u.getFullTransformMatrix=N.getFullTransformMatrix,u.getElementTransformMatrix=N.getElementTransformMatrix,u.getElementAndAncestors=N.getElementAndAncestors,u.equalDomRects=N.equalDomRects,u.clearResponsive=t(86367),u.preserveDrawingBuffer=t(45142),u.makeTraceGroups=t(77310),u._=t(15867),u.notifier=t(75046),u.filterUnique=t(75744),u.filterVisible=t(76756),u.pushUnique=t(75138),u.increment=t(39240),u.cleanNumber=t(95218),u.ensureNumber=function(U){return i(U)?(U=Number(U))>n||U<o?l:U:l},u.isIndex=function(U,V){return!(V!==void 0&&U>=V)&&i(U)&&U>=0&&U%1==0},u.noop=t(64213),u.identity=t(23389),u.repeat=function(U,V){for(var $=new Array(V),at=0;at<V;at++)$[at]=U;return $},u.swapAttrs=function(U,V,$,at){$||($="x"),at||(at="y");for(var rt=0;rt<V.length;rt++){var ot=V[rt],ct=u.nestedProperty(U,ot.replace("?",$)),ht=u.nestedProperty(U,ot.replace("?",at)),mt=ct.get();ct.set(ht.get()),ht.set(mt)}},u.raiseToTop=function(U){U.parentNode.appendChild(U)},u.cancelTransition=function(U){return U.transition().duration(0)},u.constrain=function(U,V,$){return V>$?Math.max($,Math.min(V,U)):Math.max(V,Math.min($,U))},u.bBoxIntersect=function(U,V,$){return $=$||0,U.left<=V.right+$&&V.left<=U.right+$&&U.top<=V.bottom+$&&V.top<=U.bottom+$},u.simpleMap=function(U,V,$,at,rt){for(var ot=U.length,ct=new Array(ot),ht=0;ht<ot;ht++)ct[ht]=V(U[ht],$,at,rt);return ct},u.randstr=function U(V,$,at,rt){if(at||(at=16),$===void 0&&($=24),$<=0)return"0";var ot,ct,ht=Math.log(Math.pow(2,$))/Math.log(at),mt="";for(ot=2;ht===1/0;ot*=2)ht=Math.log(Math.pow(2,$/ot))/Math.log(at)*ot;var kt=ht-Math.floor(ht);for(ot=0;ot<Math.floor(ht);ot++)mt=Math.floor(Math.random()*at).toString(at)+mt;kt&&(ct=Math.pow(at,kt),mt=Math.floor(Math.random()*ct).toString(at)+mt);var Ct=parseInt(mt,at);return V&&V[mt]||Ct!==1/0&&Ct>=Math.pow(2,$)?rt>10?(u.warn("randstr failed uniqueness"),mt):U(V,$,at,(rt||0)+1):mt},u.OptionControl=function(U,V){U||(U={}),V||(V="opt");var $={optionList:[],_newoption:function(at){at[V]=U,$[at.name]=at,$.optionList.push(at)}};return $["_"+V]=U,$},u.smooth=function(U,V){if((V=Math.round(V)||0)<2)return U;var $,at,rt,ot,ct=U.length,ht=2*ct,mt=2*V-1,kt=new Array(mt),Ct=new Array(ct);for($=0;$<mt;$++)kt[$]=(1-Math.cos(Math.PI*($+1)/V))/(2*V);for($=0;$<ct;$++){for(ot=0,at=0;at<mt;at++)(rt=$+at+1-V)<-ct?rt-=ht*Math.round(rt/ht):rt>=ht&&(rt-=ht*Math.floor(rt/ht)),rt<0?rt=-1-rt:rt>=ct&&(rt=ht-1-rt),ot+=U[rt]*kt[at];Ct[$]=ot}return Ct},u.syncOrAsync=function(U,V,$){var at;function rt(){return u.syncOrAsync(U,V,$)}for(;U.length;)if((at=(0,U.splice(0,1)[0])(V))&&at.then)return at.then(rt);return $&&$(V)},u.stripTrailingSlash=function(U){return U.substr(-1)==="/"?U.substr(0,U.length-1):U},u.noneOrAll=function(U,V,$){if(U){var at,rt=!1,ot=!0;for(at=0;at<$.length;at++)U[$[at]]!=null?rt=!0:ot=!1;if(rt&&!ot)for(at=0;at<$.length;at++)U[$[at]]=V[$[at]]}},u.mergeArray=function(U,V,$,at){var rt=typeof at=="function";if(u.isArrayOrTypedArray(U))for(var ot=Math.min(U.length,V.length),ct=0;ct<ot;ct++){var ht=U[ct];V[ct][$]=rt?at(ht):ht}},u.mergeArrayCastPositive=function(U,V,$){return u.mergeArray(U,V,$,function(at){var rt=+at;return isFinite(rt)&&rt>0?rt:0})},u.fillArray=function(U,V,$,at){if(at=at||u.identity,u.isArrayOrTypedArray(U))for(var rt=0;rt<V.length;rt++)V[rt][$]=at(U[rt])},u.castOption=function(U,V,$,at){at=at||u.identity;var rt=u.nestedProperty(U,$).get();return u.isArrayOrTypedArray(rt)?Array.isArray(V)&&u.isArrayOrTypedArray(rt[V[0]])?at(rt[V[0]][V[1]]):at(rt[V]):rt},u.extractOption=function(U,V,$,at){if($ in U)return U[$];var rt=u.nestedProperty(V,at).get();return Array.isArray(rt)?void 0:rt},u.tagSelected=function(U,V,$){var at,rt,ot=V.selectedpoints,ct=V._indexToPoints;ct&&(at=D(ct));for(var ht=0;ht<ot.length;ht++){var mt=ot[ht];if(u.isIndex(mt)||u.isArrayOrTypedArray(mt)&&u.isIndex(mt[0])&&u.isIndex(mt[1])){var kt=at?at[mt]:mt,Ct=$?$[kt]:kt;(rt=Ct)!==void 0&&rt<U.length&&(U[Ct].selected=1)}}},u.selIndices2selPoints=function(U){var V=U.selectedpoints,$=U._indexToPoints;if($){for(var at=D($),rt=[],ot=0;ot<V.length;ot++){var ct=V[ot];if(u.isIndex(ct)){var ht=at[ct];u.isIndex(ht)&&rt.push(ht)}}return rt}return V},u.getTargetArray=function(U,V){var $=V.target;if(typeof $=="string"&&$){var at=u.nestedProperty(U,$).get();return!!Array.isArray(at)&&at}return!!Array.isArray($)&&$},u.minExtend=function(U,V){var $={};typeof V!="object"&&(V={});var at,rt,ot,ct=Object.keys(U);for(at=0;at<ct.length;at++)ot=U[rt=ct[at]],rt.charAt(0)!=="_"&&typeof ot!="function"&&(rt==="module"?$[rt]=ot:Array.isArray(ot)?$[rt]=rt==="colorscale"?ot.slice():ot.slice(0,3):u.isTypedArray(ot)?$[rt]=ot.subarray(0,3):$[rt]=ot&&typeof ot=="object"?u.minExtend(U[rt],V[rt]):ot);for(ct=Object.keys(V),at=0;at<ct.length;at++)typeof(ot=V[rt=ct[at]])=="object"&&rt in $&&typeof $[rt]=="object"||($[rt]=ot);return $},u.titleCase=function(U){return U.charAt(0).toUpperCase()+U.substr(1)},u.containsAny=function(U,V){for(var $=0;$<V.length;$++)if(U.indexOf(V[$])!==-1)return!0;return!1},u.isIE=function(){return window.navigator.msSaveBlob!==void 0};var j=/Version\/[\d\.]+.*Safari/;u.isSafari=function(){return j.test(window.navigator.userAgent)};var B=/iPad|iPhone|iPod/;u.isIOS=function(){return B.test(window.navigator.userAgent)};var J=/Firefox\/(\d+)\.\d+/;u.getFirefoxVersion=function(){var U=J.exec(window.navigator.userAgent);if(U&&U.length===2){var V=parseInt(U[1]);if(!isNaN(V))return V}return null},u.isD3Selection=function(U){return U instanceof a.selection},u.ensureSingle=function(U,V,$,at){var rt=U.select(V+($?"."+$:""));if(rt.size())return rt;var ot=U.append(V);return $&&ot.classed($,!0),at&&ot.call(at),ot},u.ensureSingleById=function(U,V,$,at){var rt=U.select(V+"#"+$);if(rt.size())return rt;var ot=U.append(V).attr("id",$);return at&&ot.call(at),ot},u.objectFromPath=function(U,V){for(var $,at=U.split("."),rt=$={},ot=0;ot<at.length;ot++){var ct=at[ot],ht=null,mt=at[ot].match(/(.*)\[([0-9]+)\]/);mt?(ct=mt[1],ht=mt[2],$=$[ct]=[],ot===at.length-1?$[ht]=V:$[ht]={},$=$[ht]):(ot===at.length-1?$[ct]=V:$[ct]={},$=$[ct])}return rt};var P=/^([^\[\.]+)\.(.+)?/,M=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;u.expandObjectPaths=function(U){var V,$,at,rt,ot,ct,ht;if(typeof U=="object"&&!Array.isArray(U))for($ in U)U.hasOwnProperty($)&&((V=$.match(P))?(rt=U[$],at=V[1],delete U[$],U[at]=u.extendDeepNoArrays(U[at]||{},u.objectFromPath($,u.expandObjectPaths(rt))[at])):(V=$.match(M))?(rt=U[$],at=V[1],ot=parseInt(V[2]),delete U[$],U[at]=U[at]||[],V[3]==="."?(ht=V[4],ct=U[at][ot]=U[at][ot]||{},u.extendDeepNoArrays(ct,u.objectFromPath(ht,u.expandObjectPaths(rt)))):U[at][ot]=u.expandObjectPaths(rt)):U[$]=u.expandObjectPaths(U[$]));return U},u.numSeparate=function(U,V,$){if($||($=!1),typeof V!="string"||V.length===0)throw new Error("Separator string required for formatting!");typeof U=="number"&&(U=String(U));var at=/(\d+)(\d{3})/,rt=V.charAt(0),ot=V.charAt(1),ct=U.split("."),ht=ct[0],mt=ct.length>1?rt+ct[1]:"";if(ot&&(ct.length>1||ht.length>4||$))for(;at.test(ht);)ht=ht.replace(at,"$1"+ot+"$2");return ht+mt},u.TEMPLATE_STRING_REGEX=/%{([^\s%{}:]*)([:|\|][^}]*)?}/g;var O=/^\w*$/;u.templateString=function(U,V){var $={};return U.replace(u.TEMPLATE_STRING_REGEX,function(at,rt){var ot;return O.test(rt)?ot=V[rt]:($[rt]=$[rt]||u.nestedProperty(V,rt).get,ot=$[rt]()),u.isValidTextValue(ot)?ot:""})};var q={max:10,count:0,name:"hovertemplate"};u.hovertemplateString=function(){return nt.apply(q,arguments)};var tt={max:10,count:0,name:"texttemplate"};u.texttemplateString=function(){return nt.apply(tt,arguments)};var E=/^(\S+)([\*\/])(-?\d+(\.\d+)?)$/;function z(U){var V=U.match(E);return V?{key:V[1],op:V[2],number:Number(V[3])}:{key:U,op:null,number:null}}var Y={max:10,count:0,name:"texttemplate",parseMultDiv:!0};u.texttemplateStringForShapes=function(){return nt.apply(Y,arguments)};var Q=/^[:|\|]/;function nt(U,V,$){var at=this,rt=arguments;V||(V={});var ot={};return U.replace(u.TEMPLATE_STRING_REGEX,function(ct,ht,mt){var kt=ht==="_xother"||ht==="_yother",Ct=ht==="_xother_"||ht==="_yother_",It=ht==="xother_"||ht==="yother_",pt=ht==="xother"||ht==="yother"||kt||It||Ct,bt=ht;(kt||Ct)&&(bt=bt.substring(1)),(It||Ct)&&(bt=bt.substring(0,bt.length-1));var _t,Dt,L,X=null,it=null;if(at.parseMultDiv){var ft=z(bt);bt=ft.key,X=ft.op,it=ft.number}if(pt){if((_t=V[bt])===void 0)return""}else for(L=3;L<rt.length;L++)if(Dt=rt[L]){if(Dt.hasOwnProperty(bt)){_t=Dt[bt];break}if(O.test(bt)||(_t=u.nestedProperty(Dt,bt).get(),(_t=ot[bt]||u.nestedProperty(Dt,bt).get())&&(ot[bt]=_t)),_t!==void 0)break}if(_t!==void 0&&(X==="*"&&(_t*=it),X==="/"&&(_t/=it)),_t===void 0&&at)return at.count<at.max&&(u.warn("Variable '"+bt+"' in "+at.name+" could not be found!"),_t=ct),at.count===at.max&&u.warn("Too many "+at.name+" warnings - additional warnings will be suppressed"),at.count++,ct;if(mt){var gt;if(mt[0]===":"&&(_t=(gt=$?$.numberFormat:u.numberFormat)(mt.replace(Q,""))(_t)),mt[0]==="|"){gt=$?$.timeFormat:f;var wt=u.dateTime2ms(_t);_t=u.formatDate(wt,mt.replace(Q,""),!1,gt)}}else{var xt=bt+"Label";V.hasOwnProperty(xt)&&(_t=V[xt])}return pt&&(_t="("+_t+")",(kt||Ct)&&(_t=" "+_t),(It||Ct)&&(_t+=" ")),_t})}u.subplotSort=function(U,V){for(var $=Math.min(U.length,V.length)+1,at=0,rt=0,ot=0;ot<$;ot++){var ct=U.charCodeAt(ot)||0,ht=V.charCodeAt(ot)||0,mt=ct>=48&&ct<=57,kt=ht>=48&&ht<=57;if(mt&&(at=10*at+ct-48),kt&&(rt=10*rt+ht-48),!mt||!kt){if(at!==rt)return at-rt;if(ct!==ht)return ct-ht}}return rt-at};var et=2e9;u.seedPseudoRandom=function(){et=2e9},u.pseudoRandom=function(){var U=et;return et=(69069*et+1)%4294967296,Math.abs(et-U)<429496729?u.pseudoRandom():et/4294967296},u.fillText=function(U,V,$){var at=Array.isArray($)?function(ct){$.push(ct)}:function(ct){$.text=ct},rt=u.extractOption(U,V,"htx","hovertext");if(u.isValidTextValue(rt))return at(rt);var ot=u.extractOption(U,V,"tx","text");return u.isValidTextValue(ot)?at(ot):void 0},u.isValidTextValue=function(U){return U||U===0},u.formatPercent=function(U,V){V=V||0;for(var $=(Math.round(100*U*Math.pow(10,V))*Math.pow(.1,V)).toFixed(V)+"%",at=0;at<V;at++)$.indexOf(".")!==-1&&($=($=$.replace("0%","%")).replace(".%","%"));return $},u.isHidden=function(U){var V=window.getComputedStyle(U).display;return!V||V==="none"},u.strTranslate=function(U,V){return U||V?"translate("+U+","+V+")":""},u.strRotate=function(U){return U?"rotate("+U+")":""},u.strScale=function(U){return U!==1?"scale("+U+")":""},u.getTextTransform=function(U){var V=U.noCenter,$=U.textX,at=U.textY,rt=U.targetX,ot=U.targetY,ct=U.anchorX||0,ht=U.anchorY||0,mt=U.rotate,kt=U.scale;return kt?kt>1&&(kt=1):kt=0,u.strTranslate(rt-kt*($+ct),ot-kt*(at+ht))+u.strScale(kt)+(mt?"rotate("+mt+(V?"":" "+$+" "+at)+")":"")},u.setTransormAndDisplay=function(U,V){U.attr("transform",u.getTextTransform(V)),U.style("display",V.scale?null:"none")},u.ensureUniformFontSize=function(U,V){var $=u.extendFlat({},V);return $.size=Math.max(V.size,U._fullLayout.uniformtext.minsize||0),$},u.join2=function(U,V,$){var at=U.length;return at>1?U.slice(0,-1).join(V)+$+U[at-1]:U.join(V)},u.bigFont=function(U){return Math.round(1.2*U)};var Z=u.getFirefoxVersion(),H=Z!==null&&Z<86;u.getPositionFromD3Event=function(){return H?[a.event.layerX,a.event.layerY]:[a.event.offsetX,a.event.offsetY]}},41965:function(w){w.exports=function(s){return window&&window.process&&window.process.versions?Object.prototype.toString.call(s)==="[object Object]":Object.prototype.toString.call(s)==="[object Object]"&&Object.getPrototypeOf(s).hasOwnProperty("hasOwnProperty")}},66636:function(w,s,t){var a=t(65487),f=/^\w*$/;w.exports=function(e,i,r,n){var o,l,u;r=r||"name",n=n||"value";var d={};i&&i.length?(u=a(e,i),l=u.get()):l=e,i=i||"";var c={};if(l)for(o=0;o<l.length;o++)c[l[o][r]]=o;var h=f.test(n),p={set:function(g,y){var b=y===null?4:0;if(!l){if(!u||b===4)return;l=[],u.set(l)}var m=c[g];if(m===void 0){if(b===4)return;b|=3,m=l.length,c[g]=m}else y!==(h?l[m][n]:a(l[m],n).get())&&(b|=2);var v=l[m]=l[m]||{};return v[r]=g,h?v[n]=y:a(v,n).set(y),y!==null&&(b&=-5),d[m]=d[m]|b,p},get:function(g){if(l){var y=c[g];return y===void 0?void 0:h?l[y][n]:a(l[y],n).get()}},rename:function(g,y){var b=c[g];return b===void 0||(d[b]=1|d[b],c[y]=b,delete c[g],l[b][r]=y),p},remove:function(g){var y=c[g];if(y===void 0)return p;var b=l[y];if(Object.keys(b).length>2)return d[y]=2|d[y],p.set(g,null);if(h){for(o=y;o<l.length;o++)d[o]=3|d[o];for(o=y;o<l.length;o++)c[l[o][r]]--;l.splice(y,1),delete c[g]}else a(b,n).set(null),d[y]=6|d[y];return p},constructUpdate:function(){for(var g,y,b={},m=Object.keys(d),v=0;v<m.length;v++)y=m[v],g=i+"["+y+"]",l[y]?(1&d[y]&&(b[g+"."+r]=l[y][r]),2&d[y]&&(b[g+"."+n]=h?4&d[y]?null:l[y][n]:4&d[y]?null:a(l[y],n).get())):b[g]=null;return b}};return p}},15867:function(w,s,t){var a=t(73972);w.exports=function(f,e){for(var i=f._context.locale,r=0;r<2;r++){for(var n=f._context.locales,o=0;o<2;o++){var l=(n[i]||{}).dictionary;if(l){var u=l[e];if(u)return u}n=a.localeRegistry}var d=i.split("-")[0];if(d===i)break;i=d}return e}},47769:function(w,s,t){var a=t(72075).dfltConfig,f=t(75046),e=w.exports={};e.log=function(){var i;if(a.logging>1){var r=["LOG:"];for(i=0;i<arguments.length;i++)r.push(arguments[i]);console.trace.apply(console,r)}if(a.notifyOnLogging>1){var n=[];for(i=0;i<arguments.length;i++)n.push(arguments[i]);f(n.join("<br>"),"long")}},e.warn=function(){var i;if(a.logging>0){var r=["WARN:"];for(i=0;i<arguments.length;i++)r.push(arguments[i]);console.trace.apply(console,r)}if(a.notifyOnLogging>0){var n=[];for(i=0;i<arguments.length;i++)n.push(arguments[i]);f(n.join("<br>"),"stick")}},e.error=function(){var i;if(a.logging>0){var r=["ERROR:"];for(i=0;i<arguments.length;i++)r.push(arguments[i]);console.error.apply(console,r)}if(a.notifyOnLogging>0){var n=[];for(i=0;i<arguments.length;i++)n.push(arguments[i]);f(n.join("<br>"),"stick")}}},77310:function(w,s,t){var a=t(39898);w.exports=function(f,e,i){var r=f.selectAll("g."+i.replace(/\s/g,".")).data(e,function(o){return o[0].trace.uid});r.exit().remove(),r.enter().append("g").attr("class",i),r.order();var n=f.classed("rangeplot")?"nodeRangePlot3":"node3";return r.each(function(o){o[0][n]=a.select(this)}),r}},35657:function(w,s,t){var a=t(79576);s.init2dArray=function(f,e){for(var i=new Array(f),r=0;r<f;r++)i[r]=new Array(e);return i},s.transposeRagged=function(f){var e,i,r=0,n=f.length;for(e=0;e<n;e++)r=Math.max(r,f[e].length);var o=new Array(r);for(e=0;e<r;e++)for(o[e]=new Array(n),i=0;i<n;i++)o[e][i]=f[i][e];return o},s.dot=function(f,e){if(!f.length||!e.length||f.length!==e.length)return null;var i,r,n=f.length;if(f[0].length)for(i=new Array(n),r=0;r<n;r++)i[r]=s.dot(f[r],e);else if(e[0].length){var o=s.transposeRagged(e);for(i=new Array(o.length),r=0;r<o.length;r++)i[r]=s.dot(f,o[r])}else for(i=0,r=0;r<n;r++)i+=f[r]*e[r];return i},s.translationMatrix=function(f,e){return[[1,0,f],[0,1,e],[0,0,1]]},s.rotationMatrix=function(f){var e=f*Math.PI/180;return[[Math.cos(e),-Math.sin(e),0],[Math.sin(e),Math.cos(e),0],[0,0,1]]},s.rotationXYMatrix=function(f,e,i){return s.dot(s.dot(s.translationMatrix(e,i),s.rotationMatrix(f)),s.translationMatrix(-e,-i))},s.apply3DTransform=function(f){return function(){var e=arguments,i=arguments.length===1?e[0]:[e[0],e[1],e[2]||0];return s.dot(f,[i[0],i[1],i[2],1]).slice(0,3)}},s.apply2DTransform=function(f){return function(){var e=arguments;e.length===3&&(e=e[0]);var i=arguments.length===1?e[0]:[e[0],e[1]];return s.dot(f,[i[0],i[1],1]).slice(0,2)}},s.apply2DTransform2=function(f){var e=s.apply2DTransform(f);return function(i){return e(i.slice(0,2)).concat(e(i.slice(2,4)))}},s.convertCssMatrix=function(f){if(f){var e=f.length;if(e===16)return f;if(e===6)return[f[0],f[1],0,0,f[2],f[3],0,0,0,0,1,0,f[4],f[5],0,1]}return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},s.inverseTransformMatrix=function(f){var e=[];return a.invert(e,f),[[e[0],e[1],e[2],e[3]],[e[4],e[5],e[6],e[7]],[e[8],e[9],e[10],e[11]],[e[12],e[13],e[14],e[15]]]}},64872:function(w){w.exports={mod:function(s,t){var a=s%t;return a<0?a+t:a},modHalf:function(s,t){return Math.abs(s)>t/2?s-Math.round(s/t)*t:s}}},65487:function(w,s,t){var a=t(92770),f=t(73627).isArrayOrTypedArray;function e(d,c){return function(){var h,p,g,y,b,m=d;for(y=0;y<c.length-1;y++){if((h=c[y])===-1){for(p=!0,g=[],b=0;b<m.length;b++)g[b]=e(m[b],c.slice(y+1))(),g[b]!==g[0]&&(p=!1);return p?g[0]:g}if(typeof h=="number"&&!f(m)||typeof(m=m[h])!="object"||m===null)return}if(typeof m=="object"&&m!==null&&(g=m[c[y]])!==null)return g}}w.exports=function(d,c){if(a(c))c=String(c);else if(typeof c!="string"||c.substr(c.length-4)==="[-1]")throw"bad property string";for(var h,p,g,y=0,b=c.split(".");y<b.length;){if(h=String(b[y]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/)){if(h[1])b[y]=h[1];else{if(y!==0)throw"bad property string";b.splice(0,1)}for(p=h[2].substr(1,h[2].length-2).split("]["),g=0;g<p.length;g++)y++,b.splice(y,0,Number(p[g]))}y++}return typeof d!="object"?function(m,v,x){return{set:function(){throw"bad container"},get:function(){},astr:v,parts:x,obj:m}}(d,c,b):{set:n(d,b,c),get:e(d,b),astr:c,parts:b,obj:d}};var i=/(^|\.)args\[/;function r(d,c){return d===void 0||d===null&&!c.match(i)}function n(d,c,h){return function(p){var g,y,b=d,m="",v=r(p,h);for(y=0;y<c.length-1;y++){if(typeof(g=c[y])=="number"&&!f(b))throw"array index but container is not an array";if(g===-1){if(v=!l(b,c.slice(y+1),p,h))break;return}if(!u(b,g,c[y+1],v))break;if(typeof(b=b[g])!="object"||b===null)throw"container is not an object";m=o(m,g)}if(v){if(y===c.length-1&&(delete b[c[y]],Array.isArray(b)&&+c[y]==b.length-1))for(;b.length&&b[b.length-1]===void 0;)b.pop()}else b[c[y]]=p}}function o(d,c){var h=c;return a(c)?h="["+c+"]":d&&(h="."+c),d+h}function l(d,c,h,p){var g,y=f(h),b=!0,m=h,v=p.replace("-1",0),x=!y&&r(h,v),_=c[0];for(g=0;g<d.length;g++)v=p.replace("-1",g),y&&(x=r(m=h[g%h.length],v)),x&&(b=!1),u(d,g,_,x)&&n(d[g],c,p.replace("-1",g))(m);return b}function u(d,c,h,p){if(d[c]===void 0){if(p)return!1;d[c]=typeof h=="number"?[]:{}}return!0}},64213:function(w){w.exports=function(){}},75046:function(w,s,t){var a=t(39898),f=t(92770),e=[];w.exports=function(i,r){if(e.indexOf(i)===-1){e.push(i);var n=1e3;f(r)?n=r:r==="long"&&(n=3e3);var o=a.select("body").selectAll(".plotly-notifier").data([0]);o.enter().append("div").classed("plotly-notifier",!0),o.selectAll(".notifier-note").data(e).enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(u){var d=a.select(this);d.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){d.transition().call(l)});for(var c=d.append("p"),h=u.split(/<br\s*\/?>/g),p=0;p<h.length;p++)p&&c.append("br"),c.append("span").text(h[p]);r==="stick"?d.transition().duration(350).style("opacity",1):d.transition().duration(700).style("opacity",1).transition().delay(n).call(l)})}function l(u){u.duration(700).style("opacity",0).each("end",function(d){var c=e.indexOf(d);c!==-1&&e.splice(c,1),a.select(this).remove()})}}},39918:function(w,s,t){var a=t(6964),f="data-savedcursor";w.exports=function(e,i){var r=e.attr(f);if(i){if(!r){for(var n=(e.attr("class")||"").split(" "),o=0;o<n.length;o++){var l=n[o];l.indexOf("cursor-")===0&&e.attr(f,l.substr(7)).classed(l,!1)}e.attr(f)||e.attr(f,"!!")}a(e,i)}else r&&(e.attr(f,null),r==="!!"?a(e):a(e,r))}},61082:function(w,s,t){var a=t(35657).dot,f=t(50606).BADNUM,e=w.exports={};e.tester=function(i){var r,n=i.slice(),o=n[0][0],l=o,u=n[0][1],d=u;for(n[n.length-1][0]===n[0][0]&&n[n.length-1][1]===n[0][1]||n.push(n[0]),r=1;r<n.length;r++)o=Math.min(o,n[r][0]),l=Math.max(l,n[r][0]),u=Math.min(u,n[r][1]),d=Math.max(d,n[r][1]);var c,h=!1;n.length===5&&(n[0][0]===n[1][0]?n[2][0]===n[3][0]&&n[0][1]===n[3][1]&&n[1][1]===n[2][1]&&(h=!0,c=function(y){return y[0]===n[0][0]}):n[0][1]===n[1][1]&&n[2][1]===n[3][1]&&n[0][0]===n[3][0]&&n[1][0]===n[2][0]&&(h=!0,c=function(y){return y[1]===n[0][1]}));var p=!0,g=n[0];for(r=1;r<n.length;r++)if(g[0]!==n[r][0]||g[1]!==n[r][1]){p=!1;break}return{xmin:o,xmax:l,ymin:u,ymax:d,pts:n,contains:h?function(y,b){var m=y[0],v=y[1];return!(m===f||m<o||m>l||v===f||v<u||v>d||b&&c(y))}:function(y,b){var m=y[0],v=y[1];if(m===f||m<o||m>l||v===f||v<u||v>d)return!1;var x,_,T,C,S,F=n.length,N=n[0][0],D=n[0][1],j=0;for(x=1;x<F;x++)if(_=N,T=D,N=n[x][0],D=n[x][1],!(m<(C=Math.min(_,N))||m>Math.max(_,N)||v>Math.max(T,D)))if(v<Math.min(T,D))m!==C&&j++;else{if(v===(S=N===_?v:T+(m-_)*(D-T)/(N-_)))return x!==1||!b;v<=S&&m!==C&&j++}return j%2==1},isRect:h,degenerate:p}},e.isSegmentBent=function(i,r,n,o){var l,u,d,c=i[r],h=[i[n][0]-c[0],i[n][1]-c[1]],p=a(h,h),g=Math.sqrt(p),y=[-h[1]/g,h[0]/g];for(l=r+1;l<n;l++)if(u=[i[l][0]-c[0],i[l][1]-c[1]],(d=a(u,h))<0||d>p||Math.abs(a(u,y))>o)return!0;return!1},e.filter=function(i,r){var n=[i[0]],o=0,l=0;function u(d){i.push(d);var c=n.length,h=o;n.splice(l+1);for(var p=h+1;p<i.length;p++)(p===i.length-1||e.isSegmentBent(i,h,p+1,r))&&(n.push(i[p]),n.length<c-2&&(o=p,l=n.length-1),h=p)}return i.length>1&&u(i.pop()),{addPt:u,raw:i,filtered:n}}},45142:function(w,s,t){var a=t(92770),f=t(35791);w.exports=function(e){var i;if(typeof(i=e&&e.hasOwnProperty("userAgent")?e.userAgent:function(){var c;return typeof navigator<"u"&&(c=navigator.userAgent),c&&c.headers&&typeof c.headers["user-agent"]=="string"&&(c=c.headers["user-agent"]),c}())!="string")return!0;var r=f({ua:{headers:{"user-agent":i}},tablet:!0,featureDetect:!1});if(!r){for(var n=i.split(" "),o=1;o<n.length;o++)if(n[o].indexOf("Safari")!==-1)for(var l=o-1;l>-1;l--){var u=n[l];if(u.substr(0,8)==="Version/"){var d=u.substr(8).split(".")[0];if(a(d)&&(d=+d),d>=13)return!0}}}return r}},75138:function(w){w.exports=function(s,t){if(t instanceof RegExp){for(var a=t.toString(),f=0;f<s.length;f++)if(s[f]instanceof RegExp&&s[f].toString()===a)return s;s.push(t)}else!t&&t!==0||s.indexOf(t)!==-1||s.push(t);return s}},10847:function(w,s,t){var a=t(71828),f=t(72075).dfltConfig,e={add:function(i,r,n,o,l){var u,d;i.undoQueue=i.undoQueue||{index:0,queue:[],sequence:!1},d=i.undoQueue.index,i.autoplay?i.undoQueue.inSequence||(i.autoplay=!1):(!i.undoQueue.sequence||i.undoQueue.beginSequence?(u={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},i.undoQueue.queue.splice(d,i.undoQueue.queue.length-d,u),i.undoQueue.index+=1):u=i.undoQueue.queue[d-1],i.undoQueue.beginSequence=!1,u&&(u.undo.calls.unshift(r),u.undo.args.unshift(n),u.redo.calls.push(o),u.redo.args.push(l)),i.undoQueue.queue.length>f.queueLength&&(i.undoQueue.queue.shift(),i.undoQueue.index--))},startSequence:function(i){i.undoQueue=i.undoQueue||{index:0,queue:[],sequence:!1},i.undoQueue.sequence=!0,i.undoQueue.beginSequence=!0},stopSequence:function(i){i.undoQueue=i.undoQueue||{index:0,queue:[],sequence:!1},i.undoQueue.sequence=!1,i.undoQueue.beginSequence=!1},undo:function(i){var r,n;if(!(i.undoQueue===void 0||isNaN(i.undoQueue.index)||i.undoQueue.index<=0)){for(i.undoQueue.index--,r=i.undoQueue.queue[i.undoQueue.index],i.undoQueue.inSequence=!0,n=0;n<r.undo.calls.length;n++)e.plotDo(i,r.undo.calls[n],r.undo.args[n]);i.undoQueue.inSequence=!1,i.autoplay=!1}},redo:function(i){var r,n;if(!(i.undoQueue===void 0||isNaN(i.undoQueue.index)||i.undoQueue.index>=i.undoQueue.queue.length)){for(r=i.undoQueue.queue[i.undoQueue.index],i.undoQueue.inSequence=!0,n=0;n<r.redo.calls.length;n++)e.plotDo(i,r.redo.calls[n],r.redo.args[n]);i.undoQueue.inSequence=!1,i.autoplay=!1,i.undoQueue.index++}},plotDo:function(i,r,n){i.autoplay=!0,n=function(o,l){for(var u,d=[],c=0;c<l.length;c++)u=l[c],d[c]=u===o?u:typeof u=="object"?Array.isArray(u)?a.extendDeep([],u):a.extendDeepAll({},u):u;return d}(i,n),r.apply(null,n)}};w.exports=e},30587:function(w,s){s.counter=function(t,a,f,e){var i=(a||"")+(f?"":"$"),r=e===!1?"":"^";return t==="xy"?new RegExp(r+"x([2-9]|[1-9][0-9]+)?y([2-9]|[1-9][0-9]+)?"+i):new RegExp(r+t+"([2-9]|[1-9][0-9]+)?"+i)}},6962:function(w){var s=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,t=/^[^\.\[\]]+$/;w.exports=function(a,f){for(;f;){var e=a.match(s);if(e)a=e[1];else{if(!a.match(t))throw new Error("bad relativeAttr call:"+[a,f]);a=""}if(f.charAt(0)!=="^")break;f=f.slice(1)}return a&&f.charAt(0)!=="["?a+"."+f:a+f}},51332:function(w,s,t){var a=t(73627).isArrayOrTypedArray,f=t(41965);w.exports=function e(i,r){for(var n in r){var o=r[n],l=i[n];if(l!==o)if(n.charAt(0)==="_"||typeof o=="function"){if(n in i)continue;i[n]=o}else if(a(o)&&a(l)&&f(o[0])){if(n==="customdata"||n==="ids")continue;for(var u=Math.min(o.length,l.length),d=0;d<u;d++)l[d]!==o[d]&&f(o[d])&&f(l[d])&&e(l[d],o[d])}else f(o)&&f(l)&&(e(l,o),Object.keys(l).length||delete i[n])}}},65888:function(w,s,t){var a=t(92770),f=t(47769),e=t(23389),i=t(50606).BADNUM,r=1e-9;function n(d,c){return d<c}function o(d,c){return d<=c}function l(d,c){return d>c}function u(d,c){return d>=c}s.findBin=function(d,c,h){if(a(c.start))return h?Math.ceil((d-c.start)/c.size-r)-1:Math.floor((d-c.start)/c.size+r);var p,g,y=0,b=c.length,m=0,v=b>1?(c[b-1]-c[0])/(b-1):1;for(g=v>=0?h?n:o:h?u:l,d+=v*r*(h?-1:1)*(v>=0?1:-1);y<b&&m++<100;)g(c[p=Math.floor((y+b)/2)],d)?y=p+1:b=p;return m>90&&f.log("Long binary search..."),y-1},s.sorterAsc=function(d,c){return d-c},s.sorterDes=function(d,c){return c-d},s.distinctVals=function(d){var c,h=d.slice();for(h.sort(s.sorterAsc),c=h.length-1;c>-1&&h[c]===i;c--);for(var p,g=h[c]-h[0]||1,y=g/(c||1)/1e4,b=[],m=0;m<=c;m++){var v=h[m],x=v-p;p===void 0?(b.push(v),p=v):x>y&&(g=Math.min(g,x),b.push(v),p=v)}return{vals:b,minDiff:g}},s.roundUp=function(d,c,h){for(var p,g=0,y=c.length-1,b=0,m=h?0:1,v=h?1:0,x=h?Math.ceil:Math.floor;g<y&&b++<100;)c[p=x((g+y)/2)]<=d?g=p+m:y=p-v;return c[g]},s.sort=function(d,c){for(var h=0,p=0,g=1;g<d.length;g++){var y=c(d[g],d[g-1]);if(y<0?h=1:y>0&&(p=1),h&&p)return d.sort(c)}return p?d:d.reverse()},s.findIndexOfMin=function(d,c){c=c||e;for(var h,p=1/0,g=0;g<d.length;g++){var y=c(d[g]);y<p&&(p=y,h=g)}return h}},6964:function(w){w.exports=function(s,t){(s.attr("class")||"").split(" ").forEach(function(a){a.indexOf("cursor-")===0&&s.classed(a,!1)}),t&&s.classed("cursor-"+t,!0)}},78607:function(w){w.exports=function(s){return Object.keys(s).sort()}},80038:function(w,s,t){var a=t(92770),f=t(73627).isArrayOrTypedArray;s.aggNums=function(e,i,r,n){var o,l;if((!n||n>r.length)&&(n=r.length),a(i)||(i=!1),f(r[0])){for(l=new Array(n),o=0;o<n;o++)l[o]=s.aggNums(e,i,r[o]);r=l}for(o=0;o<n;o++)a(i)?a(r[o])&&(i=e(+i,+r[o])):i=r[o];return i},s.len=function(e){return s.aggNums(function(i){return i+1},0,e)},s.mean=function(e,i){return i||(i=s.len(e)),s.aggNums(function(r,n){return r+n},0,e)/i},s.midRange=function(e){if(e!==void 0&&e.length!==0)return(s.aggNums(Math.max,null,e)+s.aggNums(Math.min,null,e))/2},s.variance=function(e,i,r){return i||(i=s.len(e)),a(r)||(r=s.mean(e,i)),s.aggNums(function(n,o){return n+Math.pow(o-r,2)},0,e)/i},s.stdev=function(e,i,r){return Math.sqrt(s.variance(e,i,r))},s.median=function(e){var i=e.slice().sort();return s.interp(i,.5)},s.interp=function(e,i){if(!a(i))throw"n should be a finite number";if((i=i*e.length-.5)<0)return e[0];if(i>e.length-1)return e[e.length-1];var r=i%1;return r*e[Math.ceil(i)]+(1-r)*e[Math.floor(i)]}},63893:function(w,s,t){var a=t(39898),f=t(71828),e=f.strTranslate,i=t(77922),r=t(18783).LINE_SPACING,n=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;s.convertToTspans=function(M,O,q){var tt=M.text(),E=!M.attr("data-notex")&&O&&O._context.typesetMath&&typeof MathJax<"u"&&tt.match(n),z=a.select(M.node().parentNode);if(!z.empty()){var Y=M.attr("class")?M.attr("class").split(" ")[0]:"text";return Y+="-math",z.selectAll("svg."+Y).remove(),z.selectAll("g."+Y+"-group").remove(),M.style("display",null).attr({"data-unformatted":tt,"data-math":"N"}),E?(O&&O._promises||[]).push(new Promise(function(nt){M.style("display","none");var et=parseInt(M.node().style.fontSize,10),Z={fontSize:et};(function(H,U,V){var $,at,rt,ot,ct=parseInt((MathJax.version||"").split(".")[0]);if(ct===2||ct===3){var ht=function(){var kt="math-output-"+f.randstr({},64),Ct=(ot=a.select("body").append("div").attr({id:kt}).style({visibility:"hidden",position:"absolute","font-size":U.fontSize+"px"}).text(H.replace(o,"\\lt ").replace(l,"\\gt "))).node();return ct===2?MathJax.Hub.Typeset(Ct):MathJax.typeset([Ct])},mt=function(){var kt=ot.select(ct===2?".MathJax_SVG":".MathJax"),Ct=!kt.empty()&&ot.select("svg").node();if(Ct){var It,pt=Ct.getBoundingClientRect();It=ct===2?a.select("body").select("#MathJax_SVG_glyphs"):kt.select("defs"),V(kt,It,pt)}else f.log("There was an error in the tex syntax.",H),V();ot.remove()};ct===2?MathJax.Hub.Queue(function(){return at=f.extendDeepAll({},MathJax.Hub.config),rt=MathJax.Hub.processSectionDelay,MathJax.Hub.processSectionDelay!==void 0&&(MathJax.Hub.processSectionDelay=0),MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:u},displayAlign:"left"})},function(){if(($=MathJax.Hub.config.menuSettings.renderer)!=="SVG")return MathJax.Hub.setRenderer("SVG")},ht,mt,function(){if($!=="SVG")return MathJax.Hub.setRenderer($)},function(){return rt!==void 0&&(MathJax.Hub.processSectionDelay=rt),MathJax.Hub.Config(at)}):ct===3&&(at=f.extendDeepAll({},MathJax.config),MathJax.config.tex||(MathJax.config.tex={}),MathJax.config.tex.inlineMath=u,($=MathJax.config.startup.output)!=="svg"&&(MathJax.config.startup.output="svg"),MathJax.startup.defaultReady(),MathJax.startup.promise.then(function(){ht(),mt(),$!=="svg"&&(MathJax.config.startup.output=$),MathJax.config=at}))}else f.warn("No MathJax version:",MathJax.version)})(E[2],Z,function(H,U,V){z.selectAll("svg."+Y).remove(),z.selectAll("g."+Y+"-group").remove();var $=H&&H.select("svg");if(!$||!$.node())return Q(),void nt();var at=z.append("g").classed(Y+"-group",!0).attr({"pointer-events":"none","data-unformatted":tt,"data-math":"Y"});at.node().appendChild($.node()),U&&U.node()&&$.node().insertBefore(U.node().cloneNode(!0),$.node().firstChild);var rt=V.width,ot=V.height;$.attr({class:Y,height:ot,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var ct=M.node().style.fill||"black",ht=$.select("g");ht.attr({fill:ct,stroke:ct});var mt=ht.node().getBoundingClientRect(),kt=mt.width,Ct=mt.height;(kt>rt||Ct>ot)&&($.style("overflow","hidden"),kt=(mt=$.node().getBoundingClientRect()).width,Ct=mt.height);var It=+M.attr("x"),pt=+M.attr("y"),bt=-(et||M.node().getBoundingClientRect().height)/4;if(Y[0]==="y")at.attr({transform:"rotate("+[-90,It,pt]+")"+e(-kt/2,bt-Ct/2)});else if(Y[0]==="l")pt=bt-Ct/2;else if(Y[0]==="a"&&Y.indexOf("atitle")!==0)It=0,pt=bt;else{var _t=M.attr("text-anchor");It-=kt*(_t==="middle"?.5:_t==="end"?1:0),pt=pt+bt-Ct/2}$.attr({x:It,y:pt}),q&&q.call(M,at),nt(at)})})):Q(),M}function Q(){z.empty()||(Y=M.attr("class")+"-math",z.select("svg."+Y).remove()),M.text("").style("white-space","pre");var nt=function(et,Z){Z=Z.replace(y," ");var H,U=!1,V=[],$=-1;function at(){$++;var it=document.createElementNS(i.svg,"tspan");a.select(it).attr({class:"line",dy:$*r+"em"}),et.appendChild(it),H=it;var ft=V;if(V=[{node:it}],ft.length>1)for(var gt=1;gt<ft.length;gt++)rt(ft[gt])}function rt(it){var ft,gt=it.type,wt={};if(gt==="a"){ft="a";var xt=it.target,Ft=it.href,Bt=it.popup;Ft&&(wt={"xlink:xlink:show":xt==="_blank"||xt.charAt(0)!=="_"?"new":"replace",target:xt,"xlink:xlink:href":Ft},Bt&&(wt.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+Bt+'");return false;'))}else ft="tspan";it.style&&(wt.style=it.style);var Mt=document.createElementNS(i.svg,ft);if(gt==="sup"||gt==="sub"){ot(H,p),H.appendChild(Mt);var St=document.createElementNS(i.svg,"tspan");ot(St,p),a.select(St).attr("dy",h[gt]),wt.dy=c[gt],H.appendChild(Mt),H.appendChild(St)}else H.appendChild(Mt);a.select(Mt).attr(wt),H=it.node=Mt,V.push(it)}function ot(it,ft){it.appendChild(document.createTextNode(ft))}function ct(it){if(V.length!==1){var ft=V.pop();it!==ft.type&&f.log("Start tag <"+ft.type+"> doesnt match end tag <"+it+">. Pretending it did match.",Z),H=V[V.length-1].node}else f.log("Ignoring unexpected end tag </"+it+">.",Z)}v.test(Z)?at():(H=et,V=[{node:et}]);for(var ht=Z.split(b),mt=0;mt<ht.length;mt++){var kt=ht[mt],Ct=kt.match(m),It=Ct&&Ct[2].toLowerCase(),pt=d[It];if(It==="br")at();else if(pt===void 0)ot(H,j(kt));else if(Ct[1])ct(It);else{var bt=Ct[4],_t={type:It},Dt=S(bt,x);if(Dt?(Dt=Dt.replace(F,"$1 fill:"),pt&&(Dt+=";"+pt)):pt&&(Dt=pt),Dt&&(_t.style=Dt),It==="a"){U=!0;var L=S(bt,_);if(L){var X=B(L);X&&(_t.href=X,_t.target=S(bt,T)||"_blank",_t.popup=S(bt,C))}}rt(_t)}}return U}(M.node(),tt);nt&&M.style("pointer-events","all"),s.positionText(M),q&&q.call(M)}};var o=/(<|&lt;|&#60;)/g,l=/(>|&gt;|&#62;)/g,u=[["$","$"],["\\(","\\)"]],d={sup:"font-size:70%",sub:"font-size:70%",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},c={sub:"0.3em",sup:"-0.6em"},h={sub:"-0.21em",sup:"0.42em"},p="​",g=["http:","https:","mailto:","",void 0,":"],y=s.NEWLINES=/(\r\n?|\n)/g,b=/(<[^<>]*>)/,m=/<(\/?)([^ >]*)(\s+(.*))?>/i,v=/<br(\s+.*)?>/i;s.BR_TAG_ALL=/<br(\s+.*)?>/gi;var x=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,_=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,T=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,C=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i;function S(M,O){if(!M)return null;var q=M.match(O),tt=q&&(q[3]||q[4]);return tt&&j(tt)}var F=/(^|;)\s*color:/;s.plainText=function(M,O){for(var q=(O=O||{}).len!==void 0&&O.len!==-1?O.len:1/0,tt=O.allowedTags!==void 0?O.allowedTags:["br"],E=3,z=M.split(b),Y=[],Q="",nt=0,et=0;et<z.length;et++){var Z=z[et],H=Z.match(m),U=H&&H[2].toLowerCase();if(U)tt.indexOf(U)!==-1&&(Y.push(Z),Q=U);else{var V=Z.length;if(nt+V<q)Y.push(Z),nt+=V;else if(nt<q){var $=q-nt;Q&&(Q!=="br"||$<=E||V<=E)&&Y.pop(),q>E?Y.push(Z.substr(0,$-E)+"..."):Y.push(Z.substr(0,$));break}Q=""}}return Y.join("")};var N={mu:"μ",amp:"&",lt:"<",gt:">",nbsp:" ",times:"×",plusmn:"±",deg:"°"},D=/&(#\d+|#x[\da-fA-F]+|[a-z]+);/g;function j(M){return M.replace(D,function(O,q){return(q.charAt(0)==="#"?function(tt){if(!(tt>1114111)){var E=String.fromCodePoint;if(E)return E(tt);var z=String.fromCharCode;return tt<=65535?z(tt):z(55232+(tt>>10),tt%1024+56320)}}(q.charAt(1)==="x"?parseInt(q.substr(2),16):parseInt(q.substr(1),10)):N[q])||O})}function B(M){var O=encodeURI(decodeURI(M)),q=document.createElement("a"),tt=document.createElement("a");q.href=M,tt.href=O;var E=q.protocol,z=tt.protocol;return g.indexOf(E)!==-1&&g.indexOf(z)!==-1?O:""}function J(M,O,q){var tt,E,z,Y=q.horizontalAlign,Q=q.verticalAlign||"top",nt=M.node().getBoundingClientRect(),et=O.node().getBoundingClientRect();return E=Q==="bottom"?function(){return nt.bottom-tt.height}:Q==="middle"?function(){return nt.top+(nt.height-tt.height)/2}:function(){return nt.top},z=Y==="right"?function(){return nt.right-tt.width}:Y==="center"?function(){return nt.left+(nt.width-tt.width)/2}:function(){return nt.left},function(){tt=this.node().getBoundingClientRect();var Z=z()-et.left,H=E()-et.top,U=q.gd||{};if(q.gd){U._fullLayout._calcInverseTransform(U);var V=f.apply3DTransform(U._fullLayout._invTransform)(Z,H);Z=V[0],H=V[1]}return this.style({top:H+"px",left:Z+"px","z-index":1e3}),this}}s.convertEntities=j,s.sanitizeHTML=function(M){M=M.replace(y," ");for(var O=document.createElement("p"),q=O,tt=[],E=M.split(b),z=0;z<E.length;z++){var Y=E[z],Q=Y.match(m),nt=Q&&Q[2].toLowerCase();if(nt in d)if(Q[1])tt.length&&(q=tt.pop());else{var et=Q[4],Z=S(et,x),H=Z?{style:Z}:{};if(nt==="a"){var U=S(et,_);if(U){var V=B(U);if(V){H.href=V;var $=S(et,T);$&&(H.target=$)}}}var at=document.createElement(nt);q.appendChild(at),a.select(at).attr(H),q=at,tt.push(at)}else q.appendChild(document.createTextNode(j(Y)))}return O.innerHTML},s.lineCount=function(M){return M.selectAll("tspan.line").size()||1},s.positionText=function(M,O,q){return M.each(function(){var tt=a.select(this);function E(Q,nt){return nt===void 0?(nt=tt.attr(Q))===null&&(tt.attr(Q,0),nt=0):tt.attr(Q,nt),nt}var z=E("x",O),Y=E("y",q);this.nodeName==="text"&&tt.selectAll("tspan.line").attr({x:z,y:Y})})};var P="1px ";s.makeTextShadow=function(M){return"1px 1px 1px "+M+", -1px -"+P+P+M+", 1px -"+P+P+M+", -"+P+P+P+M},s.makeEditable=function(M,O){var q=O.gd,tt=O.delegate,E=a.dispatch("edit","input","cancel"),z=tt||M;if(M.style({"pointer-events":tt?"none":"all"}),M.size()!==1)throw new Error("boo");function Y(){var nt,et,Z,H,U;nt=a.select(q).select(".svg-container"),et=nt.append("div"),Z=M.node().style,H=parseFloat(Z.fontSize||12),(U=O.text)===void 0&&(U=M.attr("data-unformatted")),et.classed("plugin-editable editable",!0).style({position:"absolute","font-family":Z.fontFamily||"Arial","font-size":H,color:O.fill||Z.fill||"black",opacity:1,"background-color":O.background||"transparent",outline:"#ffffff33 1px solid",margin:[-H/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(U).call(J(M,nt,O)).on("blur",function(){q._editing=!1,M.text(this.textContent).style({opacity:1});var at,rt=a.select(this).attr("class");(at=rt?"."+rt.split(" ")[0]+"-math-group":"[class*=-math-group]")&&a.select(M.node().parentNode).select(at).style({opacity:0});var ot=this.textContent;a.select(this).transition().duration(0).remove(),a.select(document).on("mouseup",null),E.edit.call(M,ot)}).on("focus",function(){var at=this;q._editing=!0,a.select(document).on("mouseup",function(){if(a.event.target===at)return!1;document.activeElement===et.node()&&et.node().blur()})}).on("keyup",function(){a.event.which===27?(q._editing=!1,M.style({opacity:1}),a.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),E.cancel.call(M,this.textContent)):(E.input.call(M,this.textContent),a.select(this).call(J(M,nt,O)))}).on("keydown",function(){a.event.which===13&&this.blur()}).call(Q),M.style({opacity:0});var V,$=z.attr("class");(V=$?"."+$.split(" ")[0]+"-math-group":"[class*=-math-group]")&&a.select(M.node().parentNode).select(V).style({opacity:0})}function Q(nt){var et=nt.node(),Z=document.createRange();Z.selectNodeContents(et);var H=window.getSelection();H.removeAllRanges(),H.addRange(Z),et.focus()}return O.immediate?Y():z.on("click",Y),a.rebind(M,E,"on")}},79990:function(w,s){var t={};function a(f){f&&f.timer!==null&&(clearTimeout(f.timer),f.timer=null)}s.throttle=function(f,e,i){var r=t[f],n=Date.now();if(!r){for(var o in t)t[o].ts<n-6e4&&delete t[o];r=t[f]={ts:0,timer:null}}function l(){i(),r.ts=Date.now(),r.onDone&&(r.onDone(),r.onDone=null)}a(r),n>r.ts+e?l():r.timer=setTimeout(function(){l(),r.timer=null},e)},s.done=function(f){var e=t[f];return e&&e.timer?new Promise(function(i){var r=e.onDone;e.onDone=function(){r&&r(),i(),e.onDone=null}}):Promise.resolve()},s.clear=function(f){if(f)a(t[f]),delete t[f];else for(var e in t)s.clear(e)}},58163:function(w,s,t){var a=t(92770);w.exports=function(f,e){if(f>0)return Math.log(f)/Math.LN10;var i=Math.log(Math.min(e[0],e[1]))/Math.LN10;return a(i)||(i=Math.log(Math.max(e[0],e[1]))/Math.LN10-6),i}},37815:function(w){w.exports={moduleType:"locale",name:"en-US",dictionary:{"Click to enter Colorscale title":"Click to enter Colorscale title"},format:{date:"%m/%d/%Y"}}},92177:function(w){w.exports={moduleType:"locale",name:"en",dictionary:{"Click to enter Colorscale title":"Click to enter Colourscale title"},format:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],periods:["AM","PM"],dateTime:"%a %b %e %X %Y",date:"%d/%m/%Y",time:"%H:%M:%S",decimal:".",thousands:",",grouping:[3],currency:["$",""],year:"%Y",month:"%b %Y",dayMonth:"%b %-d",dayMonthYear:"%b %-d, %Y"}}},14458:function(w,s,t){var a=t(73972);w.exports=function(f){for(var e,i,r=a.layoutArrayContainers,n=a.layoutArrayRegexes,o=f.split("[")[0],l=0;l<n.length;l++)if((i=f.match(n[l]))&&i.index===0){e=i[0];break}if(e||(e=r[r.indexOf(o)]),!e)return!1;var u=f.substr(e.length);return u?!!(i=u.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/))&&{array:e,index:Number(i[1]),property:i[3]||""}:{array:e,index:"",property:""}}},30962:function(w,s,t){var a=t(71828),f=a.extendFlat,e=a.isPlainObject,i={valType:"flaglist",extras:["none"],flags:["calc","clearAxisTypes","plot","style","markerSize","colorbars"]},r={valType:"flaglist",extras:["none"],flags:["calc","plot","legend","ticks","axrange","layoutstyle","modebar","camera","arraydraw","colorbars"]},n=i.flags.slice().concat(["fullReplot"]),o=r.flags.slice().concat("layoutReplot");function l(c){for(var h={},p=0;p<c.length;p++)h[c[p]]=!1;return h}function u(c,h,p){var g=f({},c);for(var y in g){var b=g[y];e(b)&&(g[y]=d(b,h,0,y))}return p==="from-root"&&(g.editType=h),g}function d(c,h,p,g){if(c.valType){var y=f({},c);if(y.editType=h,Array.isArray(c.items)){y.items=new Array(c.items.length);for(var b=0;b<c.items.length;b++)y.items[b]=d(c.items[b],h)}return y}return u(c,h,g.charAt(0)==="_"?"nested":"from-root")}w.exports={traces:i,layout:r,traceFlags:function(){return l(n)},layoutFlags:function(){return l(o)},update:function(c,h){var p=h.editType;if(p&&p!=="none")for(var g=p.split("+"),y=0;y<g.length;y++)c[g[y]]=!0},overrideAll:u}},58377:function(w,s,t){var a=t(92770),f=t(27812),e=t(73972),i=t(71828),r=t(74875),n=t(41675),o=t(7901),l=n.cleanId,u=n.getFromTrace,d=e.traceIs;function c(_,T){var C=_[T],S=T.charAt(0);C&&C!=="paper"&&(_[T]=l(C,S,!0))}function h(_){function T(C,S){var F=_[C],N=_.title&&_.title[S];F&&!N&&(_.title||(_.title={}),_.title[S]=_[C],delete _[C])}_&&(typeof _.title!="string"&&typeof _.title!="number"||(_.title={text:_.title}),T("titlefont","font"),T("titleposition","position"),T("titleside","side"),T("titleoffset","offset"))}function p(_){if(!i.isPlainObject(_))return!1;var T=_.name;return delete _.name,delete _.showlegend,(typeof T=="string"||typeof T=="number")&&String(T)}function g(_,T,C,S){if(C&&!S)return _;if(S&&!C||!_.trim())return T;if(!T.trim())return _;var F,N=Math.min(_.length,T.length);for(F=0;F<N&&_.charAt(F)===T.charAt(F);F++);return _.substr(0,F).trim()}function y(_){var T="middle",C="center";return typeof _=="string"&&(_.indexOf("top")!==-1?T="top":_.indexOf("bottom")!==-1&&(T="bottom"),_.indexOf("left")!==-1?C="left":_.indexOf("right")!==-1&&(C="right")),T+" "+C}function b(_,T){return T in _&&typeof _[T]=="object"&&Object.keys(_[T]).length===0}s.clearPromiseQueue=function(_){Array.isArray(_._promises)&&_._promises.length>0&&i.log("Clearing previous rejected promises from queue."),_._promises=[]},s.cleanLayout=function(_){var T,C;_||(_={}),_.xaxis1&&(_.xaxis||(_.xaxis=_.xaxis1),delete _.xaxis1),_.yaxis1&&(_.yaxis||(_.yaxis=_.yaxis1),delete _.yaxis1),_.scene1&&(_.scene||(_.scene=_.scene1),delete _.scene1);var S=(r.subplotsRegistry.cartesian||{}).attrRegex,F=(r.subplotsRegistry.polar||{}).attrRegex,N=(r.subplotsRegistry.ternary||{}).attrRegex,D=(r.subplotsRegistry.gl3d||{}).attrRegex,j=Object.keys(_);for(T=0;T<j.length;T++){var B=j[T];if(S&&S.test(B)){var J=_[B];J.anchor&&J.anchor!=="free"&&(J.anchor=l(J.anchor)),J.overlaying&&(J.overlaying=l(J.overlaying)),J.type||(J.isdate?J.type="date":J.islog?J.type="log":J.isdate===!1&&J.islog===!1&&(J.type="linear")),J.autorange!=="withzero"&&J.autorange!=="tozero"||(J.autorange=!0,J.rangemode="tozero"),delete J.islog,delete J.isdate,delete J.categories,b(J,"domain")&&delete J.domain,J.autotick!==void 0&&(J.tickmode===void 0&&(J.tickmode=J.autotick?"auto":"linear"),delete J.autotick),h(J)}else if(F&&F.test(B))h(_[B].radialaxis);else if(N&&N.test(B)){var P=_[B];h(P.aaxis),h(P.baxis),h(P.caxis)}else if(D&&D.test(B)){var M=_[B],O=M.cameraposition;if(Array.isArray(O)&&O[0].length===4){var q=O[0],tt=O[1],E=O[2],z=f([],q),Y=[];for(C=0;C<3;++C)Y[C]=tt[C]+E*z[2+4*C];M.camera={eye:{x:Y[0],y:Y[1],z:Y[2]},center:{x:tt[0],y:tt[1],z:tt[2]},up:{x:0,y:0,z:1}},delete M.cameraposition}h(M.xaxis),h(M.yaxis),h(M.zaxis)}}var Q=Array.isArray(_.annotations)?_.annotations.length:0;for(T=0;T<Q;T++){var nt=_.annotations[T];i.isPlainObject(nt)&&(nt.ref&&(nt.ref==="paper"?(nt.xref="paper",nt.yref="paper"):nt.ref==="data"&&(nt.xref="x",nt.yref="y"),delete nt.ref),c(nt,"xref"),c(nt,"yref"))}var et=Array.isArray(_.shapes)?_.shapes.length:0;for(T=0;T<et;T++){var Z=_.shapes[T];i.isPlainObject(Z)&&(c(Z,"xref"),c(Z,"yref"))}var H=Array.isArray(_.images)?_.images.length:0;for(T=0;T<H;T++){var U=_.images[T];i.isPlainObject(U)&&(c(U,"xref"),c(U,"yref"))}var V=_.legend;return V&&(V.x>3?(V.x=1.02,V.xanchor="left"):V.x<-2&&(V.x=-.02,V.xanchor="right"),V.y>3?(V.y=1.02,V.yanchor="bottom"):V.y<-2&&(V.y=-.02,V.yanchor="top")),h(_),_.dragmode==="rotate"&&(_.dragmode="orbit"),o.clean(_),_.template&&_.template.layout&&s.cleanLayout(_.template.layout),_},s.cleanData=function(_){for(var T=0;T<_.length;T++){var C,S=_[T];if(S.type==="histogramy"&&"xbins"in S&&!("ybins"in S)&&(S.ybins=S.xbins,delete S.xbins),S.error_y&&"opacity"in S.error_y){var F=o.defaults,N=S.error_y.color||(d(S,"bar")?o.defaultLine:F[T%F.length]);S.error_y.color=o.addOpacity(o.rgb(N),o.opacity(N)*S.error_y.opacity),delete S.error_y.opacity}if("bardir"in S&&(S.bardir!=="h"||!d(S,"bar")&&S.type.substr(0,9)!=="histogram"||(S.orientation="h",s.swapXYData(S)),delete S.bardir),S.type==="histogramy"&&s.swapXYData(S),S.type!=="histogramx"&&S.type!=="histogramy"||(S.type="histogram"),"scl"in S&&!("colorscale"in S)&&(S.colorscale=S.scl,delete S.scl),"reversescl"in S&&!("reversescale"in S)&&(S.reversescale=S.reversescl,delete S.reversescl),S.xaxis&&(S.xaxis=l(S.xaxis,"x")),S.yaxis&&(S.yaxis=l(S.yaxis,"y")),d(S,"gl3d")&&S.scene&&(S.scene=r.subplotsRegistry.gl3d.cleanId(S.scene)),!d(S,"pie-like")&&!d(S,"bar-like"))if(Array.isArray(S.textposition))for(C=0;C<S.textposition.length;C++)S.textposition[C]=y(S.textposition[C]);else S.textposition&&(S.textposition=y(S.textposition));var D=e.getModule(S);if(D&&D.colorbar){var j=D.colorbar.container,B=j?S[j]:S;B&&B.colorscale&&(B.colorscale==="YIGnBu"&&(B.colorscale="YlGnBu"),B.colorscale==="YIOrRd"&&(B.colorscale="YlOrRd"))}if(S.type==="surface"&&i.isPlainObject(S.contours)){var J=["x","y","z"];for(C=0;C<J.length;C++){var P=S.contours[J[C]];i.isPlainObject(P)&&(P.highlightColor&&(P.highlightcolor=P.highlightColor,delete P.highlightColor),P.highlightWidth&&(P.highlightwidth=P.highlightWidth,delete P.highlightWidth))}}if(S.type==="candlestick"||S.type==="ohlc"){var M=(S.increasing||{}).showlegend!==!1,O=(S.decreasing||{}).showlegend!==!1,q=p(S.increasing),tt=p(S.decreasing);if(q!==!1&&tt!==!1){var E=g(q,tt,M,O);E&&(S.name=E)}else!q&&!tt||S.name||(S.name=q||tt)}if(Array.isArray(S.transforms)){var z=S.transforms;for(C=0;C<z.length;C++){var Y=z[C];if(i.isPlainObject(Y))switch(Y.type){case"filter":Y.filtersrc&&(Y.target=Y.filtersrc,delete Y.filtersrc),Y.calendar&&(Y.valuecalendar||(Y.valuecalendar=Y.calendar),delete Y.calendar);break;case"groupby":if(Y.styles=Y.styles||Y.style,Y.styles&&!Array.isArray(Y.styles)){var Q=Y.styles,nt=Object.keys(Q);Y.styles=[];for(var et=0;et<nt.length;et++)Y.styles.push({target:nt[et],value:Q[nt[et]]})}}}}b(S,"line")&&delete S.line,"marker"in S&&(b(S.marker,"line")&&delete S.marker.line,b(S,"marker")&&delete S.marker),o.clean(S),S.autobinx&&(delete S.autobinx,delete S.xbins),S.autobiny&&(delete S.autobiny,delete S.ybins),h(S),S.colorbar&&h(S.colorbar),S.marker&&S.marker.colorbar&&h(S.marker.colorbar),S.line&&S.line.colorbar&&h(S.line.colorbar),S.aaxis&&h(S.aaxis),S.baxis&&h(S.baxis)}},s.swapXYData=function(_){var T;if(i.swapAttrs(_,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(_.z)&&Array.isArray(_.z[0])&&(_.transpose?delete _.transpose:_.transpose=!0),_.error_x&&_.error_y){var C=_.error_y,S="copy_ystyle"in C?C.copy_ystyle:!(C.color||C.thickness||C.width);i.swapAttrs(_,["error_?.copy_ystyle"]),S&&i.swapAttrs(_,["error_?.color","error_?.thickness","error_?.width"])}if(typeof _.hoverinfo=="string"){var F=_.hoverinfo.split("+");for(T=0;T<F.length;T++)F[T]==="x"?F[T]="y":F[T]==="y"&&(F[T]="x");_.hoverinfo=F.join("+")}},s.coerceTraceIndices=function(_,T){if(a(T))return[T];if(!Array.isArray(T)||!T.length)return _.data.map(function(F,N){return N});if(Array.isArray(T)){for(var C=[],S=0;S<T.length;S++)i.isIndex(T[S],_.data.length)?C.push(T[S]):i.warn("trace index (",T[S],") is not a number or is out of bounds");return C}return T},s.manageArrayContainers=function(_,T,C){var S=_.obj,F=_.parts,N=F.length,D=F[N-1],j=a(D);if(j&&T===null){var B=F.slice(0,N-1).join(".");i.nestedProperty(S,B).get().splice(D,1)}else j&&_.get()===void 0&&_.get()===void 0&&(C[_.astr]=null),_.set(T)};var m=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;function v(_){var T=_.search(m);if(T>0)return _.substr(0,T)}s.hasParent=function(_,T){for(var C=v(T);C;){if(C in _)return!0;C=v(C)}return!1};var x=["x","y","z"];s.clearAxisTypes=function(_,T,C){for(var S=0;S<T.length;S++)for(var F=_._fullData[S],N=0;N<3;N++){var D=u(_,F,x[N]);if(D&&D.type!=="log"){var j=D._name,B=D._id.substr(1);if(B.substr(0,5)==="scene"){if(C[B]!==void 0)continue;j=B+"."+j}var J=j+".type";C[j]===void 0&&C[J]===void 0&&i.nestedProperty(_.layout,J).set(null)}}}},10641:function(w,s,t){var a=t(72391);s._doPlot=a._doPlot,s.newPlot=a.newPlot,s.restyle=a.restyle,s.relayout=a.relayout,s.redraw=a.redraw,s.update=a.update,s._guiRestyle=a._guiRestyle,s._guiRelayout=a._guiRelayout,s._guiUpdate=a._guiUpdate,s._storeDirectGUIEdit=a._storeDirectGUIEdit,s.react=a.react,s.extendTraces=a.extendTraces,s.prependTraces=a.prependTraces,s.addTraces=a.addTraces,s.deleteTraces=a.deleteTraces,s.moveTraces=a.moveTraces,s.purge=a.purge,s.addFrames=a.addFrames,s.deleteFrames=a.deleteFrames,s.animate=a.animate,s.setPlotConfig=a.setPlotConfig,s.toImage=t(403),s.validate=t(84936),s.downloadImage=t(7239);var f=t(96318);s.makeTemplate=f.makeTemplate,s.validateTemplate=f.validateTemplate},6611:function(w,s,t){var a=t(41965),f=t(64213),e=t(47769),i=t(65888).sorterAsc,r=t(73972);s.containerArrayMatch=t(14458);var n=s.isAddVal=function(l){return l==="add"||a(l)},o=s.isRemoveVal=function(l){return l===null||l==="remove"};s.applyContainerArrayChanges=function(l,u,d,c,h){var p=u.astr,g=r.getComponentMethod(p,"supplyLayoutDefaults"),y=r.getComponentMethod(p,"draw"),b=r.getComponentMethod(p,"drawOne"),m=c.replot||c.recalc||g===f||y===f,v=l.layout,x=l._fullLayout;if(d[""]){Object.keys(d).length>1&&e.warn("Full array edits are incompatible with other edits",p);var _=d[""][""];if(o(_))u.set(null);else{if(!Array.isArray(_))return e.warn("Unrecognized full array edit value",p,_),!0;u.set(_)}return!m&&(g(v,x),y(l),!0)}var T,C,S,F,N,D,j,B,J=Object.keys(d).map(Number).sort(i),P=u.get(),M=P||[],O=h(x,p).get(),q=[],tt=-1,E=M.length;for(T=0;T<J.length;T++)if(F=d[S=J[T]],N=Object.keys(F),D=F[""],j=n(D),S<0||S>M.length-(j?0:1))e.warn("index out of range",p,S);else if(D!==void 0)N.length>1&&e.warn("Insertion & removal are incompatible with edits to the same index.",p,S),o(D)?q.push(S):j?(D==="add"&&(D={}),M.splice(S,0,D),O&&O.splice(S,0,{})):e.warn("Unrecognized full object edit value",p,S,D),tt===-1&&(tt=S);else for(C=0;C<N.length;C++)B=p+"["+S+"].",h(M[S],N[C],B).set(F[N[C]]);for(T=q.length-1;T>=0;T--)M.splice(q[T],1),O&&O.splice(q[T],1);if(M.length?P||u.set(M):u.set(null),m)return!1;if(g(v,x),b!==f){var z;if(tt===-1)z=J;else{for(E=Math.max(M.length,E),z=[],T=0;T<J.length&&!((S=J[T])>=tt);T++)z.push(S);for(T=tt;T<E;T++)z.push(T)}for(T=0;T<z.length;T++)b(l,z[T])}else y(l);return!0}},72391:function(w,s,t){var a=t(39898),f=t(92770),e=t(57035),i=t(71828),r=i.nestedProperty,n=t(11086),o=t(10847),l=t(73972),u=t(86281),d=t(74875),c=t(89298),h=t(91424),p=t(7901),g=t(4305).initInteractions,y=t(77922),b=t(47322).clearOutline,m=t(72075).dfltConfig,v=t(6611),x=t(58377),_=t(61549),T=t(30962),C=t(85555).AX_NAME_PATTERN,S=0;function F(L){var X=L._fullLayout;X._redrawFromAutoMarginCount?X._redrawFromAutoMarginCount--:L.emit("plotly_afterplot")}function N(L,X){try{L._fullLayout._paper.style("background",X)}catch(it){i.error(it)}}function D(L,X){N(L,p.combine(X,"white"))}function j(L,X){if(!L._context){L._context=i.extendDeep({},m);var it=a.select("base");L._context._baseUrl=it.size()&&it.attr("href")?window.location.href.split("#")[0]:""}var ft,gt,wt,xt=L._context;if(X){for(gt=Object.keys(X),ft=0;ft<gt.length;ft++)(wt=gt[ft])!=="editable"&&wt!=="edits"&&wt in xt&&(wt==="setBackground"&&X[wt]==="opaque"?xt[wt]=D:xt[wt]=X[wt]);X.plot3dPixelRatio&&!xt.plotGlPixelRatio&&(xt.plotGlPixelRatio=xt.plot3dPixelRatio);var Ft=X.editable;if(Ft!==void 0)for(xt.editable=Ft,gt=Object.keys(xt.edits),ft=0;ft<gt.length;ft++)xt.edits[gt[ft]]=Ft;if(X.edits)for(gt=Object.keys(X.edits),ft=0;ft<gt.length;ft++)(wt=gt[ft])in xt.edits&&(xt.edits[wt]=X.edits[wt]);xt._exportedPlot=X._exportedPlot}xt.staticPlot&&(xt.editable=!1,xt.edits={},xt.autosizable=!1,xt.scrollZoom=!1,xt.doubleClick=!1,xt.showTips=!1,xt.showLink=!1,xt.displayModeBar=!1),xt.displayModeBar!=="hover"||e||(xt.displayModeBar=!0),xt.setBackground!=="transparent"&&typeof xt.setBackground=="function"||(xt.setBackground=N),xt._hasZeroHeight=xt._hasZeroHeight||L.clientHeight===0,xt._hasZeroWidth=xt._hasZeroWidth||L.clientWidth===0;var Bt=xt.scrollZoom,Mt=xt._scrollZoom={};if(Bt===!0)Mt.cartesian=1,Mt.gl3d=1,Mt.geo=1,Mt.mapbox=1;else if(typeof Bt=="string"){var St=Bt.split("+");for(ft=0;ft<St.length;ft++)Mt[St[ft]]=1}else Bt!==!1&&(Mt.gl3d=1,Mt.geo=1,Mt.mapbox=1)}function B(L,X){var it,ft,gt=X+1,wt=[];for(it=0;it<L.length;it++)(ft=L[it])<0?wt.push(gt+ft):wt.push(ft);return wt}function J(L,X,it){var ft,gt;for(ft=0;ft<X.length;ft++){if((gt=X[ft])!==parseInt(gt,10))throw new Error("all values in "+it+" must be integers");if(gt>=L.data.length||gt<-L.data.length)throw new Error(it+" must be valid indices for gd.data.");if(X.indexOf(gt,ft+1)>-1||gt>=0&&X.indexOf(-L.data.length+gt)>-1||gt<0&&X.indexOf(L.data.length+gt)>-1)throw new Error("each index in "+it+" must be unique.")}}function P(L,X,it){if(!Array.isArray(L.data))throw new Error("gd.data must be an array.");if(X===void 0)throw new Error("currentIndices is a required argument.");if(Array.isArray(X)||(X=[X]),J(L,X,"currentIndices"),it===void 0||Array.isArray(it)||(it=[it]),it!==void 0&&J(L,it,"newIndices"),it!==void 0&&X.length!==it.length)throw new Error("current and new indices must be of equal length.")}function M(L,X,it,ft,gt){(function(Pt,zt,Xt,Gt){var Kt=i.isPlainObject(Gt);if(!Array.isArray(Pt.data))throw new Error("gd.data must be an array");if(!i.isPlainObject(zt))throw new Error("update must be a key:value object");if(Xt===void 0)throw new Error("indices must be an integer or array of integers");for(var ie in J(Pt,Xt,"indices"),zt){if(!Array.isArray(zt[ie])||zt[ie].length!==Xt.length)throw new Error("attribute "+ie+" must be an array of length equal to indices array length");if(Kt&&(!(ie in Gt)||!Array.isArray(Gt[ie])||Gt[ie].length!==zt[ie].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}})(L,X,it,ft);for(var wt=function(Pt,zt,Xt,Gt){var Kt,ie,de,Jt,Nt,Vt=i.isPlainObject(Gt),Zt=[];for(var Wt in Array.isArray(Xt)||(Xt=[Xt]),Xt=B(Xt,Pt.data.length-1),zt)for(var he=0;he<Xt.length;he++){if(Kt=Pt.data[Xt[he]],ie=(de=r(Kt,Wt)).get(),Jt=zt[Wt][he],!i.isArrayOrTypedArray(Jt))throw new Error("attribute: "+Wt+" index: "+he+" must be an array");if(!i.isArrayOrTypedArray(ie))throw new Error("cannot extend missing or non-array attribute: "+Wt);if(ie.constructor!==Jt.constructor)throw new Error("cannot extend array with an array of a different type: "+Wt);Nt=Vt?Gt[Wt][he]:Gt,f(Nt)||(Nt=-1),Zt.push({prop:de,target:ie,insert:Jt,maxp:Math.floor(Nt)})}return Zt}(L,X,it,ft),xt={},Ft={},Bt=0;Bt<wt.length;Bt++){var Mt=wt[Bt].prop,St=wt[Bt].maxp,Lt=gt(wt[Bt].target,wt[Bt].insert,St);Mt.set(Lt[0]),Array.isArray(xt[Mt.astr])||(xt[Mt.astr]=[]),xt[Mt.astr].push(Lt[1]),Array.isArray(Ft[Mt.astr])||(Ft[Mt.astr]=[]),Ft[Mt.astr].push(wt[Bt].target.length)}return{update:xt,maxPoints:Ft}}function O(L,X){var it=new L.constructor(L.length+X.length);return it.set(L),it.set(X,L.length),it}function q(L,X,it,ft){L=i.getGraphDiv(L),x.clearPromiseQueue(L);var gt={};if(typeof X=="string")gt[X]=it;else{if(!i.isPlainObject(X))return i.warn("Restyle fail.",X,it,ft),Promise.reject();gt=i.extendFlat({},X),ft===void 0&&(ft=it)}Object.keys(gt).length&&(L.changed=!0);var wt=x.coerceTraceIndices(L,ft),xt=Y(L,gt,wt),Ft=xt.flags;Ft.calc&&(L.calcdata=void 0),Ft.clearAxisTypes&&x.clearAxisTypes(L,wt,{});var Bt=[];Ft.fullReplot?Bt.push(s._doPlot):(Bt.push(d.previousPromises),d.supplyDefaults(L),Ft.markerSize&&(d.doCalcdata(L),Z(Bt)),Ft.style&&Bt.push(_.doTraceStyle),Ft.colorbars&&Bt.push(_.doColorBars),Bt.push(F)),Bt.push(d.rehover,d.redrag,d.reselect),o.add(L,q,[L,xt.undoit,xt.traces],q,[L,xt.redoit,xt.traces]);var Mt=i.syncOrAsync(Bt,L);return Mt&&Mt.then||(Mt=Promise.resolve()),Mt.then(function(){return L.emit("plotly_restyle",xt.eventData),L})}function tt(L){return L===void 0?null:L}function E(L,X){return X?function(it,ft,gt){var wt=r(it,ft),xt=wt.set;return wt.set=function(Ft){z((gt||"")+ft,wt.get(),Ft,L),xt(Ft)},wt}:r}function z(L,X,it,ft){if(Array.isArray(X)||Array.isArray(it))for(var gt=Array.isArray(X)?X:[],wt=Array.isArray(it)?it:[],xt=Math.max(gt.length,wt.length),Ft=0;Ft<xt;Ft++)z(L+"["+Ft+"]",gt[Ft],wt[Ft],ft);else if(i.isPlainObject(X)||i.isPlainObject(it)){var Bt=i.isPlainObject(X)?X:{},Mt=i.isPlainObject(it)?it:{},St=i.extendFlat({},Bt,Mt);for(var Lt in St)z(L+"."+Lt,Bt[Lt],Mt[Lt],ft)}else ft[L]===void 0&&(ft[L]=tt(X))}function Y(L,X,it){var ft,gt=L._fullLayout,wt=L._fullData,xt=L.data,Ft=gt._guiEditing,Bt=E(gt._preGUI,Ft),Mt=i.extendDeepAll({},X);Q(X);var St,Lt=T.traceFlags(),Pt={},zt={};function Xt(){return it.map(function(){})}function Gt(_e){var xe=c.id2name(_e);St.indexOf(xe)===-1&&St.push(xe)}function Kt(_e){return"LAYOUT"+_e+".autorange"}function ie(_e){return"LAYOUT"+_e+".range"}function de(_e){for(var xe=_e;xe<wt.length;xe++)if(wt[xe]._input===xt[_e])return wt[xe]}function Jt(_e,xe,me){if(Array.isArray(_e))_e.forEach(function(Ae){Jt(Ae,xe,me)});else if(!(_e in X)&&!x.hasParent(X,_e)){var Te;if(_e.substr(0,6)==="LAYOUT")Te=Bt(L.layout,_e.replace("LAYOUT",""));else{var we=it[me];Te=E(gt._tracePreGUI[de(we)._fullInput.uid],Ft)(xt[we],_e)}_e in zt||(zt[_e]=Xt()),zt[_e][me]===void 0&&(zt[_e][me]=tt(Te.get())),xe!==void 0&&Te.set(xe)}}function Nt(_e){return function(xe){return wt[xe][_e]}}function Vt(_e){return function(xe,me){return xe===!1?wt[it[me]][_e]:null}}for(var Zt in X){if(x.hasParent(X,Zt))throw new Error("cannot set "+Zt+" and a parent attribute simultaneously");var Wt,he,$t,ye,se,Pe,Ce=X[Zt];if(Zt!=="autobinx"&&Zt!=="autobiny"||(Zt=Zt.charAt(Zt.length-1)+"bins",Ce=Array.isArray(Ce)?Ce.map(Vt(Zt)):Ce===!1?it.map(Nt(Zt)):null),Pt[Zt]=Ce,Zt.substr(0,6)!=="LAYOUT"){for(zt[Zt]=Xt(),ft=0;ft<it.length;ft++)if(Wt=xt[it[ft]],he=de(it[ft]),ye=($t=E(gt._tracePreGUI[he._fullInput.uid],Ft)(Wt,Zt)).get(),(se=Array.isArray(Ce)?Ce[ft%Ce.length]:Ce)!==void 0){var Ne=$t.parts[$t.parts.length-1],yt=Zt.substr(0,Zt.length-Ne.length-1),vt=yt?yt+".":"",Rt=yt?r(he,yt).get():he;if((Pe=u.getTraceValObject(he,$t.parts))&&Pe.impliedEdits&&se!==null)for(var Ut in Pe.impliedEdits)Jt(i.relativeAttr(Zt,Ut),Pe.impliedEdits[Ut],ft);else if(Ne!=="thicknessmode"&&Ne!=="lenmode"||ye===se||se!=="fraction"&&se!=="pixels"||!Rt){if(Zt==="type"&&(se==="pie"!=(ye==="pie")||se==="funnelarea"!=(ye==="funnelarea"))){var Ht="x",Yt="y";se!=="bar"&&ye!=="bar"||Wt.orientation!=="h"||(Ht="y",Yt="x"),i.swapAttrs(Wt,["?","?src"],"labels",Ht),i.swapAttrs(Wt,["d?","?0"],"label",Ht),i.swapAttrs(Wt,["?","?src"],"values",Yt),ye==="pie"||ye==="funnelarea"?(r(Wt,"marker.color").set(r(Wt,"marker.colors").get()),gt._pielayer.selectAll("g.trace").remove()):l.traceIs(Wt,"cartesian")&&r(Wt,"marker.colors").set(r(Wt,"marker.color").get())}}else{var ee=gt._size,ne=Rt.orient,re=ne==="top"||ne==="bottom";if(Ne==="thicknessmode"){var ve=re?ee.h:ee.w;Jt(vt+"thickness",Rt.thickness*(se==="fraction"?1/ve:ve),ft)}else{var fe=re?ee.w:ee.h;Jt(vt+"len",Rt.len*(se==="fraction"?1/fe:fe),ft)}}if(zt[Zt][ft]=tt(ye),["swapxy","swapxyaxes","orientation","orientationaxes"].indexOf(Zt)!==-1){if(Zt==="orientation"){$t.set(se);var pe=Wt.x&&!Wt.y?"h":"v";if(($t.get()||pe)===he.orientation)continue}else Zt==="orientationaxes"&&(Wt.orientation={v:"h",h:"v"}[he.orientation]);x.swapXYData(Wt),Lt.calc=Lt.clearAxisTypes=!0}else d.dataArrayContainers.indexOf($t.parts[0])!==-1?(x.manageArrayContainers($t,se,zt),Lt.calc=!0):(Pe?Pe.arrayOk&&!l.traceIs(he,"regl")&&(i.isArrayOrTypedArray(se)||i.isArrayOrTypedArray(ye))?Lt.calc=!0:T.update(Lt,Pe):Lt.calc=!0,$t.set(se))}if(["swapxyaxes","orientationaxes"].indexOf(Zt)!==-1&&c.swap(L,it),Zt==="orientationaxes"){var ze=r(L.layout,"hovermode"),Be=ze.get();Be==="x"?ze.set("y"):Be==="y"?ze.set("x"):Be==="x unified"?ze.set("y unified"):Be==="y unified"&&ze.set("x unified")}if(["orientation","type"].indexOf(Zt)!==-1){for(St=[],ft=0;ft<it.length;ft++){var Me=xt[it[ft]];l.traceIs(Me,"cartesian")&&(Gt(Me.xaxis||"x"),Gt(Me.yaxis||"y"))}Jt(St.map(Kt),!0,0),Jt(St.map(ie),[0,1],0)}}else $t=Bt(L.layout,Zt.replace("LAYOUT","")),zt[Zt]=[tt($t.get())],$t.set(Array.isArray(Ce)?Ce[0]:Ce),Lt.calc=!0}return(Lt.calc||Lt.plot)&&(Lt.fullReplot=!0),{flags:Lt,undoit:zt,redoit:Pt,traces:it,eventData:i.extendDeepNoArrays([],[Mt,it])}}function Q(L){var X,it,ft,gt=i.counterRegex("axis",".title",!1,!1),wt=/colorbar\.title$/,xt=Object.keys(L);for(X=0;X<xt.length;X++)it=xt[X],ft=L[it],it!=="title"&&!gt.test(it)&&!wt.test(it)||typeof ft!="string"&&typeof ft!="number"?it.indexOf("titlefont")>-1&&it.indexOf("grouptitlefont")===-1?Ft(it,it.replace("titlefont","title.font")):it.indexOf("titleposition")>-1?Ft(it,it.replace("titleposition","title.position")):it.indexOf("titleside")>-1?Ft(it,it.replace("titleside","title.side")):it.indexOf("titleoffset")>-1&&Ft(it,it.replace("titleoffset","title.offset")):Ft(it,it.replace("title","title.text"));function Ft(Bt,Mt){L[Mt]=L[Bt],delete L[Bt]}}function nt(L,X,it){L=i.getGraphDiv(L),x.clearPromiseQueue(L);var ft={};if(typeof X=="string")ft[X]=it;else{if(!i.isPlainObject(X))return i.warn("Relayout fail.",X,it),Promise.reject();ft=i.extendFlat({},X)}Object.keys(ft).length&&(L.changed=!0);var gt=$(L,ft),wt=gt.flags;wt.calc&&(L.calcdata=void 0);var xt=[d.previousPromises];wt.layoutReplot?xt.push(_.layoutReplot):Object.keys(ft).length&&(et(L,wt,gt)||d.supplyDefaults(L),wt.legend&&xt.push(_.doLegend),wt.layoutstyle&&xt.push(_.layoutStyles),wt.axrange&&Z(xt,gt.rangesAltered),wt.ticks&&xt.push(_.doTicksRelayout),wt.modebar&&xt.push(_.doModeBar),wt.camera&&xt.push(_.doCamera),wt.colorbars&&xt.push(_.doColorBars),xt.push(F)),xt.push(d.rehover,d.redrag,d.reselect),o.add(L,nt,[L,gt.undoit],nt,[L,gt.redoit]);var Ft=i.syncOrAsync(xt,L);return Ft&&Ft.then||(Ft=Promise.resolve(L)),Ft.then(function(){return L.emit("plotly_relayout",gt.eventData),L})}function et(L,X,it){var ft=L._fullLayout;if(!X.axrange)return!1;for(var gt in X)if(gt!=="axrange"&&X[gt])return!1;for(var wt in it.rangesAltered){var xt=c.id2name(wt),Ft=L.layout[xt],Bt=ft[xt];if(Bt.autorange=Ft.autorange,Ft.range&&(Bt.range=Ft.range.slice()),Bt.cleanRange(),Bt._matchGroup){for(var Mt in Bt._matchGroup)if(Mt!==wt){var St=ft[c.id2name(Mt)];St.autorange=Bt.autorange,St.range=Bt.range.slice(),St._input.range=Bt.range.slice()}}}return!0}function Z(L,X){var it=X?function(ft){var gt=[];for(var wt in X){var xt=c.getFromId(ft,wt);if(gt.push(wt),(xt.ticklabelposition||"").indexOf("inside")!==-1&&xt._anchorAxis&&gt.push(xt._anchorAxis._id),xt._matchGroup)for(var Ft in xt._matchGroup)X[Ft]||gt.push(Ft)}return c.draw(ft,gt,{skipTitle:!0})}:function(ft){return c.draw(ft,"redraw")};L.push(b,_.doAutoRangeAndConstraints,it,_.drawData,_.finalDraw)}var H=/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/,U=/^[xyz]axis[0-9]*\.autorange$/,V=/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/;function $(L,X){var it,ft,gt,wt=L.layout,xt=L._fullLayout,Ft=xt._guiEditing,Bt=E(xt._preGUI,Ft),Mt=Object.keys(X),St=c.list(L),Lt=i.extendDeepAll({},X),Pt={};for(Q(X),Mt=Object.keys(X),ft=0;ft<Mt.length;ft++)if(Mt[ft].indexOf("allaxes")===0){for(gt=0;gt<St.length;gt++){var zt=St[gt]._id.substr(1),Xt=zt.indexOf("scene")!==-1?zt+".":"",Gt=Mt[ft].replace("allaxes",Xt+St[gt]._name);X[Gt]||(X[Gt]=X[Mt[ft]])}delete X[Mt[ft]]}var Kt=T.layoutFlags(),ie={},de={};function Jt(we,Ae){if(Array.isArray(we))we.forEach(function(Re){Jt(Re,Ae)});else if(!(we in X)&&!x.hasParent(X,we)){var Ye=Bt(wt,we);we in de||(de[we]=tt(Ye.get())),Ae!==void 0&&Ye.set(Ae)}}var Nt,Vt={};function Zt(we){var Ae=c.name2id(we.split(".")[0]);return Vt[Ae]=1,Ae}for(var Wt in X){if(x.hasParent(X,Wt))throw new Error("cannot set "+Wt+" and a parent attribute simultaneously");for(var he=Bt(wt,Wt),$t=X[Wt],ye=he.parts.length-1;ye>0&&typeof he.parts[ye]!="string";)ye--;var se=he.parts[ye],Pe=he.parts[ye-1]+"."+se,Ce=he.parts.slice(0,ye).join("."),Ne=r(L.layout,Ce).get(),yt=r(xt,Ce).get(),vt=he.get();if($t!==void 0){ie[Wt]=$t,de[Wt]=se==="reverse"?$t:tt(vt);var Rt=u.getLayoutValObject(xt,he.parts);if(Rt&&Rt.impliedEdits&&$t!==null)for(var Ut in Rt.impliedEdits)Jt(i.relativeAttr(Wt,Ut),Rt.impliedEdits[Ut]);if(["width","height"].indexOf(Wt)!==-1)if($t){Jt("autosize",null);var Ht=Wt==="height"?"width":"height";Jt(Ht,xt[Ht])}else xt[Wt]=L._initialAutoSize[Wt];else if(Wt==="autosize")Jt("width",$t?null:xt.width),Jt("height",$t?null:xt.height);else if(Pe.match(H))Zt(Pe),r(xt,Ce+"._inputRange").set(null);else if(Pe.match(U)){Zt(Pe),r(xt,Ce+"._inputRange").set(null);var Yt=r(xt,Ce).get();Yt._inputDomain&&(Yt._input.domain=Yt._inputDomain.slice())}else Pe.match(V)&&r(xt,Ce+"._inputDomain").set(null);if(se==="type"){Nt=Ne;var ee=yt.type==="linear"&&$t==="log",ne=yt.type==="log"&&$t==="linear";if(ee||ne){if(Nt&&Nt.range)if(yt.autorange)ee&&(Nt.range=Nt.range[1]>Nt.range[0]?[1,2]:[2,1]);else{var re=Nt.range[0],ve=Nt.range[1];ee?(re<=0&&ve<=0&&Jt(Ce+".autorange",!0),re<=0?re=ve/1e6:ve<=0&&(ve=re/1e6),Jt(Ce+".range[0]",Math.log(re)/Math.LN10),Jt(Ce+".range[1]",Math.log(ve)/Math.LN10)):(Jt(Ce+".range[0]",Math.pow(10,re)),Jt(Ce+".range[1]",Math.pow(10,ve)))}else Jt(Ce+".autorange",!0);Array.isArray(xt._subplots.polar)&&xt._subplots.polar.length&&xt[he.parts[0]]&&he.parts[1]==="radialaxis"&&delete xt[he.parts[0]]._subplot.viewInitial["radialaxis.range"],l.getComponentMethod("annotations","convertCoords")(L,yt,$t,Jt),l.getComponentMethod("images","convertCoords")(L,yt,$t,Jt)}else Jt(Ce+".autorange",!0),Jt(Ce+".range",null);r(xt,Ce+"._inputRange").set(null)}else if(se.match(C)){var fe=r(xt,Wt).get(),pe=($t||{}).type;pe&&pe!=="-"||(pe="linear"),l.getComponentMethod("annotations","convertCoords")(L,fe,pe,Jt),l.getComponentMethod("images","convertCoords")(L,fe,pe,Jt)}var ze=v.containerArrayMatch(Wt);if(ze){it=ze.array,ft=ze.index;var Be=ze.property,Me=Rt||{editType:"calc"};ft!==""&&Be===""&&(v.isAddVal($t)?de[Wt]=null:v.isRemoveVal($t)?de[Wt]=(r(wt,it).get()||[])[ft]:i.warn("unrecognized full object value",X)),T.update(Kt,Me),Pt[it]||(Pt[it]={});var _e=Pt[it][ft];_e||(_e=Pt[it][ft]={}),_e[Be]=$t,delete X[Wt]}else se==="reverse"?(Ne.range?Ne.range.reverse():(Jt(Ce+".autorange",!0),Ne.range=[1,0]),yt.autorange?Kt.calc=!0:Kt.plot=!0):(Wt==="dragmode"&&($t===!1&&vt!==!1||$t!==!1&&vt===!1)||xt._has("scatter-like")&&xt._has("regl")&&Wt==="dragmode"&&($t==="lasso"||$t==="select")&&vt!=="lasso"&&vt!=="select"||xt._has("gl2d")?Kt.plot=!0:Rt?T.update(Kt,Rt):Kt.calc=!0,he.set($t))}}for(it in Pt)v.applyContainerArrayChanges(L,Bt(wt,it),Pt[it],Kt,Bt)||(Kt.plot=!0);for(var xe in Vt){var me=(Nt=c.getFromId(L,xe))&&Nt._constraintGroup;if(me)for(var Te in Kt.calc=!0,me)Vt[Te]||(c.getFromId(L,Te)._constraintShrinkable=!0)}return(at(L)||X.height||X.width)&&(Kt.plot=!0),(Kt.plot||Kt.calc)&&(Kt.layoutReplot=!0),{flags:Kt,rangesAltered:Vt,undoit:de,redoit:ie,eventData:Lt}}function at(L){var X=L._fullLayout,it=X.width,ft=X.height;return L.layout.autosize&&d.plotAutoSize(L,L.layout,X),X.width!==it||X.height!==ft}function rt(L,X,it,ft){L=i.getGraphDiv(L),x.clearPromiseQueue(L),i.isPlainObject(X)||(X={}),i.isPlainObject(it)||(it={}),Object.keys(X).length&&(L.changed=!0),Object.keys(it).length&&(L.changed=!0);var gt=x.coerceTraceIndices(L,ft),wt=Y(L,i.extendFlat({},X),gt),xt=wt.flags,Ft=$(L,i.extendFlat({},it)),Bt=Ft.flags;(xt.calc||Bt.calc)&&(L.calcdata=void 0),xt.clearAxisTypes&&x.clearAxisTypes(L,gt,it);var Mt=[];Bt.layoutReplot?Mt.push(_.layoutReplot):xt.fullReplot?Mt.push(s._doPlot):(Mt.push(d.previousPromises),et(L,Bt,Ft)||d.supplyDefaults(L),xt.style&&Mt.push(_.doTraceStyle),(xt.colorbars||Bt.colorbars)&&Mt.push(_.doColorBars),Bt.legend&&Mt.push(_.doLegend),Bt.layoutstyle&&Mt.push(_.layoutStyles),Bt.axrange&&Z(Mt,Ft.rangesAltered),Bt.ticks&&Mt.push(_.doTicksRelayout),Bt.modebar&&Mt.push(_.doModeBar),Bt.camera&&Mt.push(_.doCamera),Mt.push(F)),Mt.push(d.rehover,d.redrag,d.reselect),o.add(L,rt,[L,wt.undoit,Ft.undoit,wt.traces],rt,[L,wt.redoit,Ft.redoit,wt.traces]);var St=i.syncOrAsync(Mt,L);return St&&St.then||(St=Promise.resolve(L)),St.then(function(){return L.emit("plotly_update",{data:wt.eventData,layout:Ft.eventData}),L})}function ot(L){return function(X){X._fullLayout._guiEditing=!0;var it=L.apply(null,arguments);return X._fullLayout._guiEditing=!1,it}}var ct=[{pattern:/^hiddenlabels/,attr:"legend.uirevision"},{pattern:/^((x|y)axis\d*)\.((auto)?range|title\.text)/},{pattern:/axis\d*\.showspikes$/,attr:"modebar.uirevision"},{pattern:/(hover|drag)mode$/,attr:"modebar.uirevision"},{pattern:/^(scene\d*)\.camera/},{pattern:/^(geo\d*)\.(projection|center|fitbounds)/},{pattern:/^(ternary\d*\.[abc]axis)\.(min|title\.text)$/},{pattern:/^(polar\d*\.radialaxis)\.((auto)?range|angle|title\.text)/},{pattern:/^(polar\d*\.angularaxis)\.rotation/},{pattern:/^(mapbox\d*)\.(center|zoom|bearing|pitch)/},{pattern:/^legend\.(x|y)$/,attr:"editrevision"},{pattern:/^(shapes|annotations)/,attr:"editrevision"},{pattern:/^title\.text$/,attr:"editrevision"}],ht=[{pattern:/^selectedpoints$/,attr:"selectionrevision"},{pattern:/(^|value\.)visible$/,attr:"legend.uirevision"},{pattern:/^dimensions\[\d+\]\.constraintrange/},{pattern:/^node\.(x|y|groups)/},{pattern:/^level$/},{pattern:/(^|value\.)name$/},{pattern:/colorbar\.title\.text$/},{pattern:/colorbar\.(x|y)$/,attr:"editrevision"}];function mt(L,X){for(var it=0;it<X.length;it++){var ft=X[it],gt=L.match(ft.pattern);if(gt){var wt=gt[1]||"";return{head:wt,tail:L.substr(wt.length+1),attr:ft.attr}}}}function kt(L,X){var it=r(X,L).get();if(it!==void 0)return it;var ft=L.split(".");for(ft.pop();ft.length>1;)if(ft.pop(),(it=r(X,ft.join(".")+".uirevision").get())!==void 0)return it;return X.uirevision}function Ct(L,X){for(var it=0;it<X.length;it++)if(X[it]._fullInput.uid===L)return it;return-1}function It(L,X,it){for(var ft=0;ft<X.length;ft++)if(X[ft].uid===L)return ft;return!X[it]||X[it].uid?-1:it}function pt(L,X){var it=i.isPlainObject(L),ft=Array.isArray(L);return it||ft?(it&&i.isPlainObject(X)||ft&&Array.isArray(X))&&JSON.stringify(L)===JSON.stringify(X):L===X}function bt(L,X,it,ft){var gt,wt,xt,Ft=ft.getValObject,Bt=ft.flags,Mt=ft.immutable,St=ft.inArray,Lt=ft.arrayIndex;function Pt(){var Ne=gt.editType;St&&Ne.indexOf("arraydraw")!==-1?i.pushUnique(Bt.arrays[St],Lt):(T.update(Bt,gt),Ne!=="none"&&Bt.nChanges++,ft.transition&&gt.anim&&Bt.nChangesAnim++,(H.test(xt)||U.test(xt))&&(Bt.rangesAltered[it[0]]=1),V.test(xt)&&r(X,"_inputDomain").set(null),wt==="datarevision"&&(Bt.newDataRevision=1))}function zt(Ne){return Ne.valType==="data_array"||Ne.arrayOk}for(wt in L){if(Bt.calc&&!ft.transition)return;var Xt=L[wt],Gt=X[wt],Kt=it.concat(wt);if(xt=Kt.join("."),wt.charAt(0)!=="_"&&typeof Xt!="function"&&Xt!==Gt){if((wt==="tick0"||wt==="dtick")&&it[0]!=="geo"){var ie=X.tickmode;if(ie==="auto"||ie==="array"||!ie)continue}if((wt!=="range"||!X.autorange)&&(wt!=="zmin"&&wt!=="zmax"||X.type!=="contourcarpet")&&(gt=Ft(Kt))&&(!gt._compareAsJSON||JSON.stringify(Xt)!==JSON.stringify(Gt))){var de,Jt=gt.valType,Nt=zt(gt),Vt=Array.isArray(Xt),Zt=Array.isArray(Gt);if(Vt&&Zt){var Wt="_input_"+wt,he=L[Wt],$t=X[Wt];if(Array.isArray(he)&&he===$t)continue}if(Gt===void 0)Nt&&Vt?Bt.calc=!0:Pt();else if(gt._isLinkedToArray){var ye=[],se=!1;St||(Bt.arrays[wt]=ye);var Pe=Math.min(Xt.length,Gt.length),Ce=Math.max(Xt.length,Gt.length);if(Pe!==Ce){if(gt.editType!=="arraydraw"){Pt();continue}se=!0}for(de=0;de<Pe;de++)bt(Xt[de],Gt[de],Kt.concat(de),i.extendFlat({inArray:wt,arrayIndex:de},ft));if(se)for(de=Pe;de<Ce;de++)ye.push(de)}else!Jt&&i.isPlainObject(Xt)?bt(Xt,Gt,Kt,ft):Nt?Vt&&Zt?(Mt&&(Bt.calc=!0),(Mt||ft.newDataRevision)&&Pt()):Vt!==Zt?Bt.calc=!0:Pt():Vt&&Zt&&Xt.length===Gt.length&&String(Xt)===String(Gt)||Pt()}}}for(wt in X)if(!(wt in L)&&wt.charAt(0)!=="_"&&typeof X[wt]!="function"){if(zt(gt=Ft(it.concat(wt)))&&Array.isArray(X[wt]))return void(Bt.calc=!0);Pt()}}function _t(L,X){var it;for(it in L)if(it.charAt(0)!=="_"){var ft=L[it],gt=X[it];if(ft!==gt)if(i.isPlainObject(ft)&&i.isPlainObject(gt)){if(_t(ft,gt))return!0}else{if(!Array.isArray(ft)||!Array.isArray(gt)||ft.length!==gt.length)return!0;for(var wt=0;wt<ft.length;wt++)if(ft[wt]!==gt[wt]&&(!i.isPlainObject(ft[wt])||!i.isPlainObject(gt[wt])||_t(ft[wt],gt[wt])))return!0}}}function Dt(L){var X=L._fullLayout,it=L.getBoundingClientRect();if(!i.equalDomRects(it,X._lastBBox)){var ft=X._invTransform=i.inverseTransformMatrix(i.getFullTransformMatrix(L));X._invScaleX=Math.sqrt(ft[0][0]*ft[0][0]+ft[0][1]*ft[0][1]+ft[0][2]*ft[0][2]),X._invScaleY=Math.sqrt(ft[1][0]*ft[1][0]+ft[1][1]*ft[1][1]+ft[1][2]*ft[1][2]),X._lastBBox=it}}s.animate=function(L,X,it){if(L=i.getGraphDiv(L),!i.isPlotDiv(L))throw new Error("This element is not a Plotly plot: "+L+". It's likely that you've failed to create a plot before animating it. For more details, see https://plotly.com/javascript/animations/");var ft=L._transitionData;ft._frameQueue||(ft._frameQueue=[]);var gt=(it=d.supplyAnimationDefaults(it)).transition,wt=it.frame;function xt(Mt){return Array.isArray(gt)?Mt>=gt.length?gt[0]:gt[Mt]:gt}function Ft(Mt){return Array.isArray(wt)?Mt>=wt.length?wt[0]:wt[Mt]:wt}function Bt(Mt,St){var Lt=0;return function(){if(Mt&&++Lt===St)return Mt()}}return ft._frameWaitingCnt===void 0&&(ft._frameWaitingCnt=0),new Promise(function(Mt,St){function Lt(){L.emit("plotly_animating"),ft._lastFrameAt=-1/0,ft._timeToNext=0,ft._runningTransitions=0,ft._currentFrame=null;var Wt=function(){ft._animationRaf=window.requestAnimationFrame(Wt),Date.now()-ft._lastFrameAt>ft._timeToNext&&function(){ft._currentFrame&&ft._currentFrame.onComplete&&ft._currentFrame.onComplete();var he=ft._currentFrame=ft._frameQueue.shift();if(he){var $t=he.name?he.name.toString():null;L._fullLayout._currentFrame=$t,ft._lastFrameAt=Date.now(),ft._timeToNext=he.frameOpts.duration,d.transition(L,he.frame.data,he.frame.layout,x.coerceTraceIndices(L,he.frame.traces),he.frameOpts,he.transitionOpts).then(function(){he.onComplete&&he.onComplete()}),L.emit("plotly_animatingframe",{name:$t,frame:he.frame,animation:{frame:he.frameOpts,transition:he.transitionOpts}})}else L.emit("plotly_animated"),window.cancelAnimationFrame(ft._animationRaf),ft._animationRaf=null}()};Wt()}var Pt,zt,Xt=0;function Gt(Wt){return Array.isArray(gt)?Xt>=gt.length?Wt.transitionOpts=gt[Xt]:Wt.transitionOpts=gt[0]:Wt.transitionOpts=gt,Xt++,Wt}var Kt=[],ie=X==null,de=Array.isArray(X);if(ie||de||!i.isPlainObject(X)){if(ie||["string","number"].indexOf(typeof X)!==-1)for(Pt=0;Pt<ft._frames.length;Pt++)(zt=ft._frames[Pt])&&(ie||String(zt.group)===String(X))&&Kt.push({type:"byname",name:String(zt.name),data:Gt({name:zt.name})});else if(de)for(Pt=0;Pt<X.length;Pt++){var Jt=X[Pt];["number","string"].indexOf(typeof Jt)!==-1?(Jt=String(Jt),Kt.push({type:"byname",name:Jt,data:Gt({name:Jt})})):i.isPlainObject(Jt)&&Kt.push({type:"object",data:Gt(i.extendFlat({},Jt))})}}else Kt.push({type:"object",data:Gt(i.extendFlat({},X))});for(Pt=0;Pt<Kt.length;Pt++)if((zt=Kt[Pt]).type==="byname"&&!ft._frameHash[zt.data.name])return i.warn('animate failure: frame not found: "'+zt.data.name+'"'),void St();["next","immediate"].indexOf(it.mode)!==-1&&function(){if(ft._frameQueue.length!==0){for(;ft._frameQueue.length;){var Wt=ft._frameQueue.pop();Wt.onInterrupt&&Wt.onInterrupt()}L.emit("plotly_animationinterrupted",[])}}(),it.direction==="reverse"&&Kt.reverse();var Nt=L._fullLayout._currentFrame;if(Nt&&it.fromcurrent){var Vt=-1;for(Pt=0;Pt<Kt.length;Pt++)if((zt=Kt[Pt]).type==="byname"&&zt.name===Nt){Vt=Pt;break}if(Vt>0&&Vt<Kt.length-1){var Zt=[];for(Pt=0;Pt<Kt.length;Pt++)zt=Kt[Pt],(Kt[Pt].type!=="byname"||Pt>Vt)&&Zt.push(zt);Kt=Zt}}Kt.length>0?function(Wt){if(Wt.length!==0){for(var he=0;he<Wt.length;he++){var $t;$t=Wt[he].type==="byname"?d.computeFrame(L,Wt[he].name):Wt[he].data;var ye=Ft(he),se=xt(he);se.duration=Math.min(se.duration,ye.duration);var Pe={frame:$t,name:Wt[he].name,frameOpts:ye,transitionOpts:se};he===Wt.length-1&&(Pe.onComplete=Bt(Mt,2),Pe.onInterrupt=St),ft._frameQueue.push(Pe)}it.mode==="immediate"&&(ft._lastFrameAt=-1/0),ft._animationRaf||Lt()}}(Kt):(L.emit("plotly_animated"),Mt())})},s.addFrames=function(L,X,it){if(L=i.getGraphDiv(L),X==null)return Promise.resolve();if(!i.isPlotDiv(L))throw new Error("This element is not a Plotly plot: "+L+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plotly.com/javascript/animations/");var ft,gt,wt,xt,Ft=L._transitionData._frames,Bt=L._transitionData._frameHash;if(!Array.isArray(X))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+X);var Mt=Ft.length+2*X.length,St=[],Lt={};for(ft=X.length-1;ft>=0;ft--)if(i.isPlainObject(X[ft])){var Pt=X[ft].name,zt=(Bt[Pt]||Lt[Pt]||{}).name,Xt=X[ft].name,Gt=Bt[zt]||Lt[zt];zt&&Xt&&typeof Xt=="number"&&Gt&&S<5&&(S++,i.warn('addFrames: overwriting frame "'+(Bt[zt]||Lt[zt]).name+'" with a frame whose name of type "number" also equates to "'+zt+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),S===5&&i.warn("addFrames: This API call has yielded too many of these warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),Lt[Pt]={name:Pt},St.push({frame:d.supplyFrameDefaults(X[ft]),index:it&&it[ft]!==void 0&&it[ft]!==null?it[ft]:Mt+ft})}St.sort(function(Wt,he){return Wt.index>he.index?-1:Wt.index<he.index?1:0});var Kt=[],ie=[],de=Ft.length;for(ft=St.length-1;ft>=0;ft--){if(typeof(gt=St[ft].frame).name=="number"&&i.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!gt.name)for(;Bt[gt.name="frame "+L._transitionData._counter++];);if(Bt[gt.name]){for(wt=0;wt<Ft.length&&(Ft[wt]||{}).name!==gt.name;wt++);Kt.push({type:"replace",index:wt,value:gt}),ie.unshift({type:"replace",index:wt,value:Ft[wt]})}else xt=Math.max(0,Math.min(St[ft].index,de)),Kt.push({type:"insert",index:xt,value:gt}),ie.unshift({type:"delete",index:xt}),de++}var Jt=d.modifyFrames,Nt=d.modifyFrames,Vt=[L,ie],Zt=[L,Kt];return o&&o.add(L,Jt,Vt,Nt,Zt),d.modifyFrames(L,Kt)},s.deleteFrames=function(L,X){if(L=i.getGraphDiv(L),!i.isPlotDiv(L))throw new Error("This element is not a Plotly plot: "+L);var it,ft,gt=L._transitionData._frames,wt=[],xt=[];if(!X)for(X=[],it=0;it<gt.length;it++)X.push(it);for((X=X.slice()).sort(),it=X.length-1;it>=0;it--)ft=X[it],wt.push({type:"delete",index:ft}),xt.unshift({type:"insert",index:ft,value:gt[ft]});var Ft=d.modifyFrames,Bt=d.modifyFrames,Mt=[L,xt],St=[L,wt];return o&&o.add(L,Ft,Mt,Bt,St),d.modifyFrames(L,wt)},s.addTraces=function L(X,it,ft){X=i.getGraphDiv(X);var gt,wt,xt=[],Ft=s.deleteTraces,Bt=L,Mt=[X,xt],St=[X,it];for(function(Lt,Pt,zt){var Xt,Gt;if(!Array.isArray(Lt.data))throw new Error("gd.data must be an array.");if(Pt===void 0)throw new Error("traces must be defined.");for(Array.isArray(Pt)||(Pt=[Pt]),Xt=0;Xt<Pt.length;Xt++)if(typeof(Gt=Pt[Xt])!="object"||Array.isArray(Gt)||Gt===null)throw new Error("all values in traces array must be non-array objects");if(zt===void 0||Array.isArray(zt)||(zt=[zt]),zt!==void 0&&zt.length!==Pt.length)throw new Error("if indices is specified, traces.length must equal indices.length")}(X,it,ft),Array.isArray(it)||(it=[it]),it=it.map(function(Lt){return i.extendFlat({},Lt)}),x.cleanData(it),gt=0;gt<it.length;gt++)X.data.push(it[gt]);for(gt=0;gt<it.length;gt++)xt.push(-it.length+gt);if(ft===void 0)return wt=s.redraw(X),o.add(X,Ft,Mt,Bt,St),wt;Array.isArray(ft)||(ft=[ft]);try{P(X,xt,ft)}catch(Lt){throw X.data.splice(X.data.length-it.length,it.length),Lt}return o.startSequence(X),o.add(X,Ft,Mt,Bt,St),wt=s.moveTraces(X,xt,ft),o.stopSequence(X),wt},s.deleteTraces=function L(X,it){X=i.getGraphDiv(X);var ft,gt,wt=[],xt=s.addTraces,Ft=L,Bt=[X,wt,it],Mt=[X,it];if(it===void 0)throw new Error("indices must be an integer or array of integers.");for(Array.isArray(it)||(it=[it]),J(X,it,"indices"),(it=B(it,X.data.length-1)).sort(i.sorterDes),ft=0;ft<it.length;ft+=1)gt=X.data.splice(it[ft],1)[0],wt.push(gt);var St=s.redraw(X);return o.add(X,xt,Bt,Ft,Mt),St},s.extendTraces=function L(X,it,ft,gt){function wt(Mt,St,Lt){var Pt,zt;if(i.isTypedArray(Mt))if(Lt<0){var Xt=new Mt.constructor(0),Gt=O(Mt,St);Lt<0?(Pt=Gt,zt=Xt):(Pt=Xt,zt=Gt)}else if(Pt=new Mt.constructor(Lt),zt=new Mt.constructor(Mt.length+St.length-Lt),Lt===St.length)Pt.set(St),zt.set(Mt);else if(Lt<St.length){var Kt=St.length-Lt;Pt.set(St.subarray(Kt)),zt.set(Mt),zt.set(St.subarray(0,Kt),Mt.length)}else{var ie=Lt-St.length,de=Mt.length-ie;Pt.set(Mt.subarray(de)),Pt.set(St,ie),zt.set(Mt.subarray(0,de))}else Pt=Mt.concat(St),zt=Lt>=0&&Lt<Pt.length?Pt.splice(0,Pt.length-Lt):[];return[Pt,zt]}var xt=M(X=i.getGraphDiv(X),it,ft,gt,wt),Ft=s.redraw(X),Bt=[X,xt.update,ft,xt.maxPoints];return o.add(X,s.prependTraces,Bt,L,arguments),Ft},s.moveTraces=function L(X,it,ft){var gt,wt=[],xt=[],Ft=L,Bt=L,Mt=[X=i.getGraphDiv(X),ft,it],St=[X,it,ft];if(P(X,it,ft),it=Array.isArray(it)?it:[it],ft===void 0)for(ft=[],gt=0;gt<it.length;gt++)ft.push(-it.length+gt);for(ft=Array.isArray(ft)?ft:[ft],it=B(it,X.data.length-1),ft=B(ft,X.data.length-1),gt=0;gt<X.data.length;gt++)it.indexOf(gt)===-1&&wt.push(X.data[gt]);for(gt=0;gt<it.length;gt++)xt.push({newIndex:ft[gt],trace:X.data[it[gt]]});for(xt.sort(function(Pt,zt){return Pt.newIndex-zt.newIndex}),gt=0;gt<xt.length;gt+=1)wt.splice(xt[gt].newIndex,0,xt[gt].trace);X.data=wt;var Lt=s.redraw(X);return o.add(X,Ft,Mt,Bt,St),Lt},s.prependTraces=function L(X,it,ft,gt){function wt(Mt,St,Lt){var Pt,zt;if(i.isTypedArray(Mt))if(Lt<=0){var Xt=new Mt.constructor(0),Gt=O(St,Mt);Lt<0?(Pt=Gt,zt=Xt):(Pt=Xt,zt=Gt)}else if(Pt=new Mt.constructor(Lt),zt=new Mt.constructor(Mt.length+St.length-Lt),Lt===St.length)Pt.set(St),zt.set(Mt);else if(Lt<St.length){var Kt=St.length-Lt;Pt.set(St.subarray(0,Kt)),zt.set(St.subarray(Kt)),zt.set(Mt,Kt)}else{var ie=Lt-St.length;Pt.set(St),Pt.set(Mt.subarray(0,ie),St.length),zt.set(Mt.subarray(ie))}else Pt=St.concat(Mt),zt=Lt>=0&&Lt<Pt.length?Pt.splice(Lt,Pt.length):[];return[Pt,zt]}var xt=M(X=i.getGraphDiv(X),it,ft,gt,wt),Ft=s.redraw(X),Bt=[X,xt.update,ft,xt.maxPoints];return o.add(X,s.extendTraces,Bt,L,arguments),Ft},s.newPlot=function(L,X,it,ft){return L=i.getGraphDiv(L),d.cleanPlot([],{},L._fullData||[],L._fullLayout||{}),d.purge(L),s._doPlot(L,X,it,ft)},s._doPlot=function(L,X,it,ft){var gt;if(L=i.getGraphDiv(L),n.init(L),i.isPlainObject(X)){var wt=X;X=wt.data,it=wt.layout,ft=wt.config,gt=wt.frames}if(n.triggerHandler(L,"plotly_beforeplot",[X,it,ft])===!1)return Promise.reject();X||it||i.isPlotDiv(L)||i.warn("Calling _doPlot as if redrawing but this container doesn't yet have a plot.",L),j(L,ft),it||(it={}),a.select(L).classed("js-plotly-plot",!0),h.makeTester(),Array.isArray(L._promises)||(L._promises=[]);var xt=(L.data||[]).length===0&&Array.isArray(X);Array.isArray(X)&&(x.cleanData(X),xt?L.data=X:L.data.push.apply(L.data,X),L.empty=!1),L.layout&&!xt||(L.layout=x.cleanLayout(it)),d.supplyDefaults(L);var Ft=L._fullLayout,Bt=Ft._has("cartesian");Ft._replotting=!0,(xt||Ft._shouldCreateBgLayer)&&(function(ie){var de=a.select(ie),Jt=ie._fullLayout;if(Jt._calcInverseTransform=Dt,Jt._calcInverseTransform(ie),Jt._container=de.selectAll(".plot-container").data([0]),Jt._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),Jt._paperdiv=Jt._container.selectAll(".svg-container").data([0]),Jt._paperdiv.enter().append("div").classed("user-select-none",!0).classed("svg-container",!0).style("position","relative"),Jt._glcontainer=Jt._paperdiv.selectAll(".gl-container").data([{}]),Jt._glcontainer.enter().append("div").classed("gl-container",!0),Jt._paperdiv.selectAll(".main-svg").remove(),Jt._paperdiv.select(".modebar-container").remove(),Jt._paper=Jt._paperdiv.insert("svg",":first-child").classed("main-svg",!0),Jt._toppaper=Jt._paperdiv.append("svg").classed("main-svg",!0),Jt._modebardiv=Jt._paperdiv.append("div"),delete Jt._modeBar,Jt._hoverpaper=Jt._paperdiv.append("svg").classed("main-svg",!0),!Jt._uid){var Nt={};a.selectAll("defs").each(function(){this.id&&(Nt[this.id.split("-")[1]]=1)}),Jt._uid=i.randstr(Nt)}Jt._paperdiv.selectAll(".main-svg").attr(y.svgAttrs),Jt._defs=Jt._paper.append("defs").attr("id","defs-"+Jt._uid),Jt._clips=Jt._defs.append("g").classed("clips",!0),Jt._topdefs=Jt._toppaper.append("defs").attr("id","topdefs-"+Jt._uid),Jt._topclips=Jt._topdefs.append("g").classed("clips",!0),Jt._bgLayer=Jt._paper.append("g").classed("bglayer",!0),Jt._draggers=Jt._paper.append("g").classed("draglayer",!0);var Vt=Jt._paper.append("g").classed("layer-below",!0);Jt._imageLowerLayer=Vt.append("g").classed("imagelayer",!0),Jt._shapeLowerLayer=Vt.append("g").classed("shapelayer",!0),Jt._cartesianlayer=Jt._paper.append("g").classed("cartesianlayer",!0),Jt._polarlayer=Jt._paper.append("g").classed("polarlayer",!0),Jt._smithlayer=Jt._paper.append("g").classed("smithlayer",!0),Jt._ternarylayer=Jt._paper.append("g").classed("ternarylayer",!0),Jt._geolayer=Jt._paper.append("g").classed("geolayer",!0),Jt._funnelarealayer=Jt._paper.append("g").classed("funnelarealayer",!0),Jt._pielayer=Jt._paper.append("g").classed("pielayer",!0),Jt._iciclelayer=Jt._paper.append("g").classed("iciclelayer",!0),Jt._treemaplayer=Jt._paper.append("g").classed("treemaplayer",!0),Jt._sunburstlayer=Jt._paper.append("g").classed("sunburstlayer",!0),Jt._indicatorlayer=Jt._toppaper.append("g").classed("indicatorlayer",!0),Jt._glimages=Jt._paper.append("g").classed("glimages",!0);var Zt=Jt._toppaper.append("g").classed("layer-above",!0);Jt._imageUpperLayer=Zt.append("g").classed("imagelayer",!0),Jt._shapeUpperLayer=Zt.append("g").classed("shapelayer",!0),Jt._selectionLayer=Jt._toppaper.append("g").classed("selectionlayer",!0),Jt._infolayer=Jt._toppaper.append("g").classed("infolayer",!0),Jt._menulayer=Jt._toppaper.append("g").classed("menulayer",!0),Jt._zoomlayer=Jt._toppaper.append("g").classed("zoomlayer",!0),Jt._hoverlayer=Jt._hoverpaper.append("g").classed("hoverlayer",!0),Jt._modebardiv.classed("modebar-container",!0).style("position","absolute").style("top","0px").style("right","0px"),ie.emit("plotly_framework")}(L),Ft._shouldCreateBgLayer&&delete Ft._shouldCreateBgLayer),h.initGradients(L),h.initPatterns(L),xt&&c.saveShowSpikeInitial(L);var Mt=!L.calcdata||L.calcdata.length!==(L._fullData||[]).length;Mt&&d.doCalcdata(L);for(var St=0;St<L.calcdata.length;St++)L.calcdata[St][0].trace=L._fullData[St];L._context.responsive?L._responsiveChartHandler||(L._responsiveChartHandler=function(){i.isHidden(L)||d.resize(L)},window.addEventListener("resize",L._responsiveChartHandler)):i.clearResponsive(L);var Lt=i.extendFlat({},Ft._size),Pt=0;function zt(){if(d.clearAutoMarginIds(L),_.drawMarginPushers(L),c.allowAutoMargin(L),L._fullLayout.title.text&&L._fullLayout.title.automargin&&d.allowAutoMargin(L,"title.automargin"),Ft._has("pie"))for(var ie=L._fullData,de=0;de<ie.length;de++){var Jt=ie[de];Jt.type==="pie"&&Jt.automargin&&d.allowAutoMargin(L,"pie."+Jt.uid+".automargin")}return d.doAutoMargin(L),d.previousPromises(L)}function Xt(){L._transitioning||(_.doAutoRangeAndConstraints(L),xt&&c.saveRangeInitial(L),l.getComponentMethod("rangeslider","calcAutorange")(L))}var Gt=[d.previousPromises,function(){if(gt)return s.addFrames(L,gt)},function ie(){for(var de=Ft._basePlotModules,Jt=0;Jt<de.length;Jt++)de[Jt].drawFramework&&de[Jt].drawFramework(L);!Ft._glcanvas&&Ft._has("gl")&&(Ft._glcanvas=Ft._glcontainer.selectAll(".gl-canvas").data([{key:"contextLayer",context:!0,pick:!1},{key:"focusLayer",context:!1,pick:!1},{key:"pickLayer",context:!1,pick:!0}],function(Wt){return Wt.key}),Ft._glcanvas.enter().append("canvas").attr("class",function(Wt){return"gl-canvas gl-canvas-"+Wt.key.replace("Layer","")}).style({position:"absolute",top:0,left:0,overflow:"visible","pointer-events":"none"}));var Nt=L._context.plotGlPixelRatio;if(Ft._glcanvas){Ft._glcanvas.attr("width",Ft.width*Nt).attr("height",Ft.height*Nt).style("width",Ft.width+"px").style("height",Ft.height+"px");var Vt=Ft._glcanvas.data()[0].regl;if(Vt&&(Math.floor(Ft.width*Nt)!==Vt._gl.drawingBufferWidth||Math.floor(Ft.height*Nt)!==Vt._gl.drawingBufferHeight)){var Zt="WebGL context buffer and canvas dimensions do not match due to browser/WebGL bug.";if(!Pt)return i.log(Zt+" Clearing graph and plotting again."),d.cleanPlot([],{},L._fullData,Ft),d.supplyDefaults(L),Ft=L._fullLayout,d.doCalcdata(L),Pt++,ie();i.error(Zt)}}return Ft.modebar.orientation==="h"?Ft._modebardiv.style("height",null).style("width","100%"):Ft._modebardiv.style("width",null).style("height",Ft.height+"px"),d.previousPromises(L)},zt,function(){if(d.didMarginChange(Lt,Ft._size))return i.syncOrAsync([zt,_.layoutStyles],L)}];Bt&&Gt.push(function(){if(Mt)return i.syncOrAsync([l.getComponentMethod("shapes","calcAutorange"),l.getComponentMethod("annotations","calcAutorange"),Xt],L);Xt()}),Gt.push(_.layoutStyles),Bt&&Gt.push(function(){return c.draw(L,xt?"":"redraw")},function(ie){ie._fullLayout._insideTickLabelsAutorange&&nt(ie,ie._fullLayout._insideTickLabelsAutorange).then(function(){ie._fullLayout._insideTickLabelsAutorange=void 0})}),Gt.push(_.drawData,_.finalDraw,g,d.addLinks,d.rehover,d.redrag,d.reselect,d.doAutoMargin,function(ie){ie._fullLayout._insideTickLabelsAutorange&&xt&&c.saveRangeInitial(ie,!0)},d.previousPromises);var Kt=i.syncOrAsync(Gt,L);return Kt&&Kt.then||(Kt=Promise.resolve()),Kt.then(function(){return F(L),L})},s.purge=function(L){var X=(L=i.getGraphDiv(L))._fullLayout||{},it=L._fullData||[];return d.cleanPlot([],{},it,X),d.purge(L),n.purge(L),X._container&&X._container.remove(),delete L._context,L},s.react=function(L,X,it,ft){var gt,wt;L=i.getGraphDiv(L),x.clearPromiseQueue(L);var xt=L._fullData,Ft=L._fullLayout;if(i.isPlotDiv(L)&&xt&&Ft){if(i.isPlainObject(X)){var Bt=X;X=Bt.data,it=Bt.layout,ft=Bt.config,gt=Bt.frames}var Mt=!1;if(ft){var St=i.extendDeep({},L._context);L._context=void 0,j(L,ft),Mt=_t(St,L._context)}L.data=X||[],x.cleanData(L.data),L.layout=it||{},x.cleanLayout(L.layout),function(Ce,Ne,yt,vt){var Rt,Ut,Ht,Yt,ee,ne,re,ve,fe,pe,ze=vt._preGUI,Be=[],Me={},_e={};for(Rt in ze){if(ee=mt(Rt,ct)){if(fe=ee.head,pe=ee.tail,Ut=ee.attr||fe+".uirevision",(Yt=(Ht=r(vt,Ut).get())&&kt(Ut,Ne))&&Yt===Ht){if((ne=ze[Rt])===null&&(ne=void 0),pt(ve=(re=r(Ne,Rt)).get(),ne)){ve===void 0&&pe==="autorange"&&Be.push(fe),re.set(tt(r(vt,Rt).get()));continue}if(pe==="autorange"||pe.substr(0,6)==="range["){var xe=ze[fe+".range[0]"],me=ze[fe+".range[1]"],Te=ze[fe+".autorange"];if(Te||Te===null&&xe===null&&me===null){if(!(fe in Me)){var we=r(Ne,fe).get();Me[fe]=we&&(we.autorange||we.autorange!==!1&&(!we.range||we.range.length!==2))}if(Me[fe]){re.set(tt(r(vt,Rt).get()));continue}}}}}else i.warn("unrecognized GUI edit: "+Rt);delete ze[Rt],ee&&ee.tail.substr(0,6)==="range["&&(_e[ee.head]=1)}for(var Ae=0;Ae<Be.length;Ae++){var Ye=Be[Ae];if(_e[Ye]){var Re=r(Ne,Ye).get();Re&&delete Re.autorange}}var ge=vt._tracePreGUI;for(var ke in ge){var Ee,Oe=ge[ke],Se=null;for(Rt in Oe){if(!Se){var Fe=Ct(ke,yt);if(Fe<0){delete ge[ke];break}var je=It(ke,Ce,(Ee=yt[Fe]._fullInput).index);if(je<0){delete ge[ke];break}Se=Ce[je]}if(ee=mt(Rt,ht)){if(ee.attr?Yt=(Ht=r(vt,ee.attr).get())&&kt(ee.attr,Ne):(Ht=Ee.uirevision,(Yt=Se.uirevision)===void 0&&(Yt=Ne.uirevision)),Yt&&Yt===Ht&&((ne=Oe[Rt])===null&&(ne=void 0),pt(ve=(re=r(Se,Rt)).get(),ne))){re.set(tt(r(Ee,Rt).get()));continue}}else i.warn("unrecognized GUI edit: "+Rt+" in trace uid "+ke);delete Oe[Rt]}}}(L.data,L.layout,xt,Ft),d.supplyDefaults(L,{skipUpdateCalc:!0});var Lt=L._fullData,Pt=L._fullLayout,zt=Pt.datarevision===void 0,Xt=Pt.transition,Gt=function(Ce,Ne,yt,vt,Rt){var Ut=T.layoutFlags();return Ut.arrays={},Ut.rangesAltered={},Ut.nChanges=0,Ut.nChangesAnim=0,bt(Ne,yt,[],{getValObject:function(Ht){return u.getLayoutValObject(yt,Ht)},flags:Ut,immutable:vt,transition:Rt,gd:Ce}),(Ut.plot||Ut.calc)&&(Ut.layoutReplot=!0),Rt&&Ut.nChanges&&Ut.nChangesAnim&&(Ut.anim=Ut.nChanges===Ut.nChangesAnim?"all":"some"),Ut}(L,Ft,Pt,zt,Xt),Kt=Gt.newDataRevision,ie=function(Ce,Ne,yt,vt,Rt,Ut){var Ht=Ne.length===yt.length;if(!Rt&&!Ht)return{fullReplot:!0,calc:!0};var Yt,ee,ne=T.traceFlags();ne.arrays={},ne.nChanges=0,ne.nChangesAnim=0;var re={getValObject:function(fe){var pe=u.getTraceValObject(ee,fe);return!ee._module.animatable&&pe.anim&&(pe.anim=!1),pe},flags:ne,immutable:vt,transition:Rt,newDataRevision:Ut,gd:Ce},ve={};for(Yt=0;Yt<Ne.length;Yt++)if(yt[Yt]){if(ee=yt[Yt]._fullInput,d.hasMakesDataTransform(ee)&&(ee=yt[Yt]),ve[ee.uid])continue;ve[ee.uid]=1,bt(Ne[Yt]._fullInput,ee,[],re)}return(ne.calc||ne.plot)&&(ne.fullReplot=!0),Rt&&ne.nChanges&&ne.nChangesAnim&&(ne.anim=ne.nChanges===ne.nChangesAnim&&Ht?"all":"some"),ne}(L,xt,Lt,zt,Xt,Kt);if(at(L)&&(Gt.layoutReplot=!0),ie.calc||Gt.calc){L.calcdata=void 0;for(var de=Object.getOwnPropertyNames(Pt),Jt=0;Jt<de.length;Jt++){var Nt=de[Jt],Vt=Nt.substring(0,5);if(Vt==="xaxis"||Vt==="yaxis"){var Zt=Pt[Nt]._emptyCategories;Zt&&Zt()}}}else d.supplyDefaultsUpdateCalc(L.calcdata,Lt);var Wt=[];if(gt&&(L._transitionData={},d.createTransitionData(L),Wt.push(function(){return s.addFrames(L,gt)})),Pt.transition&&!Mt&&(ie.anim||Gt.anim))Gt.ticks&&Wt.push(_.doTicksRelayout),d.doCalcdata(L),_.doAutoRangeAndConstraints(L),Wt.push(function(){return d.transitionFromReact(L,ie,Gt,Ft)});else if(ie.fullReplot||Gt.layoutReplot||Mt)L._fullLayout._skipDefaults=!0,Wt.push(s._doPlot);else{for(var he in Gt.arrays){var $t=Gt.arrays[he];if($t.length){var ye=l.getComponentMethod(he,"drawOne");if(ye!==i.noop)for(var se=0;se<$t.length;se++)ye(L,$t[se]);else{var Pe=l.getComponentMethod(he,"draw");if(Pe===i.noop)throw new Error("cannot draw components: "+he);Pe(L)}}}Wt.push(d.previousPromises),ie.style&&Wt.push(_.doTraceStyle),(ie.colorbars||Gt.colorbars)&&Wt.push(_.doColorBars),Gt.legend&&Wt.push(_.doLegend),Gt.layoutstyle&&Wt.push(_.layoutStyles),Gt.axrange&&Z(Wt),Gt.ticks&&Wt.push(_.doTicksRelayout),Gt.modebar&&Wt.push(_.doModeBar),Gt.camera&&Wt.push(_.doCamera),Wt.push(F)}Wt.push(d.rehover,d.redrag,d.reselect),(wt=i.syncOrAsync(Wt,L))&&wt.then||(wt=Promise.resolve(L))}else wt=s.newPlot(L,X,it,ft);return wt.then(function(){return L.emit("plotly_react",{data:X,layout:it}),L})},s.redraw=function(L){if(L=i.getGraphDiv(L),!i.isPlotDiv(L))throw new Error("This element is not a Plotly plot: "+L);return x.cleanData(L.data),x.cleanLayout(L.layout),L.calcdata=void 0,s._doPlot(L).then(function(){return L.emit("plotly_redraw"),L})},s.relayout=nt,s.restyle=q,s.setPlotConfig=function(L){return i.extendFlat(m,L)},s.update=rt,s._guiRelayout=ot(nt),s._guiRestyle=ot(q),s._guiUpdate=ot(rt),s._storeDirectGUIEdit=function(L,X,it){for(var ft in it)z(ft,r(L,ft).get(),it[ft],X)}},72075:function(w){var s={staticPlot:{valType:"boolean",dflt:!1},typesetMath:{valType:"boolean",dflt:!0},plotlyServerURL:{valType:"string",dflt:""},editable:{valType:"boolean",dflt:!1},edits:{annotationPosition:{valType:"boolean",dflt:!1},annotationTail:{valType:"boolean",dflt:!1},annotationText:{valType:"boolean",dflt:!1},axisTitleText:{valType:"boolean",dflt:!1},colorbarPosition:{valType:"boolean",dflt:!1},colorbarTitleText:{valType:"boolean",dflt:!1},legendPosition:{valType:"boolean",dflt:!1},legendText:{valType:"boolean",dflt:!1},shapePosition:{valType:"boolean",dflt:!1},titleText:{valType:"boolean",dflt:!1}},editSelection:{valType:"boolean",dflt:!0},autosizable:{valType:"boolean",dflt:!1},responsive:{valType:"boolean",dflt:!1},fillFrame:{valType:"boolean",dflt:!1},frameMargins:{valType:"number",dflt:0,min:0,max:.5},scrollZoom:{valType:"flaglist",flags:["cartesian","gl3d","geo","mapbox"],extras:[!0,!1],dflt:"gl3d+geo+mapbox"},doubleClick:{valType:"enumerated",values:[!1,"reset","autosize","reset+autosize"],dflt:"reset+autosize"},doubleClickDelay:{valType:"number",dflt:300,min:0},showAxisDragHandles:{valType:"boolean",dflt:!0},showAxisRangeEntryBoxes:{valType:"boolean",dflt:!0},showTips:{valType:"boolean",dflt:!0},showLink:{valType:"boolean",dflt:!1},linkText:{valType:"string",dflt:"Edit chart",noBlank:!0},sendData:{valType:"boolean",dflt:!0},showSources:{valType:"any",dflt:!1},displayModeBar:{valType:"enumerated",values:["hover",!0,!1],dflt:"hover"},showSendToCloud:{valType:"boolean",dflt:!1},showEditInChartStudio:{valType:"boolean",dflt:!1},modeBarButtonsToRemove:{valType:"any",dflt:[]},modeBarButtonsToAdd:{valType:"any",dflt:[]},modeBarButtons:{valType:"any",dflt:!1},toImageButtonOptions:{valType:"any",dflt:{}},displaylogo:{valType:"boolean",dflt:!0},watermark:{valType:"boolean",dflt:!1},plotGlPixelRatio:{valType:"number",dflt:2,min:1,max:4},setBackground:{valType:"any",dflt:"transparent"},topojsonURL:{valType:"string",noBlank:!0,dflt:"https://cdn.plot.ly/"},mapboxAccessToken:{valType:"string",dflt:null},logging:{valType:"integer",min:0,max:2,dflt:1},notifyOnLogging:{valType:"integer",min:0,max:2,dflt:0},queueLength:{valType:"integer",min:0,dflt:0},globalTransforms:{valType:"any",dflt:[]},locale:{valType:"string",dflt:"en-US"},locales:{valType:"any",dflt:{}}},t={};(function a(f,e){for(var i in f){var r=f[i];r.valType?e[i]=r.dflt:(e[i]||(e[i]={}),a(r,e[i]))}})(s,t),w.exports={configAttributes:s,dfltConfig:t}},86281:function(w,s,t){var a=t(73972),f=t(71828),e=t(9012),i=t(10820),r=t(31391),n=t(85594),o=t(72075).configAttributes,l=t(30962),u=f.extendDeepAll,d=f.isPlainObject,c=f.isArrayOrTypedArray,h=f.nestedProperty,p=f.valObjectMeta,g="_isSubplotObj",y="_isLinkedToArray",b="_deprecated",m=[g,y,"_arrayAttrRegexps",b];function v(F,N,D){if(!F)return!1;if(F._isLinkedToArray){if(x(N[D]))D++;else if(D<N.length)return!1}for(;D<N.length;D++){var j=F[N[D]];if(!d(j)||(F=j,D===N.length-1))break;if(F._isLinkedToArray){if(!x(N[++D]))return!1}else if(F.valType==="info_array"){var B=N[++D];if(!x(B))return!1;var J=F.items;if(Array.isArray(J)){if(B>=J.length)return!1;if(F.dimensions===2){if(D++,N.length===D)return F;var P=N[D];if(!x(P))return!1;F=J[B][P]}else F=J[B]}else F=J}}return F}function x(F){return F===Math.round(F)&&F>=0}function _(){var F,N,D={};for(F in u(D,i),a.subplotsRegistry)if((N=a.subplotsRegistry[F]).layoutAttributes)if(Array.isArray(N.attr))for(var j=0;j<N.attr.length;j++)C(D,N,N.attr[j]);else C(D,N,N.attr==="subplot"?N.name:N.attr);for(F in a.componentsRegistry){var B=(N=a.componentsRegistry[F]).schema;if(B&&(B.subplots||B.layout)){var J=B.subplots;if(J&&J.xaxis&&!J.yaxis)for(var P in J.xaxis)delete D.yaxis[P];delete D.xaxis.shift,delete D.xaxis.autoshift}else N.name==="colorscale"?u(D,N.layoutAttributes):N.layoutAttributes&&S(D,N.layoutAttributes,N.name)}return{layoutAttributes:T(D)}}function T(F){return function(N){s.crawl(N,function(D,j,B){s.isValObject(D)?D.arrayOk!==!0&&D.valType!=="data_array"||(B[j+"src"]={valType:"string",editType:"none"}):d(D)&&(D.role="object")})}(F),function(N){s.crawl(N,function(D,j,B){if(D){var J=D._isLinkedToArray;J&&(delete D._isLinkedToArray,B[j]={items:{}},B[j].items[J]=D,B[j].role="object")}})}(F),function(N){(function D(j){for(var B in j)if(d(j[B]))D(j[B]);else if(Array.isArray(j[B]))for(var J=0;J<j[B].length;J++)D(j[B][J]);else j[B]instanceof RegExp&&(j[B]=j[B].toString())})(N)}(F),F}function C(F,N,D){var j=h(F,D),B=u({},N.layoutAttributes);B._isSubplotObj=!0,j.set(B)}function S(F,N,D){var j=h(F,D);j.set(u(j.get()||{},N))}s.IS_SUBPLOT_OBJ=g,s.IS_LINKED_TO_ARRAY=y,s.DEPRECATED=b,s.UNDERSCORE_ATTRS=m,s.get=function(){var F={};a.allTypes.forEach(function(j){F[j]=function(B){var J,P;P=(J=a.modules[B]._module).basePlotModule;var M={type:null},O=u({},e),q=u({},J.attributes);s.crawl(q,function(z,Y,Q,nt,et){h(O,et).set(void 0),z===void 0&&h(q,et).set(void 0)}),u(M,O),a.traceIs(B,"noOpacity")&&delete M.opacity,a.traceIs(B,"showLegend")||(delete M.showlegend,delete M.legendgroup),a.traceIs(B,"noHover")&&(delete M.hoverinfo,delete M.hoverlabel),J.selectPoints||delete M.selectedpoints,u(M,q),P.attributes&&u(M,P.attributes),M.type=B;var tt={meta:J.meta||{},categories:J.categories||{},animatable:!!J.animatable,type:B,attributes:T(M)};if(J.layoutAttributes){var E={};u(E,J.layoutAttributes),tt.layoutAttributes=T(E)}return J.animatable||s.crawl(tt,function(z){s.isValObject(z)&&"anim"in z&&delete z.anim}),tt}(j)});var N,D={};return Object.keys(a.transformsRegistry).forEach(function(j){D[j]=function(B){var J=a.transformsRegistry[B],P=u({},J.attributes);return Object.keys(a.componentsRegistry).forEach(function(M){var O=a.componentsRegistry[M];O.schema&&O.schema.transforms&&O.schema.transforms[B]&&Object.keys(O.schema.transforms[B]).forEach(function(q){S(P,O.schema.transforms[B][q],q)})}),{attributes:T(P)}}(j)}),{defs:{valObjects:p,metaKeys:m.concat(["description","role","editType","impliedEdits"]),editType:{traces:l.traces,layout:l.layout},impliedEdits:{}},traces:F,layout:_(),transforms:D,frames:(N={frames:u({},r)},T(N),N.frames),animation:T(n),config:T(o)}},s.crawl=function(F,N,D,j){var B=D||0;j=j||"",Object.keys(F).forEach(function(J){var P=F[J];if(m.indexOf(J)===-1){var M=(j?j+".":"")+J;N(P,J,F,B,M),s.isValObject(P)||d(P)&&J!=="impliedEdits"&&s.crawl(P,N,B+1,M)}})},s.isValObject=function(F){return F&&F.valType!==void 0},s.findArrayAttributes=function(F){var N,D,j=[],B=[],J=[];function P(z,Y,Q,nt){B=B.slice(0,nt).concat([Y]),J=J.slice(0,nt).concat([z&&z._isLinkedToArray]),z&&(z.valType==="data_array"||z.arrayOk===!0)&&(B[nt-1]!=="colorbar"||Y!=="ticktext"&&Y!=="tickvals")&&M(N,0,"")}function M(z,Y,Q){var nt=z[B[Y]],et=Q+B[Y];if(Y===B.length-1)c(nt)&&j.push(D+et);else if(J[Y]){if(Array.isArray(nt))for(var Z=0;Z<nt.length;Z++)d(nt[Z])&&M(nt[Z],Y+1,et+"["+Z+"].")}else d(nt)&&M(nt,Y+1,et+".")}N=F,D="",s.crawl(e,P),F._module&&F._module.attributes&&s.crawl(F._module.attributes,P);var O=F.transforms;if(O)for(var q=0;q<O.length;q++){var tt=O[q],E=tt._module;E&&(D="transforms["+q+"].",N=tt,s.crawl(E.attributes,P))}return j},s.getTraceValObject=function(F,N){var D,j,B=N[0],J=1;if(B==="transforms"){if(N.length===1)return e.transforms;var P=F.transforms;if(!Array.isArray(P)||!P.length)return!1;var M=N[1];if(!x(M)||M>=P.length)return!1;j=(D=(a.transformsRegistry[P[M].type]||{}).attributes)&&D[N[2]],J=3}else{var O=F._module;if(O||(O=(a.modules[F.type||e.type.dflt]||{})._module),!O)return!1;if(!(j=(D=O.attributes)&&D[B])){var q=O.basePlotModule;q&&q.attributes&&(j=q.attributes[B])}j||(j=e[B])}return v(j,N,J)},s.getLayoutValObject=function(F,N){var D=function(j,B){var J,P,M,O,q=j._basePlotModules;if(q){var tt;for(J=0;J<q.length;J++){if((M=q[J]).attrRegex&&M.attrRegex.test(B)){if(M.layoutAttrOverrides)return M.layoutAttrOverrides;!tt&&M.layoutAttributes&&(tt=M.layoutAttributes)}var E=M.baseLayoutAttrOverrides;if(E&&B in E)return E[B]}if(tt)return tt}var z=j._modules;if(z){for(J=0;J<z.length;J++)if((O=z[J].layoutAttributes)&&B in O)return O[B]}for(P in a.componentsRegistry){if((M=a.componentsRegistry[P]).name==="colorscale"&&B.indexOf("coloraxis")===0)return M.layoutAttributes[B];if(!M.schema&&B===M.name)return M.layoutAttributes}return B in i&&i[B]}(F,N[0]);return v(D,N,1)}},44467:function(w,s,t){var a=t(71828),f=t(9012),e={name:{valType:"string",editType:"none"}};function i(n){return n&&typeof n=="string"}function r(n){var o=n.length-1;return n.charAt(o)!=="s"&&a.warn("bad argument to arrayDefaultKey: "+n),n.substr(0,n.length-1)+"defaults"}e.templateitemname={valType:"string",editType:"calc"},s.templatedArray=function(n,o){return o._isLinkedToArray=n,o.name=e.name,o.templateitemname=e.templateitemname,o},s.traceTemplater=function(n){var o,l,u={};for(o in n)l=n[o],Array.isArray(l)&&l.length&&(u[o]=0);return{newTrace:function(d){var c={type:o=a.coerce(d,{},f,"type"),_template:null};if(o in u){l=n[o];var h=u[o]%l.length;u[o]++,c._template=l[h]}return c}}},s.newContainer=function(n,o,l){var u=n._template,d=u&&(u[o]||l&&u[l]);return a.isPlainObject(d)||(d=null),n[o]={_template:d}},s.arrayTemplater=function(n,o,l){var u=n._template,d=u&&u[r(o)],c=u&&u[o];Array.isArray(c)&&c.length||(c=[]);var h={};return{newItem:function(p){var g={name:p.name,_input:p},y=g.templateitemname=p.templateitemname;if(!i(y))return g._template=d,g;for(var b=0;b<c.length;b++){var m=c[b];if(m.name===y)return h[y]=1,g._template=m,g}return g[l]=p[l]||!1,g._template=!1,g},defaultItems:function(){for(var p=[],g=0;g<c.length;g++){var y=c[g],b=y.name;if(i(b)&&!h[b]){var m={_template:y,name:b,_input:{_templateitemname:b}};m.templateitemname=y.templateitemname,p.push(m),h[b]=1}}return p}}},s.arrayDefaultKey=r,s.arrayEditor=function(n,o,l){var u=(a.nestedProperty(n,o).get()||[]).length,d=l._index,c=d>=u&&(l._input||{})._templateitemname;c&&(d=u);var h,p=o+"["+d+"]";function g(){h={},c&&(h[p]={},h[p].templateitemname=c)}function y(m,v){c?a.nestedProperty(h[p],m).set(v):h[p+"."+m]=v}function b(){var m=h;return g(),m}return g(),{modifyBase:function(m,v){h[m]=v},modifyItem:y,getUpdateObj:b,applyUpdate:function(m,v){m&&y(m,v);var x=b();for(var _ in x)a.nestedProperty(n,_).set(x[_])}}}},61549:function(w,s,t){var a=t(39898),f=t(73972),e=t(74875),i=t(71828),r=t(63893),n=t(33306),o=t(7901),l=t(91424),u=t(92998),d=t(64168),c=t(89298),h=t(18783),p=t(99082),g=p.enforce,y=p.clean,b=t(71739).doAutoRange,m="start";function v(S,F,N){for(var D=0;D<N.length;D++){var j=N[D][0],B=N[D][1];if(!(j[0]>=S[1]||j[1]<=S[0])&&B[0]<F[1]&&B[1]>F[0])return!0}return!1}function x(S){var F,N,D,j,B,J,P=S._fullLayout,M=P._size,O=M.p,q=c.list(S,"",!0);if(P._paperdiv.style({width:S._context.responsive&&P.autosize&&!S._context._hasZeroWidth&&!S.layout.width?"100%":P.width+"px",height:S._context.responsive&&P.autosize&&!S._context._hasZeroHeight&&!S.layout.height?"100%":P.height+"px"}).selectAll(".main-svg").call(l.setSize,P.width,P.height),S._context.setBackground(S,P.paper_bgcolor),s.drawMainTitle(S),d.manage(S),!P._has("cartesian"))return e.previousPromises(S);function tt(Lt,Pt,zt){var Xt=Lt._lw/2;return Lt._id.charAt(0)==="x"?Pt?zt==="top"?Pt._offset-O-Xt:Pt._offset+Pt._length+O+Xt:M.t+M.h*(1-(Lt.position||0))+Xt%1:Pt?zt==="right"?Pt._offset+Pt._length+O+Xt:Pt._offset-O-Xt:M.l+M.w*(Lt.position||0)+Xt%1}for(F=0;F<q.length;F++){var E=(j=q[F])._anchorAxis;j._linepositions={},j._lw=l.crispRound(S,j.linewidth,1),j._mainLinePosition=tt(j,E,j.side),j._mainMirrorPosition=j.mirror&&E?tt(j,E,h.OPPOSITE_SIDE[j.side]):null}var z=[],Y=[],Q=[],nt=o.opacity(P.paper_bgcolor)===1&&o.opacity(P.plot_bgcolor)===1&&P.paper_bgcolor===P.plot_bgcolor;for(N in P._plots)if((D=P._plots[N]).mainplot)D.bg&&D.bg.remove(),D.bg=void 0;else{var et=D.xaxis.domain,Z=D.yaxis.domain,H=D.plotgroup;if(v(et,Z,Q)){var U=H.node(),V=D.bg=i.ensureSingle(H,"rect","bg");U.insertBefore(V.node(),U.childNodes[0]),Y.push(N)}else H.select("rect.bg").remove(),Q.push([et,Z]),nt||(z.push(N),Y.push(N))}var $,at,rt,ot,ct,ht,mt,kt,Ct,It,pt,bt,_t,Dt=P._bgLayer.selectAll(".bg").data(z);for(Dt.enter().append("rect").classed("bg",!0),Dt.exit().remove(),Dt.each(function(Lt){P._plots[Lt].bg=a.select(this)}),F=0;F<Y.length;F++)D=P._plots[Y[F]],B=D.xaxis,J=D.yaxis,D.bg&&B._offset!==void 0&&J._offset!==void 0&&D.bg.call(l.setRect,B._offset-O,J._offset-O,B._length+2*O,J._length+2*O).call(o.fill,P.plot_bgcolor).style("stroke-width",0);if(!P._hasOnlyLargeSploms)for(N in P._plots){D=P._plots[N],B=D.xaxis,J=D.yaxis;var L,X,it=D.clipId="clip"+P._uid+N+"plot",ft=i.ensureSingleById(P._clips,"clipPath",it,function(Lt){Lt.classed("plotclip",!0).append("rect")});D.clipRect=ft.select("rect").attr({width:B._length,height:J._length}),l.setTranslate(D.plot,B._offset,J._offset),D._hasClipOnAxisFalse?(L=null,X=it):(L=it,X=null),l.setClipUrl(D.plot,L,S),D.layerClipId=X}function gt(Lt){return"M"+$+","+Lt+"H"+at}function wt(Lt){return"M"+B._offset+","+Lt+"h"+B._length}function xt(Lt){return"M"+Lt+","+kt+"V"+mt}function Ft(Lt){return J._shift!==void 0&&(Lt+=J._shift),"M"+Lt+","+J._offset+"v"+J._length}function Bt(Lt,Pt,zt){if(!Lt.showline||N!==Lt._mainSubplot)return"";if(!Lt._anchorAxis)return zt(Lt._mainLinePosition);var Xt=Pt(Lt._mainLinePosition);return Lt.mirror&&(Xt+=Pt(Lt._mainMirrorPosition)),Xt}for(N in P._plots){D=P._plots[N],B=D.xaxis,J=D.yaxis;var Mt="M0,0";_(B,N)&&(ct=C(B,"left",J,q),$=B._offset-(ct?O+ct:0),ht=C(B,"right",J,q),at=B._offset+B._length+(ht?O+ht:0),rt=tt(B,J,"bottom"),ot=tt(B,J,"top"),!(_t=!B._anchorAxis||N!==B._mainSubplot)||B.mirror!=="allticks"&&B.mirror!=="all"||(B._linepositions[N]=[rt,ot]),Mt=Bt(B,gt,wt),_t&&B.showline&&(B.mirror==="all"||B.mirror==="allticks")&&(Mt+=gt(rt)+gt(ot)),D.xlines.style("stroke-width",B._lw+"px").call(o.stroke,B.showline?B.linecolor:"rgba(0,0,0,0)")),D.xlines.attr("d",Mt);var St="M0,0";_(J,N)&&(pt=C(J,"bottom",B,q),mt=J._offset+J._length+(pt?O:0),bt=C(J,"top",B,q),kt=J._offset-(bt?O:0),Ct=tt(J,B,"left"),It=tt(J,B,"right"),!(_t=!J._anchorAxis||N!==J._mainSubplot)||J.mirror!=="allticks"&&J.mirror!=="all"||(J._linepositions[N]=[Ct,It]),St=Bt(J,xt,Ft),_t&&J.showline&&(J.mirror==="all"||J.mirror==="allticks")&&(St+=xt(Ct)+xt(It)),D.ylines.style("stroke-width",J._lw+"px").call(o.stroke,J.showline?J.linecolor:"rgba(0,0,0,0)")),D.ylines.attr("d",St)}return c.makeClipPaths(S),e.previousPromises(S)}function _(S,F){return(S.ticks||S.showline)&&(F===S._mainSubplot||S.mirror==="all"||S.mirror==="allticks")}function T(S,F,N){if(!N.showline||!N._lw)return!1;if(N.mirror==="all"||N.mirror==="allticks")return!0;var D=N._anchorAxis;if(!D)return!1;var j=h.FROM_BL[F];return N.side===F?D.domain[j]===S.domain[j]:N.mirror&&D.domain[1-j]===S.domain[1-j]}function C(S,F,N,D){if(T(S,F,N))return N._lw;for(var j=0;j<D.length;j++){var B=D[j];if(B._mainAxis===N._mainAxis&&T(S,F,B))return B._lw}return 0}s.layoutStyles=function(S){return i.syncOrAsync([e.doAutoMargin,x],S)},s.drawMainTitle=function(S){var F,N=S._fullLayout.title,D=S._fullLayout,j=function(tt){var E=tt.title,z="middle";return i.isRightAnchor(E)?z="end":i.isLeftAnchor(E)&&(z=m),z}(D),B=function(tt){var E=tt.title,z="0em";return i.isTopAnchor(E)?z=h.CAP_SHIFT+"em":i.isMiddleAnchor(E)&&(z=h.MID_SHIFT+"em"),z}(D),J=function(tt,E){var z=tt.title,Y=tt._size,Q=0;return E!=="0em"&&E?E===h.CAP_SHIFT+"em"&&(Q=z.pad.t):Q=-z.pad.b,z.y==="auto"?Y.t/2:z.yref==="paper"?Y.t+Y.h-Y.h*z.y+Q:tt.height-tt.height*z.y+Q}(D,B),P=function(tt,E){var z=tt.title,Y=tt._size,Q=0;return E===m?Q=z.pad.l:E==="end"&&(Q=-z.pad.r),z.xref==="paper"?Y.l+Y.w*z.x+Q:tt.width*z.x+Q}(D,j);if(u.draw(S,"gtitle",{propContainer:D,propName:"title.text",placeholder:D._dfltTitle.plot,attributes:{x:P,y:J,"text-anchor":j,dy:B}}),N.text&&N.automargin){var M=a.selectAll(".gtitle"),O=l.bBox(M.node()).height,q=function(tt,E,z){var Y=E.y,Q=E.yanchor,nt=Y>.5?"t":"b",et=tt._fullLayout.margin[nt],Z=0;return E.yref==="paper"?Z=z+E.pad.t+E.pad.b:E.yref==="container"&&(Z=function(H,U,V,$,at){var rt=0;return V==="middle"&&(rt+=at/2),H==="t"?(V==="top"&&(rt+=at),rt+=$-U*$):(V==="bottom"&&(rt+=at),rt+=U*$),rt}(nt,Y,Q,tt._fullLayout.height,z)+E.pad.t+E.pad.b),Z>et?Z:0}(S,N,O);q>0&&(function(tt,E,z,Y){var Q="title.automargin",nt=tt._fullLayout.title,et=nt.y>.5?"t":"b",Z={x:nt.x,y:nt.y,t:0,b:0},H={};nt.yref==="paper"&&function(U,V,$,at,rt){var ot=V.yref==="paper"?U._fullLayout._size.h:U._fullLayout.height,ct=i.isTopAnchor(V)?at:at-rt,ht=$==="b"?ot-ct:ct;return!(i.isTopAnchor(V)&&$==="t"||i.isBottomAnchor(V)&&$==="b")&&ht<rt}(tt,nt,et,E,Y)?Z[et]=z:nt.yref==="container"&&(H[et]=z,tt._fullLayout._reservedMargin[Q]=H),e.allowAutoMargin(tt,Q),e.autoMargin(tt,Q,Z)}(S,J,q,O),M.attr({x:P,y:J,"text-anchor":j,dy:(F=N.yanchor,F==="top"?h.CAP_SHIFT+.3+"em":F==="bottom"?"-0.3em":h.MID_SHIFT+"em")}).call(r.positionText,P,J))}},s.doTraceStyle=function(S){var F,N=S.calcdata,D=[];for(F=0;F<N.length;F++){var j=N[F],B=j[0]||{},J=B.trace||{},P=J._module||{},M=P.arraysToCalcdata;M&&M(j,J);var O=P.editStyle;O&&D.push({fn:O,cd0:B})}if(D.length){for(F=0;F<D.length;F++){var q=D[F];q.fn(S,q.cd0)}n(S),s.redrawReglTraces(S)}return e.style(S),f.getComponentMethod("legend","draw")(S),e.previousPromises(S)},s.doColorBars=function(S){return f.getComponentMethod("colorbar","draw")(S),e.previousPromises(S)},s.layoutReplot=function(S){var F=S.layout;return S.layout=void 0,f.call("_doPlot",S,"",F)},s.doLegend=function(S){return f.getComponentMethod("legend","draw")(S),e.previousPromises(S)},s.doTicksRelayout=function(S){return c.draw(S,"redraw"),S._fullLayout._hasOnlyLargeSploms&&(f.subplotsRegistry.splom.updateGrid(S),n(S),s.redrawReglTraces(S)),s.drawMainTitle(S),e.previousPromises(S)},s.doModeBar=function(S){var F=S._fullLayout;d.manage(S);for(var N=0;N<F._basePlotModules.length;N++){var D=F._basePlotModules[N].updateFx;D&&D(S)}return e.previousPromises(S)},s.doCamera=function(S){for(var F=S._fullLayout,N=F._subplots.gl3d,D=0;D<N.length;D++){var j=F[N[D]];j._scene.setViewport(j)}},s.drawData=function(S){var F=S._fullLayout;n(S);for(var N=F._basePlotModules,D=0;D<N.length;D++)N[D].plot(S);return s.redrawReglTraces(S),e.style(S),f.getComponentMethod("selections","draw")(S),f.getComponentMethod("shapes","draw")(S),f.getComponentMethod("annotations","draw")(S),f.getComponentMethod("images","draw")(S),F._replotting=!1,e.previousPromises(S)},s.redrawReglTraces=function(S){var F=S._fullLayout;if(F._has("regl")){var N,D,j=S._fullData,B=[],J=[];for(F._hasOnlyLargeSploms&&F._splomGrid.draw(),N=0;N<j.length;N++){var P=j[N];P.visible===!0&&P._length!==0&&(P.type==="splom"?F._splomScenes[P.uid].draw():P.type==="scattergl"?i.pushUnique(B,P.xaxis+P.yaxis):P.type==="scatterpolargl"&&i.pushUnique(J,P.subplot))}for(N=0;N<B.length;N++)(D=F._plots[B[N]])._scene&&D._scene.draw();for(N=0;N<J.length;N++)(D=F[J[N]]._subplot)._scene&&D._scene.draw()}},s.doAutoRangeAndConstraints=function(S){for(var F,N=c.list(S,"",!0),D={},j=0;j<N.length;j++)if(!D[(F=N[j])._id]){D[F._id]=1,y(S,F),b(S,F);var B=F._matchGroup;if(B)for(var J in B){var P=c.getFromId(S,J);b(S,P,F.range),D[J]=1}}g(S)},s.finalDraw=function(S){f.getComponentMethod("rangeslider","draw")(S),f.getComponentMethod("rangeselector","draw")(S)},s.drawMarginPushers=function(S){f.getComponentMethod("legend","draw")(S),f.getComponentMethod("rangeselector","draw")(S),f.getComponentMethod("sliders","draw")(S),f.getComponentMethod("updatemenus","draw")(S),f.getComponentMethod("colorbar","draw")(S)}},96318:function(w,s,t){var a=t(71828),f=a.isPlainObject,e=t(86281),i=t(74875),r=t(9012),n=t(44467),o=t(72075).dfltConfig;function l(b,m){b=a.extendDeep({},b);var v,x,_=Object.keys(b).sort();function T(D,j,B){if(f(j)&&f(D))l(D,j);else if(Array.isArray(j)&&Array.isArray(D)){var J=n.arrayTemplater({_template:b},B);for(x=0;x<j.length;x++){var P=j[x],M=J.newItem(P)._template;M&&l(M,P)}var O=J.defaultItems();for(x=0;x<O.length;x++)j.push(O[x]._template);for(x=0;x<j.length;x++)delete j[x].templateitemname}}for(v=0;v<_.length;v++){var C=_[v],S=b[C];if(C in m?T(S,m[C],C):m[C]=S,u(C)===C)for(var F in m){var N=u(F);F===N||N!==C||F in b||T(S,m[F],C)}}}function u(b){return b.replace(/[0-9]+$/,"")}function d(b,m,v,x,_){var T=_&&v(_);for(var C in b){var S=b[C],F=p(b,C,x),N=p(b,C,_),D=v(N);if(!D){var j=u(C);j!==C&&(D=v(N=p(b,j,_)))}if(!(T&&T===D||!D||D._noTemplating||D.valType==="data_array"||D.arrayOk&&Array.isArray(S)))if(!D.valType&&f(S))d(S,m,v,F,N);else if(D._isLinkedToArray&&Array.isArray(S))for(var B=!1,J=0,P={},M=0;M<S.length;M++){var O=S[M];if(f(O)){var q=O.name;if(q)P[q]||(d(O,m,v,p(S,J,F),p(S,J,N)),J++,P[q]=1);else if(!B){var tt=p(b,n.arrayDefaultKey(C),x),E=p(S,J,F);d(O,m,v,E,p(S,J,N));var z=a.nestedProperty(m,E);a.nestedProperty(m,tt).set(z.get()),z.set(null),B=!0}}}else a.nestedProperty(m,F).set(S)}}function c(b,m){return e.getLayoutValObject(b,a.nestedProperty({},m).parts)}function h(b,m){return e.getTraceValObject(b,a.nestedProperty({},m).parts)}function p(b,m,v){return v?Array.isArray(b)?v+"["+m+"]":v+"."+m:m}function g(b){for(var m=0;m<b.length;m++)if(f(b[m]))return!0}function y(b){var m;switch(b.code){case"data":m="The template has no key data.";break;case"layout":m="The template has no key layout.";break;case"missing":m=b.path?"There are no templates for item "+b.path+" with name "+b.templateitemname:"There are no templates for trace "+b.index+", of type "+b.traceType+".";break;case"unused":m=b.path?"The template item at "+b.path+" was not used in constructing the plot.":b.dataCount?"Some of the templates of type "+b.traceType+" were not used. The template has "+b.templateCount+" traces, the data only has "+b.dataCount+" of this type.":"The template has "+b.templateCount+" traces of type "+b.traceType+" but there are none in the data.";break;case"reused":m="Some of the templates of type "+b.traceType+" were used more than once. The template has "+b.templateCount+" traces, the data has "+b.dataCount+" of this type."}return b.msg=m,b}s.makeTemplate=function(b){b=a.isPlainObject(b)?b:a.getGraphDiv(b),b=a.extendDeep({_context:o},{data:b.data,layout:b.layout}),i.supplyDefaults(b);var m=b.data||[],v=b.layout||{};v._basePlotModules=b._fullLayout._basePlotModules,v._modules=b._fullLayout._modules;var x={data:{},layout:{}};m.forEach(function(J){var P={};d(J,P,h.bind(null,J));var M=a.coerce(J,{},r,"type"),O=x.data[M];O||(O=x.data[M]=[]),O.push(P)}),d(v,x.layout,c.bind(null,v)),delete x.layout.template;var _=v.template;if(f(_)){var T,C,S,F,N,D,j=_.layout;f(j)&&l(j,x.layout);var B=_.data;if(f(B)){for(C in x.data)if(S=B[C],Array.isArray(S)){for(D=(N=x.data[C]).length,F=S.length,T=0;T<D;T++)l(S[T%F],N[T]);for(T=D;T<F;T++)N.push(a.extendDeep({},S[T]))}for(C in B)C in x.data||(x.data[C]=a.extendDeep([],B[C]))}}return x},s.validateTemplate=function(b,m){var v=a.extendDeep({},{_context:o,data:b.data,layout:b.layout}),x=v.layout||{};f(m)||(m=x.template||{});var _=m.layout,T=m.data,C=[];v.layout=x,v.layout.template=m,i.supplyDefaults(v);var S=v._fullLayout,F=v._fullData,N={};if(f(_)?(function O(q,tt){for(var E in q)if(E.charAt(0)!=="_"&&f(q[E])){var z,Y=u(E),Q=[];for(z=0;z<tt.length;z++)Q.push(p(q,E,tt[z])),Y!==E&&Q.push(p(q,Y,tt[z]));for(z=0;z<Q.length;z++)N[Q[z]]=1;O(q[E],Q)}}(S,["layout"]),function O(q,tt){for(var E in q)if(E.indexOf("defaults")===-1&&f(q[E])){var z=p(q,E,tt);N[z]?O(q[E],z):C.push({code:"unused",path:z})}}(_,"layout")):C.push({code:"layout"}),f(T)){for(var D,j={},B=0;B<F.length;B++){var J=F[B];j[D=J.type]=(j[D]||0)+1,J._fullInput._template||C.push({code:"missing",index:J._fullInput.index,traceType:D})}for(D in T){var P=T[D].length,M=j[D]||0;P>M?C.push({code:"unused",traceType:D,templateCount:P,dataCount:M}):M>P&&C.push({code:"reused",traceType:D,templateCount:P,dataCount:M})}}else C.push({code:"data"});if(function O(q,tt){for(var E in q)if(E.charAt(0)!=="_"){var z=q[E],Y=p(q,E,tt);f(z)?(Array.isArray(q)&&z._template===!1&&z.templateitemname&&C.push({code:"missing",path:Y,templateitemname:z.templateitemname}),O(z,Y)):Array.isArray(z)&&g(z)&&O(z,Y)}}({data:F,layout:S},""),C.length)return C.map(y)}},403:function(w,s,t){var a=t(92770),f=t(72391),e=t(74875),i=t(71828),r=t(25095),n=t(5900),o=t(70942),l=t(11506).version,u={format:{valType:"enumerated",values:["png","jpeg","webp","svg","full-json"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}};w.exports=function(d,c){var h,p,g,y;function b(M){return!(M in c)||i.validate(c[M],u[M])}if(c=c||{},i.isPlainObject(d)?(h=d.data||[],p=d.layout||{},g=d.config||{},y={}):(d=i.getGraphDiv(d),h=i.extendDeep([],d.data),p=i.extendDeep({},d.layout),g=d._context,y=d._fullLayout||{}),!b("width")&&c.width!==null||!b("height")&&c.height!==null)throw new Error("Height and width should be pixel values.");if(!b("format"))throw new Error("Export format is not "+i.join2(u.format.values,", "," or ")+".");var m={};function v(M,O){return i.coerce(c,m,u,M,O)}var x=v("format"),_=v("width"),T=v("height"),C=v("scale"),S=v("setBackground"),F=v("imageDataOnly"),N=document.createElement("div");N.style.position="absolute",N.style.left="-5000px",document.body.appendChild(N);var D=i.extendFlat({},p);_?D.width=_:c.width===null&&a(y.width)&&(D.width=y.width),T?D.height=T:c.height===null&&a(y.height)&&(D.height=y.height);var j=i.extendFlat({},g,{_exportedPlot:!0,staticPlot:!0,setBackground:S}),B=r.getRedrawFunc(N);function J(){return new Promise(function(M){setTimeout(M,r.getDelay(N._fullLayout))})}function P(){return new Promise(function(M,O){var q=n(N,x,C),tt=N._fullLayout.width,E=N._fullLayout.height;function z(){f.purge(N),document.body.removeChild(N)}if(x==="full-json"){var Y=e.graphJson(N,!1,"keepdata","object",!0,!0);return Y.version=l,Y=JSON.stringify(Y),z(),M(F?Y:r.encodeJSON(Y))}if(z(),x==="svg")return M(F?q:r.encodeSVG(q));var Q=document.createElement("canvas");Q.id=i.randstr(),o({format:x,width:tt,height:E,scale:C,canvas:Q,svg:q,promise:!0}).then(M).catch(O)})}return new Promise(function(M,O){f.newPlot(N,h,D,j).then(B).then(J).then(P).then(function(q){M(function(tt){return F?tt.replace(r.IMAGE_URL_PREFIX,""):tt}(q))}).catch(function(q){O(q)})})}},84936:function(w,s,t){var a=t(71828),f=t(74875),e=t(86281),i=t(72075).dfltConfig,r=a.isPlainObject,n=Array.isArray,o=a.isArrayOrTypedArray;function l(m,v,x,_,T,C){C=C||[];for(var S=Object.keys(m),F=0;F<S.length;F++){var N=S[F];if(N!=="transforms"){var D=C.slice();D.push(N);var j=m[N],B=v[N],J=g(x,N),P=(J||{}).valType,M=P==="info_array",O=P==="colorscale",q=(J||{}).items;if(p(x,N))if(r(j)&&r(B)&&P!=="any")l(j,B,J,_,T,D);else if(M&&n(j)){j.length>B.length&&_.push(h("unused",T,D.concat(B.length)));var tt,E,z,Y,Q,nt=B.length,et=Array.isArray(q);if(et&&(nt=Math.min(nt,q.length)),J.dimensions===2)for(E=0;E<nt;E++)if(n(j[E])){j[E].length>B[E].length&&_.push(h("unused",T,D.concat(E,B[E].length)));var Z=B[E].length;for(tt=0;tt<(et?Math.min(Z,q[E].length):Z);tt++)z=et?q[E][tt]:q,Y=j[E][tt],Q=B[E][tt],a.validate(Y,z)?Q!==Y&&Q!==+Y&&_.push(h("dynamic",T,D.concat(E,tt),Y,Q)):_.push(h("value",T,D.concat(E,tt),Y))}else _.push(h("array",T,D.concat(E),j[E]));else for(E=0;E<nt;E++)z=et?q[E]:q,Y=j[E],Q=B[E],a.validate(Y,z)?Q!==Y&&Q!==+Y&&_.push(h("dynamic",T,D.concat(E),Y,Q)):_.push(h("value",T,D.concat(E),Y))}else if(J.items&&!M&&n(j)){var H,U,V=q[Object.keys(q)[0]],$=[];for(H=0;H<B.length;H++){var at=B[H]._index||H;if((U=D.slice()).push(at),r(j[at])&&r(B[H])){$.push(at);var rt=j[at],ot=B[H];r(rt)&&rt.visible!==!1&&ot.visible===!1?_.push(h("invisible",T,U)):l(rt,ot,V,_,T,U)}}for(H=0;H<j.length;H++)(U=D.slice()).push(H),r(j[H])?$.indexOf(H)===-1&&_.push(h("unused",T,U)):_.push(h("object",T,U,j[H]))}else!r(j)&&r(B)?_.push(h("object",T,D,j)):o(j)||!o(B)||M||O?N in v?a.validate(j,J)?J.valType==="enumerated"&&(J.coerceNumber&&j!==+B||j!==B)&&_.push(h("dynamic",T,D,j,B)):_.push(h("value",T,D,j)):_.push(h("unused",T,D,j)):_.push(h("array",T,D,j));else _.push(h("schema",T,D))}}return _}function u(m,v){for(var x=m.layout.layoutAttributes,_=0;_<v.length;_++){var T=v[_],C=m.traces[T.type],S=C.layoutAttributes;S&&(T.subplot?a.extendFlat(x[C.attributes.subplot.dflt],S):a.extendFlat(x,S))}return x}w.exports=function(m,v){m===void 0&&(m=[]),v===void 0&&(v={});var x,_,T=e.get(),C=[],S={_context:a.extendFlat({},i)};n(m)?(S.data=a.extendDeep([],m),x=m):(S.data=[],x=[],C.push(h("array","data"))),r(v)?(S.layout=a.extendDeep({},v),_=v):(S.layout={},_={},arguments.length>1&&C.push(h("object","layout"))),f.supplyDefaults(S);for(var F=S._fullData,N=x.length,D=0;D<N;D++){var j=x[D],B=["data",D];if(r(j)){var J=F[D],P=J.type,M=T.traces[P].attributes;M.type={valType:"enumerated",values:[P]},J.visible===!1&&j.visible!==!1&&C.push(h("invisible",B)),l(j,J,M,C,B);var O=j.transforms,q=J.transforms;if(O){n(O)||C.push(h("array",B,["transforms"])),B.push("transforms");for(var tt=0;tt<O.length;tt++){var E=["transforms",tt],z=O[tt].type;if(r(O[tt])){var Y=T.transforms[z]?T.transforms[z].attributes:{};Y.type={valType:"enumerated",values:Object.keys(T.transforms)},l(O[tt],q[tt],Y,C,B,E)}else C.push(h("object",B,E))}}}else C.push(h("object",B))}var Q=S._fullLayout,nt=u(T,F);return l(_,Q,nt,C,"layout"),C.length===0?void 0:C};var d={object:function(m,v){return(m==="layout"&&v===""?"The layout argument":m[0]==="data"&&v===""?"Trace "+m[1]+" in the data argument":c(m)+"key "+v)+" must be linked to an object container"},array:function(m,v){return(m==="data"?"The data argument":c(m)+"key "+v)+" must be linked to an array container"},schema:function(m,v){return c(m)+"key "+v+" is not part of the schema"},unused:function(m,v,x){var _=r(x)?"container":"key";return c(m)+_+" "+v+" did not get coerced"},dynamic:function(m,v,x,_){return[c(m)+"key",v,"(set to '"+x+"')","got reset to","'"+_+"'","during defaults."].join(" ")},invisible:function(m,v){return(v?c(m)+"item "+v:"Trace "+m[1])+" got defaulted to be not visible"},value:function(m,v,x){return[c(m)+"key "+v,"is set to an invalid value ("+x+")"].join(" ")}};function c(m){return n(m)?"In data trace "+m[1]+", ":"In "+m+", "}function h(m,v,x,_,T){var C,S;x=x||"",n(v)?(C=v[0],S=v[1]):(C=v,S=null);var F=function(D){if(!n(D))return String(D);for(var j="",B=0;B<D.length;B++){var J=D[B];typeof J=="number"?j=j.substr(0,j.length-1)+"["+J+"]":j+=J,B<D.length-1&&(j+=".")}return j}(x),N=d[m](v,F,_,T);return a.log(N),{code:m,container:C,trace:S,path:x,astr:F,msg:N}}function p(m,v){var x=b(v),_=x.keyMinusId,T=x.id;return!!(_ in m&&m[_]._isSubplotObj&&T)||v in m}function g(m,v){return v in m?m[v]:m[b(v).keyMinusId]}var y=a.counterRegex("([a-z]+)");function b(m){var v=m.match(y);return{keyMinusId:v&&v[1],id:v&&v[2]}}},85594:function(w){w.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500,editType:"none"},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"],editType:"none"},ordering:{valType:"enumerated",values:["layout first","traces first"],dflt:"layout first",editType:"none"}}}},85501:function(w,s,t){var a=t(71828),f=t(44467);w.exports=function(e,i,r){var n,o,l=r.name,u=r.inclusionAttr||"visible",d=i[l],c=a.isArrayOrTypedArray(e[l])?e[l]:[],h=i[l]=[],p=f.arrayTemplater(i,l,u);for(n=0;n<c.length;n++){var g=c[n];a.isPlainObject(g)?o=p.newItem(g):(o=p.newItem({}))[u]=!1,o._index=n,o[u]!==!1&&r.handleItemDefaults(g,o,i,r),h.push(o)}var y=p.defaultItems();for(n=0;n<y.length;n++)(o=y[n])._index=h.length,r.handleItemDefaults({},o,i,r,{}),h.push(o);if(a.isArrayOrTypedArray(d)){var b=Math.min(d.length,h.length);for(n=0;n<b;n++)a.relinkPrivateKeys(h[n],d[n])}return h}},9012:function(w,s,t){var a=t(41940),f=t(77914);w.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes",_noTemplating:!0},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legend:{valType:"subplotid",dflt:"legend",editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},legendgrouptitle:{text:{valType:"string",dflt:"",editType:"style"},font:a({editType:"style"}),editType:"style"},legendrank:{valType:"number",dflt:1e3,editType:"style"},legendwidth:{valType:"number",min:0,editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",editType:"plot",anim:!0},ids:{valType:"data_array",editType:"calc",anim:!0},customdata:{valType:"data_array",editType:"calc"},meta:{valType:"any",arrayOk:!0,editType:"plot"},selectedpoints:{valType:"any",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:f.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"},transforms:{_isLinkedToArray:"transform",editType:"calc"},uirevision:{valType:"any",editType:"none"}}},42973:function(w,s,t){var a=t(92770),f=t(71828),e=f.dateTime2ms,i=f.incrementMonth,r=t(50606).ONEAVGMONTH;w.exports=function(n,o,l,u){if(o.type!=="date")return{vals:u};var d=n[l+"periodalignment"];if(!d)return{vals:u};var c,h=n[l+"period"];if(a(h)){if((h=+h)<=0)return{vals:u}}else if(typeof h=="string"&&h.charAt(0)==="M"){var p=+h.substring(1);if(!(p>0&&Math.round(p)===p))return{vals:u};c=p}for(var g=o.calendar,y=d==="start",b=d==="end",m=n[l+"period0"],v=e(m,g)||0,x=[],_=[],T=[],C=u.length,S=0;S<C;S++){var F,N,D,j=u[S];if(c){for(F=Math.round((j-v)/(c*r)),D=i(v,c*F,g);D>j;)D=i(D,-c,g);for(;D<=j;)D=i(D,c,g);N=i(D,-c,g)}else{for(D=v+(F=Math.round((j-v)/h))*h;D>j;)D-=h;for(;D<=j;)D+=h;N=D-h}x[S]=y?N:b?D:(N+D)/2,_[S]=N,T[S]=D}return{vals:x,starts:_,ends:T}}},89502:function(w){w.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}},71739:function(w,s,t){var a=t(39898),f=t(92770),e=t(71828),i=t(50606).FP_SAFE,r=t(73972),n=t(91424),o=t(41675),l=o.getFromId,u=o.isLinked;function d(_,T){var C,S,F=[],N=_._fullLayout,D=h(N,T,0),j=h(N,T,1),B=p(_,T),J=B.min,P=B.max;if(J.length===0||P.length===0)return e.simpleMap(T.range,T.r2l);var M=J[0].val,O=P[0].val;for(C=1;C<J.length&&M===O;C++)M=Math.min(M,J[C].val);for(C=1;C<P.length&&M===O;C++)O=Math.max(O,P[C].val);var q=!1;if(T.range){var tt=e.simpleMap(T.range,T.r2l);q=tt[1]<tt[0]}T.autorange==="reversed"&&(q=!0,T.autorange=!0);var E,z,Y,Q,nt,et,Z=T.rangemode,H=Z==="tozero",U=Z==="nonnegative",V=T._length,$=V/10,at=0;for(C=0;C<J.length;C++)for(E=J[C],S=0;S<P.length;S++)(et=(z=P[S]).val-E.val-c(T,E.val,z.val))>0&&((nt=V-D(E)-j(z))>$?et/nt>at&&(Y=E,Q=z,at=et/nt):et/V>at&&(Y={val:E.val,nopad:1},Q={val:z.val,nopad:1},at=et/V));if(M===O){var rt=M-1,ot=M+1;if(H)if(M===0)F=[0,1];else{var ct=(M>0?P:J).reduce(function(mt,kt){return Math.max(mt,j(kt))},0),ht=M/(1-Math.min(.5,ct/V));F=M>0?[0,ht]:[ht,0]}else F=U?[Math.max(0,rt),Math.max(1,ot)]:[rt,ot]}else H?(Y.val>=0&&(Y={val:0,nopad:1}),Q.val<=0&&(Q={val:0,nopad:1})):U&&(Y.val-at*D(Y)<0&&(Y={val:0,nopad:1}),Q.val<=0&&(Q={val:1,nopad:1})),at=(Q.val-Y.val-c(T,E.val,z.val))/(V-D(Y)-j(Q)),F=[Y.val-at*D(Y),Q.val+at*j(Q)];return q&&F.reverse(),e.simpleMap(F,T.l2r||Number)}function c(_,T,C){var S=0;if(_.rangebreaks)for(var F=_.locateBreaks(T,C),N=0;N<F.length;N++){var D=F[N];S+=D.max-D.min}return S}function h(_,T,C){var S=.05*T._length,F=T._anchorAxis||{};if((T.ticklabelposition||"").indexOf("inside")!==-1||(F.ticklabelposition||"").indexOf("inside")!==-1){var N=T.autorange==="reversed";if(!N){var D=e.simpleMap(T.range,T.r2l);N=D[1]<D[0]}N&&(C=!C)}var j=0;return u(_,T._id)||(j=function(B,J,P){var M=0,O=J._id.charAt(0)==="x";for(var q in B._plots){var tt=B._plots[q];if(J._id===tt.xaxis._id||J._id===tt.yaxis._id){var E=(O?tt.yaxis:tt.xaxis)||{};if((E.ticklabelposition||"").indexOf("inside")!==-1&&(!P&&(E.side==="left"||E.side==="bottom")||P&&(E.side==="top"||E.side==="right"))){if(E._vals){var z=e.deg2rad(E._tickAngles[E._id+"tick"]||0),Y=Math.abs(Math.cos(z)),Q=Math.abs(Math.sin(z));if(!E._vals[0].bb){var nt=E._id+"tick";E._selections[nt].each(function(V){var $=a.select(this);$.select(".text-math-group").empty()&&(V.bb=n.bBox($.node()))})}for(var et=0;et<E._vals.length;et++){var Z=E._vals[et].bb;if(Z){var H=6+Z.width,U=6+Z.height;M=Math.max(M,O?Math.max(H*Y,U*Q):Math.max(U*Y,H*Q))}}}E.ticks==="inside"&&E.ticklabelposition==="inside"&&(M+=E.ticklen||0)}}}return M}(_,T,C)),S=Math.max(j,S),T.constrain==="domain"&&T._inputDomain&&(S*=(T._inputDomain[1]-T._inputDomain[0])/(T.domain[1]-T.domain[0])),function(B){return B.nopad?0:B.pad+(B.extrapad?S:j)}}function p(_,T,C){var S,F,N,D=T._id,j=_._fullData,B=_._fullLayout,J=[],P=[];function M(z,Y){for(S=0;S<Y.length;S++){var Q=z[Y[S]],nt=(Q._extremes||{})[D];if(Q.visible===!0&&nt){for(F=0;F<nt.min.length;F++)N=nt.min[F],g(J,N.val,N.pad,{extrapad:N.extrapad});for(F=0;F<nt.max.length;F++)N=nt.max[F],y(P,N.val,N.pad,{extrapad:N.extrapad})}}}if(M(j,T._traceIndices),M(B.annotations||[],T._annIndices||[]),M(B.shapes||[],T._shapeIndices||[]),T._matchGroup&&!C){for(var O in T._matchGroup)if(O!==T._id){var q=l(_,O),tt=p(_,q,!0),E=T._length/q._length;for(F=0;F<tt.min.length;F++)N=tt.min[F],g(J,N.val,N.pad*E,{extrapad:N.extrapad});for(F=0;F<tt.max.length;F++)N=tt.max[F],y(P,N.val,N.pad*E,{extrapad:N.extrapad})}}return{min:J,max:P}}function g(_,T,C,S){b(_,T,C,S,v)}function y(_,T,C,S){b(_,T,C,S,x)}function b(_,T,C,S,F){for(var N=S.tozero,D=S.extrapad,j=!0,B=0;B<_.length&&j;B++){var J=_[B];if(F(J.val,T)&&J.pad>=C&&(J.extrapad||!D)){j=!1;break}F(T,J.val)&&J.pad<=C&&(D||!J.extrapad)&&(_.splice(B,1),B--)}if(j){var P=N&&T===0;_.push({val:T,pad:P?0:C,extrapad:!P&&D})}}function m(_){return f(_)&&Math.abs(_)<i}function v(_,T){return _<=T}function x(_,T){return _>=T}w.exports={getAutoRange:d,makePadFn:h,doAutoRange:function(_,T,C){if(T.setScale(),T.autorange){T.range=C?C.slice():d(_,T),T._r=T.range.slice(),T._rl=e.simpleMap(T._r,T.r2l);var S=T._input,F={};F[T._attr+".range"]=T.range,F[T._attr+".autorange"]=T.autorange,r.call("_storeDirectGUIEdit",_.layout,_._fullLayout._preGUI,F),S.range=T.range.slice(),S.autorange=T.autorange}var N=T._anchorAxis;if(N&&N.rangeslider){var D=N.rangeslider[T._name];D&&D.rangemode==="auto"&&(D.range=d(_,T)),N._input.rangeslider[T._name]=e.extendFlat({},D)}},findExtremes:function(_,T,C){C||(C={}),_._m||_.setScale();var S,F,N,D,j,B,J,P,M,O=[],q=[],tt=T.length,E=C.padded||!1,z=C.tozero&&(_.type==="linear"||_.type==="-"),Y=_.type==="log",Q=!1,nt=C.vpadLinearized||!1;function et(ot){if(Array.isArray(ot))return Q=!0,function(ht){return Math.max(Number(ot[ht]||0),0)};var ct=Math.max(Number(ot||0),0);return function(){return ct}}var Z=et((_._m>0?C.ppadplus:C.ppadminus)||C.ppad||0),H=et((_._m>0?C.ppadminus:C.ppadplus)||C.ppad||0),U=et(C.vpadplus||C.vpad),V=et(C.vpadminus||C.vpad);if(!Q){if(P=1/0,M=-1/0,Y)for(S=0;S<tt;S++)(F=T[S])<P&&F>0&&(P=F),F>M&&F<i&&(M=F);else for(S=0;S<tt;S++)(F=T[S])<P&&F>-i&&(P=F),F>M&&F<i&&(M=F);T=[P,M],tt=2}var $={tozero:z,extrapad:E};function at(ot){N=T[ot],f(N)&&(B=Z(ot),J=H(ot),nt?(D=_.c2l(N)-V(ot),j=_.c2l(N)+U(ot)):(P=N-V(ot),M=N+U(ot),Y&&P<M/10&&(P=M/10),D=_.c2l(P),j=_.c2l(M)),z&&(D=Math.min(0,D),j=Math.max(0,j)),m(D)&&g(O,D,J,$),m(j)&&y(q,j,B,$))}var rt=Math.min(6,tt);for(S=0;S<rt;S++)at(S);for(S=tt-1;S>=rt;S--)at(S);return{min:O,max:q,opts:C}},concatExtremes:p}},89298:function(w,s,t){var a=t(39898),f=t(92770),e=t(74875),i=t(73972),r=t(71828),n=r.strTranslate,o=t(63893),l=t(92998),u=t(7901),d=t(91424),c=t(13838),h=t(66287),p=t(50606),g=p.ONEMAXYEAR,y=p.ONEAVGYEAR,b=p.ONEMINYEAR,m=p.ONEMAXQUARTER,v=p.ONEAVGQUARTER,x=p.ONEMINQUARTER,_=p.ONEMAXMONTH,T=p.ONEAVGMONTH,C=p.ONEMINMONTH,S=p.ONEWEEK,F=p.ONEDAY,N=F/2,D=p.ONEHOUR,j=p.ONEMIN,B=p.ONESEC,J=p.MINUS_SIGN,P=p.BADNUM,M={K:"zeroline"},O={K:"gridline",L:"path"},q={K:"minor-gridline",L:"path"},tt={K:"tick",L:"path"},E={K:"tick",L:"text"},z={width:["x","r","l","xl","xr"],height:["y","t","b","yt","yb"],right:["r","xr"],left:["l","xl"],top:["t","yt"],bottom:["b","yb"]},Y=t(18783),Q=Y.MID_SHIFT,nt=Y.CAP_SHIFT,et=Y.LINE_SPACING,Z=Y.OPPOSITE_SIDE,H=w.exports={};H.setConvert=t(21994);var U=t(4322),V=t(41675),$=V.idSort,at=V.isLinked;H.id2name=V.id2name,H.name2id=V.name2id,H.cleanId=V.cleanId,H.list=V.list,H.listIds=V.listIds,H.getFromId=V.getFromId,H.getFromTrace=V.getFromTrace;var rt=t(71739);function ot(yt){var vt=1e-4*(yt[1]-yt[0]);return[yt[0]-vt,yt[1]+vt]}H.getAutoRange=rt.getAutoRange,H.findExtremes=rt.findExtremes,H.coerceRef=function(yt,vt,Rt,Ut,Ht,Yt){var ee=Ut.charAt(Ut.length-1),ne=Rt._fullLayout._subplots[ee+"axis"],re=Ut+"ref",ve={};return Ht||(Ht=ne[0]||(typeof Yt=="string"?Yt:Yt[0])),Yt||(Yt=Ht),ne=ne.concat(ne.map(function(fe){return fe+" domain"})),ve[re]={valType:"enumerated",values:ne.concat(Yt?typeof Yt=="string"?[Yt]:Yt:[]),dflt:Ht},r.coerce(yt,vt,ve,re)},H.getRefType=function(yt){return yt===void 0?yt:yt==="paper"?"paper":yt==="pixel"?"pixel":/( domain)$/.test(yt)?"domain":"range"},H.coercePosition=function(yt,vt,Rt,Ut,Ht,Yt){var ee,ne;if(H.getRefType(Ut)!=="range")ee=r.ensureNumber,ne=Rt(Ht,Yt);else{var re=H.getFromId(vt,Ut);ne=Rt(Ht,Yt=re.fraction2r(Yt)),ee=re.cleanPos}yt[Ht]=ee(ne)},H.cleanPosition=function(yt,vt,Rt){return(Rt==="paper"||Rt==="pixel"?r.ensureNumber:H.getFromId(vt,Rt).cleanPos)(yt)},H.redrawComponents=function(yt,vt){vt=vt||H.listIds(yt);var Rt=yt._fullLayout;function Ut(Ht,Yt,ee,ne){for(var re=i.getComponentMethod(Ht,Yt),ve={},fe=0;fe<vt.length;fe++)for(var pe=Rt[H.id2name(vt[fe])][ee],ze=0;ze<pe.length;ze++){var Be=pe[ze];if(!ve[Be]&&(re(yt,Be),ve[Be]=1,ne))return}}Ut("annotations","drawOne","_annIndices"),Ut("shapes","drawOne","_shapeIndices"),Ut("images","draw","_imgIndices",!0),Ut("selections","drawOne","_selectionIndices")};var ct=H.getDataConversions=function(yt,vt,Rt,Ut){var Ht,Yt=Rt==="x"||Rt==="y"||Rt==="z"?Rt:Ut;if(Array.isArray(Yt)){if(Ht={type:U(Ut,void 0,{autotypenumbers:yt._fullLayout.autotypenumbers}),_categories:[]},H.setConvert(Ht),Ht.type==="category")for(var ee=0;ee<Ut.length;ee++)Ht.d2c(Ut[ee])}else Ht=H.getFromTrace(yt,vt,Yt);return Ht?{d2c:Ht.d2c,c2d:Ht.c2d}:Yt==="ids"?{d2c:mt,c2d:mt}:{d2c:ht,c2d:ht}};function ht(yt){return+yt}function mt(yt){return String(yt)}function kt(yt,vt){return Math.abs((yt/vt+.5)%1-.5)<.001}function Ct(yt,vt){return Math.abs(yt/vt-1)<.001}function It(yt){return+yt.substring(1)}function pt(yt,vt){return yt.rangebreaks&&(vt=vt.filter(function(Rt){return yt.maskBreaks(Rt.x)!==P})),vt}function bt(yt){var vt=yt._mainAxis,Rt=[];if(vt._vals){for(var Ut=0;Ut<vt._vals.length;Ut++)if(!vt._vals[Ut].noTick){var Ht=vt.l2p(vt._vals[Ut].x),Yt=yt.p2l(Ht),ee=H.tickText(yt,Yt);vt._vals[Ut].minor&&(ee.minor=!0,ee.text=""),Rt.push(ee)}}return pt(yt,Rt)}function _t(yt){var vt=ot(r.simpleMap(yt.range,yt.r2l)),Rt=Math.min(vt[0],vt[1]),Ut=Math.max(vt[0],vt[1]),Ht=yt.type==="category"?yt.d2l_noadd:yt.d2l;yt.type==="log"&&String(yt.dtick).charAt(0)!=="L"&&(yt.dtick="L"+Math.pow(10,Math.floor(Math.min(yt.range[0],yt.range[1]))-1));for(var Yt=[],ee=0;ee<=1;ee++)if(!ee||yt.minor){var ne=ee?yt.minor.tickvals:yt.tickvals,re=ee?[]:yt.ticktext;if(ne){Array.isArray(re)||(re=[]);for(var ve=0;ve<ne.length;ve++){var fe=Ht(ne[ve]);if(fe>Rt&&fe<Ut){var pe=re[ve]===void 0?H.tickText(yt,fe):Bt(yt,fe,String(re[ve]));ee&&(pe.minor=!0,pe.text=""),Yt.push(pe)}}}}return pt(yt,Yt)}H.getDataToCoordFunc=function(yt,vt,Rt,Ut){return ct(yt,vt,Rt,Ut).d2c},H.counterLetter=function(yt){var vt=yt.charAt(0);return vt==="x"?"y":vt==="y"?"x":void 0},H.minDtick=function(yt,vt,Rt,Ut){["log","category","multicategory"].indexOf(yt.type)===-1&&Ut?yt._minDtick===void 0?(yt._minDtick=vt,yt._forceTick0=Rt):yt._minDtick&&((yt._minDtick/vt+1e-6)%1<2e-6&&((Rt-yt._forceTick0)/vt%1+1.000001)%1<2e-6?(yt._minDtick=vt,yt._forceTick0=Rt):((vt/yt._minDtick+1e-6)%1>2e-6||((Rt-yt._forceTick0)/yt._minDtick%1+1.000001)%1>2e-6)&&(yt._minDtick=0)):yt._minDtick=0},H.saveRangeInitial=function(yt,vt){for(var Rt=H.list(yt,"",!0),Ut=!1,Ht=0;Ht<Rt.length;Ht++){var Yt=Rt[Ht],ee=Yt._rangeInitial===void 0,ne=ee||!(Yt.range[0]===Yt._rangeInitial[0]&&Yt.range[1]===Yt._rangeInitial[1]);(ee&&Yt.autorange===!1||vt&&ne)&&(Yt._rangeInitial=Yt.range.slice(),Ut=!0)}return Ut},H.saveShowSpikeInitial=function(yt,vt){for(var Rt=H.list(yt,"",!0),Ut=!1,Ht="on",Yt=0;Yt<Rt.length;Yt++){var ee=Rt[Yt],ne=ee._showSpikeInitial===void 0,re=ne||ee.showspikes!==ee._showspikes;(ne||vt&&re)&&(ee._showSpikeInitial=ee.showspikes,Ut=!0),Ht!=="on"||ee.showspikes||(Ht="off")}return yt._fullLayout._cartesianSpikesEnabled=Ht,Ut},H.autoBin=function(yt,vt,Rt,Ut,Ht,Yt){var ee,ne=r.aggNums(Math.min,null,yt),re=r.aggNums(Math.max,null,yt);if(vt.type==="category"||vt.type==="multicategory")return{start:ne-.5,end:re+.5,size:Math.max(1,Math.round(Yt)||1),_dataSpan:re-ne};if(Ht||(Ht=vt.calendar),ee=vt.type==="log"?{type:"linear",range:[ne,re]}:{type:vt.type,range:r.simpleMap([ne,re],vt.c2r,0,Ht),calendar:Ht},H.setConvert(ee),Yt=Yt&&h.dtick(Yt,ee.type))ee.dtick=Yt,ee.tick0=h.tick0(void 0,ee.type,Ht);else{var ve;if(Rt)ve=(re-ne)/Rt;else{var fe=r.distinctVals(yt),pe=Math.pow(10,Math.floor(Math.log(fe.minDiff)/Math.LN10)),ze=pe*r.roundUp(fe.minDiff/pe,[.9,1.9,4.9,9.9],!0);ve=Math.max(ze,2*r.stdev(yt)/Math.pow(yt.length,Ut?.25:.4)),f(ve)||(ve=1)}H.autoTicks(ee,ve)}var Be,Me=ee.dtick,_e=H.tickIncrement(H.tickFirst(ee),Me,"reverse",Ht);if(typeof Me=="number")_e=function(xe,me,Te,we,Ae){var Ye=0,Re=0,ge=0,ke=0;function Ee(je){return(1+100*(je-xe)/Te.dtick)%100<2}for(var Oe=0;Oe<me.length;Oe++)me[Oe]%1==0?ge++:f(me[Oe])||ke++,Ee(me[Oe])&&Ye++,Ee(me[Oe]+Te.dtick/2)&&Re++;var Se=me.length-ke;if(ge===Se&&Te.type!=="date")Te.dtick<1?xe=we-.5*Te.dtick:(xe-=.5)+Te.dtick<we&&(xe+=Te.dtick);else if(Re<.1*Se&&(Ye>.3*Se||Ee(we)||Ee(Ae))){var Fe=Te.dtick/2;xe+=xe+Fe<we?Fe:-Fe}return xe}(_e,yt,ee,ne,re),Be=_e+(1+Math.floor((re-_e)/Me))*Me;else for(ee.dtick.charAt(0)==="M"&&(_e=function(xe,me,Te,we,Ae){var Ye=r.findExactDates(me,Ae);if(Ye.exactDays>.8){var Re=Number(Te.substr(1));Ye.exactYears>.8&&Re%12==0?xe=H.tickIncrement(xe,"M6","reverse")+1.5*F:Ye.exactMonths>.8?xe=H.tickIncrement(xe,"M1","reverse")+15.5*F:xe-=N;var ge=H.tickIncrement(xe,Te);if(ge<=we)return ge}return xe}(_e,yt,Me,ne,Ht)),Be=_e;Be<=re;)Be=H.tickIncrement(Be,Me,!1,Ht);return{start:vt.c2r(_e,0,Ht),end:vt.c2r(Be,0,Ht),size:Me,_dataSpan:re-ne}},H.prepMinorTicks=function(yt,vt,Rt){if(!vt.minor.dtick){delete yt.dtick;var Ut,Ht=vt.dtick&&f(vt._tmin);if(Ht){var Yt=H.tickIncrement(vt._tmin,vt.dtick,!0);Ut=[vt._tmin,.99*Yt+.01*vt._tmin]}else{var ee=r.simpleMap(vt.range,vt.r2l);Ut=[ee[0],.8*ee[0]+.2*ee[1]]}if(yt.range=r.simpleMap(Ut,vt.l2r),yt._isMinor=!0,H.prepTicks(yt,Rt),Ht){var ne=f(vt.dtick),re=f(yt.dtick),ve=ne?vt.dtick:+vt.dtick.substring(1),fe=re?yt.dtick:+yt.dtick.substring(1);ne&&re?kt(ve,fe)?ve===2*S&&fe===2*F&&(yt.dtick=S):ve===2*S&&fe===3*F?yt.dtick=S:ve!==S||(vt._input.minor||{}).nticks?Ct(ve/fe,2.5)?yt.dtick=ve/2:yt.dtick=ve:yt.dtick=F:String(vt.dtick).charAt(0)==="M"?re?yt.dtick="M1":kt(ve,fe)?ve>=12&&fe===2&&(yt.dtick="M3"):yt.dtick=vt.dtick:String(yt.dtick).charAt(0)==="L"?String(vt.dtick).charAt(0)==="L"?kt(ve,fe)||(yt.dtick=Ct(ve/fe,2.5)?vt.dtick/2:vt.dtick):yt.dtick="D1":yt.dtick==="D2"&&+vt.dtick>1&&(yt.dtick=1)}yt.range=vt.range}vt.minor._tick0Init===void 0&&(yt.tick0=vt.tick0)},H.prepTicks=function(yt,vt){var Rt=r.simpleMap(yt.range,yt.r2l,void 0,void 0,vt);if(yt.tickmode==="auto"||!yt.dtick){var Ut,Ht=yt.nticks;Ht||(yt.type==="category"||yt.type==="multicategory"?(Ut=yt.tickfont?r.bigFont(yt.tickfont.size||12):15,Ht=yt._length/Ut):(Ut=yt._id.charAt(0)==="y"?40:80,Ht=r.constrain(yt._length/Ut,4,9)+1),yt._name==="radialaxis"&&(Ht*=2)),yt.minor&&yt.minor.tickmode!=="array"||yt.tickmode==="array"&&(Ht*=100),yt._roughDTick=Math.abs(Rt[1]-Rt[0])/Ht,H.autoTicks(yt,yt._roughDTick),yt._minDtick>0&&yt.dtick<2*yt._minDtick&&(yt.dtick=yt._minDtick,yt.tick0=yt.l2r(yt._forceTick0))}yt.ticklabelmode==="period"&&function(Yt){var ee;function ne(){return!(f(Yt.dtick)||Yt.dtick.charAt(0)!=="M")}var re=ne(),ve=H.getTickFormat(Yt);if(ve){var fe=Yt._dtickInit!==Yt.dtick;/%[fLQsSMX]/.test(ve)||(/%[HI]/.test(ve)?(ee=D,fe&&!re&&Yt.dtick<D&&(Yt.dtick=D)):/%p/.test(ve)?(ee=N,fe&&!re&&Yt.dtick<N&&(Yt.dtick=N)):/%[Aadejuwx]/.test(ve)?(ee=F,fe&&!re&&Yt.dtick<F&&(Yt.dtick=F)):/%[UVW]/.test(ve)?(ee=S,fe&&!re&&Yt.dtick<S&&(Yt.dtick=S)):/%[Bbm]/.test(ve)?(ee=T,fe&&(re?It(Yt.dtick)<1:Yt.dtick<C)&&(Yt.dtick="M1")):/%[q]/.test(ve)?(ee=v,fe&&(re?It(Yt.dtick)<3:Yt.dtick<x)&&(Yt.dtick="M3")):/%[Yy]/.test(ve)&&(ee=y,fe&&(re?It(Yt.dtick)<12:Yt.dtick<b)&&(Yt.dtick="M12")))}(re=ne())&&Yt.tick0===Yt._dowTick0&&(Yt.tick0=Yt._rawTick0),Yt._definedDelta=ee}(yt),yt.tick0||(yt.tick0=yt.type==="date"?"2000-01-01":0),yt.type==="date"&&yt.dtick<.1&&(yt.dtick=.1),Ft(yt)},H.calcTicks=function(yt,vt){for(var Rt,Ut,Ht=yt.type,Yt=yt.calendar,ee=yt.ticklabelstep,ne=yt.ticklabelmode==="period",re=r.simpleMap(yt.range,yt.r2l,void 0,void 0,vt),ve=re[1]<re[0],fe=Math.min(re[0],re[1]),pe=Math.max(re[0],re[1]),ze=Math.max(1e3,yt._length||0),Be=[],Me=[],_e=[],xe=[],me=yt.minor&&(yt.minor.ticks||yt.minor.showgrid),Te=1;Te>=(me?0:1);Te--){var we=!Te;Te?(yt._dtickInit=yt.dtick,yt._tick0Init=yt.tick0):(yt.minor._dtickInit=yt.minor.dtick,yt.minor._tick0Init=yt.minor.tick0);var Ae=Te?yt:r.extendFlat({},yt,yt.minor);if(we?H.prepMinorTicks(Ae,yt,vt):H.prepTicks(Ae,vt),Ae.tickmode!=="array")if(Ae.tickmode!=="sync"){var Ye=ot(re),Re=Ye[0],ge=Ye[1],ke=f(Ae.dtick),Ee=Ht==="log"&&!(ke||Ae.dtick.charAt(0)==="L"),Oe=H.tickFirst(Ae,vt);if(Te){if(yt._tmin=Oe,Oe<Re!==ve)break;Ht!=="category"&&Ht!=="multicategory"||(ge=ve?Math.max(-.5,ge):Math.min(yt._categories.length-.5,ge))}var Se,Fe,je=null,Ue=Oe;Te&&(ke?Fe=yt.dtick:Ht==="date"?typeof yt.dtick=="string"&&yt.dtick.charAt(0)==="M"&&(Fe=T*yt.dtick.substring(1)):Fe=yt._roughDTick,Se=Math.round((yt.r2l(Ue)-yt.r2l(yt.tick0))/Fe)-1);var He=Ae.dtick;for(Ae.rangebreaks&&Ae._tick0Init!==Ae.tick0&&(Ue=se(Ue,yt),ve||(Ue=H.tickIncrement(Ue,He,!ve,Yt))),Te&&ne&&(Ue=H.tickIncrement(Ue,He,!ve,Yt),Se--);ve?Ue>=ge:Ue<=ge;Ue=H.tickIncrement(Ue,He,ve,Yt)){if(Te&&Se++,Ae.rangebreaks&&!ve){if(Ue<Re)continue;if(Ae.maskBreaks(Ue)===P&&se(Ue,Ae)>=pe)break}if(_e.length>ze||Ue===je)break;je=Ue;var Je={value:Ue};Te?(Ee&&Ue!==(0|Ue)&&(Je.simpleLabel=!0),ee>1&&Se%ee&&(Je.skipLabel=!0),_e.push(Je)):(Je.minor=!0,xe.push(Je))}}else _e=[],Be=bt(yt);else Te?(_e=[],Be=_t(yt)):(xe=[],Me=_t(yt))}if(me&&!(yt.minor.ticks==="inside"&&yt.ticks==="outside"||yt.minor.ticks==="outside"&&yt.ticks==="inside")){for(var Qe=_e.map(function(Yn){return Yn.value}),ln=[],rn=0;rn<xe.length;rn++){var We=xe[rn],nn=We.value;if(Qe.indexOf(nn)===-1){for(var sn=!1,Xe=0;!sn&&Xe<_e.length;Xe++)1e7+_e[Xe].value===1e7+nn&&(sn=!0);sn||ln.push(We)}}xe=ln}if(ne&&function(Yn,Fr,zn){for(var Nn=0;Nn<Yn.length;Nn++){var gr=Yn[Nn].value,mr=Nn,pn=Nn+1;Nn<Yn.length-1?(mr=Nn,pn=Nn+1):Nn>0?(mr=Nn-1,pn=Nn):(mr=Nn,pn=Nn);var en,Dn=Yn[mr].value,er=Yn[pn].value,_n=Math.abs(er-Dn),On=zn||_n,An=0;On>=b?An=_n>=b&&_n<=g?_n:y:zn===v&&On>=x?An=_n>=x&&_n<=m?_n:v:On>=C?An=_n>=C&&_n<=_?_n:T:zn===S&&On>=S?An=S:On>=F?An=F:zn===N&&On>=N?An=N:zn===D&&On>=D&&(An=D),An>=_n&&(An=_n,en=!0);var Pn=gr+An;if(Fr.rangebreaks&&An>0){for(var cr=0,jn=0;jn<84;jn++){var nr=(jn+.5)/84;Fr.maskBreaks(gr*(1-nr)+nr*Pn)!==P&&cr++}(An*=cr/84)||(Yn[Nn].drop=!0),en&&_n>S&&(An=_n)}(An>0||Nn===0)&&(Yn[Nn].periodX=gr+An/2)}}(_e,yt,yt._definedDelta),yt.rangebreaks){var un=yt._id.charAt(0)==="y",tn=1;yt.tickmode==="auto"&&(tn=yt.tickfont?yt.tickfont.size:12);var vn=NaN;for(Rt=_e.length-1;Rt>-1;Rt--)if(_e[Rt].drop)_e.splice(Rt,1);else{_e[Rt].value=se(_e[Rt].value,yt);var fn=yt.c2p(_e[Rt].value);(un?vn>fn-tn:vn<fn+tn)?_e.splice(ve?Rt+1:Rt,1):vn=fn}}ye(yt)&&Math.abs(re[1]-re[0])===360&&_e.pop(),yt._tmax=(_e[_e.length-1]||{}).value,yt._prevDateHead="",yt._inCalcTicks=!0;var gn,En,xn=function(Yn){Yn.text="",yt._prevDateHead=Ut};for(_e=_e.concat(xe),Rt=0;Rt<_e.length;Rt++){var Cn=_e[Rt].minor,Zn=_e[Rt].value;Cn?Me.push({x:Zn,minor:!0}):(Ut=yt._prevDateHead,gn=H.tickText(yt,Zn,!1,_e[Rt].simpleLabel),(En=_e[Rt].periodX)!==void 0&&(gn.periodX=En,(En>pe||En<fe)&&(En>pe&&(gn.periodX=pe),En<fe&&(gn.periodX=fe),xn(gn))),_e[Rt].skipLabel&&xn(gn),Be.push(gn))}return Be=Be.concat(Me),yt._inCalcTicks=!1,ne&&Be.length&&(Be[0].noTick=!0),Be};var Dt=[2,5,10],L=[1,2,3,6,12],X=[1,2,5,10,15,30],it=[1,2,3,7,14],ft=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],gt=[-.301,0,.301,.699,1],wt=[15,30,45,90,180];function xt(yt,vt,Rt){return vt*r.roundUp(yt/vt,Rt)}function Ft(yt){var vt=yt.dtick;if(yt._tickexponent=0,f(vt)||typeof vt=="string"||(vt=1),yt.type!=="category"&&yt.type!=="multicategory"||(yt._tickround=null),yt.type==="date"){var Rt=yt.r2l(yt.tick0),Ut=yt.l2r(Rt).replace(/(^-|i)/g,""),Ht=Ut.length;if(String(vt).charAt(0)==="M")Ht>10||Ut.substr(5)!=="01-01"?yt._tickround="d":yt._tickround=+vt.substr(1)%12==0?"y":"m";else if(vt>=F&&Ht<=10||vt>=15*F)yt._tickround="d";else if(vt>=j&&Ht<=16||vt>=D)yt._tickround="M";else if(vt>=B&&Ht<=19||vt>=j)yt._tickround="S";else{var Yt=yt.l2r(Rt+vt).replace(/^-/,"").length;yt._tickround=Math.max(Ht,Yt)-20,yt._tickround<0&&(yt._tickround=4)}}else if(f(vt)||vt.charAt(0)==="L"){var ee=yt.range.map(yt.r2d||Number);f(vt)||(vt=Number(vt.substr(1))),yt._tickround=2-Math.floor(Math.log(vt)/Math.LN10+.01);var ne=Math.max(Math.abs(ee[0]),Math.abs(ee[1])),re=Math.floor(Math.log(ne)/Math.LN10+.01),ve=yt.minexponent===void 0?3:yt.minexponent;Math.abs(re)>ve&&(St(yt.exponentformat)&&!Lt(re)?yt._tickexponent=3*Math.round((re-1)/3):yt._tickexponent=re)}else yt._tickround=null}function Bt(yt,vt,Rt){var Ut=yt.tickfont||{};return{x:vt,dx:0,dy:0,text:Rt||"",fontSize:Ut.size,font:Ut.family,fontColor:Ut.color}}H.autoTicks=function(yt,vt,Rt){var Ut;function Ht(pe){return Math.pow(pe,Math.floor(Math.log(vt)/Math.LN10))}if(yt.type==="date"){yt.tick0=r.dateTick0(yt.calendar,0);var Yt=2*vt;if(Yt>y)vt/=y,Ut=Ht(10),yt.dtick="M"+12*xt(vt,Ut,Dt);else if(Yt>T)vt/=T,yt.dtick="M"+xt(vt,1,L);else if(Yt>F){if(yt.dtick=xt(vt,F,yt._hasDayOfWeekBreaks?[1,2,7,14]:it),!Rt){var ee=H.getTickFormat(yt),ne=yt.ticklabelmode==="period";ne&&(yt._rawTick0=yt.tick0),/%[uVW]/.test(ee)?yt.tick0=r.dateTick0(yt.calendar,2):yt.tick0=r.dateTick0(yt.calendar,1),ne&&(yt._dowTick0=yt.tick0)}}else Yt>D?yt.dtick=xt(vt,D,L):Yt>j?yt.dtick=xt(vt,j,X):Yt>B?yt.dtick=xt(vt,B,X):(Ut=Ht(10),yt.dtick=xt(vt,Ut,Dt))}else if(yt.type==="log"){yt.tick0=0;var re=r.simpleMap(yt.range,yt.r2l);if(yt._isMinor&&(vt*=1.5),vt>.7)yt.dtick=Math.ceil(vt);else if(Math.abs(re[1]-re[0])<1){var ve=1.5*Math.abs((re[1]-re[0])/vt);vt=Math.abs(Math.pow(10,re[1])-Math.pow(10,re[0]))/ve,Ut=Ht(10),yt.dtick="L"+xt(vt,Ut,Dt)}else yt.dtick=vt>.3?"D2":"D1"}else yt.type==="category"||yt.type==="multicategory"?(yt.tick0=0,yt.dtick=Math.ceil(Math.max(vt,1))):ye(yt)?(yt.tick0=0,Ut=1,yt.dtick=xt(vt,Ut,wt)):(yt.tick0=0,Ut=Ht(10),yt.dtick=xt(vt,Ut,Dt));if(yt.dtick===0&&(yt.dtick=1),!f(yt.dtick)&&typeof yt.dtick!="string"){var fe=yt.dtick;throw yt.dtick=1,"ax.dtick error: "+String(fe)}},H.tickIncrement=function(yt,vt,Rt,Ut){var Ht=Rt?-1:1;if(f(vt))return r.increment(yt,Ht*vt);var Yt=vt.charAt(0),ee=Ht*Number(vt.substr(1));if(Yt==="M")return r.incrementMonth(yt,ee,Ut);if(Yt==="L")return Math.log(Math.pow(10,yt)+ee)/Math.LN10;if(Yt==="D"){var ne=vt==="D2"?gt:ft,re=yt+.01*Ht,ve=r.roundUp(r.mod(re,1),ne,Rt);return Math.floor(re)+Math.log(a.round(Math.pow(10,ve),1))/Math.LN10}throw"unrecognized dtick "+String(vt)},H.tickFirst=function(yt,vt){var Rt=yt.r2l||Number,Ut=r.simpleMap(yt.range,Rt,void 0,void 0,vt),Ht=Ut[1]<Ut[0],Yt=Ht?Math.floor:Math.ceil,ee=ot(Ut)[0],ne=yt.dtick,re=Rt(yt.tick0);if(f(ne)){var ve=Yt((ee-re)/ne)*ne+re;return yt.type!=="category"&&yt.type!=="multicategory"||(ve=r.constrain(ve,0,yt._categories.length-1)),ve}var fe=ne.charAt(0),pe=Number(ne.substr(1));if(fe==="M"){for(var ze,Be,Me,_e=0,xe=re;_e<10;){if(((ze=H.tickIncrement(xe,ne,Ht,yt.calendar))-ee)*(xe-ee)<=0)return Ht?Math.min(xe,ze):Math.max(xe,ze);Be=(ee-(xe+ze)/2)/(ze-xe),Me=fe+(Math.abs(Math.round(Be))||1)*pe,xe=H.tickIncrement(xe,Me,Be<0?!Ht:Ht,yt.calendar),_e++}return r.error("tickFirst did not converge",yt),xe}if(fe==="L")return Math.log(Yt((Math.pow(10,ee)-re)/pe)*pe+re)/Math.LN10;if(fe==="D"){var me=ne==="D2"?gt:ft,Te=r.roundUp(r.mod(ee,1),me,Ht);return Math.floor(ee)+Math.log(a.round(Math.pow(10,Te),1))/Math.LN10}throw"unrecognized dtick "+String(ne)},H.tickText=function(yt,vt,Rt,Ut){var Ht,Yt=Bt(yt,vt),ee=yt.tickmode==="array",ne=Rt||ee,re=yt.type,ve=re==="category"?yt.d2l_noadd:yt.d2l;if(ee&&Array.isArray(yt.ticktext)){var fe=r.simpleMap(yt.range,yt.r2l),pe=(Math.abs(fe[1]-fe[0])-(yt._lBreaks||0))/1e4;for(Ht=0;Ht<yt.ticktext.length&&!(Math.abs(vt-ve(yt.tickvals[Ht]))<pe);Ht++);if(Ht<yt.ticktext.length)return Yt.text=String(yt.ticktext[Ht]),Yt}function ze(xe){if(xe===void 0)return!0;if(Rt)return xe==="none";var me={first:yt._tmin,last:yt._tmax}[xe];return xe!=="all"&&vt!==me}var Be=Rt?"never":yt.exponentformat!=="none"&&ze(yt.showexponent)?"hide":"";if(re==="date"?function(xe,me,Te,we){var Ae=xe._tickround,Ye=Te&&xe.hoverformat||H.getTickFormat(xe);we&&(Ae=f(Ae)?4:{y:"m",m:"d",d:"M",M:"S",S:4}[Ae]);var Re,ge=r.formatDate(me.x,Ye,Ae,xe._dateFormat,xe.calendar,xe._extraFormat),ke=ge.indexOf(`
`);if(ke!==-1&&(Re=ge.substr(ke+1),ge=ge.substr(0,ke)),we&&(ge==="00:00:00"||ge==="00:00"?(ge=Re,Re=""):ge.length===8&&(ge=ge.replace(/:00$/,""))),Re)if(Te)Ae==="d"?ge+=", "+Re:ge=Re+(ge?", "+ge:"");else if(xe._inCalcTicks&&xe._prevDateHead===Re){var Ee=Pe(xe),Oe=xe._trueSide||xe.side;(!Ee&&Oe==="top"||Ee&&Oe==="bottom")&&(ge+="<br> ")}else xe._prevDateHead=Re,ge+="<br>"+Re;me.text=ge}(yt,Yt,Rt,ne):re==="log"?function(xe,me,Te,we,Ae){var Ye=xe.dtick,Re=me.x,ge=xe.tickformat,ke=typeof Ye=="string"&&Ye.charAt(0);if(Ae==="never"&&(Ae=""),we&&ke!=="L"&&(Ye="L3",ke="L"),ge||ke==="L")me.text=Pt(Math.pow(10,Re),xe,Ae,we);else if(f(Ye)||ke==="D"&&r.mod(Re+.01,1)<.1){var Ee=Math.round(Re),Oe=Math.abs(Ee),Se=xe.exponentformat;Se==="power"||St(Se)&&Lt(Ee)?(me.text=Ee===0?1:Ee===1?"10":"10<sup>"+(Ee>1?"":J)+Oe+"</sup>",me.fontSize*=1.25):(Se==="e"||Se==="E")&&Oe>2?me.text="1"+Se+(Ee>0?"+":J)+Oe:(me.text=Pt(Math.pow(10,Re),xe,"","fakehover"),Ye==="D1"&&xe._id.charAt(0)==="y"&&(me.dy-=me.fontSize/6))}else{if(ke!=="D")throw"unrecognized dtick "+String(Ye);me.text=String(Math.round(Math.pow(10,r.mod(Re,1)))),me.fontSize*=.75}if(xe.dtick==="D1"){var Fe=String(me.text).charAt(0);Fe!=="0"&&Fe!=="1"||(xe._id.charAt(0)==="y"?me.dx-=me.fontSize/4:(me.dy+=me.fontSize/2,me.dx+=(xe.range[1]>xe.range[0]?1:-1)*me.fontSize*(Re<0?.5:.25)))}}(yt,Yt,0,ne,Be):re==="category"?function(xe,me){var Te=xe._categories[Math.round(me.x)];Te===void 0&&(Te=""),me.text=String(Te)}(yt,Yt):re==="multicategory"?function(xe,me,Te){var we=Math.round(me.x),Ae=xe._categories[we]||[],Ye=Ae[1]===void 0?"":String(Ae[1]),Re=Ae[0]===void 0?"":String(Ae[0]);Te?me.text=Re+" - "+Ye:(me.text=Ye,me.text2=Re)}(yt,Yt,Rt):ye(yt)?function(xe,me,Te,we,Ae){if(xe.thetaunit!=="radians"||Te)me.text=Pt(me.x,xe,Ae,we);else{var Ye=me.x/180;if(Ye===0)me.text="0";else{var Re=function(ke){function Ee(je,Ue){return Math.abs(je-Ue)<=1e-6}var Oe=function(je){for(var Ue=1;!Ee(Math.round(je*Ue)/Ue,je);)Ue*=10;return Ue}(ke),Se=ke*Oe,Fe=Math.abs(function je(Ue,He){return Ee(He,0)?Ue:je(He,Ue%He)}(Se,Oe));return[Math.round(Se/Fe),Math.round(Oe/Fe)]}(Ye);if(Re[1]>=100)me.text=Pt(r.deg2rad(me.x),xe,Ae,we);else{var ge=me.x<0;Re[1]===1?Re[0]===1?me.text="π":me.text=Re[0]+"π":me.text=["<sup>",Re[0],"</sup>","⁄","<sub>",Re[1],"</sub>","π"].join(""),ge&&(me.text=J+me.text)}}}}(yt,Yt,Rt,ne,Be):function(xe,me,Te,we,Ae){Ae==="never"?Ae="":xe.showexponent==="all"&&Math.abs(me.x/xe.dtick)<1e-6&&(Ae="hide"),me.text=Pt(me.x,xe,Ae,we)}(yt,Yt,0,ne,Be),Ut||(yt.tickprefix&&!ze(yt.showtickprefix)&&(Yt.text=yt.tickprefix+Yt.text),yt.ticksuffix&&!ze(yt.showticksuffix)&&(Yt.text+=yt.ticksuffix)),yt.labelalias&&yt.labelalias.hasOwnProperty(Yt.text)){var Me=yt.labelalias[Yt.text];typeof Me=="string"&&(Yt.text=Me)}if(yt.tickson==="boundaries"||yt.showdividers){var _e=function(xe){var me=yt.l2p(xe);return me>=0&&me<=yt._length?xe:null};Yt.xbnd=[_e(Yt.x-.5),_e(Yt.x+yt.dtick-.5)]}return Yt},H.hoverLabelText=function(yt,vt,Rt){Rt&&(yt=r.extendFlat({},yt,{hoverformat:Rt}));var Ut=Array.isArray(vt)?vt[0]:vt,Ht=Array.isArray(vt)?vt[1]:void 0;if(Ht!==void 0&&Ht!==Ut)return H.hoverLabelText(yt,Ut,Rt)+" - "+H.hoverLabelText(yt,Ht,Rt);var Yt=yt.type==="log"&&Ut<=0,ee=H.tickText(yt,yt.c2l(Yt?-Ut:Ut),"hover").text;return Yt?Ut===0?"0":J+ee:ee};var Mt=["f","p","n","μ","m","","k","M","G","T"];function St(yt){return yt==="SI"||yt==="B"}function Lt(yt){return yt>14||yt<-15}function Pt(yt,vt,Rt,Ut){var Ht=yt<0,Yt=vt._tickround,ee=Rt||vt.exponentformat||"B",ne=vt._tickexponent,re=H.getTickFormat(vt),ve=vt.separatethousands;if(Ut){var fe={exponentformat:ee,minexponent:vt.minexponent,dtick:vt.showexponent==="none"?vt.dtick:f(yt)&&Math.abs(yt)||1,range:vt.showexponent==="none"?vt.range.map(vt.r2d):[0,yt||1]};Ft(fe),Yt=(Number(fe._tickround)||0)+4,ne=fe._tickexponent,vt.hoverformat&&(re=vt.hoverformat)}if(re)return vt._numFormat(re)(yt).replace(/-/g,J);var pe,ze=Math.pow(10,-Yt)/2;if(ee==="none"&&(ne=0),(yt=Math.abs(yt))<ze)yt="0",Ht=!1;else{if(yt+=ze,ne&&(yt*=Math.pow(10,-ne),Yt+=ne),Yt===0)yt=String(Math.floor(yt));else if(Yt<0){yt=(yt=String(Math.round(yt))).substr(0,yt.length+Yt);for(var Be=Yt;Be<0;Be++)yt+="0"}else{var Me=(yt=String(yt)).indexOf(".")+1;Me&&(yt=yt.substr(0,Me+Yt).replace(/\.?0+$/,""))}yt=r.numSeparate(yt,vt._separators,ve)}return ne&&ee!=="hide"&&(St(ee)&&Lt(ne)&&(ee="power"),pe=ne<0?J+-ne:ee!=="power"?"+"+ne:String(ne),ee==="e"||ee==="E"?yt+=ee+pe:ee==="power"?yt+="×10<sup>"+pe+"</sup>":ee==="B"&&ne===9?yt+="B":St(ee)&&(yt+=Mt[ne/3+5])),Ht?J+yt:yt}function zt(yt,vt){if(yt){var Rt=Object.keys(z).reduce(function(Ut,Ht){return vt.indexOf(Ht)!==-1&&z[Ht].forEach(function(Yt){Ut[Yt]=1}),Ut},{});Object.keys(yt).forEach(function(Ut){Rt[Ut]||(Ut.length===1?yt[Ut]=0:delete yt[Ut])})}}function Xt(yt,vt){for(var Rt=[],Ut={},Ht=0;Ht<vt.length;Ht++){var Yt=vt[Ht];Ut[Yt.text2]?Ut[Yt.text2].push(Yt.x):Ut[Yt.text2]=[Yt.x]}for(var ee in Ut)Rt.push(Bt(yt,r.interp(Ut[ee],.5),ee));return Rt}function Gt(yt){return yt.periodX!==void 0?yt.periodX:yt.x}function Kt(yt){return[yt.text,yt.x,yt.axInfo,yt.font,yt.fontSize,yt.fontColor].join("_")}function ie(yt){var vt=yt.title.font.size,Rt=(yt.title.text.match(o.BR_TAG_ALL)||[]).length;return yt.title.hasOwnProperty("standoff")?Rt?vt*(nt+Rt*et):vt*nt:Rt?vt*(Rt+1)*et:vt}function de(yt,vt){var Rt=yt.l2p(vt);return Rt>1&&Rt<yt._length-1}function Jt(yt){var vt=a.select(yt),Rt=vt.select(".text-math-group");return Rt.empty()?vt.select("text"):Rt}function Nt(yt){return yt._id+".automargin"}function Vt(yt){return Nt(yt)+".mirror"}function Zt(yt){return yt._id+".rangeslider"}function Wt(yt,vt){for(var Rt=0;Rt<vt.length;Rt++)yt.indexOf(vt[Rt])===-1&&yt.push(vt[Rt])}function he(yt,vt,Rt){var Ut,Ht,Yt=[],ee=[],ne=yt.layout;for(Ut=0;Ut<vt.length;Ut++)Yt.push(H.getFromId(yt,vt[Ut]));for(Ut=0;Ut<Rt.length;Ut++)ee.push(H.getFromId(yt,Rt[Ut]));var re=Object.keys(c),ve=["anchor","domain","overlaying","position","side","tickangle","editType"],fe=["linear","log"];for(Ut=0;Ut<re.length;Ut++){var pe=re[Ut],ze=Yt[0][pe],Be=ee[0][pe],Me=!0,_e=!1,xe=!1;if(pe.charAt(0)!=="_"&&typeof ze!="function"&&ve.indexOf(pe)===-1){for(Ht=1;Ht<Yt.length&&Me;Ht++){var me=Yt[Ht][pe];pe==="type"&&fe.indexOf(ze)!==-1&&fe.indexOf(me)!==-1&&ze!==me?_e=!0:me!==ze&&(Me=!1)}for(Ht=1;Ht<ee.length&&Me;Ht++){var Te=ee[Ht][pe];pe==="type"&&fe.indexOf(Be)!==-1&&fe.indexOf(Te)!==-1&&Be!==Te?xe=!0:ee[Ht][pe]!==Be&&(Me=!1)}Me&&(_e&&(ne[Yt[0]._name].type="linear"),xe&&(ne[ee[0]._name].type="linear"),$t(ne,pe,Yt,ee,yt._fullLayout._dfltTitle))}}for(Ut=0;Ut<yt._fullLayout.annotations.length;Ut++){var we=yt._fullLayout.annotations[Ut];vt.indexOf(we.xref)!==-1&&Rt.indexOf(we.yref)!==-1&&r.swapAttrs(ne.annotations[Ut],["?"])}}function $t(yt,vt,Rt,Ut,Ht){var Yt,ee=r.nestedProperty,ne=ee(yt[Rt[0]._name],vt).get(),re=ee(yt[Ut[0]._name],vt).get();for(vt==="title"&&(ne&&ne.text===Ht.x&&(ne.text=Ht.y),re&&re.text===Ht.y&&(re.text=Ht.x)),Yt=0;Yt<Rt.length;Yt++)ee(yt,Rt[Yt]._name+"."+vt).set(re);for(Yt=0;Yt<Ut.length;Yt++)ee(yt,Ut[Yt]._name+"."+vt).set(ne)}function ye(yt){return yt._id==="angularaxis"}function se(yt,vt){for(var Rt=vt._rangebreaks.length,Ut=0;Ut<Rt;Ut++){var Ht=vt._rangebreaks[Ut];if(yt>=Ht.min&&yt<Ht.max)return Ht.max}return yt}function Pe(yt){return(yt.ticklabelposition||"").indexOf("inside")!==-1}function Ce(yt,vt){Pe(yt._anchorAxis||{})&&yt._hideCounterAxisInsideTickLabels&&yt._hideCounterAxisInsideTickLabels(vt)}function Ne(yt,vt,Rt,Ut){var Ht,Yt=yt.anchor==="free"||yt.overlaying!==void 0&&yt.overlaying!==!1?yt.overlaying:yt._id;Ht=Ut?yt.side==="right"?vt:-vt:vt,Yt in Rt||(Rt[Yt]={}),yt.side in Rt[Yt]||(Rt[Yt][yt.side]=0),Rt[Yt][yt.side]+=Ht}H.getTickFormat=function(yt){var vt,Rt,Ut,Ht,Yt,ee,ne,re;function ve(ze){return typeof ze!="string"?ze:Number(ze.replace("M",""))*T}function fe(ze,Be){var Me=["L","D"];if(typeof ze==typeof Be){if(typeof ze=="number")return ze-Be;var _e=Me.indexOf(ze.charAt(0)),xe=Me.indexOf(Be.charAt(0));return _e===xe?Number(ze.replace(/(L|D)/g,""))-Number(Be.replace(/(L|D)/g,"")):_e-xe}return typeof ze=="number"?1:-1}function pe(ze,Be){var Me=Be[0]===null,_e=Be[1]===null,xe=fe(ze,Be[0])>=0,me=fe(ze,Be[1])<=0;return(Me||xe)&&(_e||me)}if(yt.tickformatstops&&yt.tickformatstops.length>0)switch(yt.type){case"date":case"linear":for(vt=0;vt<yt.tickformatstops.length;vt++)if((Ut=yt.tickformatstops[vt]).enabled&&(Ht=yt.dtick,ee=void 0,ee=ve||function(ze){return ze},ne=(Yt=Ut.dtickrange)[0],re=Yt[1],(!ne&&typeof ne!="number"||ee(ne)<=ee(Ht))&&(!re&&typeof re!="number"||ee(re)>=ee(Ht)))){Rt=Ut;break}break;case"log":for(vt=0;vt<yt.tickformatstops.length;vt++)if((Ut=yt.tickformatstops[vt]).enabled&&pe(yt.dtick,Ut.dtickrange)){Rt=Ut;break}}return Rt?Rt.value:yt.tickformat},H.getSubplots=function(yt,vt){var Rt=yt._fullLayout._subplots,Ut=Rt.cartesian.concat(Rt.gl2d||[]),Ht=vt?H.findSubplotsWithAxis(Ut,vt):Ut;return Ht.sort(function(Yt,ee){var ne=Yt.substr(1).split("y"),re=ee.substr(1).split("y");return ne[0]===re[0]?+ne[1]-+re[1]:+ne[0]-+re[0]}),Ht},H.findSubplotsWithAxis=function(yt,vt){for(var Rt=new RegExp(vt._id.charAt(0)==="x"?"^"+vt._id+"y":vt._id+"$"),Ut=[],Ht=0;Ht<yt.length;Ht++){var Yt=yt[Ht];Rt.test(Yt)&&Ut.push(Yt)}return Ut},H.makeClipPaths=function(yt){var vt=yt._fullLayout;if(!vt._hasOnlyLargeSploms){var Rt,Ut,Ht={_offset:0,_length:vt.width,_id:""},Yt={_offset:0,_length:vt.height,_id:""},ee=H.list(yt,"x",!0),ne=H.list(yt,"y",!0),re=[];for(Rt=0;Rt<ee.length;Rt++)for(re.push({x:ee[Rt],y:Yt}),Ut=0;Ut<ne.length;Ut++)Rt===0&&re.push({x:Ht,y:ne[Ut]}),re.push({x:ee[Rt],y:ne[Ut]});var ve=vt._clips.selectAll(".axesclip").data(re,function(fe){return fe.x._id+fe.y._id});ve.enter().append("clipPath").classed("axesclip",!0).attr("id",function(fe){return"clip"+vt._uid+fe.x._id+fe.y._id}).append("rect"),ve.exit().remove(),ve.each(function(fe){a.select(this).select("rect").attr({x:fe.x._offset||0,y:fe.y._offset||0,width:fe.x._length||1,height:fe.y._length||1})})}},H.draw=function(yt,vt,Rt){var Ut=yt._fullLayout;vt==="redraw"&&Ut._paper.selectAll("g.subplot").each(function(ne){var re=ne[0],ve=Ut._plots[re];if(ve){var fe=ve.xaxis,pe=ve.yaxis;ve.xaxislayer.selectAll("."+fe._id+"tick").remove(),ve.yaxislayer.selectAll("."+pe._id+"tick").remove(),ve.xaxislayer.selectAll("."+fe._id+"tick2").remove(),ve.yaxislayer.selectAll("."+pe._id+"tick2").remove(),ve.xaxislayer.selectAll("."+fe._id+"divider").remove(),ve.yaxislayer.selectAll("."+pe._id+"divider").remove(),ve.minorGridlayer&&ve.minorGridlayer.selectAll("path").remove(),ve.gridlayer&&ve.gridlayer.selectAll("path").remove(),ve.zerolinelayer&&ve.zerolinelayer.selectAll("path").remove(),Ut._infolayer.select(".g-"+fe._id+"title").remove(),Ut._infolayer.select(".g-"+pe._id+"title").remove()}});var Ht=vt&&vt!=="redraw"?vt:H.listIds(yt),Yt=H.list(yt).filter(function(ne){return ne.autoshift}).map(function(ne){return ne.overlaying});Ht.map(function(ne){var re=H.getFromId(yt,ne);if(re.tickmode==="sync"&&re.overlaying){var ve=Ht.findIndex(function(fe){return fe===re.overlaying});ve>=0&&Ht.unshift(Ht.splice(ve,1).shift())}});var ee={false:{left:0,right:0}};return r.syncOrAsync(Ht.map(function(ne){return function(){if(ne){var re=H.getFromId(yt,ne);Rt||(Rt={}),Rt.axShifts=ee,Rt.overlayingShiftedAx=Yt;var ve=H.drawOne(yt,re,Rt);return re._shiftPusher&&Ne(re,re._fullDepth||0,ee,!0),re._r=re.range.slice(),re._rl=r.simpleMap(re._r,re.r2l),ve}}}))},H.drawOne=function(yt,vt,Rt){var Ut,Ht,Yt,ee=(Rt=Rt||{}).axShifts||{},ne=Rt.overlayingShiftedAx||[];vt.setScale();var re=yt._fullLayout,ve=vt._id,fe=ve.charAt(0),pe=H.counterLetter(ve),ze=re._plots[vt._mainSubplot];if(ze){if(vt._shiftPusher=vt.autoshift||ne.indexOf(vt._id)!==-1||ne.indexOf(vt.overlaying)!==-1,vt._shiftPusher&vt.anchor==="free"){var Be=vt.linewidth/2||0;vt.ticks==="inside"&&(Be+=vt.ticklen),Ne(vt,Be,ee,!0),Ne(vt,vt.shift||0,ee,!1)}Rt.skipTitle===!0&&vt._shift!==void 0||(vt._shift=function(pn,en){return pn.autoshift?en[pn.overlaying][pn.side]:pn.shift||0}(vt,ee));var Me=ze[fe+"axislayer"],_e=vt._mainLinePosition,xe=_e+=vt._shift,me=vt._mainMirrorPosition,Te=vt._vals=H.calcTicks(vt),we=[vt.mirror,xe,me].join("_");for(Ut=0;Ut<Te.length;Ut++)Te[Ut].axInfo=we;vt._selections={},vt._tickAngles&&(vt._prevTickAngles=vt._tickAngles),vt._tickAngles={},vt._depth=null;var Ae={};if(vt.visible){var Ye,Re,ge=H.makeTransTickFn(vt),ke=H.makeTransTickLabelFn(vt),Ee=vt.ticks==="inside",Oe=vt.ticks==="outside";if(vt.tickson==="boundaries"){var Se=function(pn,en){var Dn,er=[],_n=function(On,An){var Pn=On.xbnd[An];Pn!==null&&er.push(r.extendFlat({},On,{x:Pn}))};if(en.length){for(Dn=0;Dn<en.length;Dn++)_n(en[Dn],0);_n(en[Dn-1],1)}return er}(0,Te);Re=H.clipEnds(vt,Se),Ye=Ee?Re:Se}else Re=H.clipEnds(vt,Te),Ye=Ee&&vt.ticklabelmode!=="period"?Re:Te;var Fe,je=vt._gridVals=Re,Ue=function(pn,en){var Dn,er,_n=[],On=en.length&&en[en.length-1].x<en[0].x,An=function(cr,jn){var nr=cr.xbnd[jn];nr!==null&&_n.push(r.extendFlat({},cr,{x:nr}))};if(pn.showdividers&&en.length){for(Dn=0;Dn<en.length;Dn++){var Pn=en[Dn];Pn.text2!==er&&An(Pn,On?1:0),er=Pn.text2}An(en[Dn-1],On?0:1)}return _n}(vt,Te);if(!re._hasOnlyLargeSploms){var He=vt._subplotsWith,Je={};for(Ut=0;Ut<He.length;Ut++){Ht=He[Ut];var Qe=(Yt=re._plots[Ht])[pe+"axis"],ln=Qe._mainAxis._id;if(!Je[ln]){Je[ln]=1;var rn=fe==="x"?"M0,"+Qe._offset+"v"+Qe._length:"M"+Qe._offset+",0h"+Qe._length;H.drawGrid(yt,vt,{vals:je,counterAxis:Qe,layer:Yt.gridlayer.select("."+ve),minorLayer:Yt.minorGridlayer.select("."+ve),path:rn,transFn:ge}),H.drawZeroLine(yt,vt,{counterAxis:Qe,layer:Yt.zerolinelayer,path:rn,transFn:ge})}}}var We=H.getTickSigns(vt),nn=H.getTickSigns(vt,"minor");if(vt.ticks||vt.minor&&vt.minor.ticks){var sn,Xe,un,tn,vn=H.makeTickPath(vt,xe,We[2]),fn=H.makeTickPath(vt,xe,nn[2],{minor:!0});if(vt._anchorAxis&&vt.mirror&&vt.mirror!==!0?(sn=H.makeTickPath(vt,me,We[3]),Xe=H.makeTickPath(vt,me,nn[3],{minor:!0}),un=vn+sn,tn=fn+Xe):(sn="",Xe="",un=vn,tn=fn),vt.showdividers&&Oe&&vt.tickson==="boundaries"){var gn={};for(Ut=0;Ut<Ue.length;Ut++)gn[Ue[Ut].x]=1;Fe=function(pn){return gn[pn.x]?sn:un}}else Fe=function(pn){return pn.minor?tn:un}}if(H.drawTicks(yt,vt,{vals:Ye,layer:Me,path:Fe,transFn:ge}),vt.mirror==="allticks"){var En=Object.keys(vt._linepositions||{});for(Ut=0;Ut<En.length;Ut++){Ht=En[Ut],Yt=re._plots[Ht];var xn=vt._linepositions[Ht]||[],Cn=xn[0],Zn=xn[1],Yn=xn[2],Fr=H.makeTickPath(vt,Cn,Yn?We[0]:nn[0],{minor:Yn})+H.makeTickPath(vt,Zn,Yn?We[1]:nn[1],{minor:Yn});H.drawTicks(yt,vt,{vals:Ye,layer:Yt[fe+"axislayer"],path:Fr,transFn:ge})}}var zn=[];if(zn.push(function(){return H.drawLabels(yt,vt,{vals:Te,layer:Me,plotinfo:Yt,transFn:ke,labelFns:H.makeLabelFns(vt,xe)})}),vt.type==="multicategory"){var Nn={x:2,y:10}[fe];zn.push(function(){var pn={x:"height",y:"width"}[fe],en=mr()[pn]+Nn+(vt._tickAngles[ve+"tick"]?vt.tickfont.size*et:0);return H.drawLabels(yt,vt,{vals:Xt(vt,Te),layer:Me,cls:ve+"tick2",repositionOnUpdate:!0,secondary:!0,transFn:ge,labelFns:H.makeLabelFns(vt,xe+en*We[4])})}),zn.push(function(){return vt._depth=We[4]*(mr("tick2")[vt.side]-xe),function(pn,en,Dn){var er=en._id+"divider",_n=Dn.vals,On=Dn.layer.selectAll("path."+er).data(_n,Kt);On.exit().remove(),On.enter().insert("path",":first-child").classed(er,1).classed("crisp",1).call(u.stroke,en.dividercolor).style("stroke-width",d.crispRound(pn,en.dividerwidth,1)+"px"),On.attr("transform",Dn.transFn).attr("d",Dn.path)}(yt,vt,{vals:Ue,layer:Me,path:H.makeTickPath(vt,xe,We[4],{len:vt._depth}),transFn:ge})})}else vt.title.hasOwnProperty("standoff")&&zn.push(function(){vt._depth=We[4]*(mr()[vt.side]-xe)});var gr=i.getComponentMethod("rangeslider","isVisible")(vt);return Rt.skipTitle||gr&&vt.side==="bottom"||zn.push(function(){return function(pn,en){var Dn,er=pn._fullLayout,_n=en._id,On=_n.charAt(0),An=en.title.font.size;if(en.title.hasOwnProperty("standoff"))Dn=en._depth+en.title.standoff+ie(en);else{var Pn=Pe(en);if(en.type==="multicategory")Dn=en._depth;else{var cr=1.5*An;Pn&&(cr=.5*An,en.ticks==="outside"&&(cr+=en.ticklen)),Dn=10+cr+(en.linewidth?en.linewidth-1:0)}Pn||(Dn+=On==="x"?en.side==="top"?An*(en.showticklabels?1:0):An*(en.showticklabels?1.5:.5):en.side==="right"?An*(en.showticklabels?1:.5):An*(en.showticklabels?.5:0))}var jn,nr,kr,wr,xr=H.getPxPosition(pn,en);if(On==="x"?(nr=en._offset+en._length/2,kr=en.side==="top"?xr-Dn:xr+Dn):(kr=en._offset+en._length/2,nr=en.side==="right"?xr+Dn:xr-Dn,jn={rotate:"-90",offset:0}),en.type!=="multicategory"){var fr=en._selections[en._id+"tick"];if(wr={selection:fr,side:en.side},fr&&fr.node()&&fr.node().parentNode){var Zr=d.getTranslate(fr.node().parentNode);wr.offsetLeft=Zr.x,wr.offsetTop=Zr.y}en.title.hasOwnProperty("standoff")&&(wr.pad=0)}return en._titleStandoff=Dn,l.draw(pn,_n+"title",{propContainer:en,propName:en._name+".title.text",placeholder:er._dfltTitle[On],avoid:wr,transform:jn,attributes:{x:nr,y:kr,"text-anchor":"middle"}})}(yt,vt)}),zn.push(function(){var pn,en,Dn,er,_n=vt.side.charAt(0),On=Z[vt.side].charAt(0),An=H.getPxPosition(yt,vt),Pn=Oe?vt.ticklen:0;(vt.automargin||gr||vt._shiftPusher)&&(vt.type==="multicategory"?pn=mr("tick2"):(pn=mr(),fe==="x"&&_n==="b"&&(vt._depth=Math.max(pn.width>0?pn.bottom-An:0,Pn))));var cr=0,jn=0;if(vt._shiftPusher&&(cr=Math.max(Pn,pn.height>0?_n==="l"?An-pn.left:pn.right-An:0),vt.title.text!==re._dfltTitle[fe]&&(jn=(vt._titleStandoff||0)+(vt._titleScoot||0),_n==="l"&&(jn+=ie(vt))),vt._fullDepth=Math.max(cr,jn)),vt.automargin){en={x:0,y:0,r:0,l:0,t:0,b:0};var nr=[0,1],kr=typeof vt._shift=="number"?vt._shift:0;if(fe==="x"){if(_n==="b"?en[_n]=vt._depth:(en[_n]=vt._depth=Math.max(pn.width>0?An-pn.top:0,Pn),nr.reverse()),pn.width>0){var wr=pn.right-(vt._offset+vt._length);wr>0&&(en.xr=1,en.r=wr);var xr=vt._offset-pn.left;xr>0&&(en.xl=0,en.l=xr)}}else if(_n==="l"?(vt._depth=Math.max(pn.height>0?An-pn.left:0,Pn),en[_n]=vt._depth-kr):(vt._depth=Math.max(pn.height>0?pn.right-An:0,Pn),en[_n]=vt._depth+kr,nr.reverse()),pn.height>0){var fr=pn.bottom-(vt._offset+vt._length);fr>0&&(en.yb=0,en.b=fr);var Zr=vt._offset-pn.top;Zr>0&&(en.yt=1,en.t=Zr)}en[pe]=vt.anchor==="free"?vt.position:vt._anchorAxis.domain[nr[0]],vt.title.text!==re._dfltTitle[fe]&&(en[_n]+=ie(vt)+(vt.title.standoff||0)),vt.mirror&&vt.anchor!=="free"&&((Dn={x:0,y:0,r:0,l:0,t:0,b:0})[On]=vt.linewidth,vt.mirror&&vt.mirror!==!0&&(Dn[On]+=Pn),vt.mirror===!0||vt.mirror==="ticks"?Dn[pe]=vt._anchorAxis.domain[nr[1]]:vt.mirror!=="all"&&vt.mirror!=="allticks"||(Dn[pe]=[vt._counterDomainMin,vt._counterDomainMax][nr[1]]))}gr&&(er=i.getComponentMethod("rangeslider","autoMarginOpts")(yt,vt)),typeof vt.automargin=="string"&&(zt(en,vt.automargin),zt(Dn,vt.automargin)),e.autoMargin(yt,Nt(vt),en),e.autoMargin(yt,Vt(vt),Dn),e.autoMargin(yt,Zt(vt),er)}),r.syncOrAsync(zn)}}function mr(pn){var en=ve+(pn||"tick");return Ae[en]||(Ae[en]=function(Dn,er){var _n,On,An,Pn;return Dn._selections[er].size()?(_n=1/0,On=-1/0,An=1/0,Pn=-1/0,Dn._selections[er].each(function(){var cr=Jt(this),jn=d.bBox(cr.node().parentNode);_n=Math.min(_n,jn.top),On=Math.max(On,jn.bottom),An=Math.min(An,jn.left),Pn=Math.max(Pn,jn.right)})):(_n=0,On=0,An=0,Pn=0),{top:_n,bottom:On,left:An,right:Pn,height:On-_n,width:Pn-An}}(vt,en)),Ae[en]}},H.getTickSigns=function(yt,vt){var Rt=yt._id.charAt(0),Ut={x:"top",y:"right"}[Rt],Ht=yt.side===Ut?1:-1,Yt=[-1,1,Ht,-Ht];return(vt?(yt.minor||{}).ticks:yt.ticks)!=="inside"==(Rt==="x")&&(Yt=Yt.map(function(ee){return-ee})),yt.side&&Yt.push({l:-1,t:-1,r:1,b:1}[yt.side.charAt(0)]),Yt},H.makeTransTickFn=function(yt){return yt._id.charAt(0)==="x"?function(vt){return n(yt._offset+yt.l2p(vt.x),0)}:function(vt){return n(0,yt._offset+yt.l2p(vt.x))}},H.makeTransTickLabelFn=function(yt){var vt=function(Ht){var Yt=Ht.ticklabelposition||"",ee=function(me){return Yt.indexOf(me)!==-1},ne=ee("top"),re=ee("left"),ve=ee("right"),fe=ee("bottom"),pe=ee("inside"),ze=fe||re||ne||ve;if(!ze&&!pe)return[0,0];var Be=Ht.side,Me=ze?(Ht.tickwidth||0)/2:0,_e=3,xe=Ht.tickfont?Ht.tickfont.size:12;return(fe||ne)&&(Me+=xe*nt,_e+=(Ht.linewidth||0)/2),(re||ve)&&(Me+=(Ht.linewidth||0)/2,_e+=3),pe&&Be==="top"&&(_e-=xe*(1-nt)),(re||ne)&&(Me=-Me),Be!=="bottom"&&Be!=="right"||(_e=-_e),[ze?Me:0,pe?_e:0]}(yt),Rt=vt[0],Ut=vt[1];return yt._id.charAt(0)==="x"?function(Ht){return n(Rt+yt._offset+yt.l2p(Gt(Ht)),Ut)}:function(Ht){return n(Ut,Rt+yt._offset+yt.l2p(Gt(Ht)))}},H.makeTickPath=function(yt,vt,Rt,Ut){Ut||(Ut={});var Ht=Ut.minor;if(Ht&&!yt.minor)return"";var Yt=Ut.len!==void 0?Ut.len:Ht?yt.minor.ticklen:yt.ticklen,ee=yt._id.charAt(0),ne=(yt.linewidth||1)/2;return ee==="x"?"M0,"+(vt+ne*Rt)+"v"+Yt*Rt:"M"+(vt+ne*Rt)+",0h"+Yt*Rt},H.makeLabelFns=function(yt,vt,Rt){var Ut=yt.ticklabelposition||"",Ht=function(Se){return Ut.indexOf(Se)!==-1},Yt=Ht("top"),ee=Ht("left"),ne=Ht("right"),re=Ht("bottom")||ee||Yt||ne,ve=Ht("inside"),fe=Ut==="inside"&&yt.ticks==="inside"||!ve&&yt.ticks==="outside"&&yt.tickson!=="boundaries",pe=0,ze=0,Be=fe?yt.ticklen:0;if(ve?Be*=-1:re&&(Be=0),fe&&(pe+=Be,Rt)){var Me=r.deg2rad(Rt);pe=Be*Math.cos(Me)+1,ze=Be*Math.sin(Me)}yt.showticklabels&&(fe||yt.showline)&&(pe+=.2*yt.tickfont.size);var _e,xe,me,Te,we,Ae={labelStandoff:pe+=(yt.linewidth||1)/2*(ve?-1:1),labelShift:ze},Ye=0,Re=yt.side,ge=yt._id.charAt(0),ke=yt.tickangle;if(ge==="x")Te=(we=!ve&&Re==="bottom"||ve&&Re==="top")?1:-1,ve&&(Te*=-1),_e=ze*Te,xe=vt+pe*Te,me=we?1:-.2,Math.abs(ke)===90&&(ve?me+=Q:me=ke===-90&&Re==="bottom"?nt:ke===90&&Re==="top"?Q:.5,Ye=Q/2*(ke/90)),Ae.xFn=function(Se){return Se.dx+_e+Ye*Se.fontSize},Ae.yFn=function(Se){return Se.dy+xe+Se.fontSize*me},Ae.anchorFn=function(Se,Fe){if(re){if(ee)return"end";if(ne)return"start"}return f(Fe)&&Fe!==0&&Fe!==180?Fe*Te<0!==ve?"end":"start":"middle"},Ae.heightFn=function(Se,Fe,je){return Fe<-60||Fe>60?-.5*je:yt.side==="top"!==ve?-je:0};else if(ge==="y"){if(Te=(we=!ve&&Re==="left"||ve&&Re==="right")?1:-1,ve&&(Te*=-1),_e=pe,xe=ze*Te,me=0,ve||Math.abs(ke)!==90||(me=ke===-90&&Re==="left"||ke===90&&Re==="right"?nt:.5),ve){var Ee=f(ke)?+ke:0;if(Ee!==0){var Oe=r.deg2rad(Ee);Ye=Math.abs(Math.sin(Oe))*nt*Te,me=0}}Ae.xFn=function(Se){return Se.dx+vt-(_e+Se.fontSize*me)*Te+Ye*Se.fontSize},Ae.yFn=function(Se){return Se.dy+xe+Se.fontSize*Q},Ae.anchorFn=function(Se,Fe){return f(Fe)&&Math.abs(Fe)===90?"middle":we?"end":"start"},Ae.heightFn=function(Se,Fe,je){return yt.side==="right"&&(Fe*=-1),Fe<-30?-je:Fe<30?-.5*je:0}}return Ae},H.drawTicks=function(yt,vt,Rt){Rt=Rt||{};var Ut=vt._id+"tick",Ht=[].concat(vt.minor&&vt.minor.ticks?Rt.vals.filter(function(ee){return ee.minor&&!ee.noTick}):[]).concat(vt.ticks?Rt.vals.filter(function(ee){return!ee.minor&&!ee.noTick}):[]),Yt=Rt.layer.selectAll("path."+Ut).data(Ht,Kt);Yt.exit().remove(),Yt.enter().append("path").classed(Ut,1).classed("ticks",1).classed("crisp",Rt.crisp!==!1).each(function(ee){return u.stroke(a.select(this),ee.minor?vt.minor.tickcolor:vt.tickcolor)}).style("stroke-width",function(ee){return d.crispRound(yt,ee.minor?vt.minor.tickwidth:vt.tickwidth,1)+"px"}).attr("d",Rt.path).style("display",null),Ce(vt,[tt]),Yt.attr("transform",Rt.transFn)},H.drawGrid=function(yt,vt,Rt){if(Rt=Rt||{},vt.tickmode!=="sync"){var Ut=vt._id+"grid",Ht=vt.minor&&vt.minor.showgrid,Yt=Ht?Rt.vals.filter(function(me){return me.minor}):[],ee=vt.showgrid?Rt.vals.filter(function(me){return!me.minor}):[],ne=Rt.counterAxis;if(ne&&H.shouldShowZeroLine(yt,vt,ne))for(var re=vt.tickmode==="array",ve=0;ve<ee.length;ve++){var fe=ee[ve].x;if(re?!fe:Math.abs(fe)<vt.dtick/100){if(ee=ee.slice(0,ve).concat(ee.slice(ve+1)),!re)break;ve--}}vt._gw=d.crispRound(yt,vt.gridwidth,1);for(var pe=Ht?d.crispRound(yt,vt.minor.gridwidth,1):0,ze=Rt.layer,Be=Rt.minorLayer,Me=1;Me>=0;Me--){var _e=Me?ze:Be;if(_e){var xe=_e.selectAll("path."+Ut).data(Me?ee:Yt,Kt);xe.exit().remove(),xe.enter().append("path").classed(Ut,1).classed("crisp",Rt.crisp!==!1),xe.attr("transform",Rt.transFn).attr("d",Rt.path).each(function(me){return u.stroke(a.select(this),me.minor?vt.minor.gridcolor:vt.gridcolor||"#ddd")}).style("stroke-dasharray",function(me){return d.dashStyle(me.minor?vt.minor.griddash:vt.griddash,me.minor?vt.minor.gridwidth:vt.gridwidth)}).style("stroke-width",function(me){return(me.minor?pe:vt._gw)+"px"}).style("display",null),typeof Rt.path=="function"&&xe.attr("d",Rt.path)}}Ce(vt,[O,q])}},H.drawZeroLine=function(yt,vt,Rt){Rt=Rt||Rt;var Ut=vt._id+"zl",Ht=H.shouldShowZeroLine(yt,vt,Rt.counterAxis),Yt=Rt.layer.selectAll("path."+Ut).data(Ht?[{x:0,id:vt._id}]:[]);Yt.exit().remove(),Yt.enter().append("path").classed(Ut,1).classed("zl",1).classed("crisp",Rt.crisp!==!1).each(function(){Rt.layer.selectAll("path").sort(function(ee,ne){return $(ee.id,ne.id)})}),Yt.attr("transform",Rt.transFn).attr("d",Rt.path).call(u.stroke,vt.zerolinecolor||u.defaultLine).style("stroke-width",d.crispRound(yt,vt.zerolinewidth,vt._gw||1)+"px").style("display",null),Ce(vt,[M])},H.drawLabels=function(yt,vt,Rt){Rt=Rt||{};var Ut=yt._fullLayout,Ht=vt._id,Yt=Ht.charAt(0),ee=Rt.cls||Ht+"tick",ne=Rt.vals.filter(function(Te){return Te.text}),re=Rt.labelFns,ve=Rt.secondary?0:vt.tickangle,fe=(vt._prevTickAngles||{})[ee],pe=Rt.layer.selectAll("g."+ee).data(vt.showticklabels?ne:[],Kt),ze=[];function Be(Te,we){Te.each(function(Ae){var Ye=a.select(this),Re=Ye.select(".text-math-group"),ge=re.anchorFn(Ae,we),ke=Rt.transFn.call(Ye.node(),Ae)+(f(we)&&+we!=0?" rotate("+we+","+re.xFn(Ae)+","+(re.yFn(Ae)-Ae.fontSize/2)+")":""),Ee=o.lineCount(Ye),Oe=et*Ae.fontSize,Se=re.heightFn(Ae,f(we)?+we:0,(Ee-1)*Oe);if(Se&&(ke+=n(0,Se)),Re.empty()){var Fe=Ye.select("text");Fe.attr({transform:ke,"text-anchor":ge}),Fe.style("opacity",1),vt._adjustTickLabelsOverflow&&vt._adjustTickLabelsOverflow()}else{var je=d.bBox(Re.node()).width*{end:-.5,start:.5}[ge];Re.attr("transform",ke+n(je,0))}})}pe.enter().append("g").classed(ee,1).append("text").attr("text-anchor","middle").each(function(Te){var we=a.select(this),Ae=yt._promises.length;we.call(o.positionText,re.xFn(Te),re.yFn(Te)).call(d.font,Te.font,Te.fontSize,Te.fontColor).text(Te.text).call(o.convertToTspans,yt),yt._promises[Ae]?ze.push(yt._promises.pop().then(function(){Be(we,ve)})):Be(we,ve)}),Ce(vt,[E]),pe.exit().remove(),Rt.repositionOnUpdate&&pe.each(function(Te){a.select(this).select("text").call(o.positionText,re.xFn(Te),re.yFn(Te))}),vt._adjustTickLabelsOverflow=function(){var Te=vt.ticklabeloverflow;if(Te&&Te!=="allow"){var we=Te.indexOf("hide")!==-1,Ae=vt._id.charAt(0)==="x",Ye=0,Re=Ae?yt._fullLayout.width:yt._fullLayout.height;if(Te.indexOf("domain")!==-1){var ge=r.simpleMap(vt.range,vt.r2l);Ye=vt.l2p(ge[0])+vt._offset,Re=vt.l2p(ge[1])+vt._offset}var ke=Math.min(Ye,Re),Ee=Math.max(Ye,Re),Oe=vt.side,Se=1/0,Fe=-1/0;for(var je in pe.each(function(Je){var Qe=a.select(this);if(Qe.select(".text-math-group").empty()){var ln=d.bBox(Qe.node()),rn=0;Ae?(ln.right>Ee||ln.left<ke)&&(rn=1):(ln.bottom>Ee||ln.top+(vt.tickangle?0:Je.fontSize/4)<ke)&&(rn=1);var We=Qe.select("text");rn?we&&We.style("opacity",0):(We.style("opacity",1),Se=Oe==="bottom"||Oe==="right"?Math.min(Se,Ae?ln.top:ln.left):-1/0,Fe=Oe==="top"||Oe==="left"?Math.max(Fe,Ae?ln.bottom:ln.right):1/0)}}),Ut._plots){var Ue=Ut._plots[je];if(vt._id===Ue.xaxis._id||vt._id===Ue.yaxis._id){var He=Ae?Ue.yaxis:Ue.xaxis;He&&(He["_visibleLabelMin_"+vt._id]=Se,He["_visibleLabelMax_"+vt._id]=Fe)}}}},vt._hideCounterAxisInsideTickLabels=function(Te){var we=vt._id.charAt(0)==="x",Ae=[];for(var Ye in Ut._plots){var Re=Ut._plots[Ye];vt._id!==Re.xaxis._id&&vt._id!==Re.yaxis._id||Ae.push(we?Re.yaxis:Re.xaxis)}Ae.forEach(function(ge,ke){ge&&Pe(ge)&&(Te||[M,q,O,tt,E]).forEach(function(Ee){var Oe=Ee.K==="tick"&&Ee.L==="text"&&vt.ticklabelmode==="period",Se=Ut._plots[vt._mainSubplot];(Ee.K===M.K?Se.zerolinelayer.selectAll("."+vt._id+"zl"):Ee.K===q.K?Se.minorGridlayer.selectAll("."+vt._id):Ee.K===O.K?Se.gridlayer.selectAll("."+vt._id):Se[vt._id.charAt(0)+"axislayer"]).each(function(){var Fe=a.select(this);Ee.L&&(Fe=Fe.selectAll(Ee.L)),Fe.each(function(je){var Ue=vt.l2p(Oe?Gt(je):je.x)+vt._offset,He=a.select(this);Ue<vt["_visibleLabelMax_"+ge._id]&&Ue>vt["_visibleLabelMin_"+ge._id]?He.style("display","none"):Ee.K!=="tick"||ke||He.style("display",null)})})})})},Be(pe,fe+1?fe:ve);var Me=null;vt._selections&&(vt._selections[ee]=pe);var _e=[function(){return ze.length&&Promise.all(ze)}];vt.automargin&&Ut._redrawFromAutoMarginCount&&fe===90?(Me=90,_e.push(function(){Be(pe,fe)})):_e.push(function(){if(Be(pe,ve),ne.length&&Yt==="x"&&!f(ve)&&(vt.type!=="log"||String(vt.dtick).charAt(0)!=="D")){Me=0;var Te,we=0,Ae=[];if(pe.each(function(Qe){we=Math.max(we,Qe.fontSize);var ln=vt.l2p(Qe.x),rn=Jt(this),We=d.bBox(rn.node());Ae.push({top:0,bottom:10,height:10,left:ln-We.width/2,right:ln+We.width/2+2,width:We.width+2})}),vt.tickson!=="boundaries"&&!vt.showdividers||Rt.secondary){var Ye=ne.length,Re=Math.abs((ne[Ye-1].x-ne[0].x)*vt._m)/(Ye-1),ge=vt.ticklabelposition||"",ke=function(Qe){return ge.indexOf(Qe)!==-1},Ee=ke("top"),Oe=ke("left"),Se=ke("right"),Fe=ke("bottom")||Oe||Ee||Se?(vt.tickwidth||0)+6:0,je=Re<2.5*we||vt.type==="multicategory"||vt._name==="realaxis";for(Te=0;Te<Ae.length-1;Te++)if(r.bBoxIntersect(Ae[Te],Ae[Te+1],Fe)){Me=je?90:30;break}}else{var Ue=2;for(vt.ticks&&(Ue+=vt.tickwidth/2),Te=0;Te<Ae.length;Te++){var He=ne[Te].xbnd,Je=Ae[Te];if(He[0]!==null&&Je.left-vt.l2p(He[0])<Ue||He[1]!==null&&vt.l2p(He[1])-Je.right<Ue){Me=90;break}}}Me&&Be(pe,Me)}}),vt._tickAngles&&_e.push(function(){vt._tickAngles[ee]=Me===null?f(ve)?ve:0:Me});var xe=vt._anchorAxis;xe&&xe.autorange&&Pe(vt)&&!at(Ut,vt._id)&&(Ut._insideTickLabelsAutorange||(Ut._insideTickLabelsAutorange={}),Ut._insideTickLabelsAutorange[xe._name+".autorange"]=xe.autorange,_e.push(function(){pe.each(function(Te,we){var Ae=Jt(this);Ae.select(".text-math-group").empty()&&(vt._vals[we].bb=d.bBox(Ae.node()))})}));var me=r.syncOrAsync(_e);return me&&me.then&&yt._promises.push(me),me},H.getPxPosition=function(yt,vt){var Rt,Ut=yt._fullLayout._size,Ht=vt._id.charAt(0),Yt=vt.side;return vt.anchor!=="free"?Rt=vt._anchorAxis:Ht==="x"?Rt={_offset:Ut.t+(1-(vt.position||0))*Ut.h,_length:0}:Ht==="y"&&(Rt={_offset:Ut.l+(vt.position||0)*Ut.w+vt._shift,_length:0}),Yt==="top"||Yt==="left"?Rt._offset:Yt==="bottom"||Yt==="right"?Rt._offset+Rt._length:void 0},H.shouldShowZeroLine=function(yt,vt,Rt){var Ut=r.simpleMap(vt.range,vt.r2l);return Ut[0]*Ut[1]<=0&&vt.zeroline&&(vt.type==="linear"||vt.type==="-")&&!(vt.rangebreaks&&vt.maskBreaks(0)===P)&&(de(vt,0)||!function(Ht,Yt,ee,ne){var re=ee._mainAxis;if(re){var ve=Ht._fullLayout,fe=Yt._id.charAt(0),pe=H.counterLetter(Yt._id),ze=Yt._offset+(Math.abs(ne[0])<Math.abs(ne[1])==(fe==="x")?0:Yt._length),Be=ve._plots[ee._mainSubplot];if(!(Be.mainplotinfo||Be).overlays.length)return me(ee);for(var Me=H.list(Ht,pe),_e=0;_e<Me.length;_e++){var xe=Me[_e];if(xe._mainAxis===re&&me(xe))return!0}}function me(Te){if(!Te.showline||!Te.linewidth)return!1;var we=Math.max((Te.linewidth+Yt.zerolinewidth)/2,1);function Ae(ge){return typeof ge=="number"&&Math.abs(ge-ze)<we}if(Ae(Te._mainLinePosition)||Ae(Te._mainMirrorPosition))return!0;var Ye=Te._linepositions||{};for(var Re in Ye)if(Ae(Ye[Re][0])||Ae(Ye[Re][1]))return!0}}(yt,vt,Rt,Ut)||function(Ht,Yt){for(var ee=Ht._fullData,ne=Yt._mainSubplot,re=Yt._id.charAt(0),ve=0;ve<ee.length;ve++){var fe=ee[ve];if(fe.visible===!0&&fe.xaxis+fe.yaxis===ne&&(i.traceIs(fe,"bar-like")&&fe.orientation==={x:"h",y:"v"}[re]||fe.fill&&fe.fill.charAt(fe.fill.length-1)===re))return!0}return!1}(yt,vt))},H.clipEnds=function(yt,vt){return vt.filter(function(Rt){return de(yt,Rt.x)})},H.allowAutoMargin=function(yt){for(var vt=H.list(yt,"",!0),Rt=0;Rt<vt.length;Rt++){var Ut=vt[Rt];Ut.automargin&&(e.allowAutoMargin(yt,Nt(Ut)),Ut.mirror&&e.allowAutoMargin(yt,Vt(Ut))),i.getComponentMethod("rangeslider","isVisible")(Ut)&&e.allowAutoMargin(yt,Zt(Ut))}},H.swap=function(yt,vt){for(var Rt=function(Ht,Yt){var ee,ne,re=[];for(ee=0;ee<Yt.length;ee++){var ve=[],fe=Ht._fullData[Yt[ee]].xaxis,pe=Ht._fullData[Yt[ee]].yaxis;if(fe&&pe){for(ne=0;ne<re.length;ne++)re[ne].x.indexOf(fe)===-1&&re[ne].y.indexOf(pe)===-1||ve.push(ne);if(ve.length){var ze,Be=re[ve[0]];if(ve.length>1)for(ne=1;ne<ve.length;ne++)ze=re[ve[ne]],Wt(Be.x,ze.x),Wt(Be.y,ze.y);Wt(Be.x,[fe]),Wt(Be.y,[pe])}else re.push({x:[fe],y:[pe]})}}return re}(yt,vt),Ut=0;Ut<Rt.length;Ut++)he(yt,Rt[Ut].x,Rt[Ut].y)}},4322:function(w,s,t){var a=t(92770),f=t(71828),e=t(50606).BADNUM,i=f.isArrayOrTypedArray,r=f.isDateTime,n=f.cleanNumber,o=Math.round;function l(d,c){return c?a(d):typeof d=="number"}function u(d){return Math.max(1,(d-1)/1e3)}w.exports=function(d,c,h){var p=d,g=h.noMultiCategory;if(i(p)&&!p.length)return"-";if(!g&&function(x){return i(x[0])&&i(x[1])}(p))return"multicategory";if(g&&Array.isArray(p[0])){for(var y=[],b=0;b<p.length;b++)if(i(p[b]))for(var m=0;m<p[b].length;m++)y.push(p[b][m]);p=y}if(function(x,_){for(var T=x.length,C=u(T),S=0,F=0,N={},D=0;D<T;D+=C){var j=x[o(D)],B=String(j);N[B]||(N[B]=1,r(j,_)&&S++,a(j)&&F++)}return S>2*F}(p,c))return"date";var v=h.autotypenumbers!=="strict";return function(x,_){for(var T=x.length,C=u(T),S=0,F=0,N={},D=0;D<T;D+=C){var j=x[o(D)],B=String(j);if(!N[B]){N[B]=1;var J=typeof j;J==="boolean"?F++:(_?n(j)!==e:J==="number")?S++:J==="string"&&F++}}return F>2*S}(p,v)?"category":function(x,_){for(var T=x.length,C=0;C<T;C++)if(l(x[C],_))return!0;return!1}(p,v)?"linear":"-"}},71453:function(w,s,t){var a=t(92770),f=t(73972),e=t(71828),i=t(44467),r=t(85501),n=t(13838),o=t(26218),l=t(38701),u=t(96115),d=t(89426),c=t(15258),h=t(92128),p=t(21994),g=t(85555).WEEKDAY_PATTERN,y=t(85555).HOUR_PATTERN;function b(x,_,T){function C(P,M){return e.coerce(x,_,n.rangebreaks,P,M)}if(C("enabled")){var S=C("bounds");if(S&&S.length>=2){var F,N,D="";if(S.length===2){for(F=0;F<2;F++)if(N=v(S[F])){D=g;break}}var j=C("pattern",D);if(j===g)for(F=0;F<2;F++)(N=v(S[F]))&&(_.bounds[F]=S[F]=N-1);if(j)for(F=0;F<2;F++)switch(N=S[F],j){case g:if(!a(N)||(N=+N)!==Math.floor(N)||N<0||N>=7)return void(_.enabled=!1);_.bounds[F]=S[F]=N;break;case y:if(!a(N)||(N=+N)<0||N>24)return void(_.enabled=!1);_.bounds[F]=S[F]=N}if(T.autorange===!1){var B=T.range;if(B[0]<B[1]){if(S[0]<B[0]&&S[1]>B[1])return void(_.enabled=!1)}else if(S[0]>B[0]&&S[1]<B[1])return void(_.enabled=!1)}}else{var J=C("values");if(!J||!J.length)return void(_.enabled=!1);C("dvalue")}}}w.exports=function(x,_,T,C,S){var F,N=C.letter,D=C.font||{},j=C.splomStash||{},B=T("visible",!C.visibleDflt),J=_._template||{},P=_.type||J.type||"-";P==="date"&&(f.getComponentMethod("calendars","handleDefaults")(x,_,"calendar",C.calendar),C.noTicklabelmode||(F=T("ticklabelmode")));var M="";C.noTicklabelposition&&P!=="multicategory"||(M=e.coerce(x,_,{ticklabelposition:{valType:"enumerated",dflt:"outside",values:F==="period"?["outside","inside"]:N==="x"?["outside","inside","outside left","inside left","outside right","inside right"]:["outside","inside","outside top","inside top","outside bottom","inside bottom"]}},"ticklabelposition")),C.noTicklabeloverflow||T("ticklabeloverflow",M.indexOf("inside")!==-1?"hide past domain":P==="category"||P==="multicategory"?"allow":"hide past div"),p(_,S);var O=!_.isValidRange(x.range);O&&C.reverseDflt&&(O="reversed"),!T("autorange",O)||P!=="linear"&&P!=="-"||T("rangemode"),T("range"),_.cleanRange(),c(x,_,T,C),P==="category"||C.noHover||T("hoverformat");var q=T("color"),tt=q!==n.color.dflt?q:D.color,E=j.label||S._dfltTitle[N];if(d(x,_,T,P,C),!B)return _;T("title.text",E),e.coerceFont(T,"title.font",{family:D.family,size:e.bigFont(D.size),color:tt}),o(x,_,T,P);var z=C.hasMinor;if(z&&(i.newContainer(_,"minor"),o(x,_,T,P,{isMinor:!0})),u(x,_,T,P,C),l(x,_,T,C),z){var Y=C.isMinor;C.isMinor=!0,l(x,_,T,C),C.isMinor=Y}h(x,_,T,{dfltColor:q,bgColor:C.bgColor,showGrid:C.showGrid,hasMinor:z,attributes:n}),!z||_.minor.ticks||_.minor.showgrid||delete _.minor,(_.showline||_.ticks)&&T("mirror");var Q,nt=P==="multicategory";if(C.noTickson||P!=="category"&&!nt||!_.ticks&&!_.showgrid||(nt&&(Q="boundaries"),T("tickson",Q)==="boundaries"&&delete _.ticklabelposition),nt&&T("showdividers")&&(T("dividercolor"),T("dividerwidth")),P==="date")if(r(x,_,{name:"rangebreaks",inclusionAttr:"enabled",handleItemDefaults:b}),_.rangebreaks.length){for(var et=0;et<_.rangebreaks.length;et++)if(_.rangebreaks[et].pattern===g){_._hasDayOfWeekBreaks=!0;break}if(p(_,S),S._has("scattergl")||S._has("splom"))for(var Z=0;Z<C.data.length;Z++){var H=C.data[Z];H.type!=="scattergl"&&H.type!=="splom"||(H.visible=!1,e.warn(H.type+" traces do not work on axes with rangebreaks. Setting trace "+H.index+" to `visible: false`."))}}else delete _.rangebreaks;return _};var m={sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7};function v(x){if(typeof x=="string")return m[x.substr(0,3).toLowerCase()]}},12663:function(w,s,t){var a=t(31562),f=a.FORMAT_LINK,e=a.DATE_FORMAT_LINK;function i(n,o){return["Sets the "+n+" formatting rule"+(o?"for `"+o+"` ":""),"using d3 formatting mini-languages","which are very similar to those in Python. For numbers, see: "+f+"."].join(" ")}function r(n,o){return i(n,o)+[" And for dates see: "+e+".","We add two items to d3's date formatter:","*%h* for half of the year as a decimal number as well as","*%{n}f* for fractional seconds","with n digits. For example, *2016-10-13 09:15:23.456* with tickformat","*%H~%M~%S.%2f* would display *09~15~23.46*"].join(" ")}w.exports={axisHoverFormat:function(n,o){return{valType:"string",dflt:"",editType:"none",description:(o?i:r)("hover text",n)+["By default the values are formatted using "+(o?"generic number format":"`"+n+"axis.hoverformat`")+"."].join(" ")}},descriptionOnlyNumbers:i,descriptionWithDates:r}},41675:function(w,s,t){var a=t(73972),f=t(85555);function e(i,r){if(r&&r.length){for(var n=0;n<r.length;n++)if(r[n][i])return!0}return!1}s.id2name=function(i){if(typeof i=="string"&&i.match(f.AX_ID_PATTERN)){var r=i.split(" ")[0].substr(1);return r==="1"&&(r=""),i.charAt(0)+"axis"+r}},s.name2id=function(i){if(i.match(f.AX_NAME_PATTERN)){var r=i.substr(5);return r==="1"&&(r=""),i.charAt(0)+r}},s.cleanId=function(i,r,n){var o=/( domain)$/.test(i);if(typeof i=="string"&&i.match(f.AX_ID_PATTERN)&&(!r||i.charAt(0)===r)&&(!o||n)){var l=i.split(" ")[0].substr(1).replace(/^0+/,"");return l==="1"&&(l=""),i.charAt(0)+l+(o&&n?" domain":"")}},s.list=function(i,r,n){var o=i._fullLayout;if(!o)return[];var l,u=s.listIds(i,r),d=new Array(u.length);for(l=0;l<u.length;l++){var c=u[l];d[l]=o[c.charAt(0)+"axis"+c.substr(1)]}if(!n){var h=o._subplots.gl3d||[];for(l=0;l<h.length;l++){var p=o[h[l]];r?d.push(p[r+"axis"]):d.push(p.xaxis,p.yaxis,p.zaxis)}}return d},s.listIds=function(i,r){var n=i._fullLayout;if(!n)return[];var o=n._subplots;return r?o[r+"axis"]:o.xaxis.concat(o.yaxis)},s.getFromId=function(i,r,n){var o=i._fullLayout;return r=r===void 0||typeof r!="string"?r:r.replace(" domain",""),n==="x"?r=r.replace(/y[0-9]*/,""):n==="y"&&(r=r.replace(/x[0-9]*/,"")),o[s.id2name(r)]},s.getFromTrace=function(i,r,n){var o=i._fullLayout,l=null;if(a.traceIs(r,"gl3d")){var u=r.scene;u.substr(0,5)==="scene"&&(l=o[u][n+"axis"])}else l=s.getFromId(i,r[n+"axis"]||n);return l},s.idSort=function(i,r){var n=i.charAt(0),o=r.charAt(0);return n!==o?n>o?1:-1:+(i.substr(1)||1)-+(r.substr(1)||1)},s.ref2id=function(i){return!!/^[xyz]/.test(i)&&i.split(" ")[0]},s.isLinked=function(i,r){return e(r,i._axisMatchGroups)||e(r,i._axisConstraintGroups)}},15258:function(w){w.exports=function(s,t,a,f){if(t.type==="category"){var e,i=s.categoryarray,r=Array.isArray(i)&&i.length>0;r&&(e="array");var n,o=a("categoryorder",e);o==="array"&&(n=a("categoryarray")),r||o!=="array"||(o=t.categoryorder="trace"),o==="trace"?t._initialCategories=[]:o==="array"?t._initialCategories=n.slice():(n=function(l,u){var d,c,h,p=u.dataAttr||l._id.charAt(0),g={};if(u.axData)d=u.axData;else for(d=[],c=0;c<u.data.length;c++){var y=u.data[c];y[p+"axis"]===l._id&&d.push(y)}for(c=0;c<d.length;c++){var b=d[c][p];for(h=0;h<b.length;h++){var m=b[h];m!=null&&(g[m]=1)}}return Object.keys(g)}(t,f).sort(),o==="category ascending"?t._initialCategories=n:o==="category descending"&&(t._initialCategories=n.reverse()))}}},66287:function(w,s,t){var a=t(92770),f=t(71828),e=t(50606),i=e.ONEDAY,r=e.ONEWEEK;s.dtick=function(n,o){var l=o==="log",u=o==="date",d=o==="category",c=u?i:1;if(!n)return c;if(a(n))return(n=Number(n))<=0?c:d?Math.max(1,Math.round(n)):u?Math.max(.1,n):n;if(typeof n!="string"||!u&&!l)return c;var h=n.charAt(0),p=n.substr(1);return(p=a(p)?Number(p):0)<=0||!(u&&h==="M"&&p===Math.round(p)||l&&h==="L"||l&&h==="D"&&(p===1||p===2))?c:n},s.tick0=function(n,o,l,u){return o==="date"?f.cleanDate(n,f.dateTick0(l,u%r==0?1:0)):u!=="D1"&&u!=="D2"?a(n)?Number(n):0:void 0}},85555:function(w,s,t){var a=t(30587).counter;w.exports={idRegex:{x:a("x","( domain)?"),y:a("y","( domain)?")},attrRegex:a("[xy]axis"),xAxisMatch:a("xaxis"),yAxisMatch:a("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*( domain)?$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,SUBPLOT_PATTERN:/^x([0-9]*)y([0-9]*)$/,HOUR_PATTERN:"hour",WEEKDAY_PATTERN:"day of week",MINDRAG:8,MINZOOM:20,DRAGGERSIZE:20,REDRAWDELAY:50,DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","heatmaplayer","contourcarpetlayer","contourlayer","funnellayer","waterfalllayer","barlayer","carpetlayer","violinlayer","boxlayer","ohlclayer","scattercarpetlayer","scatterlayer"],clipOnAxisFalseQuery:[".scatterlayer",".barlayer",".funnellayer",".waterfalllayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"}}},99082:function(w,s,t){var a=t(71828),f=t(71739),e=t(41675).id2name,i=t(13838),r=t(42449),n=t(21994),o=t(50606).ALMOST_EQUAL,l=t(18783).FROM_BL;function u(b,m,v){var x=v.axIds,_=v.layoutOut,T=v.hasImage,C=_._axisConstraintGroups,S=_._axisMatchGroups,F=m._id,N=F.charAt(0),D=((_._splomAxes||{})[N]||{})[F]||{},j=m._id,B=j.charAt(0)==="x";function J(U,V){return a.coerce(b,m,i,U,V)}m._matchGroup=null,m._constraintGroup=null,J("constrain",T?"domain":"range"),a.coerce(b,m,{constraintoward:{valType:"enumerated",values:B?["left","center","right"]:["bottom","middle","top"],dflt:B?"center":"middle"}},"constraintoward");var P,M,O=m.type,q=[];for(P=0;P<x.length;P++)(M=x[P])!==j&&_[e(M)].type===O&&q.push(M);var tt=c(C,j);if(tt){var E=[];for(P=0;P<q.length;P++)tt[M=q[P]]||E.push(M);q=E}var z,Y,Q=q.length;Q&&(b.matches||D.matches)&&(z=a.coerce(b,m,{matches:{valType:"enumerated",values:q,dflt:q.indexOf(D.matches)!==-1?D.matches:void 0}},"matches"));var nt=T&&!B?m.anchor:void 0;if(Q&&!z&&(b.scaleanchor||nt)&&(Y=a.coerce(b,m,{scaleanchor:{valType:"enumerated",values:q}},"scaleanchor",nt)),z){m._matchGroup=h(S,j,z,1);var et=_[e(z)],Z=d(_,m)/d(_,et);B!==(z.charAt(0)==="x")&&(Z=(B?"x":"y")+Z),h(C,j,z,Z)}else b.matches&&x.indexOf(b.matches)!==-1&&a.warn("ignored "+m._name+'.matches: "'+b.matches+'" to avoid an infinite loop');if(Y){var H=J("scaleratio");H||(H=m.scaleratio=1),h(C,j,Y,H)}else b.scaleanchor&&x.indexOf(b.scaleanchor)!==-1&&a.warn("ignored "+m._name+'.scaleanchor: "'+b.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because this axis declares a *matches* constraint.')}function d(b,m){var v=m.domain;return v||(v=b[e(m.overlaying)].domain),v[1]-v[0]}function c(b,m){for(var v=0;v<b.length;v++)if(b[v][m])return b[v];return null}function h(b,m,v,x){var _,T,C,S,F,N=c(b,m);N===null?((N={})[m]=1,F=b.length,b.push(N)):F=b.indexOf(N);var D=Object.keys(N);for(_=0;_<b.length;_++)if(C=b[_],_!==F&&C[v]){var j=C[v];for(T=0;T<D.length;T++)C[S=D[T]]=p(j,p(x,N[S]));return void b.splice(F,1)}if(x!==1)for(T=0;T<D.length;T++){var B=D[T];N[B]=p(x,N[B])}N[v]=1}function p(b,m){var v,x,_="",T="";typeof b=="string"&&(v=(_=b.match(/^[xy]*/)[0]).length,b=+b.substr(v)),typeof m=="string"&&(x=(T=m.match(/^[xy]*/)[0]).length,m=+m.substr(x));var C=b*m;return v||x?v&&x&&_.charAt(0)!==T.charAt(0)?v===x?C:(v>x?_.substr(x):T.substr(v))+C:_+T+b*m:C}function g(b,m){for(var v=m._size,x=v.h/v.w,_={},T=Object.keys(b),C=0;C<T.length;C++){var S=T[C],F=b[S];if(typeof F=="string"){var N=F.match(/^[xy]*/)[0],D=N.length;F=+F.substr(D);for(var j=N.charAt(0)==="y"?x:1/x,B=0;B<D;B++)F*=j}_[S]=F}return _}function y(b,m){var v=b._inputDomain,x=l[b.constraintoward],_=v[0]+(v[1]-v[0])*x;b.domain=b._input.domain=[_+(v[0]-_)/m,_+(v[1]-_)/m],b.setScale()}s.handleDefaults=function(b,m,v){var x,_,T,C,S,F,N,D,j=v.axIds,B=v.axHasImage,J=m._axisConstraintGroups=[],P=m._axisMatchGroups=[];for(x=0;x<j.length;x++)u(S=b[C=e(j[x])],F=m[C],{axIds:j,layoutOut:m,hasImage:B[C]});function M(et,Z){for(x=0;x<et.length;x++)for(T in _=et[x])m[e(T)][Z]=_}for(M(P,"_matchGroup"),x=0;x<J.length;x++)for(T in _=J[x])if((F=m[e(T)]).fixedrange){for(var O in _){var q=e(O);(b[q]||{}).fixedrange===!1&&a.warn("fixedrange was specified as false for axis "+q+" but was overridden because another axis in its constraint group has fixedrange true"),m[q].fixedrange=!0}break}for(x=0;x<J.length;){for(T in _=J[x]){(F=m[e(T)])._matchGroup&&Object.keys(F._matchGroup).length===Object.keys(_).length&&(J.splice(x,1),x--);break}x++}M(J,"_constraintGroup");var tt=["constrain","range","autorange","rangemode","rangebreaks","categoryorder","categoryarray"],E=!1,z=!1;function Y(){D=F[N],N==="rangebreaks"&&(z=F._hasDayOfWeekBreaks)}for(x=0;x<P.length;x++){_=P[x];for(var Q=0;Q<tt.length;Q++){var nt;for(T in N=tt[Q],D=null,_)if(S=b[C=e(T)],F=m[C],N in F){if(!F.matches&&(nt=F,N in S)){Y();break}D===null&&N in S&&Y()}if(N==="range"&&D&&(E=!0),N==="autorange"&&D===null&&E&&(D=!1),D===null&&N in nt&&(D=nt[N]),D!==null)for(T in _)(F=m[e(T)])[N]=N==="range"?D.slice():D,N==="rangebreaks"&&(F._hasDayOfWeekBreaks=z,n(F,m))}}},s.enforce=function(b){var m,v,x,_,T,C,S,F,N=b._fullLayout,D=N._axisConstraintGroups||[];for(m=0;m<D.length;m++){x=g(D[m],N);var j=Object.keys(x),B=1/0,J=0,P=1/0,M={},O={},q=!1;for(v=0;v<j.length;v++)O[_=j[v]]=T=N[e(_)],T._inputDomain?T.domain=T._inputDomain.slice():T._inputDomain=T.domain.slice(),T._inputRange||(T._inputRange=T.range.slice()),T.setScale(),M[_]=C=Math.abs(T._m)/x[_],B=Math.min(B,C),T.constrain!=="domain"&&T._constraintShrinkable||(P=Math.min(P,C)),delete T._constraintShrinkable,J=Math.max(J,C),T.constrain==="domain"&&(q=!0);if(!(B>o*J)||q){for(v=0;v<j.length;v++)if(C=M[_=j[v]],S=(T=O[_]).constrain,C!==P||S==="domain")if(F=C/P,S==="range")r(T,F);else{var tt=T._inputDomain,E=(T.domain[1]-T.domain[0])/(tt[1]-tt[0]),z=(T.r2l(T.range[1])-T.r2l(T.range[0]))/(T.r2l(T._inputRange[1])-T.r2l(T._inputRange[0]));if((F/=E)*z<1){T.domain=T._input.domain=tt.slice(),r(T,F);continue}if(z<1&&(T.range=T._input.range=T._inputRange.slice(),F*=z),T.autorange){var Y=T.r2l(T.range[0]),Q=T.r2l(T.range[1]),nt=(Y+Q)/2,et=nt,Z=nt,H=Math.abs(Q-nt),U=nt-H*F*1.0001,V=nt+H*F*1.0001,$=f.makePadFn(N,T,0),at=f.makePadFn(N,T,1);y(T,F);var rt,ot,ct=Math.abs(T._m),ht=f.concatExtremes(b,T),mt=ht.min,kt=ht.max;for(ot=0;ot<mt.length;ot++)(rt=mt[ot].val-$(mt[ot])/ct)>U&&rt<et&&(et=rt);for(ot=0;ot<kt.length;ot++)(rt=kt[ot].val+at(kt[ot])/ct)<V&&rt>Z&&(Z=rt);F/=(Z-et)/(2*H),et=T.l2r(et),Z=T.l2r(Z),T.range=T._input.range=Y<Q?[et,Z]:[Z,et]}y(T,F)}}}},s.getAxisGroup=function(b,m){for(var v=b._axisMatchGroups,x=0;x<v.length;x++)if(v[x][m])return"g"+x;return m},s.clean=function(b,m){if(m._inputDomain){for(var v=!1,x=m._id,_=b._fullLayout._axisConstraintGroups,T=0;T<_.length;T++)if(_[T][x]){v=!0;break}v&&m.constrain==="domain"||(m._input.domain=m.domain=m._inputDomain,delete m._inputDomain)}}},29323:function(w,s,t){var a=t(39898),f=t(71828),e=f.numberFormat,i=t(84267),r=t(38520),n=t(73972),o=f.strTranslate,l=t(63893),u=t(7901),d=t(91424),c=t(30211),h=t(89298),p=t(6964),g=t(28569),y=t(64505),b=y.selectingOrDrawing,m=y.freeMode,v=t(18783).FROM_TL,x=t(33306),_=t(61549).redrawReglTraces,T=t(74875),C=t(41675).getFromId,S=t(47322).prepSelect,F=t(47322).clearOutline,N=t(47322).selectOnClick,D=t(42449),j=t(85555),B=j.MINDRAG,J=j.MINZOOM,P=!0;function M(rt,ot,ct,ht){var mt=f.ensureSingle(rt.draglayer,ot,ct,function(kt){kt.classed("drag",!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",rt.id)});return mt.call(p,ht),mt.node()}function O(rt,ot,ct,ht,mt,kt,Ct){var It=M(rt,"rect",ot,ct);return a.select(It).call(d.setRect,ht,mt,kt,Ct),It}function q(rt,ot){for(var ct=0;ct<rt.length;ct++)if(!rt[ct].fixedrange)return ot;return""}function tt(rt,ot,ct,ht,mt){for(var kt=0;kt<rt.length;kt++){var Ct=rt[kt];if(!Ct.fixedrange)if(Ct.rangebreaks){var It=Ct._id.charAt(0)==="y",pt=It?1-ot:ot,bt=It?1-ct:ct;ht[Ct._name+".range[0]"]=Ct.l2r(Ct.p2l(pt*Ct._length)),ht[Ct._name+".range[1]"]=Ct.l2r(Ct.p2l(bt*Ct._length))}else{var _t=Ct._rl[0],Dt=Ct._rl[1]-_t;ht[Ct._name+".range[0]"]=Ct.l2r(_t+Dt*ot),ht[Ct._name+".range[1]"]=Ct.l2r(_t+Dt*ct)}}if(mt&&mt.length){var L=(ot+(1-ct))/2;tt(mt,L,1-L,ht,[])}}function E(rt,ot){for(var ct=0;ct<rt.length;ct++){var ht=rt[ct];if(!ht.fixedrange)if(ht.rangebreaks){var mt=ht._length,kt=(ht.p2l(0+ot)-ht.p2l(0)+(ht.p2l(mt+ot)-ht.p2l(mt)))/2;ht.range=[ht.l2r(ht._rl[0]-kt),ht.l2r(ht._rl[1]-kt)]}else ht.range=[ht.l2r(ht._rl[0]-ot/ht._m),ht.l2r(ht._rl[1]-ot/ht._m)]}}function z(rt){return 1-(rt>=0?Math.min(rt,.9):1/(1/Math.max(rt,-.3)+3.222))}function Y(rt,ot,ct,ht,mt){return rt.append("path").attr("class","zoombox").style({fill:ot>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform",o(ct,ht)).attr("d",mt+"Z")}function Q(rt,ot,ct){return rt.append("path").attr("class","zoombox-corners").style({fill:u.background,stroke:u.defaultLine,"stroke-width":1,opacity:0}).attr("transform",o(ot,ct)).attr("d","M0,0Z")}function nt(rt,ot,ct,ht,mt,kt){rt.attr("d",ht+"M"+ct.l+","+ct.t+"v"+ct.h+"h"+ct.w+"v-"+ct.h+"h-"+ct.w+"Z"),et(rt,ot,mt,kt)}function et(rt,ot,ct,ht){ct||(rt.transition().style("fill",ht>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),ot.transition().style("opacity",1).duration(200))}function Z(rt){a.select(rt).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function H(rt){P&&rt.data&&rt._context.showTips&&(f.notifier(f._(rt,"Double-click to zoom back out"),"long"),P=!1)}function U(rt){var ot=Math.floor(Math.min(rt.b-rt.t,rt.r-rt.l,J)/2);return"M"+(rt.l-3.5)+","+(rt.t-.5+ot)+"h3v"+-ot+"h"+ot+"v-3h-"+(ot+3)+"ZM"+(rt.r+3.5)+","+(rt.t-.5+ot)+"h-3v"+-ot+"h"+-ot+"v-3h"+(ot+3)+"ZM"+(rt.r+3.5)+","+(rt.b+.5-ot)+"h-3v"+ot+"h"+-ot+"v3h"+(ot+3)+"ZM"+(rt.l-3.5)+","+(rt.b+.5-ot)+"h3v"+ot+"h"+ot+"v3h-"+(ot+3)+"Z"}function V(rt,ot,ct,ht,mt){for(var kt,Ct,It,pt,bt=!1,_t={},Dt={},L=(mt||{}).xaHash,X=(mt||{}).yaHash,it=0;it<ot.length;it++){var ft=ot[it];for(kt in ct)if(ft[kt]){for(It in ft)mt&&(L[It]||X[It])||(It.charAt(0)==="x"?ct:ht)[It]||(_t[It]=kt);for(Ct in ht)mt&&(L[Ct]||X[Ct])||!ft[Ct]||(bt=!0)}for(Ct in ht)if(ft[Ct])for(pt in ft)mt&&(L[pt]||X[pt])||(pt.charAt(0)==="x"?ct:ht)[pt]||(Dt[pt]=Ct)}bt&&(f.extendFlat(_t,Dt),Dt={});var gt={},wt=[];for(It in _t){var xt=C(rt,It);wt.push(xt),gt[xt._id]=xt}var Ft={},Bt=[];for(pt in Dt){var Mt=C(rt,pt);Bt.push(Mt),Ft[Mt._id]=Mt}return{xaHash:gt,yaHash:Ft,xaxes:wt,yaxes:Bt,xLinks:_t,yLinks:Dt,isSubplotConstrained:bt}}function $(rt,ot){if(r){var ct=rt.onwheel!==void 0?"wheel":"mousewheel";rt._onwheel&&rt.removeEventListener(ct,rt._onwheel),rt._onwheel=ot,rt.addEventListener(ct,ot,{passive:!1})}else rt.onwheel!==void 0?rt.onwheel=ot:rt.onmousewheel!==void 0?rt.onmousewheel=ot:rt.isAddedWheelEvent||(rt.isAddedWheelEvent=!0,rt.addEventListener("wheel",ot,{passive:!1}))}function at(rt){var ot=[];for(var ct in rt)ot.push(rt[ct]);return ot}w.exports={makeDragBox:function(rt,ot,ct,ht,mt,kt,Ct,It){var pt,bt,_t,Dt,L,X,it,ft,gt,wt,xt,Ft,Bt,Mt,St,Lt,Pt,zt,Xt,Gt,Kt,ie,de,Jt=rt._fullLayout._zoomlayer,Nt=Ct+It==="nsew",Vt=(Ct+It).length===1;function Zt(){if(pt=ot.xaxis,bt=ot.yaxis,gt=pt._length,wt=bt._length,it=pt._offset,ft=bt._offset,(_t={})[pt._id]=pt,(Dt={})[bt._id]=bt,Ct&&It)for(var ge=ot.overlays,ke=0;ke<ge.length;ke++){var Ee=ge[ke].xaxis;_t[Ee._id]=Ee;var Oe=ge[ke].yaxis;Dt[Oe._id]=Oe}L=at(_t),X=at(Dt),Bt=q(L,It),Mt=q(X,Ct),St=!Mt&&!Bt,Ft=V(rt,rt._fullLayout._axisMatchGroups,_t,Dt);var Se=(xt=V(rt,rt._fullLayout._axisConstraintGroups,_t,Dt,Ft)).isSubplotConstrained||Ft.isSubplotConstrained;Lt=It||Se,Pt=Ct||Se;var Fe=rt._fullLayout;zt=Fe._has("scattergl"),Xt=Fe._has("splom"),Gt=Fe._has("svg")}ct+=ot.yaxis._shift,Zt();var Wt=function(ge,ke,Ee){return ge?ge==="nsew"?Ee?"":ke==="pan"?"move":"crosshair":ge.toLowerCase()+"-resize":"pointer"}(Mt+Bt,rt._fullLayout.dragmode,Nt),he=O(ot,Ct+It+"drag",Wt,ct,ht,mt,kt);if(St&&!Nt)return he.onmousedown=null,he.style.pointerEvents="none",he;var $t,ye,se,Pe,Ce,Ne,yt,vt,Rt,Ut,Ht={element:he,gd:rt,plotinfo:ot};function Yt(){Ht.plotinfo.selection=!1,F(rt)}function ee(ge,ke){var Ee=Ht.gd;if(Ee._fullLayout._activeShapeIndex>=0)Ee._fullLayout._deactivateShape(Ee);else{var Oe=Ee._fullLayout.clickmode;if(Z(Ee),ge!==2||Vt||me(),Nt)Oe.indexOf("select")>-1&&N(ke,Ee,L,X,ot.id,Ht),Oe.indexOf("event")>-1&&c.click(Ee,ke,ot.id);else if(ge===1&&Vt){var Se=Ct?bt:pt,Fe=Ct==="s"||It==="w"?0:1,je=Se._name+".range["+Fe+"]",Ue=function(Qe,ln){var rn,We=Qe.range[ln],nn=Math.abs(We-Qe.range[1-ln]);return Qe.type==="date"?We:Qe.type==="log"?(rn=Math.ceil(Math.max(0,-Math.log(nn)/Math.LN10))+3,e("."+rn+"g")(Math.pow(10,We))):(rn=Math.floor(Math.log(Math.abs(We))/Math.LN10)-Math.floor(Math.log(nn)/Math.LN10)+4,e("."+String(rn)+"g")(We))}(Se,Fe),He="left",Je="middle";if(Se.fixedrange)return;Ct?(Je=Ct==="n"?"top":"bottom",Se.side==="right"&&(He="right")):It==="e"&&(He="right"),Ee._context.showAxisRangeEntryBoxes&&a.select(he).call(l.makeEditable,{gd:Ee,immediate:!0,background:Ee._fullLayout.paper_bgcolor,text:String(Ue),fill:Se.tickfont?Se.tickfont.color:"#444",horizontalAlign:He,verticalAlign:Je}).on("edit",function(Qe){var ln=Se.d2r(Qe);ln!==void 0&&n.call("_guiRelayout",Ee,je,ln)})}}}function ne(ge,ke){if(rt._transitioningWithDuration)return!1;var Ee=Math.max(0,Math.min(gt,ie*ge+$t)),Oe=Math.max(0,Math.min(wt,de*ke+ye)),Se=Math.abs(Ee-$t),Fe=Math.abs(Oe-ye);function je(){yt="",se.r=se.l,se.t=se.b,Rt.attr("d","M0,0Z")}if(se.l=Math.min($t,Ee),se.r=Math.max($t,Ee),se.t=Math.min(ye,Oe),se.b=Math.max(ye,Oe),xt.isSubplotConstrained)Se>J||Fe>J?(yt="xy",Se/gt>Fe/wt?(Fe=Se*wt/gt,ye>Oe?se.t=ye-Fe:se.b=ye+Fe):(Se=Fe*gt/wt,$t>Ee?se.l=$t-Se:se.r=$t+Se),Rt.attr("d",U(se))):je();else if(Ft.isSubplotConstrained)if(Se>J||Fe>J){yt="xy";var Ue=Math.min(se.l/gt,(wt-se.b)/wt),He=Math.max(se.r/gt,(wt-se.t)/wt);se.l=Ue*gt,se.r=He*gt,se.b=(1-Ue)*wt,se.t=(1-He)*wt,Rt.attr("d",U(se))}else je();else!Mt||Fe<Math.min(Math.max(.6*Se,B),J)?Se<B||!Bt?je():(se.t=0,se.b=wt,yt="x",Rt.attr("d",function(Je,Qe){return"M"+(Je.l-.5)+","+(Qe-J-.5)+"h-3v"+(2*J+1)+"h3ZM"+(Je.r+.5)+","+(Qe-J-.5)+"h3v"+(2*J+1)+"h-3Z"}(se,ye))):!Bt||Se<Math.min(.6*Fe,J)?(se.l=0,se.r=gt,yt="y",Rt.attr("d",function(Je,Qe){return"M"+(Qe-J-.5)+","+(Je.t-.5)+"v-3h"+(2*J+1)+"v3ZM"+(Qe-J-.5)+","+(Je.b+.5)+"v3h"+(2*J+1)+"v-3Z"}(se,$t))):(yt="xy",Rt.attr("d",U(se)));se.w=se.r-se.l,se.h=se.b-se.t,yt&&(Ut=!0),rt._dragged=Ut,nt(vt,Rt,se,Ce,Ne,Pe),re(),rt.emit("plotly_relayouting",Kt),Ne=!0}function re(){Kt={},yt!=="xy"&&yt!=="x"||(tt(L,se.l/gt,se.r/gt,Kt,xt.xaxes),_e("x",Kt)),yt!=="xy"&&yt!=="y"||(tt(X,(wt-se.b)/wt,(wt-se.t)/wt,Kt,xt.yaxes),_e("y",Kt))}function ve(){re(),Z(rt),Te(),H(rt)}Ht.prepFn=function(ge,ke,Ee){var Oe=Ht.dragmode,Se=rt._fullLayout.dragmode;Se!==Oe&&(Ht.dragmode=Se),Zt(),ie=rt._fullLayout._invScaleX,de=rt._fullLayout._invScaleY,St||(Nt?ge.shiftKey?Se==="pan"?Se="zoom":b(Se)||(Se="pan"):ge.ctrlKey&&(Se="pan"):Se="pan"),m(Se)?Ht.minDrag=1:Ht.minDrag=void 0,b(Se)?(Ht.xaxes=L,Ht.yaxes=X,S(ge,ke,Ee,Ht,Se)):(Ht.clickFn=ee,b(Oe)&&Yt(),St||(Se==="zoom"?(Ht.moveFn=ne,Ht.doneFn=ve,Ht.minDrag=1,function(Fe,je,Ue){var He=he.getBoundingClientRect();$t=je-He.left,ye=Ue-He.top,rt._fullLayout._calcInverseTransform(rt);var Je=f.apply3DTransform(rt._fullLayout._invTransform)($t,ye);$t=Je[0],ye=Je[1],se={l:$t,r:$t,w:0,t:ye,b:ye,h:0},Pe=rt._hmpixcount?rt._hmlumcount/rt._hmpixcount:i(rt._fullLayout.plot_bgcolor).getLuminance(),Ne=!1,yt="xy",Ut=!1,vt=Y(Jt,Pe,it,ft,Ce="M0,0H"+gt+"V"+wt+"H0V0"),Rt=Q(Jt,it,ft)}(0,ke,Ee)):Se==="pan"&&(Ht.moveFn=Me,Ht.doneFn=Te))),rt._fullLayout._redrag=function(){var Fe=rt._dragdata;if(Fe&&Fe.element===he){var je=rt._fullLayout.dragmode;b(je)||(Zt(),we([0,0,gt,wt]),Ht.moveFn(Fe.dx,Fe.dy))}}},g.init(Ht);var fe=[0,0,gt,wt],pe=null,ze=j.REDRAWDELAY,Be=ot.mainplot?rt._fullLayout._plots[ot.mainplot]:ot;function Me(ge,ke){if(ge*=ie,ke*=de,!rt._transitioningWithDuration){if(rt._fullLayout._replotting=!0,Bt==="ew"||Mt==="ns"){var Ee=Bt?-ge:0,Oe=Mt?-ke:0;if(Ft.isSubplotConstrained){if(Bt&&Mt){var Se=(ge/gt-ke/wt)/2;Ee=-(ge=Se*gt),Oe=-(ke=-Se*wt)}Mt?Ee=-Oe*gt/wt:Oe=-Ee*wt/gt}return Bt&&(E(L,ge),_e("x")),Mt&&(E(X,ke),_e("y")),we([Ee,Oe,gt,wt]),xe(),void rt.emit("plotly_relayouting",Kt)}var Fe,je,Ue=Bt==="w"==(Mt==="n")?1:-1;if(Bt&&Mt&&(xt.isSubplotConstrained||Ft.isSubplotConstrained)){var He=(ge/gt+Ue*ke/wt)/2;ge=He*gt,ke=Ue*He*wt}if(Bt==="w"?ge=rn(L,0,ge):Bt==="e"?ge=rn(L,1,-ge):Bt||(ge=0),Mt==="n"?ke=rn(X,1,ke):Mt==="s"?ke=rn(X,0,-ke):Mt||(ke=0),Fe=Bt==="w"?ge:0,je=Mt==="n"?ke:0,xt.isSubplotConstrained&&!Ft.isSubplotConstrained||Ft.isSubplotConstrained&&Bt&&Mt&&Ue>0){var Je;if(Ft.isSubplotConstrained||!Bt&&Mt.length===1){for(Je=0;Je<L.length;Je++)L[Je].range=L[Je]._r.slice(),D(L[Je],1-ke/wt);Fe=(ge=ke*gt/wt)/2}if(Ft.isSubplotConstrained||!Mt&&Bt.length===1){for(Je=0;Je<X.length;Je++)X[Je].range=X[Je]._r.slice(),D(X[Je],1-ge/gt);je=(ke=ge*wt/gt)/2}}Ft.isSubplotConstrained&&Mt||_e("x"),Ft.isSubplotConstrained&&Bt||_e("y");var Qe=gt-ge,ln=wt-ke;!Ft.isSubplotConstrained||Bt&&Mt||(Bt?(je=Fe?0:ge*wt/gt,ln=Qe*wt/gt):(Fe=je?0:ke*gt/wt,Qe=ln*gt/wt)),we([Fe,je,Qe,ln]),xe(),rt.emit("plotly_relayouting",Kt)}function rn(We,nn,sn){for(var Xe,un,tn=1-nn,vn=0;vn<We.length;vn++){var fn=We[vn];if(!fn.fixedrange){Xe=fn,un=fn._rl[tn]+(fn._rl[nn]-fn._rl[tn])/z(sn/fn._length);var gn=fn.l2r(un);gn!==!1&&gn!==void 0&&(fn.range[nn]=gn)}}return Xe._length*(Xe._rl[nn]-un)/(Xe._rl[nn]-Xe._rl[tn])}}function _e(ge,ke){for(var Ee=Ft.isSubplotConstrained?{x:X,y:L}[ge]:Ft[ge+"axes"],Oe=Ft.isSubplotConstrained?{x:L,y:X}[ge]:[],Se=0;Se<Ee.length;Se++){var Fe=Ee[Se],je=Fe._id,Ue=Ft.xLinks[je]||Ft.yLinks[je],He=Oe[0]||_t[Ue]||Dt[Ue];He&&(ke?(ke[Fe._name+".range[0]"]=ke[He._name+".range[0]"],ke[Fe._name+".range[1]"]=ke[He._name+".range[1]"]):Fe.range=He.range.slice())}}function xe(){var ge,ke=[];function Ee(je){for(ge=0;ge<je.length;ge++)je[ge].fixedrange||ke.push(je[ge]._id)}function Oe(je,Ue){for(ge=0;ge<je.length;ge++){var He=je[ge],Je=He[Ue];He.fixedrange||Je.tickmode!=="sync"||ke.push(Je._id)}}for(Lt&&(Ee(L),Ee(xt.xaxes),Ee(Ft.xaxes),Oe(ot.overlays,"xaxis")),Pt&&(Ee(X),Ee(xt.yaxes),Ee(Ft.yaxes),Oe(ot.overlays,"yaxis")),Kt={},ge=0;ge<ke.length;ge++){var Se=ke[ge],Fe=C(rt,Se);h.drawOne(rt,Fe,{skipTitle:!0}),Kt[Fe._name+".range[0]"]=Fe.range[0],Kt[Fe._name+".range[1]"]=Fe.range[1]}h.redrawComponents(rt,ke)}function me(){if(!rt._transitioningWithDuration){var ge=rt._context.doubleClick,ke=[];Bt&&(ke=ke.concat(L)),Mt&&(ke=ke.concat(X)),Ft.xaxes&&(ke=ke.concat(Ft.xaxes)),Ft.yaxes&&(ke=ke.concat(Ft.yaxes));var Ee,Oe,Se,Fe={};if(ge==="reset+autosize"){for(ge="autosize",Oe=0;Oe<ke.length;Oe++)if((Ee=ke[Oe])._rangeInitial&&(Ee.range[0]!==Ee._rangeInitial[0]||Ee.range[1]!==Ee._rangeInitial[1])||!Ee._rangeInitial&&!Ee.autorange){ge="reset";break}}if(ge==="autosize")for(Oe=0;Oe<ke.length;Oe++)(Ee=ke[Oe]).fixedrange||(Fe[Ee._name+".autorange"]=!0);else if(ge==="reset")for((Bt||xt.isSubplotConstrained)&&(ke=ke.concat(xt.xaxes)),Mt&&!xt.isSubplotConstrained&&(ke=ke.concat(xt.yaxes)),xt.isSubplotConstrained&&(Bt?Mt||(ke=ke.concat(X)):ke=ke.concat(L)),Oe=0;Oe<ke.length;Oe++)(Ee=ke[Oe]).fixedrange||(Ee._rangeInitial?(Se=Ee._rangeInitial,Fe[Ee._name+".range[0]"]=Se[0],Fe[Ee._name+".range[1]"]=Se[1]):Fe[Ee._name+".autorange"]=!0);rt.emit("plotly_doubleclick",null),n.call("_guiRelayout",rt,Fe)}}function Te(){we([0,0,gt,wt]),f.syncOrAsync([T.previousPromises,function(){rt._fullLayout._replotting=!1,n.call("_guiRelayout",rt,Kt)}],rt)}function we(ge){var ke,Ee,Oe,Se,Fe=rt._fullLayout,je=Fe._plots,Ue=Fe._subplots.cartesian;if(Xt&&n.subplotsRegistry.splom.drag(rt),zt){for(ke=0;ke<Ue.length;ke++)if(Oe=(Ee=je[Ue[ke]]).xaxis,Se=Ee.yaxis,Ee._scene){var He=f.simpleMap(Oe.range,Oe.r2l),Je=f.simpleMap(Se.range,Se.r2l);Ee._scene.update({range:[He[0],Je[0],He[1],Je[1]]})}}if((Xt||zt)&&(x(rt),_(rt)),Gt){var Qe=ge[2]/pt._length,ln=ge[3]/bt._length;for(ke=0;ke<Ue.length;ke++){Oe=(Ee=je[Ue[ke]]).xaxis,Se=Ee.yaxis;var rn,We,nn,sn,Xe=(Lt||Ft.isSubplotConstrained)&&!Oe.fixedrange&&_t[Oe._id],un=(Pt||Ft.isSubplotConstrained)&&!Se.fixedrange&&Dt[Se._id];if(Xe?(rn=Qe,nn=It||Ft.isSubplotConstrained?ge[0]:Re(Oe,rn)):Ft.xaHash[Oe._id]?(rn=Qe,nn=ge[0]*Oe._length/pt._length):Ft.yaHash[Oe._id]?(rn=ln,nn=Mt==="ns"?-ge[1]*Oe._length/bt._length:Re(Oe,rn,{n:"top",s:"bottom"}[Mt])):nn=Ye(Oe,rn=Ae(Oe,Qe,ln)),un?(We=ln,sn=Ct||Ft.isSubplotConstrained?ge[1]:Re(Se,We)):Ft.yaHash[Se._id]?(We=ln,sn=ge[1]*Se._length/bt._length):Ft.xaHash[Se._id]?(We=Qe,sn=Bt==="ew"?-ge[0]*Se._length/pt._length:Re(Se,We,{e:"right",w:"left"}[Bt])):sn=Ye(Se,We=Ae(Se,Qe,ln)),rn||We){rn||(rn=1),We||(We=1);var tn=Oe._offset-nn/rn,vn=Se._offset-sn/We;Ee.clipRect.call(d.setTranslate,nn,sn).call(d.setScale,rn,We),Ee.plot.call(d.setTranslate,tn,vn).call(d.setScale,1/rn,1/We),rn===Ee.xScaleFactor&&We===Ee.yScaleFactor||(d.setPointGroupScale(Ee.zoomScalePts,rn,We),d.setTextPointsScale(Ee.zoomScaleTxt,rn,We)),d.hideOutsideRangePoints(Ee.clipOnAxisFalseTraces,Ee),Ee.xScaleFactor=rn,Ee.yScaleFactor=We}}}}function Ae(ge,ke,Ee){return ge.fixedrange?0:Lt&&xt.xaHash[ge._id]?ke:Pt&&(xt.isSubplotConstrained?xt.xaHash:xt.yaHash)[ge._id]?Ee:0}function Ye(ge,ke){return ke?(ge.range=ge._r.slice(),D(ge,ke),Re(ge,ke)):0}function Re(ge,ke,Ee){return ge._length*(1-ke)*v[Ee||ge.constraintoward||"middle"]}return Ct.length*It.length!=1&&$(he,function(ge){if(rt._context._scrollZoom.cartesian||rt._fullLayout._enablescrollzoom){if(Yt(),rt._transitioningWithDuration)return ge.preventDefault(),void ge.stopPropagation();Zt(),clearTimeout(pe);var ke=-ge.deltaY;if(isFinite(ke)||(ke=ge.wheelDelta/10),isFinite(ke)){var Ee,Oe=Math.exp(-Math.min(Math.max(ke,-20),20)/200),Se=Be.draglayer.select(".nsewdrag").node().getBoundingClientRect(),Fe=(ge.clientX-Se.left)/Se.width,je=(Se.bottom-ge.clientY)/Se.height;if(Lt){for(It||(Fe=.5),Ee=0;Ee<L.length;Ee++)Ue(L[Ee],Fe,Oe);_e("x"),fe[2]*=Oe,fe[0]+=fe[2]*Fe*(1/Oe-1)}if(Pt){for(Ct||(je=.5),Ee=0;Ee<X.length;Ee++)Ue(X[Ee],je,Oe);_e("y"),fe[3]*=Oe,fe[1]+=fe[3]*(1-je)*(1/Oe-1)}we(fe),xe(),rt.emit("plotly_relayouting",Kt),pe=setTimeout(function(){rt._fullLayout&&(fe=[0,0,gt,wt],Te())},ze),ge.preventDefault()}else f.log("Did not find wheel motion attributes: ",ge)}function Ue(He,Je,Qe){if(!He.fixedrange){var ln=f.simpleMap(He.range,He.r2l),rn=ln[0]+(ln[1]-ln[0])*Je;He.range=ln.map(function(We){return He.l2r(rn+(We-rn)*Qe)})}}}),he},makeDragger:M,makeRectDragger:O,makeZoombox:Y,makeCorners:Q,updateZoombox:nt,xyCorners:U,transitionZoombox:et,removeZoombox:Z,showDoubleClickNotifier:H,attachWheelEventHandler:$}},4305:function(w,s,t){var a=t(39898),f=t(30211),e=t(28569),i=t(6964),r=t(29323).makeDragBox,n=t(85555).DRAGGERSIZE;s.initInteractions=function(o){var l=o._fullLayout;if(o._context.staticPlot)a.select(o).selectAll(".drag").remove();else if(l._has("cartesian")||l._has("splom")){Object.keys(l._plots||{}).sort(function(d,c){if((l._plots[d].mainplot&&!0)===(l._plots[c].mainplot&&!0)){var h=d.split("y"),p=c.split("y");return h[0]===p[0]?Number(h[1]||1)-Number(p[1]||1):Number(h[0]||1)-Number(p[0]||1)}return l._plots[d].mainplot?1:-1}).forEach(function(d){var c=l._plots[d],h=c.xaxis,p=c.yaxis;if(!c.mainplot){var g=r(o,c,h._offset,p._offset,h._length,p._length,"ns","ew");g.onmousemove=function(m){o._fullLayout._rehover=function(){o._fullLayout._hoversubplot===d&&o._fullLayout._plots[d]&&f.hover(o,m,d)},f.hover(o,m,d),o._fullLayout._lasthover=g,o._fullLayout._hoversubplot=d},g.onmouseout=function(m){o._dragging||(o._fullLayout._hoversubplot=null,e.unhover(o,m))},o._context.showAxisDragHandles&&(r(o,c,h._offset-n,p._offset-n,n,n,"n","w"),r(o,c,h._offset+h._length,p._offset-n,n,n,"n","e"),r(o,c,h._offset-n,p._offset+p._length,n,n,"s","w"),r(o,c,h._offset+h._length,p._offset+p._length,n,n,"s","e"))}if(o._context.showAxisDragHandles){if(d===h._mainSubplot){var y=h._mainLinePosition;h.side==="top"&&(y-=n),r(o,c,h._offset+.1*h._length,y,.8*h._length,n,"","ew"),r(o,c,h._offset,y,.1*h._length,n,"","w"),r(o,c,h._offset+.9*h._length,y,.1*h._length,n,"","e")}if(d===p._mainSubplot){var b=p._mainLinePosition;p.side!=="right"&&(b-=n),r(o,c,b,p._offset+.1*p._length,n,.8*p._length,"ns",""),r(o,c,b,p._offset+.9*p._length,n,.1*p._length,"s",""),r(o,c,b,p._offset,n,.1*p._length,"n","")}}});var u=l._hoverlayer.node();u.onmousemove=function(d){d.target=o._fullLayout._lasthover,f.hover(o,d,l._hoversubplot)},u.onclick=function(d){d.target=o._fullLayout._lasthover,f.click(o,d)},u.onmousedown=function(d){o._fullLayout._lasthover.onmousedown(d)},s.updateFx(o)}},s.updateFx=function(o){var l=o._fullLayout,u=l.dragmode==="pan"?"move":"crosshair";i(l._draggers,u)}},76325:function(w,s,t){var a=t(73972),f=t(71828),e=t(41675);w.exports=function(i){return function(r,n){var o=r[i];if(Array.isArray(o))for(var l=a.subplotsRegistry.cartesian,u=l.idRegex,d=n._subplots,c=d.xaxis,h=d.yaxis,p=d.cartesian,g=n._has("cartesian")||n._has("gl2d"),y=0;y<o.length;y++){var b=o[y];if(f.isPlainObject(b)){var m=e.cleanId(b.xref,"x",!1),v=e.cleanId(b.yref,"y",!1),x=u.x.test(m),_=u.y.test(v);if(x||_){g||f.pushUnique(n._basePlotModules,l);var T=!1;x&&c.indexOf(m)===-1&&(c.push(m),T=!0),_&&h.indexOf(v)===-1&&(h.push(v),T=!0),T&&x&&_&&p.push(m+v)}}}}}},93612:function(w,s,t){var a=t(39898),f=t(73972),e=t(71828),i=t(74875),r=t(91424),n=t(27659).a0,o=t(41675),l=t(85555),u=t(77922),d=e.ensureSingle;function c(b,m,v){return e.ensureSingle(b,m,v,function(x){x.datum(v)})}function h(b,m,v,x,_){for(var T,C,S,F=l.traceLayerClasses,N=b._fullLayout,D=N._modules,j=[],B=[],J=0;J<D.length;J++){var P=(T=D[J]).name,M=f.modules[P].categories;if(M.svg){var O=T.layerName||P+"layer",q=T.plot;S=(C=n(v,q))[0],v=C[1],S.length&&j.push({i:F.indexOf(O),className:O,plotMethod:q,cdModule:S}),M.zoomScale&&B.push("."+O)}}j.sort(function(z,Y){return z.i-Y.i});var tt=m.plot.selectAll("g.mlayer").data(j,function(z){return z.className});if(tt.enter().append("g").attr("class",function(z){return z.className}).classed("mlayer",!0).classed("rangeplot",m.isRangePlot),tt.exit().remove(),tt.order(),tt.each(function(z){var Y=a.select(this),Q=z.className;z.plotMethod(b,m,z.cdModule,Y,x,_),l.clipOnAxisFalseQuery.indexOf("."+Q)===-1&&r.setClipUrl(Y,m.layerClipId,b)}),N._has("scattergl")&&(T=f.getModule("scattergl"),S=n(v,T)[0],T.plot(b,m,S)),!b._context.staticPlot&&(m._hasClipOnAxisFalse&&(m.clipOnAxisFalseTraces=m.plot.selectAll(l.clipOnAxisFalseQuery.join(",")).selectAll(".trace")),B.length)){var E=m.plot.selectAll(B.join(",")).selectAll(".trace");m.zoomScalePts=E.selectAll("path.point"),m.zoomScaleTxt=E.selectAll(".textpoint")}}function p(b,m){var v=m.plotgroup,x=m.id,_=l.layerValue2layerClass[m.xaxis.layer],T=l.layerValue2layerClass[m.yaxis.layer],C=b._fullLayout._hasOnlyLargeSploms;if(m.mainplot){var S=m.mainplotinfo,F=S.plotgroup,N=x+"-x",D=x+"-y";m.minorGridlayer=S.minorGridlayer,m.gridlayer=S.gridlayer,m.zerolinelayer=S.zerolinelayer,d(S.overlinesBelow,"path",N),d(S.overlinesBelow,"path",D),d(S.overaxesBelow,"g",N),d(S.overaxesBelow,"g",D),m.plot=d(S.overplot,"g",x),d(S.overlinesAbove,"path",N),d(S.overlinesAbove,"path",D),d(S.overaxesAbove,"g",N),d(S.overaxesAbove,"g",D),m.xlines=F.select(".overlines-"+_).select("."+N),m.ylines=F.select(".overlines-"+T).select("."+D),m.xaxislayer=F.select(".overaxes-"+_).select("."+N),m.yaxislayer=F.select(".overaxes-"+T).select("."+D)}else if(C)m.xlines=d(v,"path","xlines-above"),m.ylines=d(v,"path","ylines-above"),m.xaxislayer=d(v,"g","xaxislayer-above"),m.yaxislayer=d(v,"g","yaxislayer-above");else{var j=d(v,"g","layer-subplot");m.shapelayer=d(j,"g","shapelayer"),m.imagelayer=d(j,"g","imagelayer"),m.minorGridlayer=d(v,"g","minor-gridlayer"),m.gridlayer=d(v,"g","gridlayer"),m.zerolinelayer=d(v,"g","zerolinelayer"),d(v,"path","xlines-below"),d(v,"path","ylines-below"),m.overlinesBelow=d(v,"g","overlines-below"),d(v,"g","xaxislayer-below"),d(v,"g","yaxislayer-below"),m.overaxesBelow=d(v,"g","overaxes-below"),m.plot=d(v,"g","plot"),m.overplot=d(v,"g","overplot"),m.xlines=d(v,"path","xlines-above"),m.ylines=d(v,"path","ylines-above"),m.overlinesAbove=d(v,"g","overlines-above"),d(v,"g","xaxislayer-above"),d(v,"g","yaxislayer-above"),m.overaxesAbove=d(v,"g","overaxes-above"),m.xlines=v.select(".xlines-"+_),m.ylines=v.select(".ylines-"+T),m.xaxislayer=v.select(".xaxislayer-"+_),m.yaxislayer=v.select(".yaxislayer-"+T)}C||(c(m.minorGridlayer,"g",m.xaxis._id),c(m.minorGridlayer,"g",m.yaxis._id),m.minorGridlayer.selectAll("g").map(function(B){return B[0]}).sort(o.idSort),c(m.gridlayer,"g",m.xaxis._id),c(m.gridlayer,"g",m.yaxis._id),m.gridlayer.selectAll("g").map(function(B){return B[0]}).sort(o.idSort)),m.xlines.style("fill","none").classed("crisp",!0),m.ylines.style("fill","none").classed("crisp",!0)}function g(b,m){if(b){var v={};for(var x in b.each(function(S){var F=S[0];a.select(this).remove(),y(F,m),v[F]=!0}),m._plots)for(var _=m._plots[x].overlays||[],T=0;T<_.length;T++){var C=_[T];v[C.id]&&C.plot.selectAll(".trace").remove()}}}function y(b,m){m._draggers.selectAll("g."+b).remove(),m._defs.select("#clip"+m._uid+b+"plot").remove()}s.name="cartesian",s.attr=["xaxis","yaxis"],s.idRoot=["x","y"],s.idRegex=l.idRegex,s.attrRegex=l.attrRegex,s.attributes=t(89502),s.layoutAttributes=t(13838),s.supplyLayoutDefaults=t(86763),s.transitionAxes=t(66847),s.finalizeSubplots=function(b,m){var v,x,_,T=m._subplots,C=T.xaxis,S=T.yaxis,F=T.cartesian,N=F.concat(T.gl2d||[]),D={},j={};for(v=0;v<N.length;v++){var B=N[v].split("y");D[B[0]]=1,j["y"+B[1]]=1}for(v=0;v<C.length;v++)D[x=C[v]]||(_=(b[o.id2name(x)]||{}).anchor,l.idRegex.y.test(_)||(_="y"),F.push(x+_),N.push(x+_),j[_]||(j[_]=1,e.pushUnique(S,_)));for(v=0;v<S.length;v++)j[_=S[v]]||(x=(b[o.id2name(_)]||{}).anchor,l.idRegex.x.test(x)||(x="x"),F.push(x+_),N.push(x+_),D[x]||(D[x]=1,e.pushUnique(C,x)));if(!N.length){for(var J in x="",_="",b)l.attrRegex.test(J)&&(J.charAt(0)==="x"?(!x||+J.substr(5)<+x.substr(5))&&(x=J):(!_||+J.substr(5)<+_.substr(5))&&(_=J));x=x?o.name2id(x):"x",_=_?o.name2id(_):"y",C.push(x),S.push(_),F.push(x+_)}},s.plot=function(b,m,v,x){var _,T=b._fullLayout,C=T._subplots.cartesian,S=b.calcdata;if(!Array.isArray(m))for(m=[],_=0;_<S.length;_++)m.push(_);for(_=0;_<C.length;_++){for(var F,N=C[_],D=T._plots[N],j=[],B=0;B<S.length;B++){var J=S[B],P=J[0].trace;P.xaxis+P.yaxis===N&&((m.indexOf(P.index)!==-1||P.carpet)&&(F&&F[0].trace.xaxis+F[0].trace.yaxis===N&&["tonextx","tonexty","tonext"].indexOf(P.fill)!==-1&&j.indexOf(F)===-1&&j.push(F),j.push(J)),F=J)}h(b,D,j,v,x)}},s.clean=function(b,m,v,x){var _,T,C,S=x._plots||{},F=m._plots||{},N=x._subplots||{};if(x._hasOnlyLargeSploms&&!m._hasOnlyLargeSploms)for(C in S)(_=S[C]).plotgroup&&_.plotgroup.remove();var D=x._has&&x._has("gl"),j=m._has&&m._has("gl");if(D&&!j)for(C in S)(_=S[C])._scene&&_._scene.destroy();if(N.xaxis&&N.yaxis){var B=o.listIds({_fullLayout:x});for(T=0;T<B.length;T++){var J=B[T];m[o.id2name(J)]||x._infolayer.selectAll(".g-"+J+"title").remove()}}var P=x._has&&x._has("cartesian"),M=m._has&&m._has("cartesian");if(P&&!M)g(x._cartesianlayer.selectAll(".subplot"),x),x._defs.selectAll(".axesclip").remove(),delete x._axisConstraintGroups,delete x._axisMatchGroups;else if(N.cartesian)for(T=0;T<N.cartesian.length;T++){var O=N.cartesian[T];if(!F[O]){var q="."+O+",."+O+"-x,."+O+"-y";x._cartesianlayer.selectAll(q).remove(),y(O,x)}}},s.drawFramework=function(b){var m=b._fullLayout,v=function(_){var T,C,S,F,N,D,j=_._fullLayout,B=j._subplots.cartesian,J=B.length,P=[],M=[];for(T=0;T<J;T++){S=B[T],N=(F=j._plots[S]).xaxis,D=F.yaxis;var O=N._mainAxis,q=D._mainAxis,tt=O._id+q._id,E=j._plots[tt];F.overlays=[],tt!==S&&E?(F.mainplot=tt,F.mainplotinfo=E,M.push(S)):(F.mainplot=void 0,F.mainplotinfo=void 0,P.push(S))}for(T=0;T<M.length;T++)S=M[T],(F=j._plots[S]).mainplotinfo.overlays.push(F);var z=P.concat(M),Y=new Array(J);for(T=0;T<J;T++){S=z[T],N=(F=j._plots[S]).xaxis,D=F.yaxis;var Q=[S,N.layer,D.layer,N.overlaying||"",D.overlaying||""];for(C=0;C<F.overlays.length;C++)Q.push(F.overlays[C].id);Y[T]=Q}return Y}(b),x=m._cartesianlayer.selectAll(".subplot").data(v,String);x.enter().append("g").attr("class",function(_){return"subplot "+_[0]}),x.order(),x.exit().call(g,m),x.each(function(_){var T=_[0],C=m._plots[T];C.plotgroup=a.select(this),p(b,C),C.draglayer=d(m._draggers,"g",T)})},s.rangePlot=function(b,m,v){p(b,m),h(b,m,v),i.style(b)},s.toSVG=function(b){var m=b._fullLayout._glimages,v=a.select(b).selectAll(".svg-container");v.filter(function(x,_){return _===v.size()-1}).selectAll(".gl-canvas-context, .gl-canvas-focus").each(function(){var x=this,_=x.toDataURL("image/png");m.append("svg:image").attr({xmlns:u.svg,"xlink:href":_,preserveAspectRatio:"none",x:0,y:0,width:x.style.width,height:x.style.height})})},s.updateFx=t(4305).updateFx},13838:function(w,s,t){var a=t(41940),f=t(22399),e=t(79952).P,i=t(1426).extendFlat,r=t(44467).templatedArray,n=t(12663).descriptionWithDates,o=t(50606).ONEDAY,l=t(85555),u=l.HOUR_PATTERN,d=l.WEEKDAY_PATTERN,c={valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}},h=i({},c,{values:c.values.slice().concat(["sync"])});function p(N){return{valType:"integer",min:0,dflt:N?5:0,editType:"ticks"}}var g={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},y={valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},b={valType:"data_array",editType:"ticks"},m={valType:"enumerated",values:["outside","inside",""],editType:"ticks"};function v(N){var D={valType:"number",min:0,editType:"ticks"};return N||(D.dflt=5),D}function x(N){var D={valType:"number",min:0,editType:"ticks"};return N||(D.dflt=1),D}var _={valType:"color",dflt:f.defaultLine,editType:"ticks"},T={valType:"color",dflt:f.lightLine,editType:"ticks"};function C(N){var D={valType:"number",min:0,editType:"ticks"};return N||(D.dflt=1),D}var S=i({},e,{editType:"ticks"}),F={valType:"boolean",editType:"ticks"};w.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:f.defaultLine,editType:"ticks"},title:{text:{valType:"string",editType:"ticks"},font:a({editType:"ticks"}),standoff:{valType:"number",min:0,editType:"ticks"},editType:"ticks"},type:{valType:"enumerated",values:["-","linear","log","date","category","multicategory"],dflt:"-",editType:"calc",_noTemplating:!0},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0,editType:"axrange",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"plot"},range:{valType:"info_array",items:[{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0},{valType:"any",editType:"axrange",impliedEdits:{"^autorange":!1},anim:!0}],editType:"axrange",impliedEdits:{autorange:!1},anim:!0},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},scaleanchor:{valType:"enumerated",values:[l.idRegex.x.toString(),l.idRegex.y.toString()],editType:"plot"},scaleratio:{valType:"number",min:0,dflt:1,editType:"plot"},constrain:{valType:"enumerated",values:["range","domain"],editType:"plot"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"plot"},matches:{valType:"enumerated",values:[l.idRegex.x.toString(),l.idRegex.y.toString()],editType:"calc"},rangebreaks:r("rangebreak",{enabled:{valType:"boolean",dflt:!0,editType:"calc"},bounds:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},pattern:{valType:"enumerated",values:[d,u,""],editType:"calc"},values:{valType:"info_array",freeLength:!0,editType:"calc",items:{valType:"any",editType:"calc"}},dvalue:{valType:"number",editType:"calc",min:0,dflt:o},editType:"calc"}),tickmode:h,nticks:p(),tick0:g,dtick:y,ticklabelstep:{valType:"integer",min:1,dflt:1,editType:"ticks"},tickvals:b,ticktext:{valType:"data_array",editType:"ticks"},ticks:m,tickson:{valType:"enumerated",values:["labels","boundaries"],dflt:"labels",editType:"ticks"},ticklabelmode:{valType:"enumerated",values:["instant","period"],dflt:"instant",editType:"ticks"},ticklabelposition:{valType:"enumerated",values:["outside","inside","outside top","inside top","outside left","inside left","outside right","inside right","outside bottom","inside bottom"],dflt:"outside",editType:"calc"},ticklabeloverflow:{valType:"enumerated",values:["allow","hide past div","hide past domain"],editType:"calc"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:v(),tickwidth:x(),tickcolor:_,showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},labelalias:{valType:"any",dflt:!1,editType:"ticks"},automargin:{valType:"flaglist",flags:["height","width","left","right","top","bottom"],extras:[!0,!1],dflt:!1,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:i({},e,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},spikesnap:{valType:"enumerated",values:["data","cursor","hovered data"],dflt:"hovered data",editType:"none"},tickfont:a({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},minexponent:{valType:"number",dflt:3,min:0,editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks",description:n("tick label")},tickformatstops:r("tickformatstop",{enabled:{valType:"boolean",dflt:!0,editType:"ticks"},dtickrange:{valType:"info_array",items:[{valType:"any",editType:"ticks"},{valType:"any",editType:"ticks"}],editType:"ticks"},value:{valType:"string",dflt:"",editType:"ticks"},editType:"ticks"}),hoverformat:{valType:"string",dflt:"",editType:"none",description:n("hover text")},showline:{valType:"boolean",dflt:!1,editType:"ticks+layoutstyle"},linecolor:{valType:"color",dflt:f.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:F,gridcolor:T,gridwidth:C(),griddash:S,zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:f.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},showdividers:{valType:"boolean",dflt:!0,editType:"ticks"},dividercolor:{valType:"color",dflt:f.defaultLine,editType:"ticks"},dividerwidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",l.idRegex.x.toString(),l.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",l.idRegex.x.toString(),l.idRegex.y.toString()],editType:"plot"},minor:{tickmode:c,nticks:p("minor"),tick0:g,dtick:y,tickvals:b,ticks:m,ticklen:v("minor"),tickwidth:x("minor"),tickcolor:_,gridcolor:T,gridwidth:C("minor"),griddash:S,showgrid:F,editType:"ticks"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"plot"},{valType:"number",min:0,max:1,editType:"plot"}],dflt:[0,1],editType:"plot"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},autoshift:{valType:"boolean",dflt:!1,editType:"plot"},shift:{valType:"number",editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array","total ascending","total descending","min ascending","min descending","max ascending","max descending","sum ascending","sum descending","mean ascending","mean descending","median ascending","median descending"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},uirevision:{valType:"any",editType:"none"},editType:"calc",_deprecated:{autotick:{valType:"boolean",editType:"ticks"},title:{valType:"string",editType:"ticks"},titlefont:a({editType:"ticks"})}}},86763:function(w,s,t){var a=t(71828),f=t(7901),e=t(23469).isUnifiedHover,i=t(98212),r=t(44467),n=t(10820),o=t(13838),l=t(951),u=t(71453),d=t(99082),c=t(52830),h=t(41675),p=h.id2name,g=h.name2id,y=t(85555).AX_ID_PATTERN,b=t(73972),m=b.traceIs,v=b.getComponentMethod;function x(_,T,C){Array.isArray(_[T])?_[T].push(C):_[T]=[C]}w.exports=function(_,T,C){var S,F,N=T.autotypenumbers,D={},j={},B={},J={},P={},M={},O={},q={},tt={},E={};for(S=0;S<C.length;S++){var z=C[S];if(m(z,"cartesian")||m(z,"gl2d")){var Y,Q;if(z.xaxis)Y=p(z.xaxis),x(D,Y,z);else if(z.xaxes)for(F=0;F<z.xaxes.length;F++)x(D,p(z.xaxes[F]),z);if(z.yaxis)Q=p(z.yaxis),x(D,Q,z);else if(z.yaxes)for(F=0;F<z.yaxes.length;F++)x(D,p(z.yaxes[F]),z);z.type==="funnel"?z.orientation==="h"?(Y&&(j[Y]=!0),Q&&(O[Q]=!0)):Q&&(B[Q]=!0):z.type==="image"?(Q&&(q[Q]=!0),Y&&(q[Y]=!0)):(Q&&(P[Q]=!0,M[Q]=!0),m(z,"carpet")&&(z.type!=="carpet"||z._cheater)||Y&&(J[Y]=!0)),z.type==="carpet"&&z._cheater&&Y&&(j[Y]=!0),m(z,"2dMap")&&(tt[Y]=!0,tt[Q]=!0),m(z,"oriented")&&(E[z.orientation==="h"?Q:Y]=!0)}}var nt=T._subplots,et=nt.xaxis,Z=nt.yaxis,H=a.simpleMap(et,p),U=a.simpleMap(Z,p),V=H.concat(U),$=f.background;et.length&&Z.length&&($=a.coerce(_,T,n,"plot_bgcolor"));var at,rt,ot,ct,ht,mt=f.combine($,T.paper_bgcolor);function kt(){var Vt=D[at]||[];ht._traceIndices=Vt.map(function(Zt){return Zt._expandedIndex}),ht._annIndices=[],ht._shapeIndices=[],ht._selectionIndices=[],ht._imgIndices=[],ht._subplotsWith=[],ht._counterAxes=[],ht._name=ht._attr=at,ht._id=rt}function Ct(Vt,Zt){return a.coerce(ct,ht,o,Vt,Zt)}function It(Vt,Zt){return a.coerce2(ct,ht,o,Vt,Zt)}function pt(Vt){return Vt==="x"?Z:et}function bt(Vt,Zt){for(var Wt=Vt==="x"?H:U,he=[],$t=0;$t<Wt.length;$t++){var ye=Wt[$t];ye===Zt||(_[ye]||{}).overlaying||he.push(g(ye))}return he}var _t={x:pt("x"),y:pt("y")},Dt=_t.x.concat(_t.y),L={},X=[];function it(){var Vt=ct.matches;y.test(Vt)&&Dt.indexOf(Vt)===-1&&(L[Vt]=ct.type,X=Object.keys(L))}var ft=i(_,T),gt=e(ft);for(S=0;S<V.length;S++){at=V[S],rt=g(at),ot=at.charAt(0),a.isPlainObject(_[at])||(_[at]={}),ct=_[at],ht=r.newContainer(T,at,ot+"axis"),kt();var wt=ot==="x"&&!J[at]&&j[at]||ot==="y"&&!P[at]&&B[at],xt=ot==="y"&&(!M[at]&&O[at]||q[at]),Ft={hasMinor:!0,letter:ot,font:T.font,outerTicks:tt[at],showGrid:!E[at],data:D[at]||[],bgColor:mt,calendar:T.calendar,automargin:!0,visibleDflt:wt,reverseDflt:xt,autotypenumbersDflt:N,splomStash:((T._splomAxes||{})[ot]||{})[rt]};Ct("uirevision",T.uirevision),l(ct,ht,Ct,Ft),u(ct,ht,Ct,Ft,T);var Bt=gt&&ot===ft.charAt(0),Mt=It("spikecolor",gt?ht.color:void 0),St=It("spikethickness",gt?1.5:void 0),Lt=It("spikedash",gt?"dot":void 0),Pt=It("spikemode",gt?"across":void 0),zt=It("spikesnap");Ct("showspikes",!!(Bt||Mt||St||Lt||Pt||zt))||(delete ht.spikecolor,delete ht.spikethickness,delete ht.spikedash,delete ht.spikemode,delete ht.spikesnap);var Xt=p(ct.overlaying),Gt=[0,1];if(T[Xt]!==void 0){var Kt=p(T[Xt].anchor);T[Kt]!==void 0&&(Gt=T[Kt].domain)}c(ct,ht,Ct,{letter:ot,counterAxes:_t[ot],overlayableAxes:bt(ot,at),grid:T.grid,overlayingDomain:Gt}),Ct("title.standoff"),it(),ht._input=ct}for(S=0;S<X.length;){rt=X[S++],ot=(at=p(rt)).charAt(0),a.isPlainObject(_[at])||(_[at]={}),ct=_[at],ht=r.newContainer(T,at,ot+"axis"),kt();var ie={letter:ot,font:T.font,outerTicks:tt[at],showGrid:!E[at],data:[],bgColor:mt,calendar:T.calendar,automargin:!0,visibleDflt:!1,reverseDflt:!1,autotypenumbersDflt:N,splomStash:((T._splomAxes||{})[ot]||{})[rt]};Ct("uirevision",T.uirevision),ht.type=L[rt]||"linear",u(ct,ht,Ct,ie,T),c(ct,ht,Ct,{letter:ot,counterAxes:_t[ot],overlayableAxes:bt(ot,at),grid:T.grid}),Ct("fixedrange"),it(),ht._input=ct}var de=v("rangeslider","handleDefaults"),Jt=v("rangeselector","handleDefaults");for(S=0;S<H.length;S++)at=H[S],ct=_[at],ht=T[at],de(_,T,at),ht.type==="date"&&Jt(ct,ht,T,U,ht.calendar),Ct("fixedrange");for(S=0;S<U.length;S++){at=U[S],ct=_[at],ht=T[at];var Nt=T[p(ht.anchor)];Ct("fixedrange",v("rangeslider","isVisible")(Nt))}d.handleDefaults(_,T,{axIds:Dt.concat(X).sort(h.idSort),axHasImage:q})}},92128:function(w,s,t){var a=t(84267).mix,f=t(22399),e=t(71828);w.exports=function(i,r,n,o){var l=(o=o||{}).dfltColor;function u(_,T){return e.coerce2(i,r,o.attributes,_,T)}var d=u("linecolor",l),c=u("linewidth");n("showline",o.showLine||!!d||!!c)||(delete r.linecolor,delete r.linewidth);var h=u("gridcolor",a(l,o.bgColor,o.blend||f.lightFraction).toRgbString()),p=u("gridwidth"),g=u("griddash");if(n("showgrid",o.showGrid||!!h||!!p||!!g)||(delete r.gridcolor,delete r.gridwidth,delete r.griddash),o.hasMinor){var y=u("minor.gridcolor",a(r.gridcolor,o.bgColor,67).toRgbString()),b=u("minor.gridwidth",r.gridwidth||1),m=u("minor.griddash",r.griddash||"solid");n("minor.showgrid",!!y||!!b||!!m)||(delete r.minor.gridcolor,delete r.minor.gridwidth,delete r.minor.griddash)}if(!o.noZeroLine){var v=u("zerolinecolor",l),x=u("zerolinewidth");n("zeroline",o.showGrid||!!v||!!x)||(delete r.zerolinecolor,delete r.zerolinewidth)}}},52830:function(w,s,t){var a=t(92770),f=t(71828);w.exports=function(e,i,r,n){var o,l,u,d,c,h,p=n.counterAxes||[],g=n.overlayableAxes||[],y=n.letter,b=n.grid,m=n.overlayingDomain;b&&(l=b._domains[y][b._axisMap[i._id]],o=b._anchors[i._id],l&&(u=b[y+"side"].split(" ")[0],d=b.domain[y][u==="right"||u==="top"?1:0])),l=l||[0,1],o=o||(a(e.position)?"free":p[0]||"free"),u=u||(y==="x"?"bottom":"left"),d=d||0,c=0,h=!1;var v=f.coerce(e,i,{anchor:{valType:"enumerated",values:["free"].concat(p),dflt:o}},"anchor"),x=f.coerce(e,i,{side:{valType:"enumerated",values:y==="x"?["bottom","top"]:["left","right"],dflt:u}},"side");v==="free"&&(y==="y"&&(r("autoshift")&&(d=x==="left"?m[0]:m[1],h=!i.automargin||i.automargin,c=x==="left"?-3:3),r("shift",c)),r("position",d)),r("automargin",h);var _=!1;if(g.length&&(_=f.coerce(e,i,{overlaying:{valType:"enumerated",values:[!1].concat(g),dflt:!1}},"overlaying")),!_){var T=r("domain",l);T[0]>T[1]-.000244140625&&(i.domain=l),f.noneOrAll(e.domain,i.domain,l),i.tickmode==="sync"&&(i.tickmode="auto")}return r("layer"),i}},89426:function(w,s,t){var a=t(59652);w.exports=function(f,e,i,r,n){n||(n={});var o=n.tickSuffixDflt,l=a(f);i("tickprefix")&&i("showtickprefix",l),i("ticksuffix",o)&&i("showticksuffix",l)}},42449:function(w,s,t){var a=t(18783).FROM_BL;w.exports=function(f,e,i){i===void 0&&(i=a[f.constraintoward||"center"]);var r=[f.r2l(f.range[0]),f.r2l(f.range[1])],n=r[0]+(r[1]-r[0])*i;f.range=f._input.range=[f.l2r(n+(r[0]-n)*e),f.l2r(n+(r[1]-n)*e)],f.setScale()}},21994:function(w,s,t){var a=t(39898),f=t(84096).g0,e=t(71828),i=e.numberFormat,r=t(92770),n=e.cleanNumber,o=e.ms2DateTime,l=e.dateTime2ms,u=e.ensureNumber,d=e.isArrayOrTypedArray,c=t(50606),h=c.FP_SAFE,p=c.BADNUM,g=c.LOG_CLIP,y=c.ONEWEEK,b=c.ONEDAY,m=c.ONEHOUR,v=c.ONEMIN,x=c.ONESEC,_=t(41675),T=t(85555),C=T.HOUR_PATTERN,S=T.WEEKDAY_PATTERN;function F(D){return Math.pow(10,D)}function N(D){return D!=null}w.exports=function(D,j){j=j||{};var B=D._id||"x",J=B.charAt(0);function P(V,$){if(V>0)return Math.log(V)/Math.LN10;if(V<=0&&$&&D.range&&D.range.length===2){var at=D.range[0],rt=D.range[1];return .5*(at+rt-2*g*Math.abs(at-rt))}return p}function M(V,$,at,rt){if((rt||{}).msUTC&&r(V))return+V;var ot=l(V,at||D.calendar);if(ot===p){if(!r(V))return p;V=+V;var ct=Math.floor(10*e.mod(V+.05,1)),ht=Math.round(V-ct/10);ot=l(new Date(ht))+ct/10}return ot}function O(V,$,at){return o(V,$,at||D.calendar)}function q(V){return D._categories[Math.round(V)]}function tt(V){if(N(V)){if(D._categoriesMap===void 0&&(D._categoriesMap={}),D._categoriesMap[V]!==void 0)return D._categoriesMap[V];D._categories.push(typeof V=="number"?String(V):V);var $=D._categories.length-1;return D._categoriesMap[V]=$,$}return p}function E(V){if(D._categoriesMap)return D._categoriesMap[V]}function z(V){var $=E(V);return $!==void 0?$:r(V)?+V:void 0}function Y(V){return r(V)?+V:E(V)}function Q(V,$,at){return a.round(at+$*V,2)}function nt(V,$,at){return(V-at)/$}var et=function(V){return r(V)?Q(V,D._m,D._b):p},Z=function(V){return nt(V,D._m,D._b)};if(D.rangebreaks){var H=J==="y";et=function(V){if(!r(V))return p;var $=D._rangebreaks.length;if(!$)return Q(V,D._m,D._b);var at=H;D.range[0]>D.range[1]&&(at=!at);for(var rt=at?-1:1,ot=rt*V,ct=0,ht=0;ht<$;ht++){var mt=rt*D._rangebreaks[ht].min,kt=rt*D._rangebreaks[ht].max;if(ot<mt)break;if(!(ot>kt)){ct=ot<(mt+kt)/2?ht:ht+1;break}ct=ht+1}var Ct=D._B[ct]||0;return isFinite(Ct)?Q(V,D._m2,Ct):0},Z=function(V){var $=D._rangebreaks.length;if(!$)return nt(V,D._m,D._b);for(var at=0,rt=0;rt<$&&!(V<D._rangebreaks[rt].pmin);rt++)V>D._rangebreaks[rt].pmax&&(at=rt+1);return nt(V,D._m2,D._B[at])}}D.c2l=D.type==="log"?P:u,D.l2c=D.type==="log"?F:u,D.l2p=et,D.p2l=Z,D.c2p=D.type==="log"?function(V,$){return et(P(V,$))}:et,D.p2c=D.type==="log"?function(V){return F(Z(V))}:Z,["linear","-"].indexOf(D.type)!==-1?(D.d2r=D.r2d=D.d2c=D.r2c=D.d2l=D.r2l=n,D.c2d=D.c2r=D.l2d=D.l2r=u,D.d2p=D.r2p=function(V){return D.l2p(n(V))},D.p2d=D.p2r=Z,D.cleanPos=u):D.type==="log"?(D.d2r=D.d2l=function(V,$){return P(n(V),$)},D.r2d=D.r2c=function(V){return F(n(V))},D.d2c=D.r2l=n,D.c2d=D.l2r=u,D.c2r=P,D.l2d=F,D.d2p=function(V,$){return D.l2p(D.d2r(V,$))},D.p2d=function(V){return F(Z(V))},D.r2p=function(V){return D.l2p(n(V))},D.p2r=Z,D.cleanPos=u):D.type==="date"?(D.d2r=D.r2d=e.identity,D.d2c=D.r2c=D.d2l=D.r2l=M,D.c2d=D.c2r=D.l2d=D.l2r=O,D.d2p=D.r2p=function(V,$,at){return D.l2p(M(V,0,at))},D.p2d=D.p2r=function(V,$,at){return O(Z(V),$,at)},D.cleanPos=function(V){return e.cleanDate(V,p,D.calendar)}):D.type==="category"?(D.d2c=D.d2l=tt,D.r2d=D.c2d=D.l2d=q,D.d2r=D.d2l_noadd=z,D.r2c=function(V){var $=Y(V);return $!==void 0?$:D.fraction2r(.5)},D.l2r=D.c2r=u,D.r2l=Y,D.d2p=function(V){return D.l2p(D.r2c(V))},D.p2d=function(V){return q(Z(V))},D.r2p=D.d2p,D.p2r=Z,D.cleanPos=function(V){return typeof V=="string"&&V!==""?V:u(V)}):D.type==="multicategory"&&(D.r2d=D.c2d=D.l2d=q,D.d2r=D.d2l_noadd=z,D.r2c=function(V){var $=z(V);return $!==void 0?$:D.fraction2r(.5)},D.r2c_just_indices=E,D.l2r=D.c2r=u,D.r2l=z,D.d2p=function(V){return D.l2p(D.r2c(V))},D.p2d=function(V){return q(Z(V))},D.r2p=D.d2p,D.p2r=Z,D.cleanPos=function(V){return Array.isArray(V)||typeof V=="string"&&V!==""?V:u(V)},D.setupMultiCategory=function(V){var $,at,rt=D._traceIndices,ot=D._matchGroup;if(ot&&D._categories.length===0){for(var ct in ot)if(ct!==B){var ht=j[_.id2name(ct)];rt=rt.concat(ht._traceIndices)}}var mt=[[0,{}],[0,{}]],kt=[];for($=0;$<rt.length;$++){var Ct=V[rt[$]];if(J in Ct){var It=Ct[J],pt=Ct._length||e.minRowLength(It);if(d(It[0])&&d(It[1]))for(at=0;at<pt;at++){var bt=It[0][at],_t=It[1][at];N(bt)&&N(_t)&&(kt.push([bt,_t]),bt in mt[0][1]||(mt[0][1][bt]=mt[0][0]++),_t in mt[1][1]||(mt[1][1][_t]=mt[1][0]++))}}}for(kt.sort(function(Dt,L){var X=mt[0][1],it=X[Dt[0]]-X[L[0]];if(it)return it;var ft=mt[1][1];return ft[Dt[1]]-ft[L[1]]}),$=0;$<kt.length;$++)tt(kt[$])}),D.fraction2r=function(V){var $=D.r2l(D.range[0]),at=D.r2l(D.range[1]);return D.l2r($+V*(at-$))},D.r2fraction=function(V){var $=D.r2l(D.range[0]),at=D.r2l(D.range[1]);return(D.r2l(V)-$)/(at-$)},D.cleanRange=function(V,$){$||($={}),V||(V="range");var at,rt,ot=e.nestedProperty(D,V).get();if(rt=(rt=D.type==="date"?e.dfltRange(D.calendar):J==="y"?T.DFLTRANGEY:D._name==="realaxis"?[0,1]:$.dfltRange||T.DFLTRANGEX).slice(),D.rangemode!=="tozero"&&D.rangemode!=="nonnegative"||(rt[0]=0),ot&&ot.length===2)for(D.type!=="date"||D.autorange||(ot[0]=e.cleanDate(ot[0],p,D.calendar),ot[1]=e.cleanDate(ot[1],p,D.calendar)),at=0;at<2;at++)if(D.type==="date"){if(!e.isDateTime(ot[at],D.calendar)){D[V]=rt;break}if(D.r2l(ot[0])===D.r2l(ot[1])){var ct=e.constrain(D.r2l(ot[0]),e.MIN_MS+1e3,e.MAX_MS-1e3);ot[0]=D.l2r(ct-1e3),ot[1]=D.l2r(ct+1e3);break}}else{if(!r(ot[at])){if(!r(ot[1-at])){D[V]=rt;break}ot[at]=ot[1-at]*(at?10:.1)}if(ot[at]<-h?ot[at]=-h:ot[at]>h&&(ot[at]=h),ot[0]===ot[1]){var ht=Math.max(1,Math.abs(1e-6*ot[0]));ot[0]-=ht,ot[1]+=ht}}else e.nestedProperty(D,V).set(rt)},D.setScale=function(V){var $=j._size;if(D.overlaying){var at=_.getFromId({_fullLayout:j},D.overlaying);D.domain=at.domain}var rt=V&&D._r?"_r":"range",ot=D.calendar;D.cleanRange(rt);var ct,ht,mt=D.r2l(D[rt][0],ot),kt=D.r2l(D[rt][1],ot),Ct=J==="y";if(Ct?(D._offset=$.t+(1-D.domain[1])*$.h,D._length=$.h*(D.domain[1]-D.domain[0]),D._m=D._length/(mt-kt),D._b=-D._m*kt):(D._offset=$.l+D.domain[0]*$.w,D._length=$.w*(D.domain[1]-D.domain[0]),D._m=D._length/(kt-mt),D._b=-D._m*mt),D._rangebreaks=[],D._lBreaks=0,D._m2=0,D._B=[],D.rangebreaks&&(D._rangebreaks=D.locateBreaks(Math.min(mt,kt),Math.max(mt,kt)),D._rangebreaks.length)){for(ct=0;ct<D._rangebreaks.length;ct++)ht=D._rangebreaks[ct],D._lBreaks+=Math.abs(ht.max-ht.min);var It=Ct;mt>kt&&(It=!It),It&&D._rangebreaks.reverse();var pt=It?-1:1;for(D._m2=pt*D._length/(Math.abs(kt-mt)-D._lBreaks),D._B.push(-D._m2*(Ct?kt:mt)),ct=0;ct<D._rangebreaks.length;ct++)ht=D._rangebreaks[ct],D._B.push(D._B[D._B.length-1]-pt*D._m2*(ht.max-ht.min));for(ct=0;ct<D._rangebreaks.length;ct++)(ht=D._rangebreaks[ct]).pmin=et(ht.min),ht.pmax=et(ht.max)}if(!isFinite(D._m)||!isFinite(D._b)||D._length<0)throw j._replotting=!1,new Error("Something went wrong with axis scaling")},D.maskBreaks=function(V){var $,at,rt,ot,ct,ht=D.rangebreaks||[];ht._cachedPatterns||(ht._cachedPatterns=ht.map(function(bt){return bt.enabled&&bt.bounds?e.simpleMap(bt.bounds,bt.pattern?n:D.d2c):null})),ht._cachedValues||(ht._cachedValues=ht.map(function(bt){return bt.enabled&&bt.values?e.simpleMap(bt.values,D.d2c).sort(e.sorterAsc):null}));for(var mt=0;mt<ht.length;mt++){var kt=ht[mt];if(kt.enabled){if(kt.bounds){var Ct=kt.pattern;switch(at=($=ht._cachedPatterns[mt])[0],rt=$[1],Ct){case S:ot=(ct=new Date(V)).getUTCDay(),at>rt&&(rt+=7,ot<at&&(ot+=7));break;case C:ot=(ct=new Date(V)).getUTCHours()+(ct.getUTCMinutes()/60+ct.getUTCSeconds()/3600+ct.getUTCMilliseconds()/36e5),at>rt&&(rt+=24,ot<at&&(ot+=24));break;case"":ot=V}if(ot>=at&&ot<rt)return p}else for(var It=ht._cachedValues[mt],pt=0;pt<It.length;pt++)if(rt=(at=It[pt])+kt.dvalue,V>=at&&V<rt)return p}}return V},D.locateBreaks=function(V,$){var at,rt,ot,ct,ht=[];if(!D.rangebreaks)return ht;var mt=D.rangebreaks.slice().sort(function(ft,gt){return ft.pattern===S&&gt.pattern===C?-1:gt.pattern===S&&ft.pattern===C?1:0}),kt=function(ft,gt){if((ft=e.constrain(ft,V,$))!==(gt=e.constrain(gt,V,$))){for(var wt=!0,xt=0;xt<ht.length;xt++){var Ft=ht[xt];ft<Ft.max&&gt>=Ft.min&&(ft<Ft.min&&(Ft.min=ft),gt>Ft.max&&(Ft.max=gt),wt=!1)}wt&&ht.push({min:ft,max:gt})}};for(at=0;at<mt.length;at++){var Ct=mt[at];if(Ct.enabled)if(Ct.bounds){var It=V,pt=$;Ct.pattern&&(It=Math.floor(It)),ot=(rt=e.simpleMap(Ct.bounds,Ct.pattern?n:D.r2l))[0],ct=rt[1];var bt,_t,Dt=new Date(It);switch(Ct.pattern){case S:_t=y,bt=(ct-ot+(ct<ot?7:0))*b,It+=ot*b-(Dt.getUTCDay()*b+Dt.getUTCHours()*m+Dt.getUTCMinutes()*v+Dt.getUTCSeconds()*x+Dt.getUTCMilliseconds());break;case C:_t=b,bt=(ct-ot+(ct<ot?24:0))*m,It+=ot*m-(Dt.getUTCHours()*m+Dt.getUTCMinutes()*v+Dt.getUTCSeconds()*x+Dt.getUTCMilliseconds());break;default:It=Math.min(rt[0],rt[1]),bt=_t=(pt=Math.max(rt[0],rt[1]))-It}for(var L=It;L<pt;L+=_t)kt(L,L+bt)}else for(var X=e.simpleMap(Ct.values,D.d2c),it=0;it<X.length;it++)kt(ot=X[it],ct=ot+Ct.dvalue)}return ht.sort(function(ft,gt){return ft.min-gt.min}),ht},D.makeCalcdata=function(V,$,at){var rt,ot,ct,ht,mt=D.type,kt=mt==="date"&&V[$+"calendar"];if($ in V){if(rt=V[$],ht=V._length||e.minRowLength(rt),e.isTypedArray(rt)&&(mt==="linear"||mt==="log")){if(ht===rt.length)return rt;if(rt.subarray)return rt.subarray(0,ht)}if(mt==="multicategory")return function(pt,bt){for(var _t=new Array(bt),Dt=0;Dt<bt;Dt++){var L=(pt[0]||[])[Dt],X=(pt[1]||[])[Dt];_t[Dt]=E([L,X])}return _t}(rt,ht);for(ot=new Array(ht),ct=0;ct<ht;ct++)ot[ct]=D.d2c(rt[ct],0,kt,at)}else{var Ct=$+"0"in V?D.d2c(V[$+"0"],0,kt):0,It=V["d"+$]?Number(V["d"+$]):1;for(rt=V[{x:"y",y:"x"}[$]],ht=V._length||rt.length,ot=new Array(ht),ct=0;ct<ht;ct++)ot[ct]=Ct+ct*It}if(D.rangebreaks)for(ct=0;ct<ht;ct++)ot[ct]=D.maskBreaks(ot[ct]);return ot},D.isValidRange=function(V){return Array.isArray(V)&&V.length===2&&r(D.r2l(V[0]))&&r(D.r2l(V[1]))},D.isPtWithinRange=function(V,$){var at=D.c2l(V[J],null,$),rt=D.r2l(D.range[0]),ot=D.r2l(D.range[1]);return rt<ot?rt<=at&&at<=ot:ot<=at&&at<=rt},D._emptyCategories=function(){D._categories=[],D._categoriesMap={}},D.clearCalc=function(){var V=D._matchGroup;if(V){var $=null,at=null;for(var rt in V){var ot=j[_.id2name(rt)];if(ot._categories){$=ot._categories,at=ot._categoriesMap;break}}$&&at?(D._categories=$,D._categoriesMap=at):D._emptyCategories()}else D._emptyCategories();if(D._initialCategories)for(var ct=0;ct<D._initialCategories.length;ct++)tt(D._initialCategories[ct])},D.sortByInitialCategories=function(){var V=[];if(D._emptyCategories(),D._initialCategories)for(var $=0;$<D._initialCategories.length;$++)tt(D._initialCategories[$]);V=V.concat(D._traceIndices);var at=D._matchGroup;for(var rt in at)if(B!==rt){var ot=j[_.id2name(rt)];ot._categories=D._categories,ot._categoriesMap=D._categoriesMap,V=V.concat(ot._traceIndices)}return V};var U=j._d3locale;D.type==="date"&&(D._dateFormat=U?U.timeFormat:f,D._extraFormat=j._extraFormat),D._separators=j.separators,D._numFormat=U?U.numberFormat:i,delete D._minDtick,delete D._forceTick0}},59652:function(w){w.exports=function(s){var t=["showexponent","showtickprefix","showticksuffix"].filter(function(a){return s[a]!==void 0});if(t.every(function(a){return s[a]===s[t[0]]})||t.length===1)return s[t[0]]}},96115:function(w,s,t){var a=t(71828),f=t(7901).contrast,e=t(13838),i=t(59652),r=t(85501);function n(o,l){function u(d,c){return a.coerce(o,l,e.tickformatstops,d,c)}u("enabled")&&(u("dtickrange"),u("value"))}w.exports=function(o,l,u,d,c){c||(c={});var h=u("labelalias");a.isPlainObject(h)||delete l.labelalias;var p=i(o);if(u("showticklabels")){var g=c.font||{},y=l.color,b=(l.ticklabelposition||"").indexOf("inside")!==-1?f(c.bgColor):y&&y!==e.color.dflt?y:g.color;if(a.coerceFont(u,"tickfont",{family:g.family,size:g.size,color:b}),c.noTicklabelstep||d==="multicategory"||d==="log"||u("ticklabelstep"),c.noAng||u("tickangle"),d!=="category"){var m=u("tickformat");r(o,l,{name:"tickformatstops",inclusionAttr:"enabled",handleItemDefaults:n}),l.tickformatstops.length||delete l.tickformatstops,c.noExp||m||d==="date"||(u("showexponent",p),u("exponentformat"),u("minexponent"),u("separatethousands"))}}}},38701:function(w,s,t){var a=t(71828),f=t(13838);w.exports=function(e,i,r,n){var o=n.isMinor,l=o?e.minor||{}:e,u=o?i.minor:i,d=o?f.minor:f,c=o?"minor.":"",h=a.coerce2(l,u,d,"ticklen",o?.6*(i.ticklen||5):void 0),p=a.coerce2(l,u,d,"tickwidth",o?i.tickwidth||1:void 0),g=a.coerce2(l,u,d,"tickcolor",(o?i.tickcolor:void 0)||u.color);r(c+"ticks",!o&&n.outerTicks||h||p||g?"outside":"")||(delete u.ticklen,delete u.tickwidth,delete u.tickcolor)}},26218:function(w,s,t){var a=t(66287),f=t(71828).isArrayOrTypedArray;w.exports=function(e,i,r,n,o){o||(o={});var l=o.isMinor,u=l?e.minor||{}:e,d=l?i.minor:i,c=l?"minor.":"";function h(v){var x=u[v];return x!==void 0?x:(d._template||{})[v]}var p=h("tick0"),g=h("dtick"),y=h("tickvals"),b=r(c+"tickmode",f(y)?"array":g?"linear":"auto");if(b==="auto"||b==="sync")r(c+"nticks");else if(b==="linear"){var m=d.dtick=a.dtick(g,n);d.tick0=a.tick0(p,n,i.calendar,m)}else n!=="multicategory"&&(r(c+"tickvals")===void 0?d.tickmode="auto":l||r("ticktext"))}},66847:function(w,s,t){var a=t(39898),f=t(73972),e=t(71828),i=t(91424),r=t(89298);w.exports=function(n,o,l,u){var d=n._fullLayout;if(o.length!==0){var c,h,p,g;u&&(c=u());var y=a.ease(l.easing);return n._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(g),g=null,function(){for(var v={},x=0;x<o.length;x++){var _=o[x],T=_.plotinfo.xaxis,C=_.plotinfo.yaxis;_.xr0&&(v[T._name+".range"]=_.xr0.slice()),_.yr0&&(v[C._name+".range"]=_.yr0.slice())}return f.call("relayout",n,v).then(function(){for(var S=0;S<o.length;S++)b(o[S].plotinfo)})}()}),h=Date.now(),g=window.requestAnimationFrame(function v(){p=Date.now();for(var x=Math.min(1,(p-h)/l.duration),_=y(x),T=0;T<o.length;T++)m(o[T],_);p-h>l.duration?(function(){for(var C={},S=0;S<o.length;S++){var F=o[S],N=F.plotinfo.xaxis,D=F.plotinfo.yaxis;F.xr1&&(C[N._name+".range"]=F.xr1.slice()),F.yr1&&(C[D._name+".range"]=F.yr1.slice())}c&&c(),f.call("relayout",n,C).then(function(){for(var j=0;j<o.length;j++)b(o[j].plotinfo)})}(),g=window.cancelAnimationFrame(v)):g=window.requestAnimationFrame(v)}),Promise.resolve()}function b(v){var x=v.xaxis,_=v.yaxis;d._defs.select("#"+v.clipId+"> rect").call(i.setTranslate,0,0).call(i.setScale,1,1),v.plot.call(i.setTranslate,x._offset,_._offset).call(i.setScale,1,1);var T=v.plot.selectAll(".scatterlayer .trace");T.selectAll(".point").call(i.setPointGroupScale,1,1),T.selectAll(".textpoint").call(i.setTextPointsScale,1,1),T.call(i.hideOutsideRangePoints,v)}function m(v,x){var _=v.plotinfo,T=_.xaxis,C=_.yaxis,S=T._length,F=C._length,N=!!v.xr1,D=!!v.yr1,j=[];if(N){var B=e.simpleMap(v.xr0,T.r2l),J=e.simpleMap(v.xr1,T.r2l),P=B[1]-B[0],M=J[1]-J[0];j[0]=(B[0]*(1-x)+x*J[0]-B[0])/(B[1]-B[0])*S,j[2]=S*(1-x+x*M/P),T.range[0]=T.l2r(B[0]*(1-x)+x*J[0]),T.range[1]=T.l2r(B[1]*(1-x)+x*J[1])}else j[0]=0,j[2]=S;if(D){var O=e.simpleMap(v.yr0,C.r2l),q=e.simpleMap(v.yr1,C.r2l),tt=O[1]-O[0],E=q[1]-q[0];j[1]=(O[1]*(1-x)+x*q[1]-O[1])/(O[0]-O[1])*F,j[3]=F*(1-x+x*E/tt),C.range[0]=T.l2r(O[0]*(1-x)+x*q[0]),C.range[1]=C.l2r(O[1]*(1-x)+x*q[1])}else j[1]=0,j[3]=F;r.drawOne(n,T,{skipTitle:!0}),r.drawOne(n,C,{skipTitle:!0}),r.redrawComponents(n,[T._id,C._id]);var z=N?S/j[2]:1,Y=D?F/j[3]:1,Q=N?j[0]:0,nt=D?j[1]:0,et=N?j[0]/j[2]*S:0,Z=D?j[1]/j[3]*F:0,H=T._offset-et,U=C._offset-Z;_.clipRect.call(i.setTranslate,Q,nt).call(i.setScale,1/z,1/Y),_.plot.call(i.setTranslate,H,U).call(i.setScale,z,Y),i.setPointGroupScale(_.zoomScalePts,1/z,1/Y),i.setTextPointsScale(_.zoomScaleTxt,1/z,1/Y)}r.redrawComponents(n)}},951:function(w,s,t){var a=t(73972).traceIs,f=t(4322);function e(r){return{v:"x",h:"y"}[r.orientation||"v"]}function i(r,n){var o=e(r),l=a(r,"box-violin"),u=a(r._fullInput||{},"candlestick");return l&&!u&&n===o&&r[o]===void 0&&r[o+"0"]===void 0}w.exports=function(r,n,o,l){o("autotypenumbers",l.autotypenumbersDflt),o("type",(l.splomStash||{}).type)==="-"&&(function(u,d){if(u.type==="-"){var c,h=u._id,p=h.charAt(0);h.indexOf("scene")!==-1&&(h=p);var g=function(C,S,F){for(var N=0;N<C.length;N++){var D=C[N];if(D.type==="splom"&&D._length>0&&(D["_"+F+"axes"]||{})[S]||(D[F+"axis"]||F)===S&&(i(D,F)||(D[F]||[]).length||D[F+"0"]))return D}}(d,h,p);if(g)if(g.type!=="histogram"||p!=={v:"y",h:"x"}[g.orientation||"v"]){var y=p+"calendar",b=g[y],m={noMultiCategory:!a(g,"cartesian")||a(g,"noMultiCategory")};if(g.type==="box"&&g._hasPreCompStats&&p==={h:"x",v:"y"}[g.orientation||"v"]&&(m.noMultiCategory=!0),m.autotypenumbers=u.autotypenumbers,i(g,p)){var v=e(g),x=[];for(c=0;c<d.length;c++){var _=d[c];a(_,"box-violin")&&(_[p+"axis"]||p)===h&&(_[v]!==void 0?x.push(_[v][0]):_.name!==void 0?x.push(_.name):x.push("text"),_[y]!==b&&(b=void 0))}u.type=f(x,b,m)}else if(g.type==="splom"){var T=g.dimensions[g._axesDim[h]];T.visible&&(u.type=f(T.values,b,m))}else u.type=f(g[p]||[g[p+"0"]],b,m)}else u.type="linear"}}(n,l.data),n.type==="-"?n.type="linear":r.type=n.type)}},31137:function(w,s,t){var a=t(73972),f=t(71828);function e(o,l,u){var d,c,h,p=!1;if(l.type==="data")d=o._fullData[l.traces!==null?l.traces[0]:0];else{if(l.type!=="layout")return!1;d=o._fullLayout}return c=f.nestedProperty(d,l.prop).get(),(h=u[l.type]=u[l.type]||{}).hasOwnProperty(l.prop)&&h[l.prop]!==c&&(p=!0),h[l.prop]=c,{changed:p,value:c}}function i(o,l){var u=[],d=l[0],c={};if(typeof d=="string")c[d]=l[1];else{if(!f.isPlainObject(d))return u;c=d}return n(c,function(h,p,g){u.push({type:"layout",prop:h,value:g})},"",0),u}function r(o,l){var u,d,c,h,p=[];if(d=l[0],c=l[1],u=l[2],h={},typeof d=="string")h[d]=c;else{if(!f.isPlainObject(d))return p;h=d,u===void 0&&(u=c)}return u===void 0&&(u=null),n(h,function(g,y,b){var m,v;if(Array.isArray(b)){v=b.slice();var x=Math.min(v.length,o.data.length);u&&(x=Math.min(x,u.length)),m=[];for(var _=0;_<x;_++)m[_]=u?u[_]:_}else v=b,m=u?u.slice():null;if(m===null)Array.isArray(v)&&(v=v[0]);else if(Array.isArray(m)){if(!Array.isArray(v)){var T=v;v=[];for(var C=0;C<m.length;C++)v[C]=T}v.length=Math.min(m.length,v.length)}p.push({type:"data",prop:g,traces:m,value:v})},"",0),p}function n(o,l,u,d){Object.keys(o).forEach(function(c){var h=o[c];if(c[0]!=="_"){var p=u+(d>0?".":"")+c;f.isPlainObject(h)?n(h,l,p,d+1):l(p,c,h)}})}s.manageCommandObserver=function(o,l,u,d){var c={},h=!0;l&&l._commandObserver&&(c=l._commandObserver),c.cache||(c.cache={}),c.lookupTable={};var p=s.hasSimpleAPICommandBindings(o,u,c.lookupTable);if(l&&l._commandObserver){if(p)return c;if(l._commandObserver.remove)return l._commandObserver.remove(),l._commandObserver=null,c}if(p){e(o,p,c.cache),c.check=function(){if(h){var b=e(o,p,c.cache);return b.changed&&d&&c.lookupTable[b.value]!==void 0&&(c.disable(),Promise.resolve(d({value:b.value,type:p.type,prop:p.prop,traces:p.traces,index:c.lookupTable[b.value]})).then(c.enable,c.enable)),b.changed}};for(var g=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],y=0;y<g.length;y++)o._internalOn(g[y],c.check);c.remove=function(){for(var b=0;b<g.length;b++)o._removeInternalListener(g[b],c.check)}}else f.log("Unable to automatically bind plot updates to API command"),c.lookupTable={},c.remove=function(){};return c.disable=function(){h=!1},c.enable=function(){h=!0},l&&(l._commandObserver=c),c},s.hasSimpleAPICommandBindings=function(o,l,u){var d,c,h=l.length;for(d=0;d<h;d++){var p,g=l[d],y=g.method,b=g.args;if(Array.isArray(b)||(b=[]),!y)return!1;var m=s.computeAPICommandBindings(o,y,b);if(m.length!==1)return!1;if(c){if((p=m[0]).type!==c.type||p.prop!==c.prop)return!1;if(Array.isArray(c.traces)){if(!Array.isArray(p.traces))return!1;p.traces.sort();for(var v=0;v<c.traces.length;v++)if(c.traces[v]!==p.traces[v])return!1}else if(p.prop!==c.prop)return!1}else c=m[0],Array.isArray(c.traces)&&c.traces.sort();var x=(p=m[0]).value;if(Array.isArray(x)){if(x.length!==1)return!1;x=x[0]}u&&(u[x]=d)}return c},s.executeAPICommand=function(o,l,u){if(l==="skip")return Promise.resolve();var d=a.apiMethodRegistry[l],c=[o];Array.isArray(u)||(u=[]);for(var h=0;h<u.length;h++)c.push(u[h]);return d.apply(null,c).catch(function(p){return f.warn("API call to Plotly."+l+" rejected.",p),Promise.reject(p)})},s.computeAPICommandBindings=function(o,l,u){var d;switch(Array.isArray(u)||(u=[]),l){case"restyle":d=r(o,u);break;case"relayout":d=i(0,u);break;case"update":d=r(o,[u[0],u[2]]).concat(i(0,[u[1]]));break;case"animate":d=function(c,h){return Array.isArray(h[0])&&h[0].length===1&&["string","number"].indexOf(typeof h[0][0])!==-1?[{type:"layout",prop:"_currentFrame",value:h[0][0].toString()}]:[]}(0,u);break;default:d=[]}return d}},27670:function(w,s,t){var a=t(1426).extendFlat;s.Y=function(f,e){e=e||{};var i={valType:"info_array",editType:(f=f||{}).editType,items:[{valType:"number",min:0,max:1,editType:f.editType},{valType:"number",min:0,max:1,editType:f.editType}],dflt:[0,1]},r=(f.name&&f.name,f.trace,e.description&&e.description,{x:a({},i,{}),y:a({},i,{}),editType:f.editType});return f.noGridCell||(r.row={valType:"integer",min:0,dflt:0,editType:f.editType},r.column={valType:"integer",min:0,dflt:0,editType:f.editType}),r},s.c=function(f,e,i,r){var n=r&&r.x||[0,1],o=r&&r.y||[0,1],l=e.grid;if(l){var u=i("domain.column");u!==void 0&&(u<l.columns?n=l._domains.x[u]:delete f.domain.column);var d=i("domain.row");d!==void 0&&(d<l.rows?o=l._domains.y[d]:delete f.domain.row)}var c=i("domain.x",n),h=i("domain.y",o);c[0]<c[1]||(f.domain.x=n.slice()),h[0]<h[1]||(f.domain.y=o.slice())}},41940:function(w){w.exports=function(s){var t=s.editType,a=s.colorEditType;a===void 0&&(a=t);var f={family:{valType:"string",noBlank:!0,strict:!0,editType:t},size:{valType:"number",min:1,editType:t},color:{valType:"color",editType:a},editType:t};return s.autoSize&&(f.size.dflt="auto"),s.autoColor&&(f.color.dflt="auto"),s.arrayOk&&(f.family.arrayOk=!0,f.size.arrayOk=!0,f.color.arrayOk=!0),f}},31391:function(w){w.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}},27659:function(w,s,t){var a=t(73972);t(85555).SUBPLOT_PATTERN,s.AU=function(f,e,i){var r=a.subplotsRegistry[e];if(!r)return[];for(var n=r.attr,o=[],l=0;l<f.length;l++){var u=f[l];u[0].trace[n]===i&&o.push(u)}return o},s.a0=function(f,e){var i,r=[],n=[];if(!(i=typeof e=="string"?a.getModule(e).plot:typeof e=="function"?e:e.plot))return[r,f];for(var o=0;o<f.length;o++){var l=f[o],u=l[0].trace;u.visible===!0&&u._length!==0&&(u._module.plot===i?r.push(l):n.push(l))}return[r,n]}},63538:function(w){function s(t,a){var f,e,i=[0,0,0,0];for(f=0;f<4;++f)for(e=0;e<4;++e)i[e]+=t[4*f+e]*a[f];return i}w.exports=function(t,a){return s(t.projection,s(t.view,s(t.model,[a[0],a[1],a[2],1])))}},10820:function(w,s,t){var a=t(41940),f=t(85594),e=t(22399),i=t(29241),r=t(53777),n=t(35025),o=t(1426).extendFlat,l=a({editType:"calc"});l.family.dflt='"Open Sans", verdana, arial, sans-serif',l.size.dflt=12,l.color.dflt=e.defaultLine,w.exports={font:l,title:{text:{valType:"string",editType:"layoutstyle"},font:a({editType:"layoutstyle"}),xref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},yref:{valType:"enumerated",dflt:"container",values:["container","paper"],editType:"layoutstyle"},x:{valType:"number",min:0,max:1,dflt:.5,editType:"layoutstyle"},y:{valType:"number",min:0,max:1,dflt:"auto",editType:"layoutstyle"},xanchor:{valType:"enumerated",dflt:"auto",values:["auto","left","center","right"],editType:"layoutstyle"},yanchor:{valType:"enumerated",dflt:"auto",values:["auto","top","middle","bottom"],editType:"layoutstyle"},pad:o(n({editType:"layoutstyle"}),{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},editType:"layoutstyle"},uniformtext:{mode:{valType:"enumerated",values:[!1,"hide","show"],dflt:!1,editType:"plot"},minsize:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"},autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"plot"},height:{valType:"number",min:10,dflt:450,editType:"plot"},minreducedwidth:{valType:"number",min:2,dflt:64,editType:"plot"},minreducedheight:{valType:"number",min:2,dflt:64,editType:"plot"},margin:{l:{valType:"number",min:0,dflt:80,editType:"plot"},r:{valType:"number",min:0,dflt:80,editType:"plot"},t:{valType:"number",min:0,dflt:100,editType:"plot"},b:{valType:"number",min:0,dflt:80,editType:"plot"},pad:{valType:"number",min:0,dflt:0,editType:"plot"},autoexpand:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},computed:{valType:"any",editType:"none"},paper_bgcolor:{valType:"color",dflt:e.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:e.background,editType:"layoutstyle"},autotypenumbers:{valType:"enumerated",values:["convert types","strict"],dflt:"convert types",editType:"calc"},separators:{valType:"string",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},showlegend:{valType:"boolean",editType:"legend"},colorway:{valType:"colorlist",dflt:e.defaults,editType:"calc"},datarevision:{valType:"any",editType:"calc"},uirevision:{valType:"any",editType:"none"},editrevision:{valType:"any",editType:"none"},selectionrevision:{valType:"any",editType:"none"},template:{valType:"any",editType:"calc"},newshape:i.newshape,activeshape:i.activeshape,newselection:r.newselection,activeselection:r.activeselection,meta:{valType:"any",arrayOk:!0,editType:"plot"},transition:o({},f.transition,{editType:"none"}),_deprecated:{title:{valType:"string",editType:"layoutstyle"},titlefont:a({editType:"layoutstyle"})}}},35025:function(w){w.exports=function(s){var t=s.editType;return{t:{valType:"number",dflt:0,editType:t},r:{valType:"number",dflt:0,editType:t},b:{valType:"number",dflt:0,editType:t},l:{valType:"number",dflt:0,editType:t},editType:t}}},74875:function(w,s,t){var a=t(39898),f=t(84096).Dq,e=t(60721).FF,i=t(92770),r=t(73972),n=t(86281),o=t(44467),l=t(71828),u=t(7901),d=t(50606).BADNUM,c=t(41675),h=t(51873).clearOutline,p=t(21479),g=t(85594),y=t(31391),b=t(27659).a0,m=l.relinkPrivateKeys,v=l._,x=w.exports={};l.extendFlat(x,r),x.attributes=t(9012),x.attributes.type.values=x.allTypes,x.fontAttrs=t(41940),x.layoutAttributes=t(10820),x.fontWeight="normal";var _=x.transformsRegistry,T=t(31137);x.executeAPICommand=T.executeAPICommand,x.computeAPICommandBindings=T.computeAPICommandBindings,x.manageCommandObserver=T.manageCommandObserver,x.hasSimpleAPICommandBindings=T.hasSimpleAPICommandBindings,x.redrawText=function(E){return E=l.getGraphDiv(E),new Promise(function(z){setTimeout(function(){E._fullLayout&&(r.getComponentMethod("annotations","draw")(E),r.getComponentMethod("legend","draw")(E),r.getComponentMethod("colorbar","draw")(E),z(x.previousPromises(E)))},300)})},x.resize=function(E){var z;E=l.getGraphDiv(E);var Y=new Promise(function(Q,nt){E&&!l.isHidden(E)||nt(new Error("Resize must be passed a displayed plot div element.")),E._redrawTimer&&clearTimeout(E._redrawTimer),E._resolveResize&&(z=E._resolveResize),E._resolveResize=Q,E._redrawTimer=setTimeout(function(){if(!E.layout||E.layout.width&&E.layout.height||l.isHidden(E))Q(E);else{delete E.layout.width,delete E.layout.height;var et=E.changed;E.autoplay=!0,r.call("relayout",E,{autosize:!0}).then(function(){E.changed=et,E._resolveResize===Q&&(delete E._resolveResize,Q(E))})}},100)});return z&&z(Y),Y},x.previousPromises=function(E){if((E._promises||[]).length)return Promise.all(E._promises).then(function(){E._promises=[]})},x.addLinks=function(E){if(E._context.showLink||E._context.showSources){var z=E._fullLayout,Y=l.ensureSingle(z._paper,"text","js-plot-link-container",function(U){U.style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:u.defaultLine,"pointer-events":"all"}).each(function(){var V=a.select(this);V.append("tspan").classed("js-link-to-tool",!0),V.append("tspan").classed("js-link-spacer",!0),V.append("tspan").classed("js-sourcelinks",!0)})}),Q=Y.node(),nt={y:z._paper.attr("height")-9};document.body.contains(Q)&&Q.getComputedTextLength()>=z.width-20?(nt["text-anchor"]="start",nt.x=5):(nt["text-anchor"]="end",nt.x=z._paper.attr("width")-7),Y.attr(nt);var et=Y.select(".js-link-to-tool"),Z=Y.select(".js-link-spacer"),H=Y.select(".js-sourcelinks");E._context.showSources&&E._context.showSources(E),E._context.showLink&&function(U,V){V.text("");var $=V.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(U._context.linkText+" "+String.fromCharCode(187));if(U._context.sendData)$.on("click",function(){x.sendDataToCloud(U)});else{var at=window.location.pathname.split("/"),rt=window.location.search;$.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+at[2].split(".")[0]+"/"+at[1]+rt})}}(E,et),Z.text(et.text()&&H.text()?" - ":"")}},x.sendDataToCloud=function(E){var z=(window.PLOTLYENV||{}).BASE_URL||E._context.plotlyServerURL;if(z){E.emit("plotly_beforeexport");var Y=a.select(E).append("div").attr("id","hiddenform").style("display","none"),Q=Y.append("form").attr({action:z+"/external",method:"post",target:"_blank"});return Q.append("input").attr({type:"text",name:"data"}).node().value=x.graphJson(E,!1,"keepdata"),Q.node().submit(),Y.remove(),E.emit("plotly_afterexport"),!1}};var C=["days","shortDays","months","shortMonths","periods","dateTime","date","time","decimal","thousands","grouping","currency"],S=["year","month","dayMonth","dayMonthYear"];function F(E,z){var Y=E._context.locale;Y||(Y="en-US");var Q=!1,nt={};function et(at){for(var rt=!0,ot=0;ot<z.length;ot++){var ct=z[ot];nt[ct]||(at[ct]?nt[ct]=at[ct]:rt=!1)}rt&&(Q=!0)}for(var Z=0;Z<2;Z++){for(var H=E._context.locales,U=0;U<2;U++){var V=(H[Y]||{}).format;if(V&&(et(V),Q))break;H=r.localeRegistry}var $=Y.split("-")[0];if(Q||$===Y)break;Y=$}return Q||et(r.localeRegistry.en.format),nt}function N(E,z){var Y={_fullLayout:z},Q=E._id.charAt(0)==="x",nt=E._mainAxis._anchorAxis,et="",Z="",H="";if(nt&&(H=nt._mainAxis._id,et=Q?E._id+H:H+E._id),!et||!z._plots[et]){et="";for(var U=E._counterAxes,V=0;V<U.length;V++){var $=U[V],at=Q?E._id+$:$+E._id;Z||(Z=at);var rt=c.getFromId(Y,$);if(H&&rt.overlaying===H){et=at;break}}}return et||Z}function D(E){var z=E.transforms;if(Array.isArray(z)&&z.length)for(var Y=0;Y<z.length;Y++){var Q=z[Y],nt=Q._module||_[Q.type];if(nt&&nt.makesData)return!0}return!1}function j(E,z,Y,Q){for(var nt=E.transforms,et=[E],Z=0;Z<nt.length;Z++){var H=nt[Z],U=_[H.type];U&&U.transform&&(et=U.transform(et,{transform:H,fullTrace:E,fullData:z,layout:Y,fullLayout:Q,transformIndex:Z}))}return et}function B(E){return typeof E=="string"&&E.substr(E.length-2)==="px"&&parseFloat(E)}function J(E){var z=E.margin;if(!E._size){var Y=E._size={l:Math.round(z.l),r:Math.round(z.r),t:Math.round(z.t),b:Math.round(z.b),p:Math.round(z.pad)};Y.w=Math.round(E.width)-Y.l-Y.r,Y.h=Math.round(E.height)-Y.t-Y.b}E._pushmargin||(E._pushmargin={}),E._pushmarginIds||(E._pushmarginIds={}),E._reservedMargin||(E._reservedMargin={})}x.supplyDefaults=function(E,z){var Y=z&&z.skipUpdateCalc,Q=E._fullLayout||{};if(Q._skipDefaults)delete Q._skipDefaults;else{var nt,et=E._fullLayout={},Z=E.layout||{},H=E._fullData||[],U=E._fullData=[],V=E.data||[],$=E.calcdata||[],at=E._context||{};E._transitionData||x.createTransitionData(E),et._dfltTitle={plot:v(E,"Click to enter Plot title"),x:v(E,"Click to enter X axis title"),y:v(E,"Click to enter Y axis title"),colorbar:v(E,"Click to enter Colorscale title"),annotation:v(E,"new text")},et._traceWord=v(E,"trace");var rt=F(E,C);if(et._mapboxAccessToken=at.mapboxAccessToken,Q._initialAutoSizeIsDone){var ot=Q.width,ct=Q.height;x.supplyLayoutGlobalDefaults(Z,et,rt),Z.width||(et.width=ot),Z.height||(et.height=ct),x.sanitizeMargins(et)}else{x.supplyLayoutGlobalDefaults(Z,et,rt);var ht=!Z.width||!Z.height,mt=et.autosize,kt=at.autosizable;ht&&(mt||kt)?x.plotAutoSize(E,Z,et):ht&&x.sanitizeMargins(et),!mt&&ht&&(Z.width=et.width,Z.height=et.height)}et._d3locale=function(St,Lt){return St.decimal=Lt.charAt(0),St.thousands=Lt.charAt(1),{numberFormat:function(Pt){try{Pt=e(St).format(l.adjustFormat(Pt))}catch{return l.warnBadFormat(Pt),l.noFormat}return Pt},timeFormat:f(St).utcFormat}}(rt,et.separators),et._extraFormat=F(E,S),et._initialAutoSizeIsDone=!0,et._dataLength=V.length,et._modules=[],et._visibleModules=[],et._basePlotModules=[];var Ct=et._subplots=function(){var St,Lt,Pt=r.collectableSubplotTypes,zt={};if(!Pt){Pt=[];var Xt=r.subplotsRegistry;for(var Gt in Xt){var Kt=Xt[Gt].attr;if(Kt&&(Pt.push(Gt),Array.isArray(Kt)))for(Lt=0;Lt<Kt.length;Lt++)l.pushUnique(Pt,Kt[Lt])}}for(St=0;St<Pt.length;St++)zt[Pt[St]]=[];return zt}(),It=et._splomAxes={x:{},y:{}},pt=et._splomSubplots={};et._splomGridDflt={},et._scatterStackOpts={},et._firstScatter={},et._alignmentOpts={},et._colorAxes={},et._requestRangeslider={},et._traceUids=function(St,Lt){var Pt,zt,Xt=Lt.length,Gt=[];for(Pt=0;Pt<St.length;Pt++){var Kt=St[Pt]._fullInput;Kt!==zt&&Gt.push(Kt),zt=Kt}var ie=Gt.length,de=new Array(Xt),Jt={};function Nt(Wt,he){de[he]=Wt,Jt[Wt]=1}function Vt(Wt,he){if(Wt&&typeof Wt=="string"&&!Jt[Wt])return Nt(Wt,he),!0}for(Pt=0;Pt<Xt;Pt++){var Zt=Lt[Pt].uid;typeof Zt=="number"&&(Zt=String(Zt)),Vt(Zt,Pt)||Pt<ie&&Vt(Gt[Pt].uid,Pt)||Nt(l.randstr(Jt),Pt)}return de}(H,V),et._globalTransforms=(E._context||{}).globalTransforms,x.supplyDataDefaults(V,U,Z,et);var bt=Object.keys(It.x),_t=Object.keys(It.y);if(bt.length>1&&_t.length>1){for(r.getComponentMethod("grid","sizeDefaults")(Z,et),nt=0;nt<bt.length;nt++)l.pushUnique(Ct.xaxis,bt[nt]);for(nt=0;nt<_t.length;nt++)l.pushUnique(Ct.yaxis,_t[nt]);for(var Dt in pt)l.pushUnique(Ct.cartesian,Dt)}if(et._has=x._hasPlotType.bind(et),H.length===U.length)for(nt=0;nt<U.length;nt++)m(U[nt],H[nt]);x.supplyLayoutModuleDefaults(Z,et,U,E._transitionData);var L=et._visibleModules,X=[];for(nt=0;nt<L.length;nt++){var it=L[nt].crossTraceDefaults;it&&l.pushUnique(X,it)}for(nt=0;nt<X.length;nt++)X[nt](U,et);et._hasOnlyLargeSploms=et._basePlotModules.length===1&&et._basePlotModules[0].name==="splom"&&bt.length>15&&_t.length>15&&et.shapes.length===0&&et.images.length===0,x.linkSubplots(U,et,H,Q),x.cleanPlot(U,et,H,Q);var ft=!(!Q._has||!Q._has("gl2d")),gt=!(!et._has||!et._has("gl2d")),wt=!(!Q._has||!Q._has("cartesian"))||ft,xt=!(!et._has||!et._has("cartesian"))||gt;wt&&!xt?Q._bgLayer.remove():xt&&!wt&&(et._shouldCreateBgLayer=!0),Q._zoomlayer&&!E._dragging&&h({_fullLayout:Q}),function(St,Lt){var Pt,zt=[];Lt.meta&&(Pt=Lt._meta={meta:Lt.meta,layout:{meta:Lt.meta}});for(var Xt=0;Xt<St.length;Xt++){var Gt=St[Xt];Gt.meta?zt[Gt.index]=Gt._meta={meta:Gt.meta}:Lt.meta&&(Gt._meta={meta:Lt.meta}),Lt.meta&&(Gt._meta.layout={meta:Lt.meta})}zt.length&&(Pt||(Pt=Lt._meta={}),Pt.data=zt)}(U,et),m(et,Q),r.getComponentMethod("colorscale","crossTraceDefaults")(U,et),et._preGUI||(et._preGUI={}),et._tracePreGUI||(et._tracePreGUI={});var Ft,Bt=et._tracePreGUI,Mt={};for(Ft in Bt)Mt[Ft]="old";for(nt=0;nt<U.length;nt++)Mt[Ft=U[nt]._fullInput.uid]||(Bt[Ft]={}),Mt[Ft]="new";for(Ft in Mt)Mt[Ft]==="old"&&delete Bt[Ft];J(et),r.getComponentMethod("rangeslider","makeData")(et),Y||$.length!==U.length||x.supplyDefaultsUpdateCalc($,U)}},x.supplyDefaultsUpdateCalc=function(E,z){for(var Y=0;Y<z.length;Y++){var Q=z[Y],nt=(E[Y]||[])[0];if(nt&&nt.trace){var et=nt.trace;if(et._hasCalcTransform){var Z,H,U,V=et._arrayAttrs;for(Z=0;Z<V.length;Z++)H=V[Z],U=l.nestedProperty(et,H).get().slice(),l.nestedProperty(Q,H).set(U)}nt.trace=Q}}},x.createTransitionData=function(E){E._transitionData||(E._transitionData={}),E._transitionData._frames||(E._transitionData._frames=[]),E._transitionData._frameHash||(E._transitionData._frameHash={}),E._transitionData._counter||(E._transitionData._counter=0),E._transitionData._interruptCallbacks||(E._transitionData._interruptCallbacks=[])},x._hasPlotType=function(E){var z,Y=this._basePlotModules||[];for(z=0;z<Y.length;z++)if(Y[z].name===E)return!0;var Q=this._modules||[];for(z=0;z<Q.length;z++){var nt=Q[z].name;if(nt===E)return!0;var et=r.modules[nt];if(et&&et.categories[E])return!0}return!1},x.cleanPlot=function(E,z,Y,Q){var nt,et,Z=Q._basePlotModules||[];for(nt=0;nt<Z.length;nt++){var H=Z[nt];H.clean&&H.clean(E,z,Y,Q)}var U=Q._has&&Q._has("gl"),V=z._has&&z._has("gl");U&&!V&&Q._glcontainer!==void 0&&(Q._glcontainer.selectAll(".gl-canvas").remove(),Q._glcontainer.selectAll(".no-webgl").remove(),Q._glcanvas=null);var $=!!Q._infolayer;t:for(nt=0;nt<Y.length;nt++){var at=Y[nt].uid;for(et=0;et<E.length;et++)if(at===E[et].uid)continue t;$&&Q._infolayer.select(".cb"+at).remove()}},x.linkSubplots=function(E,z,Y,Q){var nt,et,Z=Q._plots||{},H=z._plots={},U=z._subplots,V={_fullData:E,_fullLayout:z},$=U.cartesian.concat(U.gl2d||[]);for(nt=0;nt<$.length;nt++){var at,rt=$[nt],ot=Z[rt],ct=c.getFromId(V,rt,"x"),ht=c.getFromId(V,rt,"y");for(ot?at=H[rt]=ot:(at=H[rt]={}).id=rt,ct._counterAxes.push(ht._id),ht._counterAxes.push(ct._id),ct._subplotsWith.push(rt),ht._subplotsWith.push(rt),at.xaxis=ct,at.yaxis=ht,at._hasClipOnAxisFalse=!1,et=0;et<E.length;et++){var mt=E[et];if(mt.xaxis===at.xaxis._id&&mt.yaxis===at.yaxis._id&&mt.cliponaxis===!1){at._hasClipOnAxisFalse=!0;break}}}var kt,Ct=c.list(V,null,!0);for(nt=0;nt<Ct.length;nt++){var It=null;(kt=Ct[nt]).overlaying&&(It=c.getFromId(V,kt.overlaying))&&It.overlaying&&(kt.overlaying=!1,It=null),kt._mainAxis=It||kt,It&&(kt.domain=It.domain.slice()),kt._anchorAxis=kt.anchor==="free"?null:c.getFromId(V,kt.anchor)}for(nt=0;nt<Ct.length;nt++)if((kt=Ct[nt])._counterAxes.sort(c.idSort),kt._subplotsWith.sort(l.subplotSort),kt._mainSubplot=N(kt,z),kt._counterAxes.length&&(kt.spikemode&&kt.spikemode.indexOf("across")!==-1||kt.automargin&&kt.mirror&&kt.anchor!=="free"||r.getComponentMethod("rangeslider","isVisible")(kt))){var pt=1,bt=0;for(et=0;et<kt._counterAxes.length;et++){var _t=c.getFromId(V,kt._counterAxes[et]);pt=Math.min(pt,_t.domain[0]),bt=Math.max(bt,_t.domain[1])}pt<bt&&(kt._counterDomainMin=pt,kt._counterDomainMax=bt)}},x.clearExpandedTraceDefaultColors=function(E){var z,Y,Q;for(Y=[],(z=E._module._colorAttrs)||(E._module._colorAttrs=z=[],n.crawl(E._module.attributes,function(nt,et,Z,H){Y[H]=et,Y.length=H+1,nt.valType==="color"&&nt.dflt===void 0&&z.push(Y.join("."))})),Q=0;Q<z.length;Q++)l.nestedProperty(E,"_input."+z[Q]).get()||l.nestedProperty(E,z[Q]).set(null)},x.supplyDataDefaults=function(E,z,Y,Q){var nt,et,Z,H=Q._modules,U=Q._visibleModules,V=Q._basePlotModules,$=0,at=0;function rt(Dt){z.push(Dt);var L=Dt._module;L&&(l.pushUnique(H,L),Dt.visible===!0&&l.pushUnique(U,L),l.pushUnique(V,Dt._module.basePlotModule),$++,Dt._input.visible!==!1&&at++)}Q._transformModules=[];var ot={},ct=[],ht=(Y.template||{}).data||{},mt=o.traceTemplater(ht);for(nt=0;nt<E.length;nt++){if(Z=E[nt],(et=mt.newTrace(Z)).uid=Q._traceUids[nt],x.supplyTraceDefaults(Z,et,at,Q,nt),et.index=nt,et._input=Z,et._expandedIndex=$,et.transforms&&et.transforms.length)for(var kt=Z.visible!==!1&&et.visible===!1,Ct=j(et,z,Y,Q),It=0;It<Ct.length;It++){var pt=Ct[It],bt={_template:et._template,type:et.type,uid:et.uid+It};kt&&pt.visible===!1&&delete pt.visible,x.supplyTraceDefaults(pt,bt,$,Q,nt),m(bt,pt),bt.index=nt,bt._input=Z,bt._fullInput=et,bt._expandedIndex=$,bt._expandedInput=pt,rt(bt)}else et._fullInput=et,et._expandedInput=et,rt(et);r.traceIs(et,"carpetAxis")&&(ot[et.carpet]=et),r.traceIs(et,"carpetDependent")&&ct.push(nt)}for(nt=0;nt<ct.length;nt++)if((et=z[ct[nt]]).visible){var _t=ot[et.carpet];et._carpet=_t,_t&&_t.visible?(et.xaxis=_t.xaxis,et.yaxis=_t.yaxis):et.visible=!1}},x.supplyAnimationDefaults=function(E){var z;E=E||{};var Y={};function Q(nt,et){return l.coerce(E||{},Y,g,nt,et)}if(Q("mode"),Q("direction"),Q("fromcurrent"),Array.isArray(E.frame))for(Y.frame=[],z=0;z<E.frame.length;z++)Y.frame[z]=x.supplyAnimationFrameDefaults(E.frame[z]||{});else Y.frame=x.supplyAnimationFrameDefaults(E.frame||{});if(Array.isArray(E.transition))for(Y.transition=[],z=0;z<E.transition.length;z++)Y.transition[z]=x.supplyAnimationTransitionDefaults(E.transition[z]||{});else Y.transition=x.supplyAnimationTransitionDefaults(E.transition||{});return Y},x.supplyAnimationFrameDefaults=function(E){var z={};function Y(Q,nt){return l.coerce(E||{},z,g.frame,Q,nt)}return Y("duration"),Y("redraw"),z},x.supplyAnimationTransitionDefaults=function(E){var z={};function Y(Q,nt){return l.coerce(E||{},z,g.transition,Q,nt)}return Y("duration"),Y("easing"),z},x.supplyFrameDefaults=function(E){var z={};function Y(Q,nt){return l.coerce(E,z,y,Q,nt)}return Y("group"),Y("name"),Y("traces"),Y("baseframe"),Y("data"),Y("layout"),z},x.supplyTraceDefaults=function(E,z,Y,Q,nt){var et,Z=Q.colorway||u.defaults,H=Z[Y%Z.length];function U(Ct,It){return l.coerce(E,z,x.attributes,Ct,It)}var V=U("visible");U("type"),U("name",Q._traceWord+" "+nt),U("uirevision",Q.uirevision);var $=x.getModule(z);if(z._module=$,$){var at=$.basePlotModule,rt=at.attr,ot=at.attributes;if(rt&&ot){var ct=Q._subplots,ht="";if(V||at.name!=="gl2d"){if(Array.isArray(rt))for(et=0;et<rt.length;et++){var mt=rt[et],kt=l.coerce(E,z,ot,mt);ct[mt]&&l.pushUnique(ct[mt],kt),ht+=kt}else ht=l.coerce(E,z,ot,rt);ct[at.name]&&l.pushUnique(ct[at.name],ht)}}}return V&&(U("customdata"),U("ids"),U("meta"),r.traceIs(z,"showLegend")?(l.coerce(E,z,$.attributes.showlegend?$.attributes:x.attributes,"showlegend"),U("legend"),U("legendwidth"),U("legendgroup"),U("legendgrouptitle.text"),U("legendrank"),z._dfltShowLegend=!0):z._dfltShowLegend=!1,$&&$.supplyDefaults(E,z,H,Q),r.traceIs(z,"noOpacity")||U("opacity"),r.traceIs(z,"notLegendIsolatable")&&(z.visible=!!z.visible),r.traceIs(z,"noHover")||(z.hovertemplate||l.coerceHoverinfo(E,z,Q),z.type!=="parcats"&&r.getComponentMethod("fx","supplyDefaults")(E,z,H,Q)),$&&$.selectPoints&&U("selectedpoints"),x.supplyTransformDefaults(E,z,Q)),z},x.hasMakesDataTransform=D,x.supplyTransformDefaults=function(E,z,Y){if(z._length||D(E)){var Q=Y._globalTransforms||[],nt=Y._transformModules||[];if(Array.isArray(E.transforms)||Q.length!==0)for(var et=E.transforms||[],Z=Q.concat(et),H=z.transforms=[],U=0;U<Z.length;U++){var V,$=Z[U],at=$.type,rt=_[at],ot=!($._module&&$._module===rt),ct=rt&&typeof rt.transform=="function";rt||l.warn("Unrecognized transform type "+at+"."),rt&&rt.supplyDefaults&&(ot||ct)?((V=rt.supplyDefaults($,z,Y,E)).type=at,V._module=rt,l.pushUnique(nt,rt)):V=l.extendFlat({},$),H.push(V)}}},x.supplyLayoutGlobalDefaults=function(E,z,Y){function Q($,at){return l.coerce(E,z,x.layoutAttributes,$,at)}var nt=E.template;l.isPlainObject(nt)&&(z.template=nt,z._template=nt.layout,z._dataTemplate=nt.data),Q("autotypenumbers");var et=l.coerceFont(Q,"font"),Z=et.size;l.coerceFont(Q,"title.font",l.extendFlat({},et,{size:Math.round(1.4*Z)})),Q("title.text",z._dfltTitle.plot),Q("title.xref");var H=Q("title.yref");Q("title.pad.t"),Q("title.pad.r"),Q("title.pad.b"),Q("title.pad.l");var U=Q("title.automargin");Q("title.x"),Q("title.xanchor"),Q("title.y"),Q("title.yanchor"),U&&(H==="paper"&&(z.title.y!==0&&(z.title.y=1),z.title.yanchor==="auto"&&(z.title.yanchor=z.title.y===0?"top":"bottom")),H==="container"&&(z.title.y==="auto"&&(z.title.y=1),z.title.yanchor==="auto"&&(z.title.yanchor=z.title.y<.5?"bottom":"top"))),Q("uniformtext.mode")&&Q("uniformtext.minsize"),Q("autosize",!(E.width&&E.height)),Q("width"),Q("height"),Q("minreducedwidth"),Q("minreducedheight"),Q("margin.l"),Q("margin.r"),Q("margin.t"),Q("margin.b"),Q("margin.pad"),Q("margin.autoexpand"),E.width&&E.height&&x.sanitizeMargins(z),r.getComponentMethod("grid","sizeDefaults")(E,z),Q("paper_bgcolor"),Q("separators",Y.decimal+Y.thousands),Q("hidesources"),Q("colorway"),Q("datarevision");var V=Q("uirevision");Q("editrevision",V),Q("selectionrevision",V),r.getComponentMethod("modebar","supplyLayoutDefaults")(E,z),r.getComponentMethod("shapes","supplyDrawNewShapeDefaults")(E,z,Q),r.getComponentMethod("selections","supplyDrawNewSelectionDefaults")(E,z,Q),Q("meta"),l.isPlainObject(E.transition)&&(Q("transition.duration"),Q("transition.easing"),Q("transition.ordering")),r.getComponentMethod("calendars","handleDefaults")(E,z,"calendar"),r.getComponentMethod("fx","supplyLayoutGlobalDefaults")(E,z,Q),l.coerce(E,z,p,"scattermode")},x.plotAutoSize=function(E,z,Y){var Q,nt,et=E._context||{},Z=et.frameMargins,H=l.isPlotDiv(E);if(H&&E.emit("plotly_autosize"),et.fillFrame)Q=window.innerWidth,nt=window.innerHeight,document.body.style.overflow="hidden";else{var U=H?window.getComputedStyle(E):{};if(Q=B(U.width)||B(U.maxWidth)||Y.width,nt=B(U.height)||B(U.maxHeight)||Y.height,i(Z)&&Z>0){var V=1-2*Z;Q=Math.round(V*Q),nt=Math.round(V*nt)}}var $=x.layoutAttributes.width.min,at=x.layoutAttributes.height.min;Q<$&&(Q=$),nt<at&&(nt=at);var rt=!z.width&&Math.abs(Y.width-Q)>1,ot=!z.height&&Math.abs(Y.height-nt)>1;(ot||rt)&&(rt&&(Y.width=Q),ot&&(Y.height=nt)),E._initialAutoSize||(E._initialAutoSize={width:Q,height:nt}),x.sanitizeMargins(Y)},x.supplyLayoutModuleDefaults=function(E,z,Y,Q){var nt,et,Z,H=r.componentsRegistry,U=z._basePlotModules,V=r.subplotsRegistry.cartesian;for(nt in H)(Z=H[nt]).includeBasePlot&&Z.includeBasePlot(E,z);for(var $ in U.length||U.push(V),z._has("cartesian")&&(r.getComponentMethod("grid","contentDefaults")(E,z),V.finalizeSubplots(E,z)),z._subplots)z._subplots[$].sort(l.subplotSort);for(et=0;et<U.length;et++)(Z=U[et]).supplyLayoutDefaults&&Z.supplyLayoutDefaults(E,z,Y);var at=z._modules;for(et=0;et<at.length;et++)(Z=at[et]).supplyLayoutDefaults&&Z.supplyLayoutDefaults(E,z,Y);var rt=z._transformModules;for(et=0;et<rt.length;et++)(Z=rt[et]).supplyLayoutDefaults&&Z.supplyLayoutDefaults(E,z,Y,Q);for(nt in H)(Z=H[nt]).supplyLayoutDefaults&&Z.supplyLayoutDefaults(E,z,Y)},x.purge=function(E){var z=E._fullLayout||{};z._glcontainer!==void 0&&(z._glcontainer.selectAll(".gl-canvas").remove(),z._glcontainer.remove(),z._glcanvas=null),z._modeBar&&z._modeBar.destroy(),E._transitionData&&(E._transitionData._interruptCallbacks&&(E._transitionData._interruptCallbacks.length=0),E._transitionData._animationRaf&&window.cancelAnimationFrame(E._transitionData._animationRaf)),l.clearThrottle(),l.clearResponsive(E),delete E.data,delete E.layout,delete E._fullData,delete E._fullLayout,delete E.calcdata,delete E.empty,delete E.fid,delete E.undoqueue,delete E.undonum,delete E.autoplay,delete E.changed,delete E._promises,delete E._redrawTimer,delete E._hmlumcount,delete E._hmpixcount,delete E._transitionData,delete E._transitioning,delete E._initialAutoSize,delete E._transitioningWithDuration,delete E._dragging,delete E._dragged,delete E._dragdata,delete E._hoverdata,delete E._snapshotInProgress,delete E._editing,delete E._mouseDownTime,delete E._legendMouseDownTime,E.removeAllListeners&&E.removeAllListeners()},x.style=function(E){var z,Y=E._fullLayout._visibleModules,Q=[];for(z=0;z<Y.length;z++){var nt=Y[z];nt.style&&l.pushUnique(Q,nt.style)}for(z=0;z<Q.length;z++)Q[z](E)},x.sanitizeMargins=function(E){if(E&&E.margin){var z,Y=E.width,Q=E.height,nt=E.margin,et=Y-(nt.l+nt.r),Z=Q-(nt.t+nt.b);et<0&&(z=(Y-1)/(nt.l+nt.r),nt.l=Math.floor(z*nt.l),nt.r=Math.floor(z*nt.r)),Z<0&&(z=(Q-1)/(nt.t+nt.b),nt.t=Math.floor(z*nt.t),nt.b=Math.floor(z*nt.b))}},x.clearAutoMarginIds=function(E){E._fullLayout._pushmarginIds={}},x.allowAutoMargin=function(E,z){E._fullLayout._pushmarginIds[z]=1},x.autoMargin=function(E,z,Y){var Q=E._fullLayout,nt=Q.width,et=Q.height,Z=Q.margin,H=Q.minreducedwidth,U=Q.minreducedheight,V=l.constrain(nt-Z.l-Z.r,2,H),$=l.constrain(et-Z.t-Z.b,2,U),at=Math.max(0,nt-V),rt=Math.max(0,et-$),ot=Q._pushmargin,ct=Q._pushmarginIds;if(Z.autoexpand!==!1){if(Y){var ht=Y.pad;if(ht===void 0&&(ht=Math.min(12,Z.l,Z.r,Z.t,Z.b)),at){var mt=(Y.l+Y.r)/at;mt>1&&(Y.l/=mt,Y.r/=mt)}if(rt){var kt=(Y.t+Y.b)/rt;kt>1&&(Y.t/=kt,Y.b/=kt)}var Ct=Y.xl!==void 0?Y.xl:Y.x,It=Y.xr!==void 0?Y.xr:Y.x,pt=Y.yt!==void 0?Y.yt:Y.y,bt=Y.yb!==void 0?Y.yb:Y.y;ot[z]={l:{val:Ct,size:Y.l+ht},r:{val:It,size:Y.r+ht},b:{val:bt,size:Y.b+ht},t:{val:pt,size:Y.t+ht}},ct[z]=1}else delete ot[z],delete ct[z];if(!Q._replotting)return x.doAutoMargin(E)}},x.doAutoMargin=function(E){var z=E._fullLayout,Y=z.width,Q=z.height;z._size||(z._size={}),J(z);var nt=z._size,et=z.margin,Z={t:0,b:0,l:0,r:0},H=l.extendFlat({},nt),U=E._fullLayout._reservedMargin;for(var V in U)for(var $ in U[V]){var at=U[V][$];Z[$]=Math.max(Z[$],at)}var rt=et.l,ot=et.r,ct=et.t,ht=et.b,mt=z._pushmargin,kt=z._pushmarginIds,Ct=z.minreducedwidth,It=z.minreducedheight;if(z.margin.autoexpand!==!1){for(var pt in mt)kt[pt]||delete mt[pt];for(var bt in mt.base={l:{val:0,size:rt},r:{val:1,size:ot},t:{val:1,size:ct},b:{val:0,size:ht}},mt){var _t=mt[bt].l||{},Dt=mt[bt].b||{},L=_t.val,X=_t.size,it=Dt.val,ft=Dt.size,gt=Y-Z.r-Z.l,wt=Q-Z.t-Z.b;for(var xt in mt){if(i(X)&&mt[xt].r){var Ft=mt[xt].r.val,Bt=mt[xt].r.size;if(Ft>L){var Mt=(X*Ft+(Bt-gt)*L)/(Ft-L),St=(Bt*(1-L)+(X-gt)*(1-Ft))/(Ft-L);Mt+St>rt+ot&&(rt=Mt,ot=St)}}if(i(ft)&&mt[xt].t){var Lt=mt[xt].t.val,Pt=mt[xt].t.size;if(Lt>it){var zt=(ft*Lt+(Pt-wt)*it)/(Lt-it),Xt=(Pt*(1-it)+(ft-wt)*(1-Lt))/(Lt-it);zt+Xt>ht+ct&&(ht=zt,ct=Xt)}}}}}var Gt=l.constrain(Y-et.l-et.r,2,Ct),Kt=l.constrain(Q-et.t-et.b,2,It),ie=Math.max(0,Y-Gt),de=Math.max(0,Q-Kt);if(ie){var Jt=(rt+ot)/ie;Jt>1&&(rt/=Jt,ot/=Jt)}if(de){var Nt=(ht+ct)/de;Nt>1&&(ht/=Nt,ct/=Nt)}if(nt.l=Math.round(rt)+Z.l,nt.r=Math.round(ot)+Z.r,nt.t=Math.round(ct)+Z.t,nt.b=Math.round(ht)+Z.b,nt.p=Math.round(et.pad),nt.w=Math.round(Y)-nt.l-nt.r,nt.h=Math.round(Q)-nt.t-nt.b,!z._replotting&&(x.didMarginChange(H,nt)||function(Zt){if("_redrawFromAutoMarginCount"in Zt._fullLayout)return!1;var Wt=c.list(Zt,"",!0);for(var he in Wt)if(Wt[he].autoshift||Wt[he].shift)return!0;return!1}(E))){"_redrawFromAutoMarginCount"in z?z._redrawFromAutoMarginCount++:z._redrawFromAutoMarginCount=1;var Vt=3*(1+Object.keys(kt).length);if(z._redrawFromAutoMarginCount<Vt)return r.call("_doPlot",E);z._size=H,l.warn("Too many auto-margin redraws.")}(function(Zt){var Wt=c.list(Zt,"",!0);["_adjustTickLabelsOverflow","_hideCounterAxisInsideTickLabels"].forEach(function(he){for(var $t=0;$t<Wt.length;$t++){var ye=Wt[$t][he];ye&&ye()}})})(E)};var P=["l","r","t","b","p","w","h"];function M(E,z,Y){var Q=!1,nt=[x.previousPromises,function(){if(E._transitionData)return E._transitioning=!1,function(Z){var H=Promise.resolve();if(!Z)return H;for(;Z.length;)H=H.then(Z.shift());return H}(E._transitionData._interruptCallbacks)},Y.prepareFn,x.rehover,x.reselect,function(){return E.emit("plotly_transitioning",[]),new Promise(function(Z){E._transitioning=!0,z.duration>0&&(E._transitioningWithDuration=!0),E._transitionData._interruptCallbacks.push(function(){Q=!0}),Y.redraw&&E._transitionData._interruptCallbacks.push(function(){return r.call("redraw",E)}),E._transitionData._interruptCallbacks.push(function(){E.emit("plotly_transitioninterrupted",[])});var H=0,U=0;function V(){return H++,function(){var $;U++,Q||U!==H||($=Z,E._transitionData&&(function(at){if(at)for(;at.length;)at.shift()}(E._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(Y.redraw)return r.call("redraw",E)}).then(function(){E._transitioning=!1,E._transitioningWithDuration=!1,E.emit("plotly_transitioned",[])}).then($)))}}Y.runFn(V),setTimeout(V())})}],et=l.syncOrAsync(nt,E);return et&&et.then||(et=Promise.resolve()),et.then(function(){return E})}x.didMarginChange=function(E,z){for(var Y=0;Y<P.length;Y++){var Q=P[Y],nt=E[Q],et=z[Q];if(!i(nt)||Math.abs(et-nt)>1)return!0}return!1},x.graphJson=function(E,z,Y,Q,nt,et){(nt&&z&&!E._fullData||nt&&!z&&!E._fullLayout)&&x.supplyDefaults(E);var Z=nt?E._fullData:E.data,H=nt?E._fullLayout:E.layout,U=(E._transitionData||{})._frames;function V(rt,ot){if(typeof rt=="function")return ot?"_function_":null;if(l.isPlainObject(rt)){var ct,ht={};return Object.keys(rt).sort().forEach(function(mt){if(["_","["].indexOf(mt.charAt(0))===-1)if(typeof rt[mt]!="function"){if(Y==="keepdata"){if(mt.substr(mt.length-3)==="src")return}else if(Y==="keepstream"){if(typeof(ct=rt[mt+"src"])=="string"&&ct.indexOf(":")>0&&!l.isPlainObject(rt.stream))return}else if(Y!=="keepall"&&typeof(ct=rt[mt+"src"])=="string"&&ct.indexOf(":")>0)return;ht[mt]=V(rt[mt],ot)}else ot&&(ht[mt]="_function")}),ht}return Array.isArray(rt)?rt.map(function(mt){return V(mt,ot)}):l.isTypedArray(rt)?l.simpleMap(rt,l.identity):l.isJSDate(rt)?l.ms2DateTimeLocal(+rt):rt}var $={data:(Z||[]).map(function(rt){var ot=V(rt);return z&&delete ot.fit,ot})};if(!z&&($.layout=V(H),nt)){var at=H._size;$.layout.computed={margin:{b:at.b,l:at.l,r:at.r,t:at.t}}}return U&&($.frames=V(U)),et&&($.config=V(E._context,!0)),Q==="object"?$:JSON.stringify($)},x.modifyFrames=function(E,z){var Y,Q,nt,et=E._transitionData._frames,Z=E._transitionData._frameHash;for(Y=0;Y<z.length;Y++)switch((Q=z[Y]).type){case"replace":nt=Q.value;var H=(et[Q.index]||{}).name,U=nt.name;et[Q.index]=Z[U]=nt,U!==H&&(delete Z[H],Z[U]=nt);break;case"insert":Z[(nt=Q.value).name]=nt,et.splice(Q.index,0,nt);break;case"delete":delete Z[(nt=et[Q.index]).name],et.splice(Q.index,1)}return Promise.resolve()},x.computeFrame=function(E,z){var Y,Q,nt,et,Z=E._transitionData._frameHash;if(!z)throw new Error("computeFrame must be given a string frame name");var H=Z[z.toString()];if(!H)return!1;for(var U=[H],V=[H.name];H.baseframe&&(H=Z[H.baseframe.toString()])&&V.indexOf(H.name)===-1;)U.push(H),V.push(H.name);for(var $={};H=U.pop();)if(H.layout&&($.layout=x.extendLayout($.layout,H.layout)),H.data){if($.data||($.data=[]),!(Q=H.traces))for(Q=[],Y=0;Y<H.data.length;Y++)Q[Y]=Y;for($.traces||($.traces=[]),Y=0;Y<H.data.length;Y++)(nt=Q[Y])!=null&&((et=$.traces.indexOf(nt))===-1&&(et=$.data.length,$.traces[et]=nt),$.data[et]=x.extendTrace($.data[et],H.data[Y]))}return $},x.recomputeFrameHash=function(E){for(var z=E._transitionData._frameHash={},Y=E._transitionData._frames,Q=0;Q<Y.length;Q++){var nt=Y[Q];nt&&nt.name&&(z[nt.name]=nt)}},x.extendObjectWithContainers=function(E,z,Y){var Q,nt,et,Z,H,U,V,$=l.extendDeepNoArrays({},z||{}),at=l.expandObjectPaths($),rt={};if(Y&&Y.length)for(et=0;et<Y.length;et++)(nt=(Q=l.nestedProperty(at,Y[et])).get())===void 0?l.nestedProperty(rt,Y[et]).set(null):(Q.set(null),l.nestedProperty(rt,Y[et]).set(nt));if(E=l.extendDeepNoArrays(E||{},at),Y&&Y.length){for(et=0;et<Y.length;et++)if(U=l.nestedProperty(rt,Y[et]).get()){for(V=(H=l.nestedProperty(E,Y[et])).get(),Array.isArray(V)||(V=[],H.set(V)),Z=0;Z<U.length;Z++){var ot=U[Z];V[Z]=ot===null?null:x.extendObjectWithContainers(V[Z],ot)}H.set(V)}}return E},x.dataArrayContainers=["transforms","dimensions"],x.layoutArrayContainers=r.layoutArrayContainers,x.extendTrace=function(E,z){return x.extendObjectWithContainers(E,z,x.dataArrayContainers)},x.extendLayout=function(E,z){return x.extendObjectWithContainers(E,z,x.layoutArrayContainers)},x.transition=function(E,z,Y,Q,nt,et){var Z={redraw:nt.redraw},H={},U=[];return Z.prepareFn=function(){for(var V=Array.isArray(z)?z.length:0,$=Q.slice(0,V),at=0;at<$.length;at++){var rt=$[at],ot=E._fullData[rt]._module;if(ot){if(ot.animatable){var ct=ot.basePlotModule.name;H[ct]||(H[ct]=[]),H[ct].push(rt)}E.data[$[at]]=x.extendTrace(E.data[$[at]],z[at])}}var ht=l.expandObjectPaths(l.extendDeepNoArrays({},Y)),mt=/^[xy]axis[0-9]*$/;for(var kt in ht)mt.test(kt)&&delete ht[kt].range;x.extendLayout(E.layout,ht),delete E.calcdata,x.supplyDefaults(E),x.doCalcdata(E);var Ct=l.expandObjectPaths(Y);if(Ct){var It=E._fullLayout._plots;for(var pt in It){var bt=It[pt],_t=bt.xaxis,Dt=bt.yaxis,L=_t.range.slice(),X=Dt.range.slice(),it=null,ft=null,gt=null,wt=null;Array.isArray(Ct[_t._name+".range"])?it=Ct[_t._name+".range"].slice():Array.isArray((Ct[_t._name]||{}).range)&&(it=Ct[_t._name].range.slice()),Array.isArray(Ct[Dt._name+".range"])?ft=Ct[Dt._name+".range"].slice():Array.isArray((Ct[Dt._name]||{}).range)&&(ft=Ct[Dt._name].range.slice()),L&&it&&(_t.r2l(L[0])!==_t.r2l(it[0])||_t.r2l(L[1])!==_t.r2l(it[1]))&&(gt={xr0:L,xr1:it}),X&&ft&&(Dt.r2l(X[0])!==Dt.r2l(ft[0])||Dt.r2l(X[1])!==Dt.r2l(ft[1]))&&(wt={yr0:X,yr1:ft}),(gt||wt)&&U.push(l.extendFlat({plotinfo:bt},gt,wt))}}return Promise.resolve()},Z.runFn=function(V){var $,at,rt=E._fullLayout._basePlotModules,ot=U.length;if(Y)for(at=0;at<rt.length;at++)rt[at].transitionAxes&&rt[at].transitionAxes(E,U,et,V);for(var ct in ot?(($=l.extendFlat({},et)).duration=0,delete H.cartesian):$=et,H){var ht=H[ct];E._fullData[ht[0]]._module.basePlotModule.plot(E,ht,$,V)}},M(E,et,Z)},x.transitionFromReact=function(E,z,Y,Q){var nt=E._fullLayout,et=nt.transition,Z={},H=[];return Z.prepareFn=function(){var U=nt._plots;for(var V in Z.redraw=!1,z.anim==="some"&&(Z.redraw=!0),Y.anim==="some"&&(Z.redraw=!0),U){var $=U[V],at=$.xaxis,rt=$.yaxis,ot=Q[at._name].range.slice(),ct=Q[rt._name].range.slice(),ht=at.range.slice(),mt=rt.range.slice();at.setScale(),rt.setScale();var kt=null,Ct=null;at.r2l(ot[0])===at.r2l(ht[0])&&at.r2l(ot[1])===at.r2l(ht[1])||(kt={xr0:ot,xr1:ht}),rt.r2l(ct[0])===rt.r2l(mt[0])&&rt.r2l(ct[1])===rt.r2l(mt[1])||(Ct={yr0:ct,yr1:mt}),(kt||Ct)&&H.push(l.extendFlat({plotinfo:$},kt,Ct))}return Promise.resolve()},Z.runFn=function(U){for(var V,$,at,rt=E._fullData,ot=E._fullLayout._basePlotModules,ct=[],ht=0;ht<rt.length;ht++)ct.push(ht);function mt(){if(E._fullLayout)for(var Ct=0;Ct<ot.length;Ct++)ot[Ct].transitionAxes&&ot[Ct].transitionAxes(E,H,V,U)}function kt(){if(E._fullLayout)for(var Ct=0;Ct<ot.length;Ct++)ot[Ct].plot(E,at,$,U)}H.length&&z.anim?et.ordering==="traces first"?(V=l.extendFlat({},et,{duration:0}),at=ct,$=et,setTimeout(mt,et.duration),kt()):(V=et,at=null,$=l.extendFlat({},et,{duration:0}),setTimeout(kt,V.duration),mt()):H.length?(V=et,mt()):z.anim&&(at=ct,$=et,kt())},M(E,et,Z)},x.doCalcdata=function(E,z){var Y,Q,nt,et,Z=c.list(E),H=E._fullData,U=E._fullLayout,V=new Array(H.length),$=(E.calcdata||[]).slice();for(E.calcdata=V,U._numBoxes=0,U._numViolins=0,U._violinScaleGroupStats={},E._hmpixcount=0,E._hmlumcount=0,U._piecolormap={},U._sunburstcolormap={},U._treemapcolormap={},U._iciclecolormap={},U._funnelareacolormap={},nt=0;nt<H.length;nt++)Array.isArray(z)&&z.indexOf(nt)===-1&&(V[nt]=$[nt]);for(nt=0;nt<H.length;nt++)(Y=H[nt])._arrayAttrs=n.findArrayAttributes(Y),Y._extremes={};var at=U._subplots.polar||[];for(nt=0;nt<at.length;nt++)Z.push(U[at[nt]].radialaxis,U[at[nt]].angularaxis);for(var rt in U._colorAxes){var ot=U[rt];ot.cauto!==!1&&(delete ot.cmin,delete ot.cmax)}var ct=!1;function ht(Ct){if(Y=H[Ct],Q=Y._module,Y.visible===!0&&Y.transforms){if(Q&&Q.calc){var It=Q.calc(E,Y);It[0]&&It[0].t&&It[0].t._scene&&delete It[0].t._scene.dirty}for(et=0;et<Y.transforms.length;et++){var pt=Y.transforms[et];(Q=_[pt.type])&&Q.calcTransform&&(Y._hasCalcTransform=!0,ct=!0,Q.calcTransform(E,Y,pt))}}}function mt(Ct,It){if(Y=H[Ct],!!(Q=Y._module).isContainer===It){var pt=[];if(Y.visible===!0&&Y._length!==0){delete Y._indexToPoints;var bt=Y.transforms||[];for(et=bt.length-1;et>=0;et--)if(bt[et].enabled){Y._indexToPoints=bt[et]._indexToPoints;break}Q&&Q.calc&&(pt=Q.calc(E,Y))}Array.isArray(pt)&&pt[0]||(pt=[{x:d,y:d}]),pt[0].t||(pt[0].t={}),pt[0].trace=Y,V[Ct]=pt}}for(q(Z,H,U),nt=0;nt<H.length;nt++)mt(nt,!0);for(nt=0;nt<H.length;nt++)ht(nt);for(ct&&q(Z,H,U),nt=0;nt<H.length;nt++)mt(nt,!0);for(nt=0;nt<H.length;nt++)mt(nt,!1);tt(E);var kt=function(Ct,It){var pt,bt,_t,Dt,L,X=[];function it(ye,se,Pe){var Ce=se._id.charAt(0);if(ye==="histogram2dcontour"){var Ne=se._counterAxes[0],yt=c.getFromId(It,Ne),vt=Ce==="x"||Ne==="x"&&yt.type==="category",Rt=Ce==="y"||Ne==="y"&&yt.type==="category";return function(Ut,Ht){return Ut===0||Ht===0||vt&&Ut===Pe[Ht].length-1||Rt&&Ht===Pe.length-1?-1:(Ce==="y"?Ht:Ut)-1}}return function(Ut,Ht){return Ce==="y"?Ht:Ut}}var ft={min:function(ye){return l.aggNums(Math.min,null,ye)},max:function(ye){return l.aggNums(Math.max,null,ye)},sum:function(ye){return l.aggNums(function(se,Pe){return se+Pe},null,ye)},total:function(ye){return l.aggNums(function(se,Pe){return se+Pe},null,ye)},mean:function(ye){return l.mean(ye)},median:function(ye){return l.median(ye)}};for(pt=0;pt<Ct.length;pt++){var gt=Ct[pt];if(gt.type==="category"){var wt=gt.categoryorder.match(O);if(wt){var xt=wt[1],Ft=wt[2],Bt=gt._id.charAt(0),Mt=Bt==="x",St=[];for(bt=0;bt<gt._categories.length;bt++)St.push([gt._categories[bt],[]]);for(bt=0;bt<gt._traceIndices.length;bt++){var Lt=gt._traceIndices[bt],Pt=It._fullData[Lt];if(Pt.visible===!0){var zt=Pt.type;r.traceIs(Pt,"histogram")&&(delete Pt._xautoBinFinished,delete Pt._yautoBinFinished);var Xt=zt==="splom",Gt=zt==="scattergl",Kt=It.calcdata[Lt];for(_t=0;_t<Kt.length;_t++){var ie,de,Jt=Kt[_t];if(Xt){var Nt=Pt._axesDim[gt._id];if(!Mt){var Vt=Pt._diag[Nt][0];Vt&&(gt=It._fullLayout[c.id2name(Vt)])}var Zt=Jt.trace.dimensions[Nt].values;for(Dt=0;Dt<Zt.length;Dt++)for(ie=gt._categoriesMap[Zt[Dt]],L=0;L<Jt.trace.dimensions.length;L++)if(L!==Nt){var Wt=Jt.trace.dimensions[L];St[ie][1].push(Wt.values[Dt])}}else if(Gt){for(Dt=0;Dt<Jt.t.x.length;Dt++)Mt?(ie=Jt.t.x[Dt],de=Jt.t.y[Dt]):(ie=Jt.t.y[Dt],de=Jt.t.x[Dt]),St[ie][1].push(de);Jt.t&&Jt.t._scene&&delete Jt.t._scene.dirty}else if(Jt.hasOwnProperty("z")){de=Jt.z;var he=it(Pt.type,gt,de);for(Dt=0;Dt<de.length;Dt++)for(L=0;L<de[Dt].length;L++)(ie=he(L,Dt))+1&&St[ie][1].push(de[Dt][L])}else for((ie=Jt.p)===void 0&&(ie=Jt[Bt]),(de=Jt.s)===void 0&&(de=Jt.v),de===void 0&&(de=Mt?Jt.y:Jt.x),Array.isArray(de)||(de=de===void 0?[]:[de]),Dt=0;Dt<de.length;Dt++)St[ie][1].push(de[Dt])}}}gt._categoriesValue=St;var $t=[];for(bt=0;bt<St.length;bt++)$t.push([St[bt][0],ft[xt](St[bt][1])]);$t.sort(function(ye,se){return ye[1]-se[1]}),gt._categoriesAggregatedValue=$t,gt._initialCategories=$t.map(function(ye){return ye[0]}),Ft==="descending"&&gt._initialCategories.reverse(),X=X.concat(gt.sortByInitialCategories())}}}return X}(Z,E);if(kt.length){for(U._numBoxes=0,U._numViolins=0,nt=0;nt<kt.length;nt++)mt(kt[nt],!0);for(nt=0;nt<kt.length;nt++)mt(kt[nt],!1);tt(E)}r.getComponentMethod("fx","calc")(E),r.getComponentMethod("errorbars","calc")(E)};var O=/(total|sum|min|max|mean|median) (ascending|descending)/;function q(E,z,Y){var Q={};function nt(U){U.clearCalc(),U.type==="multicategory"&&U.setupMultiCategory(z),Q[U._id]=1}l.simpleMap(E,nt);for(var et=Y._axisMatchGroups||[],Z=0;Z<et.length;Z++)for(var H in et[Z])Q[H]||nt(Y[c.id2name(H)])}function tt(E){var z,Y,Q,nt=E._fullLayout,et=nt._visibleModules,Z={};for(Y=0;Y<et.length;Y++){var H=et[Y],U=H.crossTraceCalc;if(U){var V=H.basePlotModule.name;Z[V]?l.pushUnique(Z[V],U):Z[V]=[U]}}for(Q in Z){var $=Z[Q],at=nt._subplots[Q];if(Array.isArray(at))for(z=0;z<at.length;z++){var rt=at[z],ot=Q==="cartesian"?nt._plots[rt]:nt[rt];for(Y=0;Y<$.length;Y++)$[Y](E,ot,rt)}else for(Y=0;Y<$.length;Y++)$[Y](E)}}x.rehover=function(E){E._fullLayout._rehover&&E._fullLayout._rehover()},x.redrag=function(E){E._fullLayout._redrag&&E._fullLayout._redrag()},x.reselect=function(E){var z=E._fullLayout,Y=(E.layout||{}).selections,Q=z._previousSelections;z._previousSelections=Y;var nt=z._reselect||JSON.stringify(Y)!==JSON.stringify(Q);r.getComponentMethod("selections","reselect")(E,nt)},x.generalUpdatePerTraceModule=function(E,z,Y,Q){var nt,et=z.traceHash,Z={};for(nt=0;nt<Y.length;nt++){var H=Y[nt],U=H[0].trace;U.visible&&(Z[U.type]=Z[U.type]||[],Z[U.type].push(H))}for(var V in et)if(!Z[V]){var $=et[V][0];$[0].trace.visible=!1,Z[V]=[$]}for(var at in Z){var rt=Z[at];rt[0][0].trace._module.plot(E,z,l.filterVisible(rt),Q)}z.traceHash=Z},x.plotBasePlot=function(E,z,Y,Q,nt){var et=r.getModule(E),Z=b(z.calcdata,et)[0];et.plot(z,Z,Q,nt)},x.cleanBasePlot=function(E,z,Y,Q,nt){var et=nt._has&&nt._has(E),Z=Y._has&&Y._has(E);et&&!Z&&nt["_"+E+"layer"].selectAll("g.trace").remove()}},49119:function(w,s,t){var a=t(71828),f=t(44467),e=t(27670).c;w.exports=function(i,r,n,o){var l,u,d=o.type,c=o.attributes,h=o.handleDefaults,p=o.partition||"x",g=r._subplots[d],y=g.length,b=y&&g[0].replace(/\d+$/,"");function m(T,C){return a.coerce(l,u,c,T,C)}for(var v=0;v<y;v++){var x=g[v];l=i[x]?i[x]:i[x]={},u=f.newContainer(r,x,b),o.noUirevision||m("uirevision",r.uirevision);var _={};_[p]=[v/y,(v+1)/y],e(u,r,m,_),o.id=x,h(l,u,m,o)}}},5386:function(w,s,t){var a=t(31562);function f(e){var i=e.description?" "+e.description:"",r=e.keys||[];if(r.length>0){for(var n=[],o=0;o<r.length;o++)n[o]="`"+r[o]+"`";i+="Finally, the template string has access to ",i=r.length===1?i+"variable "+n[0]:i+"variables "+n.slice(0,-1).join(", ")+" and "+n.slice(-1)+"."}return i}a.FORMAT_LINK,a.DATE_FORMAT_LINK,s.fF=function(e,i){e=e||{},f(i=i||{});var r={valType:"string",dflt:"",editType:e.editType||"none"};return e.arrayOk!==!1&&(r.arrayOk=!0),r},s.si=function(e,i){e=e||{},f(i=i||{});var r={valType:"string",dflt:"",editType:e.editType||"calc"};return e.arrayOk!==!1&&(r.arrayOk=!0),r},s.R=function(e,i){return i=i||{},(e=e||{}).newshape,f(i),{valType:"string",dflt:"",editType:e.editType||"arraydraw"}}},61639:function(w,s,t){var a=t(64380),f=t(27659).AU,e=t(71828).counterRegex,i="ternary";s.name=i;var r=s.attr="subplot";s.idRoot=i,s.idRegex=s.attrRegex=e(i),(s.attributes={})[r]={valType:"subplotid",dflt:"ternary",editType:"calc"},s.layoutAttributes=t(81367),s.supplyLayoutDefaults=t(25369),s.plot=function(n){for(var o=n._fullLayout,l=n.calcdata,u=o._subplots.ternary,d=0;d<u.length;d++){var c=u[d],h=f(l,i,c),p=o[c]._subplot;p||(p=new a({id:c,graphDiv:n,container:o._ternarylayer.node()},o),o[c]._subplot=p),p.plot(h,o,n._promises)}},s.clean=function(n,o,l,u){for(var d=u._subplots.ternary||[],c=0;c<d.length;c++){var h=d[c],p=u[h]._subplot;!o[h]&&p&&(p.plotContainer.remove(),p.clipDef.remove(),p.clipDefRelative.remove(),p.layers["a-title"].remove(),p.layers["b-title"].remove(),p.layers["c-title"].remove())}}},81367:function(w,s,t){var a=t(22399),f=t(27670).Y,e=t(13838),i=t(30962).overrideAll,r=t(1426).extendFlat,n={title:{text:e.title.text,font:e.title.font},color:e.color,tickmode:e.minor.tickmode,nticks:r({},e.nticks,{dflt:6,min:1}),tick0:e.tick0,dtick:e.dtick,tickvals:e.tickvals,ticktext:e.ticktext,ticks:e.ticks,ticklen:e.ticklen,tickwidth:e.tickwidth,tickcolor:e.tickcolor,ticklabelstep:e.ticklabelstep,showticklabels:e.showticklabels,labelalias:e.labelalias,showtickprefix:e.showtickprefix,tickprefix:e.tickprefix,showticksuffix:e.showticksuffix,ticksuffix:e.ticksuffix,showexponent:e.showexponent,exponentformat:e.exponentformat,minexponent:e.minexponent,separatethousands:e.separatethousands,tickfont:e.tickfont,tickangle:e.tickangle,tickformat:e.tickformat,tickformatstops:e.tickformatstops,hoverformat:e.hoverformat,showline:r({},e.showline,{dflt:!0}),linecolor:e.linecolor,linewidth:e.linewidth,showgrid:r({},e.showgrid,{dflt:!0}),gridcolor:e.gridcolor,gridwidth:e.gridwidth,griddash:e.griddash,layer:e.layer,min:{valType:"number",dflt:0,min:0},_deprecated:{title:e._deprecated.title,titlefont:e._deprecated.titlefont}},o=w.exports=i({domain:f({name:"ternary"}),bgcolor:{valType:"color",dflt:a.background},sum:{valType:"number",dflt:1,min:0},aaxis:n,baxis:n,caxis:n},"plot","from-root");o.uirevision={valType:"any",editType:"none"},o.aaxis.uirevision=o.baxis.uirevision=o.caxis.uirevision={valType:"any",editType:"none"}},25369:function(w,s,t){var a=t(7901),f=t(44467),e=t(71828),i=t(49119),r=t(96115),n=t(89426),o=t(38701),l=t(26218),u=t(92128),d=t(81367),c=["aaxis","baxis","caxis"];function h(g,y,b,m){var v,x,_,T=b("bgcolor"),C=b("sum");m.bgColor=a.combine(T,m.paper_bgcolor);for(var S=0;S<c.length;S++)x=g[v=c[S]]||{},(_=f.newContainer(y,v))._name=v,p(x,_,m,y);var F=y.aaxis,N=y.baxis,D=y.caxis;F.min+N.min+D.min>=C&&(F.min=0,N.min=0,D.min=0,g.aaxis&&delete g.aaxis.min,g.baxis&&delete g.baxis.min,g.caxis&&delete g.caxis.min)}function p(g,y,b,m){var v=d[y._name];function x(N,D){return e.coerce(g,y,v,N,D)}x("uirevision",m.uirevision),y.type="linear";var _=x("color"),T=_!==v.color.dflt?_:b.font.color,C=y._name.charAt(0).toUpperCase(),S="Component "+C,F=x("title.text",S);y._hovertitle=F===S?F:C,e.coerceFont(x,"title.font",{family:b.font.family,size:e.bigFont(b.font.size),color:T}),x("min"),l(g,y,x,"linear"),n(g,y,x,"linear"),r(g,y,x,"linear"),o(g,y,x,{outerTicks:!0}),x("showticklabels")&&(e.coerceFont(x,"tickfont",{family:b.font.family,size:b.font.size,color:T}),x("tickangle"),x("tickformat")),u(g,y,x,{dfltColor:_,bgColor:b.bgColor,blend:60,showLine:!0,showGrid:!0,noZeroLine:!0,attributes:v}),x("hoverformat"),x("layer")}w.exports=function(g,y,b){i(g,y,b,{type:"ternary",attributes:d,handleDefaults:h,font:y.font,paper_bgcolor:y.paper_bgcolor})}},64380:function(w,s,t){var a=t(39898),f=t(84267),e=t(73972),i=t(71828),r=i.strTranslate,n=i._,o=t(7901),l=t(91424),u=t(21994),d=t(1426).extendFlat,c=t(74875),h=t(89298),p=t(28569),g=t(30211),y=t(64505),b=y.freeMode,m=y.rectMode,v=t(92998),x=t(47322).prepSelect,_=t(47322).selectOnClick,T=t(47322).clearOutline,C=t(47322).clearSelectionsCache,S=t(85555);function F(q,tt){this.id=q.id,this.graphDiv=q.graphDiv,this.init(tt),this.makeFramework(tt),this.aTickLayout=null,this.bTickLayout=null,this.cTickLayout=null}w.exports=F;var N=F.prototype;N.init=function(q){this.container=q._ternarylayer,this.defs=q._defs,this.layoutId=q._uid,this.traceHash={},this.layers={}},N.plot=function(q,tt){var E=this,z=tt[E.id],Y=tt._size;E._hasClipOnAxisFalse=!1;for(var Q=0;Q<q.length;Q++)if(q[Q][0].trace.cliponaxis===!1){E._hasClipOnAxisFalse=!0;break}E.updateLayers(z),E.adjustLayout(z,Y),c.generalUpdatePerTraceModule(E.graphDiv,E,q,z),E.layers.plotbg.select("path").call(o.fill,z.bgcolor)},N.makeFramework=function(q){var tt=this,E=tt.graphDiv,z=q[tt.id],Y=tt.clipId="clip"+tt.layoutId+tt.id,Q=tt.clipIdRelative="clip-relative"+tt.layoutId+tt.id;tt.clipDef=i.ensureSingleById(q._clips,"clipPath",Y,function(nt){nt.append("path").attr("d","M0,0Z")}),tt.clipDefRelative=i.ensureSingleById(q._clips,"clipPath",Q,function(nt){nt.append("path").attr("d","M0,0Z")}),tt.plotContainer=i.ensureSingle(tt.container,"g",tt.id),tt.updateLayers(z),l.setClipUrl(tt.layers.backplot,Y,E),l.setClipUrl(tt.layers.grids,Y,E)},N.updateLayers=function(q){var tt=this.layers,E=["draglayer","plotbg","backplot","grids"];q.aaxis.layer==="below traces"&&E.push("aaxis","aline"),q.baxis.layer==="below traces"&&E.push("baxis","bline"),q.caxis.layer==="below traces"&&E.push("caxis","cline"),E.push("frontplot"),q.aaxis.layer==="above traces"&&E.push("aaxis","aline"),q.baxis.layer==="above traces"&&E.push("baxis","bline"),q.caxis.layer==="above traces"&&E.push("caxis","cline");var z=this.plotContainer.selectAll("g.toplevel").data(E,String),Y=["agrid","bgrid","cgrid"];z.enter().append("g").attr("class",function(Q){return"toplevel "+Q}).each(function(Q){var nt=a.select(this);tt[Q]=nt,Q==="frontplot"?nt.append("g").classed("scatterlayer",!0):Q==="backplot"?nt.append("g").classed("maplayer",!0):Q==="plotbg"?nt.append("path").attr("d","M0,0Z"):Q==="aline"||Q==="bline"||Q==="cline"?nt.append("path"):Q==="grids"&&Y.forEach(function(et){tt[et]=nt.append("g").classed("grid "+et,!0)})}),z.order()};var D=Math.sqrt(4/3);N.adjustLayout=function(q,tt){var E,z,Y,Q,nt,et,Z=this,H=q.domain,U=(H.x[0]+H.x[1])/2,V=(H.y[0]+H.y[1])/2,$=H.x[1]-H.x[0],at=H.y[1]-H.y[0],rt=$*tt.w,ot=at*tt.h,ct=q.sum,ht=q.aaxis.min,mt=q.baxis.min,kt=q.caxis.min;rt>D*ot?Y=(Q=ot)*D:Q=(Y=rt)/D,nt=$*Y/rt,et=at*Q/ot,E=tt.l+tt.w*U-Y/2,z=tt.t+tt.h*(1-V)-Q/2,Z.x0=E,Z.y0=z,Z.w=Y,Z.h=Q,Z.sum=ct,Z.xaxis={type:"linear",range:[ht+2*kt-ct,ct-ht-2*mt],domain:[U-nt/2,U+nt/2],_id:"x"},u(Z.xaxis,Z.graphDiv._fullLayout),Z.xaxis.setScale(),Z.xaxis.isPtWithinRange=function(gt){return gt.a>=Z.aaxis.range[0]&&gt.a<=Z.aaxis.range[1]&&gt.b>=Z.baxis.range[1]&&gt.b<=Z.baxis.range[0]&&gt.c>=Z.caxis.range[1]&&gt.c<=Z.caxis.range[0]},Z.yaxis={type:"linear",range:[ht,ct-mt-kt],domain:[V-et/2,V+et/2],_id:"y"},u(Z.yaxis,Z.graphDiv._fullLayout),Z.yaxis.setScale(),Z.yaxis.isPtWithinRange=function(){return!0};var Ct=Z.yaxis.domain[0],It=Z.aaxis=d({},q.aaxis,{range:[ht,ct-mt-kt],side:"left",tickangle:(+q.aaxis.tickangle||0)-30,domain:[Ct,Ct+et*D],anchor:"free",position:0,_id:"y",_length:Y});u(It,Z.graphDiv._fullLayout),It.setScale();var pt=Z.baxis=d({},q.baxis,{range:[ct-ht-kt,mt],side:"bottom",domain:Z.xaxis.domain,anchor:"free",position:0,_id:"x",_length:Y});u(pt,Z.graphDiv._fullLayout),pt.setScale();var bt=Z.caxis=d({},q.caxis,{range:[ct-ht-mt,kt],side:"right",tickangle:(+q.caxis.tickangle||0)+30,domain:[Ct,Ct+et*D],anchor:"free",position:0,_id:"y",_length:Y});u(bt,Z.graphDiv._fullLayout),bt.setScale();var _t="M"+E+","+(z+Q)+"h"+Y+"l-"+Y/2+",-"+Q+"Z";Z.clipDef.select("path").attr("d",_t),Z.layers.plotbg.select("path").attr("d",_t);var Dt="M0,"+Q+"h"+Y+"l-"+Y/2+",-"+Q+"Z";Z.clipDefRelative.select("path").attr("d",Dt);var L=r(E,z);Z.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",L),Z.clipDefRelative.select("path").attr("transform",null);var X=r(E-pt._offset,z+Q);Z.layers.baxis.attr("transform",X),Z.layers.bgrid.attr("transform",X);var it=r(E+Y/2,z)+"rotate(30)"+r(0,-It._offset);Z.layers.aaxis.attr("transform",it),Z.layers.agrid.attr("transform",it);var ft=r(E+Y/2,z)+"rotate(-30)"+r(0,-bt._offset);Z.layers.caxis.attr("transform",ft),Z.layers.cgrid.attr("transform",ft),Z.drawAxes(!0),Z.layers.aline.select("path").attr("d",It.showline?"M"+E+","+(z+Q)+"l"+Y/2+",-"+Q:"M0,0").call(o.stroke,It.linecolor||"#000").style("stroke-width",(It.linewidth||0)+"px"),Z.layers.bline.select("path").attr("d",pt.showline?"M"+E+","+(z+Q)+"h"+Y:"M0,0").call(o.stroke,pt.linecolor||"#000").style("stroke-width",(pt.linewidth||0)+"px"),Z.layers.cline.select("path").attr("d",bt.showline?"M"+(E+Y/2)+","+z+"l"+Y/2+","+Q:"M0,0").call(o.stroke,bt.linecolor||"#000").style("stroke-width",(bt.linewidth||0)+"px"),Z.graphDiv._context.staticPlot||Z.initInteractions(),l.setClipUrl(Z.layers.frontplot,Z._hasClipOnAxisFalse?null:Z.clipId,Z.graphDiv)},N.drawAxes=function(q){var tt=this,E=tt.graphDiv,z=tt.id.substr(7)+"title",Y=tt.layers,Q=tt.aaxis,nt=tt.baxis,et=tt.caxis;if(tt.drawAx(Q),tt.drawAx(nt),tt.drawAx(et),q){var Z=Math.max(Q.showticklabels?Q.tickfont.size/2:0,(et.showticklabels?.75*et.tickfont.size:0)+(et.ticks==="outside"?.87*et.ticklen:0)),H=(nt.showticklabels?nt.tickfont.size:0)+(nt.ticks==="outside"?nt.ticklen:0)+3;Y["a-title"]=v.draw(E,"a"+z,{propContainer:Q,propName:tt.id+".aaxis.title",placeholder:n(E,"Click to enter Component A title"),attributes:{x:tt.x0+tt.w/2,y:tt.y0-Q.title.font.size/3-Z,"text-anchor":"middle"}}),Y["b-title"]=v.draw(E,"b"+z,{propContainer:nt,propName:tt.id+".baxis.title",placeholder:n(E,"Click to enter Component B title"),attributes:{x:tt.x0-H,y:tt.y0+tt.h+.83*nt.title.font.size+H,"text-anchor":"middle"}}),Y["c-title"]=v.draw(E,"c"+z,{propContainer:et,propName:tt.id+".caxis.title",placeholder:n(E,"Click to enter Component C title"),attributes:{x:tt.x0+tt.w+H,y:tt.y0+tt.h+.83*et.title.font.size+H,"text-anchor":"middle"}})}},N.drawAx=function(q){var tt,E=this,z=E.graphDiv,Y=q._name,Q=Y.charAt(0),nt=q._id,et=E.layers[Y],Z=Q+"tickLayout",H=(tt=q).ticks+String(tt.ticklen)+String(tt.showticklabels);E[Z]!==H&&(et.selectAll("."+nt+"tick").remove(),E[Z]=H),q.setScale();var U=h.calcTicks(q),V=h.clipEnds(q,U),$=h.makeTransTickFn(q),at=h.getTickSigns(q)[2],rt=i.deg2rad(30),ot=at*(q.linewidth||1)/2,ct=at*q.ticklen,ht=E.w,mt=E.h,kt=Q==="b"?"M0,"+ot+"l"+Math.sin(rt)*ct+","+Math.cos(rt)*ct:"M"+ot+",0l"+Math.cos(rt)*ct+","+-Math.sin(rt)*ct,Ct={a:"M0,0l"+mt+",-"+ht/2,b:"M0,0l-"+ht/2+",-"+mt,c:"M0,0l-"+mt+","+ht/2}[Q];h.drawTicks(z,q,{vals:q.ticks==="inside"?V:U,layer:et,path:kt,transFn:$,crisp:!1}),h.drawGrid(z,q,{vals:V,layer:E.layers[Q+"grid"],path:Ct,transFn:$,crisp:!1}),h.drawLabels(z,q,{vals:U,layer:et,transFn:$,labelFns:h.makeLabelFns(q,0,30)})};var j=S.MINZOOM/2+.87,B="m-0.87,.5h"+j+"v3h-"+(j+5.2)+"l"+(j/2+2.6)+",-"+(.87*j+4.5)+"l2.6,1.5l-"+j/2+","+.87*j+"Z",J="m0.87,.5h-"+j+"v3h"+(j+5.2)+"l-"+(j/2+2.6)+",-"+(.87*j+4.5)+"l-2.6,1.5l"+j/2+","+.87*j+"Z",P="m0,1l"+j/2+","+.87*j+"l2.6,-1.5l-"+(j/2+2.6)+",-"+(.87*j+4.5)+"l-"+(j/2+2.6)+","+(.87*j+4.5)+"l2.6,1.5l"+j/2+",-"+.87*j+"Z",M=!0;function O(q){a.select(q).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}N.clearOutline=function(){C(this.dragOptions),T(this.dragOptions.gd)},N.initInteractions=function(){var q,tt,E,z,Y,Q,nt,et,Z,H,U,V,$=this,at=$.layers.plotbg.select("path").node(),rt=$.graphDiv,ot=rt._fullLayout._zoomlayer;function ct(Dt){var L={};return L[$.id+".aaxis.min"]=Dt.a,L[$.id+".baxis.min"]=Dt.b,L[$.id+".caxis.min"]=Dt.c,L}function ht(Dt,L){var X=rt._fullLayout.clickmode;O(rt),Dt===2&&(rt.emit("plotly_doubleclick",null),e.call("_guiRelayout",rt,ct({a:0,b:0,c:0}))),X.indexOf("select")>-1&&Dt===1&&_(L,rt,[$.xaxis],[$.yaxis],$.id,$.dragOptions),X.indexOf("event")>-1&&g.click(rt,L,$.id)}function mt(Dt,L){return 1-L/$.h}function kt(Dt,L){return 1-(Dt+($.h-L)/Math.sqrt(3))/$.w}function Ct(Dt,L){return(Dt-($.h-L)/Math.sqrt(3))/$.w}function It(Dt,L){var X=E+Dt*q,it=z+L*tt,ft=Math.max(0,Math.min(1,mt(0,z),mt(0,it))),gt=Math.max(0,Math.min(1,kt(E,z),kt(X,it))),wt=Math.max(0,Math.min(1,Ct(E,z),Ct(X,it))),xt=(ft/2+wt)*$.w,Ft=(1-ft/2-gt)*$.w,Bt=(xt+Ft)/2,Mt=Ft-xt,St=(1-ft)*$.h,Lt=St-Mt/D;Mt<S.MINZOOM?(nt=Y,U.attr("d",Z),V.attr("d","M0,0Z")):(nt={a:Y.a+ft*Q,b:Y.b+gt*Q,c:Y.c+wt*Q},U.attr("d",Z+"M"+xt+","+St+"H"+Ft+"L"+Bt+","+Lt+"L"+xt+","+St+"Z"),V.attr("d","M"+E+","+z+"m0.5,0.5h5v-2h-5v-5h-2v5h-5v2h5v5h2ZM"+xt+","+St+B+"M"+Ft+","+St+J+"M"+Bt+","+Lt+P)),H||(U.transition().style("fill",et>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),V.transition().style("opacity",1).duration(200),H=!0),rt.emit("plotly_relayouting",ct(nt))}function pt(){O(rt),nt!==Y&&(e.call("_guiRelayout",rt,ct(nt)),M&&rt.data&&rt._context.showTips&&(i.notifier(n(rt,"Double-click to zoom back out"),"long"),M=!1))}function bt(Dt,L){var X=Dt/$.xaxis._m,it=L/$.yaxis._m,ft=[(nt={a:Y.a-it,b:Y.b+(X+it)/2,c:Y.c-(X-it)/2}).a,nt.b,nt.c].sort(i.sorterAsc),gt=ft.indexOf(nt.a),wt=ft.indexOf(nt.b),xt=ft.indexOf(nt.c);ft[0]<0&&(ft[1]+ft[0]/2<0?(ft[2]+=ft[0]+ft[1],ft[0]=ft[1]=0):(ft[2]+=ft[0]/2,ft[1]+=ft[0]/2,ft[0]=0),nt={a:ft[gt],b:ft[wt],c:ft[xt]},L=(Y.a-nt.a)*$.yaxis._m,Dt=(Y.c-nt.c-Y.b+nt.b)*$.xaxis._m);var Ft=r($.x0+Dt,$.y0+L);$.plotContainer.selectAll(".scatterlayer,.maplayer").attr("transform",Ft);var Bt=r(-Dt,-L);$.clipDefRelative.select("path").attr("transform",Bt),$.aaxis.range=[nt.a,$.sum-nt.b-nt.c],$.baxis.range=[$.sum-nt.a-nt.c,nt.b],$.caxis.range=[$.sum-nt.a-nt.b,nt.c],$.drawAxes(!1),$._hasClipOnAxisFalse&&$.plotContainer.select(".scatterlayer").selectAll(".trace").call(l.hideOutsideRangePoints,$),rt.emit("plotly_relayouting",ct(nt))}function _t(){e.call("_guiRelayout",rt,ct(nt))}this.dragOptions={element:at,gd:rt,plotinfo:{id:$.id,domain:rt._fullLayout[$.id].domain,xaxis:$.xaxis,yaxis:$.yaxis},subplot:$.id,prepFn:function(Dt,L,X){$.dragOptions.xaxes=[$.xaxis],$.dragOptions.yaxes=[$.yaxis],q=rt._fullLayout._invScaleX,tt=rt._fullLayout._invScaleY;var it=$.dragOptions.dragmode=rt._fullLayout.dragmode;b(it)?$.dragOptions.minDrag=1:$.dragOptions.minDrag=void 0,it==="zoom"?($.dragOptions.moveFn=It,$.dragOptions.clickFn=ht,$.dragOptions.doneFn=pt,function(ft,gt,wt){var xt=at.getBoundingClientRect();E=gt-xt.left,z=wt-xt.top,rt._fullLayout._calcInverseTransform(rt);var Ft=rt._fullLayout._invTransform,Bt=i.apply3DTransform(Ft)(E,z);E=Bt[0],z=Bt[1],Y={a:$.aaxis.range[0],b:$.baxis.range[1],c:$.caxis.range[1]},nt=Y,Q=$.aaxis.range[1]-Y.a,et=f($.graphDiv._fullLayout[$.id].bgcolor).getLuminance(),Z="M0,"+$.h+"L"+$.w/2+", 0L"+$.w+","+$.h+"Z",H=!1,U=ot.append("path").attr("class","zoombox").attr("transform",r($.x0,$.y0)).style({fill:et>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("d",Z),V=ot.append("path").attr("class","zoombox-corners").attr("transform",r($.x0,$.y0)).style({fill:o.background,stroke:o.defaultLine,"stroke-width":1,opacity:0}).attr("d","M0,0Z"),$.clearOutline(rt)}(0,L,X)):it==="pan"?($.dragOptions.moveFn=bt,$.dragOptions.clickFn=ht,$.dragOptions.doneFn=_t,Y={a:$.aaxis.range[0],b:$.baxis.range[1],c:$.caxis.range[1]},nt=Y,$.clearOutline(rt)):(m(it)||b(it))&&x(Dt,L,X,$.dragOptions,it)}},at.onmousemove=function(Dt){g.hover(rt,Dt,$.id),rt._fullLayout._lasthover=at,rt._fullLayout._hoversubplot=$.id},at.onmouseout=function(Dt){rt._dragging||p.unhover(rt,Dt)},p.init(this.dragOptions)}},73972:function(w,s,t){var a=t(47769),f=t(64213),e=t(75138),i=t(41965),r=t(24401).addStyleRule,n=t(1426),o=t(9012),l=t(10820),u=n.extendFlat,d=n.extendDeepAll;function c(_){var T=_.name,C=_.categories,S=_.meta;if(s.modules[T])a.log("Type "+T+" already registered");else{s.subplotsRegistry[_.basePlotModule.name]||function(M){var O=M.name;if(s.subplotsRegistry[O])a.log("Plot type "+O+" already registered.");else for(var q in y(M),s.subplotsRegistry[O]=M,s.componentsRegistry)v(q,M.name)}(_.basePlotModule);for(var F={},N=0;N<C.length;N++)F[C[N]]=!0,s.allCategories[C[N]]=!0;for(var D in s.modules[T]={_module:_,categories:F},S&&Object.keys(S).length&&(s.modules[T].meta=S),s.allTypes.push(T),s.componentsRegistry)b(D,T);_.layoutAttributes&&u(s.traceLayoutAttributes,_.layoutAttributes);var j=_.basePlotModule,B=j.name;if(B==="mapbox"){var J=j.constants.styleRules;for(var P in J)r(".js-plotly-plot .plotly .mapboxgl-"+P,J[P])}B!=="geo"&&B!=="mapbox"||window.PlotlyGeoAssets!==void 0||(window.PlotlyGeoAssets={topojson:{}})}}function h(_){if(typeof _.name!="string")throw new Error("Component module *name* must be a string.");var T=_.name;for(var C in s.componentsRegistry[T]=_,_.layoutAttributes&&(_.layoutAttributes._isLinkedToArray&&e(s.layoutArrayContainers,T),y(_)),s.modules)b(T,C);for(var S in s.subplotsRegistry)v(T,S);for(var F in s.transformsRegistry)m(T,F);_.schema&&_.schema.layout&&d(l,_.schema.layout)}function p(_){if(typeof _.name!="string")throw new Error("Transform module *name* must be a string.");var T="Transform module "+_.name,C=typeof _.transform=="function",S=typeof _.calcTransform=="function";if(!C&&!S)throw new Error(T+" is missing a *transform* or *calcTransform* method.");for(var F in C&&S&&a.log([T+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),i(_.attributes)||a.log(T+" registered without an *attributes* object."),typeof _.supplyDefaults!="function"&&a.log(T+" registered without a *supplyDefaults* method."),s.transformsRegistry[_.name]=_,s.componentsRegistry)m(F,_.name)}function g(_){var T=_.name,C=T.split("-")[0],S=_.dictionary,F=_.format,N=S&&Object.keys(S).length,D=F&&Object.keys(F).length,j=s.localeRegistry,B=j[T];if(B||(j[T]=B={}),C!==T){var J=j[C];J||(j[C]=J={}),N&&J.dictionary===B.dictionary&&(J.dictionary=S),D&&J.format===B.format&&(J.format=F)}N&&(B.dictionary=S),D&&(B.format=F)}function y(_){if(_.layoutAttributes){var T=_.layoutAttributes._arrayAttrRegexps;if(T)for(var C=0;C<T.length;C++)e(s.layoutArrayRegexes,T[C])}}function b(_,T){var C=s.componentsRegistry[_].schema;if(C&&C.traces){var S=C.traces[T];S&&d(s.modules[T]._module.attributes,S)}}function m(_,T){var C=s.componentsRegistry[_].schema;if(C&&C.transforms){var S=C.transforms[T];S&&d(s.transformsRegistry[T].attributes,S)}}function v(_,T){var C=s.componentsRegistry[_].schema;if(C&&C.subplots){var S=s.subplotsRegistry[T],F=S.layoutAttributes,N=S.attr==="subplot"?S.name:S.attr;Array.isArray(N)&&(N=N[0]);var D=C.subplots[N];F&&D&&d(F,D)}}function x(_){return typeof _=="object"&&(_=_.type),_}s.modules={},s.allCategories={},s.allTypes=[],s.subplotsRegistry={},s.transformsRegistry={},s.componentsRegistry={},s.layoutArrayContainers=[],s.layoutArrayRegexes=[],s.traceLayoutAttributes={},s.localeRegistry={},s.apiMethodRegistry={},s.collectableSubplotTypes=null,s.register=function(_){if(s.collectableSubplotTypes=null,!_)throw new Error("No argument passed to Plotly.register.");_&&!Array.isArray(_)&&(_=[_]);for(var T=0;T<_.length;T++){var C=_[T];if(!C)throw new Error("Invalid module was attempted to be registered!");switch(C.moduleType){case"trace":c(C);break;case"transform":p(C);break;case"component":h(C);break;case"locale":g(C);break;case"apiMethod":var S=C.name;s.apiMethodRegistry[S]=C.fn;break;default:throw new Error("Invalid module was attempted to be registered!")}}},s.getModule=function(_){var T=s.modules[x(_)];return!!T&&T._module},s.traceIs=function(_,T){if((_=x(_))==="various")return!1;var C=s.modules[_];return C||(_&&a.log("Unrecognized trace type "+_+"."),C=s.modules[o.type.dflt]),!!C.categories[T]},s.getTransformIndices=function(_,T){for(var C=[],S=_.transforms||[],F=0;F<S.length;F++)S[F].type===T&&C.push(F);return C},s.hasTransform=function(_,T){for(var C=_.transforms||[],S=0;S<C.length;S++)if(C[S].type===T)return!0;return!1},s.getComponentMethod=function(_,T){var C=s.componentsRegistry[_];return C&&C[T]||f},s.call=function(){var _=arguments[0],T=[].slice.call(arguments,1);return s.apiMethodRegistry[_].apply(null,T)}},61914:function(w,s,t){var a=t(73972),f=t(71828),e=f.extendFlat,i=f.extendDeep;function r(n){var o;switch(n){case"themes__thumb":o={autosize:!0,width:150,height:150,title:{text:""},showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":o={title:{text:""},hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:o={}}return o}w.exports=function(n,o){var l,u,d=n.data,c=n.layout,h=i([],d),p=i({},c,r(o.tileClass)),g=n._context||{};if(o.width&&(p.width=o.width),o.height&&(p.height=o.height),o.tileClass==="thumbnail"||o.tileClass==="themes__thumb"){p.annotations=[];var y=Object.keys(p);for(l=0;l<y.length;l++)u=y[l],["xaxis","yaxis","zaxis"].indexOf(u.slice(0,5))>-1&&(p[y[l]].title={text:""});for(l=0;l<h.length;l++){var b=h[l];b.showscale=!1,b.marker&&(b.marker.showscale=!1),a.traceIs(b,"pie-like")&&(b.textposition="none")}}if(Array.isArray(o.annotations))for(l=0;l<o.annotations.length;l++)p.annotations.push(o.annotations[l]);var m=Object.keys(p).filter(function(C){return C.match(/^scene\d*$/)});if(m.length){var v={};for(o.tileClass==="thumbnail"&&(v={title:{text:""},showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),l=0;l<m.length;l++){var x=p[m[l]];x.xaxis||(x.xaxis={}),x.yaxis||(x.yaxis={}),x.zaxis||(x.zaxis={}),e(x.xaxis,v),e(x.yaxis,v),e(x.zaxis,v),x._scene=null}}var _=document.createElement("div");o.tileClass&&(_.className=o.tileClass);var T={gd:_,td:_,layout:p,data:h,config:{staticPlot:o.staticPlot===void 0||o.staticPlot,plotGlPixelRatio:o.plotGlPixelRatio===void 0?2:o.plotGlPixelRatio,displaylogo:o.displaylogo||!1,showLink:o.showLink||!1,showTips:o.showTips||!1,mapboxAccessToken:g.mapboxAccessToken}};return o.setBackground!=="transparent"&&(T.config.setBackground=o.setBackground||"opaque"),T.gd.defaultLayout=r(o.tileClass),T}},7239:function(w,s,t){var a=t(71828),f=t(403),e=t(22435),i=t(25095);w.exports=function(r,n){var o;return a.isPlainObject(r)||(o=a.getGraphDiv(r)),(n=n||{}).format=n.format||"png",n.width=n.width||null,n.height=n.height||null,n.imageDataOnly=!0,new Promise(function(l,u){o&&o._snapshotInProgress&&u(new Error("Snapshotting already in progress.")),a.isIE()&&n.format!=="svg"&&u(new Error(i.MSG_IE_BAD_FORMAT)),o&&(o._snapshotInProgress=!0);var d=f(r,n),c=n.filename||r.fn||"newplot";c+="."+n.format.replace("-","."),d.then(function(h){return o&&(o._snapshotInProgress=!1),e(h,c,n.format)}).then(function(h){l(h)}).catch(function(h){o&&(o._snapshotInProgress=!1),u(h)})})}},22435:function(w,s,t){var a=t(71828),f=t(25095);w.exports=function(e,i,r){var n=document.createElement("a"),o="download"in n;return new Promise(function(l,u){var d,c;if(a.isIE())return d=f.createBlob(e,"svg"),window.navigator.msSaveBlob(d,i),d=null,l(i);if(o)return d=f.createBlob(e,r),c=f.createObjectURL(d),n.href=c,n.download=i,document.body.appendChild(n),n.click(),document.body.removeChild(n),f.revokeObjectURL(c),d=null,l(i);if(a.isSafari()){var h=r==="svg"?",":";base64,";return f.octetStream(h+encodeURIComponent(e)),l(i)}u(new Error("download error"))})}},25095:function(w,s,t){var a=t(73972);s.getDelay=function(e){return e._has&&(e._has("gl3d")||e._has("gl2d")||e._has("mapbox"))?500:0},s.getRedrawFunc=function(e){return function(){a.getComponentMethod("colorbar","draw")(e)}},s.encodeSVG=function(e){return"data:image/svg+xml,"+encodeURIComponent(e)},s.encodeJSON=function(e){return"data:application/json,"+encodeURIComponent(e)};var f=window.URL||window.webkitURL;s.createObjectURL=function(e){return f.createObjectURL(e)},s.revokeObjectURL=function(e){return f.revokeObjectURL(e)},s.createBlob=function(e,i){if(i==="svg")return new window.Blob([e],{type:"image/svg+xml;charset=utf-8"});if(i==="full-json")return new window.Blob([e],{type:"application/json;charset=utf-8"});var r=function(n){for(var o=n.length,l=new ArrayBuffer(o),u=new Uint8Array(l),d=0;d<o;d++)u[d]=n.charCodeAt(d);return l}(window.atob(e));return new window.Blob([r],{type:"image/"+i})},s.octetStream=function(e){document.location.href="data:application/octet-stream"+e},s.IMAGE_URL_PREFIX=/^data:image\/\w+;base64,/,s.MSG_IE_BAD_FORMAT="Sorry IE does not support downloading from canvas. Try {format:'svg'} instead."},44511:function(w,s,t){var a=t(25095),f={getDelay:a.getDelay,getRedrawFunc:a.getRedrawFunc,clone:t(61914),toSVG:t(5900),svgToImg:t(70942),toImage:t(56395),downloadImage:t(7239)};w.exports=f},70942:function(w,s,t){var a=t(71828),f=t(15398).EventEmitter,e=t(25095);w.exports=function(i){var r=i.emitter||new f,n=new Promise(function(o,l){var u=window.Image,d=i.svg,c=i.format||"png";if(a.isIE()&&c!=="svg"){var h=new Error(e.MSG_IE_BAD_FORMAT);return l(h),i.promise?n:r.emit("error",h)}var p,g,y=i.canvas,b=i.scale||1,m=i.width||300,v=i.height||150,x=b*m,_=b*v,T=y.getContext("2d",{willReadFrequently:!0}),C=new u;c==="svg"||a.isSafari()?g=e.encodeSVG(d):(p=e.createBlob(d,"svg"),g=e.createObjectURL(p)),y.width=x,y.height=_,C.onload=function(){var S;switch(p=null,e.revokeObjectURL(g),c!=="svg"&&T.drawImage(C,0,0,x,_),c){case"jpeg":S=y.toDataURL("image/jpeg");break;case"png":S=y.toDataURL("image/png");break;case"webp":S=y.toDataURL("image/webp");break;case"svg":S=g;break;default:var F="Image format is not jpeg, png, svg or webp.";if(l(new Error(F)),!i.promise)return r.emit("error",F)}o(S),i.promise||r.emit("success",S)},C.onerror=function(S){if(p=null,e.revokeObjectURL(g),l(S),!i.promise)return r.emit("error",S)},C.src=g});return i.promise?n:r}},56395:function(w,s,t){var a=t(15398).EventEmitter,f=t(73972),e=t(71828),i=t(25095),r=t(61914),n=t(5900),o=t(70942);w.exports=function(l,u){var d=new a,c=r(l,{format:"png"}),h=c.gd;h.style.position="absolute",h.style.left="-5000px",document.body.appendChild(h);var p=i.getRedrawFunc(h);return f.call("_doPlot",h,c.data,c.layout,c.config).then(p).then(function(){var g=i.getDelay(h._fullLayout);setTimeout(function(){var y=n(h),b=document.createElement("canvas");b.id=e.randstr(),(d=o({format:u.format,width:h._fullLayout.width,height:h._fullLayout.height,canvas:b,emitter:d,svg:y})).clean=function(){h&&document.body.removeChild(h)}},g)}).catch(function(g){d.emit("error",g)}),d}},5900:function(w,s,t){var a=t(39898),f=t(71828),e=t(91424),i=t(7901),r=t(77922),n=/"/g,o="TOBESTRIPPED",l=new RegExp('("TOBESTRIPPED)|(TOBESTRIPPED")',"g");w.exports=function(u,d,c){var h,p=u._fullLayout,g=p._paper,y=p._toppaper,b=p.width,m=p.height;g.insert("rect",":first-child").call(e.setRect,0,0,b,m).call(i.fill,p.paper_bgcolor);var v=p._basePlotModules||[];for(h=0;h<v.length;h++){var x=v[h];x.toSVG&&x.toSVG(u)}if(y){var _=y.node().childNodes,T=Array.prototype.slice.call(_);for(h=0;h<T.length;h++){var C=T[h];C.childNodes.length&&g.node().appendChild(C)}}p._draggers&&p._draggers.remove(),g.node().style.background="",g.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var F=a.select(this);if(this.style.visibility!=="hidden"&&this.style.display!=="none"){F.style({visibility:null,display:null});var N=this.style.fontFamily;N&&N.indexOf('"')!==-1&&F.style("font-family",N.replace(n,o))}else F.remove()}),g.selectAll(".gradient_filled,.pattern_filled").each(function(){var F=a.select(this),N=this.style.fill;N&&N.indexOf("url(")!==-1&&F.style("fill",N.replace(n,o));var D=this.style.stroke;D&&D.indexOf("url(")!==-1&&F.style("stroke",D.replace(n,o))}),d!=="pdf"&&d!=="eps"||g.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),g.node().setAttributeNS(r.xmlns,"xmlns",r.svg),g.node().setAttributeNS(r.xmlns,"xmlns:xlink",r.xlink),d==="svg"&&c&&(g.attr("width",c*b),g.attr("height",c*m),g.attr("viewBox","0 0 "+b+" "+m));var S=new window.XMLSerializer().serializeToString(g.node());return S=(S=(S=function(F){var N=a.select("body").append("div").style({display:"none"}).html(""),D=F.replace(/(&[^;]*;)/gi,function(j){return j==="&lt;"?"&#60;":j==="&rt;"?"&#62;":j.indexOf("<")!==-1||j.indexOf(">")!==-1?"":N.html(j).text()});return N.remove(),D}(S)).replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")).replace(l,"'"),f.isIE()&&(S=(S=(S=S.replace(/"/gi,"'")).replace(/(\('#)([^']*)('\))/gi,'("#$2")')).replace(/(\\')/gi,'"')),S}},75341:function(w,s,t){var a=t(71828);w.exports=function(f,e){for(var i=0;i<f.length;i++)f[i].i=i;a.mergeArray(e.text,f,"tx"),a.mergeArray(e.hovertext,f,"htx");var r=e.marker;if(r){a.mergeArray(r.opacity,f,"mo",!0),a.mergeArray(r.color,f,"mc");var n=r.line;n&&(a.mergeArray(n.color,f,"mlc"),a.mergeArrayCastPositive(n.width,f,"mlw"))}}},1486:function(w,s,t){var a=t(82196),f=t(12663).axisHoverFormat,e=t(5386).fF,i=t(5386).si,r=t(50693),n=t(41940),o=t(97313),l=t(79952).u,u=t(1426).extendFlat,d=n({editType:"calc",arrayOk:!0,colorEditType:"style"}),c=u({},a.marker.line.width,{dflt:0}),h=u({width:c,editType:"calc"},r("marker.line")),p=u({line:h,editType:"calc"},r("marker"),{opacity:{valType:"number",arrayOk:!0,dflt:1,min:0,max:1,editType:"style"},pattern:l});w.exports={x:a.x,x0:a.x0,dx:a.dx,y:a.y,y0:a.y0,dy:a.dy,xperiod:a.xperiod,yperiod:a.yperiod,xperiod0:a.xperiod0,yperiod0:a.yperiod0,xperiodalignment:a.xperiodalignment,yperiodalignment:a.yperiodalignment,xhoverformat:f("x"),yhoverformat:f("y"),text:a.text,texttemplate:i({editType:"plot"},{keys:o.eventDataKeys}),hovertext:a.hovertext,hovertemplate:e({},{keys:o.eventDataKeys}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc"},insidetextanchor:{valType:"enumerated",values:["end","middle","start"],dflt:"end",editType:"plot"},textangle:{valType:"angle",dflt:"auto",editType:"plot"},textfont:u({},d,{}),insidetextfont:u({},d,{}),outsidetextfont:u({},d,{}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc"},cliponaxis:u({},a.cliponaxis,{}),orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc"},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc"},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc"},marker:p,offsetgroup:a.offsetgroup,alignmentgroup:a.alignmentgroup,selected:{marker:{opacity:a.selected.marker.opacity,color:a.selected.marker.color,editType:"style"},textfont:a.selected.textfont,editType:"style"},unselected:{marker:{opacity:a.unselected.marker.opacity,color:a.unselected.marker.color,editType:"style"},textfont:a.unselected.textfont,editType:"style"},_deprecated:{bardir:{valType:"enumerated",editType:"calc",values:["v","h"]}}}},92290:function(w,s,t){var a=t(89298),f=t(42973),e=t(52075).hasColorscale,i=t(78803),r=t(75341),n=t(66279);w.exports=function(o,l){var u,d,c,h,p,g,y=a.getFromId(o,l.xaxis||"x"),b=a.getFromId(o,l.yaxis||"y"),m={msUTC:!(!l.base&&l.base!==0)};l.orientation==="h"?(u=y.makeCalcdata(l,"x",m),c=b.makeCalcdata(l,"y"),h=f(l,b,"y",c),p=!!l.yperiodalignment,g="y"):(u=b.makeCalcdata(l,"y",m),c=y.makeCalcdata(l,"x"),h=f(l,y,"x",c),p=!!l.xperiodalignment,g="x"),d=h.vals;for(var v=Math.min(d.length,u.length),x=new Array(v),_=0;_<v;_++)x[_]={p:d[_],s:u[_]},p&&(x[_].orig_p=c[_],x[_][g+"End"]=h.ends[_],x[_][g+"Start"]=h.starts[_]),l.ids&&(x[_].id=String(l.ids[_]));return e(l,"marker")&&i(o,l,{vals:l.marker.color,containerStr:"marker",cLetter:"c"}),e(l,"marker.line")&&i(o,l,{vals:l.marker.line.color,containerStr:"marker.line",cLetter:"c"}),r(x,l),n(x,l),x}},97313:function(w){w.exports={TEXTPAD:3,eventDataKeys:["value","label"]}},11661:function(w,s,t){var a=t(92770),f=t(71828).isArrayOrTypedArray,e=t(50606).BADNUM,i=t(73972),r=t(89298),n=t(99082).getAxisGroup,o=t(61546);function l(v,x,_,T,C){if(T.length){var S,F,N,D;switch(function(j,B){var J,P;for(J=0;J<B.length;J++){var M,O=B[J],q=O[0].trace,tt=q.type==="funnel"?q._base:q.base,E=q.orientation==="h"?q.xcalendar:q.ycalendar,z=j.type==="category"||j.type==="multicategory"?function(){return null}:j.d2c;if(f(tt)){for(P=0;P<Math.min(tt.length,O.length);P++)M=z(tt[P],0,E),a(M)?(O[P].b=+M,O[P].hasB=1):O[P].b=0;for(;P<O.length;P++)O[P].b=0}else{M=z(tt,0,E);var Y=a(M);for(M=Y?M:0,P=0;P<O.length;P++)O[P].b=M,Y&&(O[P].hasB=1)}}}(_,T),C.mode){case"overlay":u(x,_,T,C);break;case"group":for(S=[],F=[],N=0;N<T.length;N++)(D=T[N])[0].trace.offset===void 0?F.push(D):S.push(D);F.length&&function(j,B,J,P,M){var O=new o(P,{posAxis:B,sepNegVal:!1,overlapNoMerge:!M.norm});(function(q,tt,E,z){for(var Y=q._fullLayout,Q=E.positions,nt=E.distinctPositions,et=E.minDiff,Z=E.traces,H=Z.length,U=Q.length!==nt.length,V=et*(1-z.gap),$=n(Y,tt._id)+Z[0][0].trace.orientation,at=Y._alignmentOpts[$]||{},rt=0;rt<H;rt++){var ot,ct,ht=Z[rt],mt=ht[0].trace,kt=at[mt.alignmentgroup]||{},Ct=Object.keys(kt.offsetGroups||{}).length,It=(ot=Ct?V/Ct:U?V/H:V)*(1-(z.groupgap||0));ct=Ct?((2*mt._offsetIndex+1-Ct)*ot-It)/2:U?((2*rt+1-H)*ot-It)/2:-It/2;var pt=ht[0].t;pt.barwidth=It,pt.poffset=ct,pt.bargroupwidth=V,pt.bardelta=et}E.binWidth=Z[0][0].t.barwidth/100,c(E),h(tt,E),p(tt,E,U)})(j,B,O,M),function(q,tt){for(var E=q.traces,z=0;z<E.length;z++){var Y=E[z];if(Y[0].trace.base===void 0)for(var Q=new o([Y],{posAxis:tt,sepNegVal:!0,overlapNoMerge:!0}),nt=0;nt<Y.length;nt++){var et=Y[nt];if(et.p!==e){var Z=Q.put(et.p,et.b+et.s);Z&&(et.b=Z)}}}}(O,B),M.norm?(y(O),b(J,O,M)):g(J,O)}(v,x,_,F,C),S.length&&u(x,_,S,C);break;case"stack":case"relative":for(S=[],F=[],N=0;N<T.length;N++)(D=T[N])[0].trace.base===void 0?F.push(D):S.push(D);F.length&&function(j,B,J,P,M){var O=new o(P,{posAxis:B,sepNegVal:M.mode==="relative",overlapNoMerge:!(M.norm||M.mode==="stack"||M.mode==="relative")});d(B,O,M),function(Y,Q,nt){var et,Z,H,U,V,$,at=m(Y),rt=Q.traces;for(U=0;U<rt.length;U++)if((Z=(et=rt[U])[0].trace).type==="funnel")for(V=0;V<et.length;V++)($=et[V]).s!==e&&Q.put($.p,-.5*$.s);for(U=0;U<rt.length;U++){H=(Z=(et=rt[U])[0].trace).type==="funnel";var ot=[];for(V=0;V<et.length;V++)if(($=et[V]).s!==e){var ct;ct=H?$.s:$.s+$.b;var ht=Q.put($.p,ct),mt=ht+ct;$.b=ht,$[at]=mt,nt.norm||(ot.push(mt),$.hasB&&ot.push(ht))}nt.norm||(Z._extremes[Y._id]=r.findExtremes(Y,ot,{tozero:!0,padded:!0}))}}(J,O,M);for(var q=0;q<P.length;q++)for(var tt=P[q],E=0;E<tt.length;E++){var z=tt[E];z.s!==e&&z.b+z.s===O.get(z.p,z.s)&&(z._outmost=!0)}M.norm&&b(J,O,M)}(0,x,_,F,C),S.length&&u(x,_,S,C)}(function(j,B){var J,P,M,O=m(B),q={},tt=1/0,E=-1/0;for(J=0;J<j.length;J++)for(M=j[J],P=0;P<M.length;P++){var z=M[P].p;a(z)&&(tt=Math.min(tt,z),E=Math.max(E,z))}var Y=1e4/(E-tt),Q=q.round=function($){return String(Math.round(Y*($-tt)))};for(J=0;J<j.length;J++){(M=j[J])[0].t.extents=q;var nt=M[0].t.poffset,et=Array.isArray(nt);for(P=0;P<M.length;P++){var Z=M[P],H=Z[O]-Z.w/2;if(a(H)){var U=Z[O]+Z.w/2,V=Q(Z.p);q[V]?q[V]=[Math.min(H,q[V][0]),Math.max(U,q[V][1])]:q[V]=[H,U]}Z.p0=Z.p+(et?nt[P]:nt),Z.p1=Z.p0+Z.w,Z.s0=Z.b,Z.s1=Z.s0+Z.s}}})(T,x)}}function u(v,x,_,T){for(var C=0;C<_.length;C++){var S=_[C],F=new o([S],{posAxis:v,sepNegVal:!1,overlapNoMerge:!T.norm});d(v,F,T),T.norm?(y(F),b(x,F,T)):g(x,F)}}function d(v,x,_){for(var T=x.minDiff,C=x.traces,S=T*(1-_.gap),F=S*(1-(_.groupgap||0)),N=-F/2,D=0;D<C.length;D++){var j=C[D][0].t;j.barwidth=F,j.poffset=N,j.bargroupwidth=S,j.bardelta=T}x.binWidth=C[0][0].t.barwidth/100,c(x),h(v,x),p(v,x)}function c(v){var x,_,T=v.traces;for(x=0;x<T.length;x++){var C,S=T[x],F=S[0],N=F.trace,D=F.t,j=N._offset||N.offset,B=D.poffset;if(f(j)){for(C=Array.prototype.slice.call(j,0,S.length),_=0;_<C.length;_++)a(C[_])||(C[_]=B);for(_=C.length;_<S.length;_++)C.push(B);D.poffset=C}else j!==void 0&&(D.poffset=j);var J=N._width||N.width,P=D.barwidth;if(f(J)){var M=Array.prototype.slice.call(J,0,S.length);for(_=0;_<M.length;_++)a(M[_])||(M[_]=P);for(_=M.length;_<S.length;_++)M.push(P);if(D.barwidth=M,j===void 0){for(C=[],_=0;_<S.length;_++)C.push(B+(P-M[_])/2);D.poffset=C}}else J!==void 0&&(D.barwidth=J,j===void 0&&(D.poffset=B+(P-J)/2))}}function h(v,x){for(var _=x.traces,T=m(v),C=0;C<_.length;C++)for(var S=_[C],F=S[0].t,N=F.poffset,D=Array.isArray(N),j=F.barwidth,B=Array.isArray(j),J=0;J<S.length;J++){var P=S[J],M=P.w=B?j[J]:j;P.p===void 0&&(P.p=P[T],P["orig_"+T]=P[T]);var O=(D?N[J]:N)+M/2;P[T]=P.p+O}}function p(v,x,_){var T=x.traces,C=x.minDiff/2;r.minDtick(v,x.minDiff,x.distinctPositions[0],_);for(var S=0;S<T.length;S++){var F,N,D,j,B=T[S],J=B[0],P=J.trace,M=[];for(j=0;j<B.length;j++)N=(F=B[j]).p-C,D=F.p+C,M.push(N,D);if(P.width||P.offset){var O=J.t,q=O.poffset,tt=O.barwidth,E=Array.isArray(q),z=Array.isArray(tt);for(j=0;j<B.length;j++){F=B[j];var Y=E?q[j]:q,Q=z?tt[j]:tt;D=(N=F.p+Y)+Q,M.push(N,D)}}P._extremes[v._id]=r.findExtremes(v,M,{padded:!1})}}function g(v,x){for(var _=x.traces,T=m(v),C=0;C<_.length;C++){for(var S=_[C],F=S[0].trace,N=F.type==="scatter",D=F.orientation==="v",j=[],B=!1,J=0;J<S.length;J++){var P=S[J],M=N?0:P.b,O=N?D?P.y:P.x:M+P.s;P[T]=O,j.push(O),P.hasB&&j.push(M),P.hasB&&P.b||(B=!0)}F._extremes[v._id]=r.findExtremes(v,j,{tozero:B,padded:!0})}}function y(v){for(var x=v.traces,_=0;_<x.length;_++)for(var T=x[_],C=0;C<T.length;C++){var S=T[C];S.s!==e&&v.put(S.p,S.b+S.s)}}function b(v,x,_){var T=x.traces,C=m(v),S=_.norm==="fraction"?1:100,F=S/1e9,N=v.l2c(v.c2l(0)),D=_.mode==="stack"?S:N;function j(nt){return a(v.c2l(nt))&&(nt<N-F||nt>D+F||!a(N))}for(var B=0;B<T.length;B++){for(var J=T[B],P=J[0].trace,M=[],O=!1,q=!1,tt=0;tt<J.length;tt++){var E=J[tt];if(E.s!==e){var z=Math.abs(S/x.get(E.p,E.s));E.b*=z,E.s*=z;var Y=E.b,Q=Y+E.s;E[C]=Q,M.push(Q),q=q||j(Q),E.hasB&&(M.push(Y),q=q||j(Y)),E.hasB&&E.b||(O=!0)}}P._extremes[v._id]=r.findExtremes(v,M,{tozero:O,padded:q})}}function m(v){return v._id.charAt(0)}w.exports={crossTraceCalc:function(v,x){for(var _=x.xaxis,T=x.yaxis,C=v._fullLayout,S=v._fullData,F=v.calcdata,N=[],D=[],j=0;j<S.length;j++){var B=S[j];if(B.visible===!0&&i.traceIs(B,"bar")&&B.xaxis===_._id&&B.yaxis===T._id&&(B.orientation==="h"?N.push(F[j]):D.push(F[j]),B._computePh))for(var J=v.calcdata[j],P=0;P<J.length;P++)typeof J[P].ph0=="function"&&(J[P].ph0=J[P].ph0()),typeof J[P].ph1=="function"&&(J[P].ph1=J[P].ph1())}var M={xCat:_.type==="category"||_.type==="multicategory",yCat:T.type==="category"||T.type==="multicategory",mode:C.barmode,norm:C.barnorm,gap:C.bargap,groupgap:C.bargroupgap};l(v,_,T,D,M),l(v,T,_,N,M)},setGroupPositions:l}},90769:function(w,s,t){var a=t(71828),f=t(7901),e=t(73972),i=t(67513),r=t(73927),n=t(98340),o=t(26125),l=t(1486),u=a.coerceFont;function d(c,h,p,g,y,b){var m=(b=b||{}).moduleHasSelected!==!1,v=b.moduleHasUnselected!==!1,x=b.moduleHasConstrain!==!1,_=b.moduleHasCliponaxis!==!1,T=b.moduleHasTextangle!==!1,C=b.moduleHasInsideanchor!==!1,S=!!b.hasPathbar,F=Array.isArray(y)||y==="auto",N=F||y==="inside",D=F||y==="outside";if(N||D){var j=u(g,"textfont",p.font),B=a.extendFlat({},j),J=!(c.textfont&&c.textfont.color);if(J&&delete B.color,u(g,"insidetextfont",B),S){var P=a.extendFlat({},j);J&&delete P.color,u(g,"pathbar.textfont",P)}D&&u(g,"outsidetextfont",j),m&&g("selected.textfont.color"),v&&g("unselected.textfont.color"),x&&g("constraintext"),_&&g("cliponaxis"),T&&g("textangle"),g("texttemplate")}N&&C&&g("insidetextanchor")}w.exports={supplyDefaults:function(c,h,p,g){function y(x,_){return a.coerce(c,h,l,x,_)}if(i(c,h,g,y)){r(c,h,g,y),y("xhoverformat"),y("yhoverformat"),y("orientation",h.x&&!h.y?"h":"v"),y("base"),y("offset"),y("width"),y("text"),y("hovertext"),y("hovertemplate");var b=y("textposition");d(c,0,g,y,b,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),n(c,h,y,p,g);var m=(h.marker.line||{}).color,v=e.getComponentMethod("errorbars","supplyDefaults");v(c,h,m||f.defaultLine,{axis:"y"}),v(c,h,m||f.defaultLine,{axis:"x",inherit:"y"}),a.coerceSelectionMarkerOpacity(h,y)}else h.visible=!1},crossTraceDefaults:function(c,h){var p,g;function y(m){return a.coerce(g._input,g,l,m)}if(h.barmode==="group")for(var b=0;b<c.length;b++)(g=c[b]).type==="bar"&&(p=g._input,o(p,g,h,y))},handleText:d}},58065:function(w){w.exports=function(s,t,a){return s.x="xVal"in t?t.xVal:t.x,s.y="yVal"in t?t.yVal:t.y,t.xa&&(s.xaxis=t.xa),t.ya&&(s.yaxis=t.ya),a.orientation==="h"?(s.label=s.y,s.value=s.x):(s.label=s.x,s.value=s.y),s}},69383:function(w,s,t){var a=t(92770),f=t(84267),e=t(71828).isArrayOrTypedArray;s.coerceString=function(i,r,n){if(typeof r=="string"){if(r||!i.noBlank)return r}else if((typeof r=="number"||r===!0)&&!i.strict)return String(r);return n!==void 0?n:i.dflt},s.coerceNumber=function(i,r,n){if(a(r)){r=+r;var o=i.min,l=i.max;if(!(o!==void 0&&r<o||l!==void 0&&r>l))return r}return n!==void 0?n:i.dflt},s.coerceColor=function(i,r,n){return f(r).isValid()?r:n!==void 0?n:i.dflt},s.coerceEnumerated=function(i,r,n){return i.coerceNumber&&(r=+r),i.values.indexOf(r)!==-1?r:n!==void 0?n:i.dflt},s.getValue=function(i,r){var n;return Array.isArray(i)?r<i.length&&(n=i[r]):n=i,n},s.getLineWidth=function(i,r){return 0<r.mlw?r.mlw:e(i.marker.line.width)?0:i.marker.line.width}},95423:function(w,s,t){var a=t(30211),f=t(73972),e=t(7901),i=t(71828).fillText,r=t(69383).getLineWidth,n=t(89298).hoverLabelText,o=t(50606).BADNUM;function l(d,c,h,p,g){var y,b,m,v,x,_,T,C=d.cd,S=C[0].trace,F=C[0].t,N=p==="closest",D=S.type==="waterfall",j=d.maxHoverDistance,B=d.maxSpikeDistance;S.orientation==="h"?(y=h,b=c,m="y",v="x",x=et,_=Q):(y=c,b=h,m="x",v="y",_=et,x=Q);var J=S[m+"period"],P=N||J;function M(ot){return q(ot,-1)}function O(ot){return q(ot,1)}function q(ot,ct){var ht=ot.w;return ot[m]+ct*ht/2}function tt(ot){return ot[m+"End"]-ot[m+"Start"]}var E=N?M:J?function(ot){return ot.p-tt(ot)/2}:function(ot){return Math.min(M(ot),ot.p-F.bardelta/2)},z=N?O:J?function(ot){return ot.p+tt(ot)/2}:function(ot){return Math.max(O(ot),ot.p+F.bardelta/2)};function Y(ot,ct,ht){return g.finiteRange&&(ht=0),a.inbox(ot-y,ct-y,ht+Math.min(1,Math.abs(ct-ot)/T)-1)}function Q(ot){return Y(E(ot),z(ot),j)}function nt(ot){var ct=ot[v];if(D){var ht=Math.abs(ot.rawS)||0;b>0?ct+=ht:b<0&&(ct-=ht)}return ct}function et(ot){var ct=b,ht=ot.b,mt=nt(ot);return a.inbox(ht-ct,mt-ct,j+(mt-ct)/(mt-ht)-1)}var Z=d[m+"a"],H=d[v+"a"];T=Math.abs(Z.r2c(Z.range[1])-Z.r2c(Z.range[0]));var U=a.getDistanceFunction(p,x,_,function(ot){return(x(ot)+_(ot))/2});if(a.getClosest(C,U,d),d.index!==!1&&C[d.index].p!==o){P||(E=function(ot){return Math.min(M(ot),ot.p-F.bargroupwidth/2)},z=function(ot){return Math.max(O(ot),ot.p+F.bargroupwidth/2)});var V=C[d.index],$=S.base?V.b+V.s:V.s;d[v+"0"]=d[v+"1"]=H.c2p(V[v],!0),d[v+"LabelVal"]=$;var at=F.extents[F.extents.round(V.p)];d[m+"0"]=Z.c2p(N?E(V):at[0],!0),d[m+"1"]=Z.c2p(N?z(V):at[1],!0);var rt=V.orig_p!==void 0;return d[m+"LabelVal"]=rt?V.orig_p:V.p,d.labelLabel=n(Z,d[m+"LabelVal"],S[m+"hoverformat"]),d.valueLabel=n(H,d[v+"LabelVal"],S[v+"hoverformat"]),d.baseLabel=n(H,V.b,S[v+"hoverformat"]),d.spikeDistance=(function(ot){var ct=b,ht=ot.b,mt=nt(ot);return a.inbox(ht-ct,mt-ct,B+(mt-ct)/(mt-ht)-1)}(V)+function(ot){return Y(M(ot),O(ot),B)}(V))/2,d[m+"Spike"]=Z.c2p(V.p,!0),i(V,S,d),d.hovertemplate=S.hovertemplate,d}}function u(d,c){var h=c.mcc||d.marker.color,p=c.mlcc||d.marker.line.color,g=r(d,c);return e.opacity(h)?h:e.opacity(p)&&g?p:void 0}w.exports={hoverPoints:function(d,c,h,p,g){var y=l(d,c,h,p,g);if(y){var b=y.cd,m=b[0].trace,v=b[y.index];return y.color=u(m,v),f.getComponentMethod("errorbars","hoverInfo")(v,m,y),[y]}},hoverOnBars:l,getTraceColor:u}},60822:function(w,s,t){w.exports={attributes:t(1486),layoutAttributes:t(43641),supplyDefaults:t(90769).supplyDefaults,crossTraceDefaults:t(90769).crossTraceDefaults,supplyLayoutDefaults:t(13957),calc:t(92290),crossTraceCalc:t(11661).crossTraceCalc,colorbar:t(4898),arraysToCalcdata:t(75341),plot:t(17295).plot,style:t(16688).style,styleOnSelect:t(16688).styleOnSelect,hoverPoints:t(95423).hoverPoints,eventData:t(58065),selectPoints:t(81974),moduleType:"trace",name:"bar",basePlotModule:t(93612),categories:["bar-like","cartesian","svg","bar","oriented","errorBarsOK","showLegend","zoomScale"],animatable:!0,meta:{}}},43641:function(w){w.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc"},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},bargap:{valType:"number",min:0,max:1,editType:"calc"},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},13957:function(w,s,t){var a=t(73972),f=t(89298),e=t(71828),i=t(43641);w.exports=function(r,n,o){function l(m,v){return e.coerce(r,n,i,m,v)}for(var u=!1,d=!1,c=!1,h={},p=l("barmode"),g=0;g<o.length;g++){var y=o[g];if(a.traceIs(y,"bar")&&y.visible){if(u=!0,p==="group"){var b=y.xaxis+y.yaxis;h[b]&&(c=!0),h[b]=!0}y.visible&&y.type==="histogram"&&f.getFromId({_fullLayout:n},y[y.orientation==="v"?"xaxis":"yaxis"]).type!=="category"&&(d=!0)}}u?(p!=="overlay"&&l("barnorm"),l("bargap",d&&!c?0:.2),l("bargroupgap")):delete n.barmode}},17295:function(w,s,t){var a=t(39898),f=t(92770),e=t(71828),i=t(63893),r=t(7901),n=t(91424),o=t(73972),l=t(89298).tickText,u=t(72597),d=u.recordMinTextSize,c=u.clearMinTextSize,h=t(16688),p=t(69383),g=t(97313),y=t(1486),b=y.text,m=y.textposition,v=t(23469).appendArrayPointValue,x=g.TEXTPAD;function _(B){return B.id}function T(B){if(B.ids)return _}function C(B,J){return B<J?1:-1}function S(B,J,P,M){var O;return!J.uniformtext.mode&&F(P)?(M&&(O=M()),B.transition().duration(P.duration).ease(P.easing).each("end",function(){O&&O()}).each("interrupt",function(){O&&O()})):B}function F(B){return B&&B.duration>0}function N(B){return B==="auto"?0:B}function D(B,J){var P=Math.PI/180*J,M=Math.abs(Math.sin(P)),O=Math.abs(Math.cos(P));return{x:B.width*O+B.height*M,y:B.width*M+B.height*O}}function j(B,J,P,M,O,q){var tt=!!q.isHorizontal,E=!!q.constrained,z=q.angle||0,Y=q.anchor||"end",Q=Y==="end",nt=Y==="start",et=((q.leftToRight||0)+1)/2,Z=1-et,H=O.width,U=O.height,V=Math.abs(J-B),$=Math.abs(M-P),at=V>2*x&&$>2*x?x:0;V-=2*at,$-=2*at;var rt=N(z);z!=="auto"||H<=V&&U<=$||!(H>V||U>$)||(H>$||U>V)&&H<U==V<$||(rt+=90);var ot=D(O,rt),ct=1;E&&(ct=Math.min(1,V/ot.x,$/ot.y));var ht=O.left*Z+O.right*et,mt=(O.top+O.bottom)/2,kt=(B+x)*Z+(J-x)*et,Ct=(P+M)/2,It=0,pt=0;if(nt||Q){var bt=(tt?ot.x:ot.y)/2,_t=tt?C(B,J):C(P,M);tt?nt?(kt=B+_t*at,It=-_t*bt):(kt=J-_t*at,It=_t*bt):nt?(Ct=P+_t*at,pt=-_t*bt):(Ct=M-_t*at,pt=_t*bt)}return{textX:ht,textY:mt,targetX:kt,targetY:Ct,anchorX:It,anchorY:pt,scale:ct,rotate:rt}}w.exports={plot:function(B,J,P,M,O,q){var tt=J.xaxis,E=J.yaxis,z=B._fullLayout,Y=B._context.staticPlot;O||(O={mode:z.barmode,norm:z.barmode,gap:z.bargap,groupgap:z.bargroupgap},c("bar",z));var Q=e.makeTraceGroups(M,P,"trace bars").each(function(nt){var et=a.select(this),Z=nt[0].trace,H=Z.type==="waterfall",U=Z.type==="funnel",V=Z.type==="bar"||U,$=0;H&&Z.connector.visible&&Z.connector.mode==="between"&&($=Z.connector.line.width/2);var at=Z.orientation==="h",rt=F(O),ot=e.ensureSingle(et,"g","points"),ct=T(Z),ht=ot.selectAll("g.point").data(e.identity,ct);ht.enter().append("g").classed("point",!0),ht.exit().remove(),ht.each(function(kt,Ct){var It,pt,bt=a.select(this),_t=function(Mt,St,Lt,Pt){var zt=[],Xt=[],Gt=Pt?St:Lt,Kt=Pt?Lt:St;return zt[0]=Gt.c2p(Mt.s0,!0),Xt[0]=Kt.c2p(Mt.p0,!0),zt[1]=Gt.c2p(Mt.s1,!0),Xt[1]=Kt.c2p(Mt.p1,!0),Pt?[zt,Xt]:[Xt,zt]}(kt,tt,E,at),Dt=_t[0][0],L=_t[0][1],X=_t[1][0],it=_t[1][1],ft=(at?L-Dt:it-X)==0;if(ft&&V&&p.getLineWidth(Z,kt)&&(ft=!1),ft||(ft=!(f(Dt)&&f(L)&&f(X)&&f(it))),kt.isBlank=ft,ft&&(at?L=Dt:it=X),$&&!ft&&(at?(Dt-=C(Dt,L)*$,L+=C(Dt,L)*$):(X-=C(X,it)*$,it+=C(X,it)*$)),Z.type==="waterfall"){if(!ft){var gt=Z[kt.dir].marker;It=gt.line.width,pt=gt.color}}else It=p.getLineWidth(Z,kt),pt=kt.mc||Z.marker.color;function wt(Mt){var St=a.round(It/2%1,2);return O.gap===0&&O.groupgap===0?a.round(Math.round(Mt)-St,2):Mt}if(!B._context.staticPlot){var xt=r.opacity(pt)<1||It>.01?wt:function(Mt,St,Lt){return Lt&&Mt===St?Mt:Math.abs(Mt-St)>=2?wt(Mt):Mt>St?Math.ceil(Mt):Math.floor(Mt)};Dt=xt(Dt,L,at),L=xt(L,Dt,at),X=xt(X,it,!at),it=xt(it,X,!at)}var Ft=S(e.ensureSingle(bt,"path"),z,O,q);if(Ft.style("vector-effect",Y?"none":"non-scaling-stroke").attr("d",isNaN((L-Dt)*(it-X))||ft&&B._context.staticPlot?"M0,0Z":"M"+Dt+","+X+"V"+it+"H"+L+"V"+X+"Z").call(n.setClipUrl,J.layerClipId,B),!z.uniformtext.mode&&rt){var Bt=n.makePointStyleFns(Z);n.singlePointStyle(kt,Ft,Z,Bt,B)}(function(Mt,St,Lt,Pt,zt,Xt,Gt,Kt,ie,de,Jt){var Nt,Vt=St.xaxis,Zt=St.yaxis,Wt=Mt._fullLayout;function he(xe,me,Te){return e.ensureSingle(xe,"text").text(me).attr({class:"bartext bartext-"+Nt,"text-anchor":"middle","data-notex":1}).call(n.font,Te).call(i.convertToTspans,Mt)}var $t=Pt[0].trace,ye=$t.orientation==="h",se=function(xe,me,Te,we,Ae){var Ye,Re=me[0].trace;return Ye=Re.texttemplate?function(ge,ke,Ee,Oe,Se){var Fe=ke[0].trace,je=e.castOption(Fe,Ee,"texttemplate");if(!je)return"";var Ue,He,Je,Qe,ln=Fe.type==="histogram",rn=Fe.type==="waterfall",We=Fe.type==="funnel",nn=Fe.orientation==="h";function sn(En){return l(Qe,Qe.c2l(En),!0).text}nn?(Ue="y",He=Se,Je="x",Qe=Oe):(Ue="x",He=Oe,Je="y",Qe=Se);var Xe,un=ke[Ee],tn={};tn.label=un.p,tn.labelLabel=tn[Ue+"Label"]=(Xe=un.p,l(He,He.c2l(Xe),!0).text);var vn=e.castOption(Fe,un.i,"text");(vn===0||vn)&&(tn.text=vn),tn.value=un.s,tn.valueLabel=tn[Je+"Label"]=sn(un.s);var fn={};v(fn,Fe,un.i),(ln||fn.x===void 0)&&(fn.x=nn?tn.value:tn.label),(ln||fn.y===void 0)&&(fn.y=nn?tn.label:tn.value),(ln||fn.xLabel===void 0)&&(fn.xLabel=nn?tn.valueLabel:tn.labelLabel),(ln||fn.yLabel===void 0)&&(fn.yLabel=nn?tn.labelLabel:tn.valueLabel),rn&&(tn.delta=+un.rawS||un.s,tn.deltaLabel=sn(tn.delta),tn.final=un.v,tn.finalLabel=sn(tn.final),tn.initial=tn.final-tn.delta,tn.initialLabel=sn(tn.initial)),We&&(tn.value=un.s,tn.valueLabel=sn(tn.value),tn.percentInitial=un.begR,tn.percentInitialLabel=e.formatPercent(un.begR),tn.percentPrevious=un.difR,tn.percentPreviousLabel=e.formatPercent(un.difR),tn.percentTotal=un.sumR,tn.percenTotalLabel=e.formatPercent(un.sumR));var gn=e.castOption(Fe,un.i,"customdata");return gn&&(tn.customdata=gn),e.texttemplateString(je,tn,ge._d3locale,fn,tn,Fe._meta||{})}(xe,me,Te,we,Ae):Re.textinfo?function(ge,ke,Ee,Oe){var Se=ge[0].trace,Fe=Se.orientation==="h",je=Se.type==="waterfall",Ue=Se.type==="funnel";function He(gn){return l(Fe?Ee:Oe,+gn,!0).text}var Je,Qe,ln=Se.textinfo,rn=ge[ke],We=ln.split("+"),nn=[],sn=function(gn){return We.indexOf(gn)!==-1};if(sn("label")&&nn.push((Qe=ge[ke].p,l(Fe?Oe:Ee,Qe,!0).text)),sn("text")&&((Je=e.castOption(Se,rn.i,"text"))===0||Je)&&nn.push(Je),je){var Xe=+rn.rawS||rn.s,un=rn.v,tn=un-Xe;sn("initial")&&nn.push(He(tn)),sn("delta")&&nn.push(He(Xe)),sn("final")&&nn.push(He(un))}if(Ue){sn("value")&&nn.push(He(rn.s));var vn=0;sn("percent initial")&&vn++,sn("percent previous")&&vn++,sn("percent total")&&vn++;var fn=vn>1;sn("percent initial")&&(Je=e.formatPercent(rn.begR),fn&&(Je+=" of initial"),nn.push(Je)),sn("percent previous")&&(Je=e.formatPercent(rn.difR),fn&&(Je+=" of previous"),nn.push(Je)),sn("percent total")&&(Je=e.formatPercent(rn.sumR),fn&&(Je+=" of total"),nn.push(Je))}return nn.join("<br>")}(me,Te,we,Ae):p.getValue(Re.text,Te),p.coerceString(b,Ye)}(Wt,Pt,zt,Vt,Zt);Nt=function(xe,me){var Te=p.getValue(xe.textposition,me);return p.coerceEnumerated(m,Te)}($t,zt);var Pe=de.mode==="stack"||de.mode==="relative",Ce=Pt[zt],Ne=!Pe||Ce._outmost;if(se&&Nt!=="none"&&(!Ce.isBlank&&Xt!==Gt&&Kt!==ie||Nt!=="auto"&&Nt!=="inside")){var yt=Wt.font,vt=h.getBarColor(Pt[zt],$t),Rt=h.getInsideTextFont($t,zt,yt,vt),Ut=h.getOutsideTextFont($t,zt,yt),Ht=Lt.datum();ye?Vt.type==="log"&&Ht.s0<=0&&(Xt=Vt.range[0]<Vt.range[1]?0:Vt._length):Zt.type==="log"&&Ht.s0<=0&&(Kt=Zt.range[0]<Zt.range[1]?Zt._length:0);var Yt,ee,ne,re,ve,fe=Math.abs(Gt-Xt)-2*x,pe=Math.abs(ie-Kt)-2*x;if(Nt==="outside"&&(Ne||Ce.hasB||(Nt="inside")),Nt==="auto"&&(Ne?(Nt="inside",Yt=he(Lt,se,ve=e.ensureUniformFontSize(Mt,Rt)),ne=(ee=n.bBox(Yt.node())).width,re=ee.height,ne>0&&re>0&&(ne<=fe&&re<=pe||ne<=pe&&re<=fe||(ye?fe>=ne*(pe/re):pe>=re*(fe/ne)))?Nt="inside":(Nt="outside",Yt.remove(),Yt=null)):Nt="inside"),!Yt){var ze=(Yt=he(Lt,se,ve=e.ensureUniformFontSize(Mt,Nt==="outside"?Ut:Rt))).attr("transform");if(Yt.attr("transform",""),ne=(ee=n.bBox(Yt.node())).width,re=ee.height,Yt.attr("transform",ze),ne<=0||re<=0)return void Yt.remove()}var Be,Me=$t.textangle;Be=Nt==="outside"?function(xe,me,Te,we,Ae,Ye){var Re,ge=!!Ye.isHorizontal,ke=!!Ye.constrained,Ee=Ye.angle||0,Oe=Ae.width,Se=Ae.height,Fe=Math.abs(me-xe),je=Math.abs(we-Te);Re=ge?je>2*x?x:0:Fe>2*x?x:0;var Ue=1;ke&&(Ue=ge?Math.min(1,je/Se):Math.min(1,Fe/Oe));var He=N(Ee),Je=D(Ae,He),Qe=(ge?Je.x:Je.y)/2,ln=(Ae.left+Ae.right)/2,rn=(Ae.top+Ae.bottom)/2,We=(xe+me)/2,nn=(Te+we)/2,sn=0,Xe=0,un=ge?C(me,xe):C(Te,we);return ge?(We=me-un*Re,sn=un*Qe):(nn=we+un*Re,Xe=-un*Qe),{textX:ln,textY:rn,targetX:We,targetY:nn,anchorX:sn,anchorY:Xe,scale:Ue,rotate:He}}(Xt,Gt,Kt,ie,ee,{isHorizontal:ye,constrained:$t.constraintext==="both"||$t.constraintext==="outside",angle:Me}):j(Xt,Gt,Kt,ie,ee,{isHorizontal:ye,constrained:$t.constraintext==="both"||$t.constraintext==="inside",angle:Me,anchor:$t.insidetextanchor}),Be.fontSize=ve.size,d($t.type==="histogram"?"bar":$t.type,Be,Wt),Ce.transform=Be;var _e=S(Yt,Wt,de,Jt);e.setTransormAndDisplay(_e,Be)}else Lt.select("text").remove()})(B,J,bt,nt,Ct,Dt,L,X,it,O,q),J.layerClipId&&n.hideOutsideRangePoint(kt,bt.select("text"),tt,E,Z.xcalendar,Z.ycalendar)});var mt=Z.cliponaxis===!1;n.setClipUrl(et,mt?null:J.layerClipId,B)});o.getComponentMethod("errorbars","plot")(B,Q,J,O)},toMoveInsideBar:j}},81974:function(w){function s(t,a,f,e,i){var r=a.c2p(e?t.s0:t.p0,!0),n=a.c2p(e?t.s1:t.p1,!0),o=f.c2p(e?t.p0:t.s0,!0),l=f.c2p(e?t.p1:t.s1,!0);return i?[(r+n)/2,(o+l)/2]:e?[n,(o+l)/2]:[(r+n)/2,l]}w.exports=function(t,a){var f,e=t.cd,i=t.xaxis,r=t.yaxis,n=e[0].trace,o=n.type==="funnel",l=n.orientation==="h",u=[];if(a===!1)for(f=0;f<e.length;f++)e[f].selected=0;else for(f=0;f<e.length;f++){var d=e[f],c="ct"in d?d.ct:s(d,i,r,l,o);a.contains(c,!1,f,t)?(u.push({pointNumber:f,x:i.c2d(d.x),y:r.c2d(d.y)}),d.selected=1):d.selected=0}return u}},61546:function(w,s,t){w.exports=f;var a=t(71828).distinctVals;function f(e,i){this.traces=e,this.sepNegVal=i.sepNegVal,this.overlapNoMerge=i.overlapNoMerge;for(var r=1/0,n=i.posAxis._id.charAt(0),o=[],l=0;l<e.length;l++){for(var u=e[l],d=0;d<u.length;d++){var c=u[d],h=c.p;h===void 0&&(h=c[n]),h!==void 0&&o.push(h)}u[0]&&u[0].width1&&(r=Math.min(u[0].width1,r))}this.positions=o;var p=a(o);this.distinctPositions=p.vals,p.vals.length===1&&r!==1/0?this.minDiff=r:this.minDiff=Math.min(p.minDiff,r);var g=(i.posAxis||{}).type;g!=="category"&&g!=="multicategory"||(this.minDiff=1),this.binWidth=this.minDiff,this.bins={}}f.prototype.put=function(e,i){var r=this.getLabel(e,i),n=this.bins[r]||0;return this.bins[r]=n+i,n},f.prototype.get=function(e,i){var r=this.getLabel(e,i);return this.bins[r]||0},f.prototype.getLabel=function(e,i){return(i<0&&this.sepNegVal?"v":"^")+(this.overlapNoMerge?e:Math.round(e/this.binWidth))}},16688:function(w,s,t){var a=t(39898),f=t(7901),e=t(91424),i=t(71828),r=t(73972),n=t(72597).resizeText,o=t(1486),l=o.textfont,u=o.insidetextfont,d=o.outsidetextfont,c=t(69383);function h(_,T,C){e.pointStyle(_.selectAll("path"),T,C),p(_,T,C)}function p(_,T,C){_.selectAll("text").each(function(S){var F=a.select(this),N=i.ensureUniformFontSize(C,g(F,S,T,C));e.font(F,N)})}function g(_,T,C,S){var F=S._fullLayout.font,N=C.textfont;if(_.classed("bartext-inside")){var D=x(T,C);N=b(C,T.i,F,D)}else _.classed("bartext-outside")&&(N=m(C,T.i,F));return N}function y(_,T,C){return v(l,_.textfont,T,C)}function b(_,T,C,S){var F=y(_,T,C);return(_._input.textfont===void 0||_._input.textfont.color===void 0||Array.isArray(_.textfont.color)&&_.textfont.color[T]===void 0)&&(F={color:f.contrast(S),family:F.family,size:F.size}),v(u,_.insidetextfont,T,F)}function m(_,T,C){var S=y(_,T,C);return v(d,_.outsidetextfont,T,S)}function v(_,T,C,S){T=T||{};var F=c.getValue(T.family,C),N=c.getValue(T.size,C),D=c.getValue(T.color,C);return{family:c.coerceString(_.family,F,S.family),size:c.coerceNumber(_.size,N,S.size),color:c.coerceColor(_.color,D,S.color)}}function x(_,T){return T.type==="waterfall"?T[_.dir].marker.color:_.mcc||_.mc||T.marker.color}w.exports={style:function(_){var T=a.select(_).selectAll("g.barlayer").selectAll("g.trace");n(_,T,"bar");var C=T.size(),S=_._fullLayout;T.style("opacity",function(F){return F[0].trace.opacity}).each(function(F){(S.barmode==="stack"&&C>1||S.bargap===0&&S.bargroupgap===0&&!F[0].trace.marker.line.width)&&a.select(this).attr("shape-rendering","crispEdges")}),T.selectAll("g.points").each(function(F){h(a.select(this),F[0].trace,_)}),r.getComponentMethod("errorbars","style")(T)},styleTextPoints:p,styleOnSelect:function(_,T,C){var S=T[0].trace;S.selectedpoints?function(F,N,D){e.selectedPointStyle(F.selectAll("path"),N),function(j,B,J){j.each(function(P){var M,O=a.select(this);if(P.selected){M=i.ensureUniformFontSize(J,g(O,P,B,J));var q=B.selected.textfont&&B.selected.textfont.color;q&&(M.color=q),e.font(O,M)}else e.selectedTextStyle(O,B)})}(F.selectAll("text"),N,D)}(C,S,_):(h(C,S,_),r.getComponentMethod("errorbars","style")(C))},getInsideTextFont:b,getOutsideTextFont:m,getBarColor:x,resizeText:n}},98340:function(w,s,t){var a=t(7901),f=t(52075).hasColorscale,e=t(1586),i=t(71828).coercePattern;w.exports=function(r,n,o,l,u){var d=o("marker.color",l),c=f(r,"marker");c&&e(r,n,u,o,{prefix:"marker.",cLetter:"c"}),o("marker.line.color",a.defaultLine),f(r,"marker.line")&&e(r,n,u,o,{prefix:"marker.line.",cLetter:"c"}),o("marker.line.width"),o("marker.opacity"),i(o,"marker.pattern",d,c),o("selected.marker.color"),o("unselected.marker.color")}},72597:function(w,s,t){var a=t(39898),f=t(71828);function e(i){return"_"+i+"Text_minsize"}w.exports={recordMinTextSize:function(i,r,n){if(n.uniformtext.mode){var o=e(i),l=n.uniformtext.minsize,u=r.scale*r.fontSize;r.hide=u<l,n[o]=n[o]||1/0,r.hide||(n[o]=Math.min(n[o],Math.max(u,l)))}},clearMinTextSize:function(i,r){r[e(i)]=void 0},resizeText:function(i,r,n){var o=i._fullLayout,l=o["_"+n+"Text_minsize"];if(l){var u,d=o.uniformtext.mode==="hide";switch(n){case"funnelarea":case"pie":case"sunburst":u="g.slice";break;case"treemap":case"icicle":u="g.slice, g.pathbar";break;default:u="g.points > g.point"}r.selectAll(u).each(function(c){var h=c.transform;if(h){h.scale=d&&h.hide?0:l/h.fontSize;var p=a.select(this).select("text");f.setTransormAndDisplay(p,h)}})}}}},53522:function(w,s,t){var a=t(82196),f=t(1486),e=t(22399),i=t(12663).axisHoverFormat,r=t(5386).fF,n=t(1426).extendFlat,o=a.marker,l=o.line;w.exports={y:{valType:"data_array",editType:"calc+clearAxisTypes"},x:{valType:"data_array",editType:"calc+clearAxisTypes"},x0:{valType:"any",editType:"calc+clearAxisTypes"},y0:{valType:"any",editType:"calc+clearAxisTypes"},dx:{valType:"number",editType:"calc"},dy:{valType:"number",editType:"calc"},xperiod:a.xperiod,yperiod:a.yperiod,xperiod0:a.xperiod0,yperiod0:a.yperiod0,xperiodalignment:a.xperiodalignment,yperiodalignment:a.yperiodalignment,xhoverformat:i("x"),yhoverformat:i("y"),name:{valType:"string",editType:"calc+clearAxisTypes"},q1:{valType:"data_array",editType:"calc+clearAxisTypes"},median:{valType:"data_array",editType:"calc+clearAxisTypes"},q3:{valType:"data_array",editType:"calc+clearAxisTypes"},lowerfence:{valType:"data_array",editType:"calc"},upperfence:{valType:"data_array",editType:"calc"},notched:{valType:"boolean",editType:"calc"},notchwidth:{valType:"number",min:0,max:.5,dflt:.25,editType:"calc"},notchspan:{valType:"data_array",editType:"calc"},boxpoints:{valType:"enumerated",values:["all","outliers","suspectedoutliers",!1],editType:"calc"},jitter:{valType:"number",min:0,max:1,editType:"calc"},pointpos:{valType:"number",min:-2,max:2,editType:"calc"},boxmean:{valType:"enumerated",values:[!0,"sd",!1],editType:"calc"},mean:{valType:"data_array",editType:"calc"},sd:{valType:"data_array",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},quartilemethod:{valType:"enumerated",values:["linear","exclusive","inclusive"],dflt:"linear",editType:"calc"},width:{valType:"number",min:0,dflt:0,editType:"calc"},marker:{outliercolor:{valType:"color",dflt:"rgba(0, 0, 0, 0)",editType:"style"},symbol:n({},o.symbol,{arrayOk:!1,editType:"plot"}),opacity:n({},o.opacity,{arrayOk:!1,dflt:1,editType:"style"}),angle:n({},o.angle,{arrayOk:!1,editType:"calc"}),size:n({},o.size,{arrayOk:!1,editType:"calc"}),color:n({},o.color,{arrayOk:!1,editType:"style"}),line:{color:n({},l.color,{arrayOk:!1,dflt:e.defaultLine,editType:"style"}),width:n({},l.width,{arrayOk:!1,dflt:0,editType:"style"}),outliercolor:{valType:"color",editType:"style"},outlierwidth:{valType:"number",min:0,dflt:1,editType:"style"},editType:"style"},editType:"plot"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:a.fillcolor,whiskerwidth:{valType:"number",min:0,max:1,dflt:.5,editType:"calc"},offsetgroup:f.offsetgroup,alignmentgroup:f.alignmentgroup,selected:{marker:a.selected.marker,editType:"style"},unselected:{marker:a.unselected.marker,editType:"style"},text:n({},a.text,{}),hovertext:n({},a.hovertext,{}),hovertemplate:r({}),hoveron:{valType:"flaglist",flags:["boxes","points"],dflt:"boxes+points",editType:"style"}}},48518:function(w,s,t){var a=t(92770),f=t(89298),e=t(42973),i=t(71828),r=t(50606).BADNUM,n=i._;w.exports=function(b,m){var v,x,_,T,C,S,F,N=b._fullLayout,D=f.getFromId(b,m.xaxis||"x"),j=f.getFromId(b,m.yaxis||"y"),B=[],J=m.type==="violin"?"_numViolins":"_numBoxes";m.orientation==="h"?(_=D,T="x",C=j,S="y",F=!!m.yperiodalignment):(_=j,T="y",C=D,S="x",F=!!m.xperiodalignment);var P,M,O,q,tt,E,z=function(St,Lt,Pt,zt){var Xt,Gt=Lt+"0"in St;if(Lt in St||Gt&&"d"+Lt in St){var Kt=Pt.makeCalcdata(St,Lt);return[e(St,Pt,Lt,Kt).vals,Kt]}Xt=Gt?St[Lt+"0"]:"name"in St&&(Pt.type==="category"||a(St.name)&&["linear","log"].indexOf(Pt.type)!==-1||i.isDateTime(St.name)&&Pt.type==="date")?St.name:zt;for(var ie=Pt.type==="multicategory"?Pt.r2c_just_indices(Xt):Pt.d2c(Xt,0,St[Lt+"calendar"]),de=St._length,Jt=new Array(de),Nt=0;Nt<de;Nt++)Jt[Nt]=ie;return[Jt]}(m,S,C,N[J]),Y=z[0],Q=z[1],nt=i.distinctVals(Y,C),et=nt.vals,Z=nt.minDiff/2,H=(m.boxpoints||m.points)==="all"?i.identity:function(St){return St.v<P.lf||St.v>P.uf};if(m._hasPreCompStats){var U=m[T],V=function(St){return _.d2c((m[St]||[])[v])},$=1/0,at=-1/0;for(v=0;v<m._length;v++){var rt=Y[v];if(a(rt)){if((P={}).pos=P[S]=rt,F&&Q&&(P.orig_p=Q[v]),P.q1=V("q1"),P.med=V("median"),P.q3=V("q3"),M=[],U&&i.isArrayOrTypedArray(U[v]))for(x=0;x<U[v].length;x++)(E=_.d2c(U[v][x]))!==r&&(l(tt={v:E,i:[v,x]},m,[v,x]),M.push(tt));if(P.pts=M.sort(u),q=(O=P[T]=M.map(d)).length,P.med!==r&&P.q1!==r&&P.q3!==r&&P.med>=P.q1&&P.q3>=P.med){var ot=V("lowerfence");P.lf=ot!==r&&ot<=P.q1?ot:c(P,O,q);var ct=V("upperfence");P.uf=ct!==r&&ct>=P.q3?ct:h(P,O,q);var ht=V("mean");P.mean=ht!==r?ht:q?i.mean(O,q):(P.q1+P.q3)/2;var mt=V("sd");P.sd=ht!==r&&mt>=0?mt:q?i.stdev(O,q,P.mean):P.q3-P.q1,P.lo=p(P),P.uo=g(P);var kt=V("notchspan");kt=kt!==r&&kt>0?kt:y(P,q),P.ln=P.med-kt,P.un=P.med+kt;var Ct=P.lf,It=P.uf;m.boxpoints&&O.length&&(Ct=Math.min(Ct,O[0]),It=Math.max(It,O[q-1])),m.notched&&(Ct=Math.min(Ct,P.ln),It=Math.max(It,P.un)),P.min=Ct,P.max=It}else{var pt;i.warn(["Invalid input - make sure that q1 <= median <= q3","q1 = "+P.q1,"median = "+P.med,"q3 = "+P.q3].join(`
`)),pt=P.med!==r?P.med:P.q1!==r?P.q3!==r?(P.q1+P.q3)/2:P.q1:P.q3!==r?P.q3:0,P.med=pt,P.q1=P.q3=pt,P.lf=P.uf=pt,P.mean=P.sd=pt,P.ln=P.un=pt,P.min=P.max=pt}$=Math.min($,P.min),at=Math.max(at,P.max),P.pts2=M.filter(H),B.push(P)}}m._extremes[_._id]=f.findExtremes(_,[$,at],{padded:!0})}else{var bt=_.makeCalcdata(m,T),_t=function(St,Lt){for(var Pt=St.length,zt=new Array(Pt+1),Xt=0;Xt<Pt;Xt++)zt[Xt]=St[Xt]-Lt;return zt[Pt]=St[Pt-1]+Lt,zt}(et,Z),Dt=et.length,L=function(St){for(var Lt=new Array(St),Pt=0;Pt<St;Pt++)Lt[Pt]=[];return Lt}(Dt);for(v=0;v<m._length;v++)if(E=bt[v],a(E)){var X=i.findBin(Y[v],_t);X>=0&&X<Dt&&(l(tt={v:E,i:v},m,v),L[X].push(tt))}var it=1/0,ft=-1/0,gt=m.quartilemethod,wt=gt==="exclusive",xt=gt==="inclusive";for(v=0;v<Dt;v++)if(L[v].length>0){var Ft,Bt;(P={}).pos=P[S]=et[v],M=P.pts=L[v].sort(u),q=(O=P[T]=M.map(d)).length,P.min=O[0],P.max=O[q-1],P.mean=i.mean(O,q),P.sd=i.stdev(O,q,P.mean),P.med=i.interp(O,.5),q%2&&(wt||xt)?(wt?(Ft=O.slice(0,q/2),Bt=O.slice(q/2+1)):xt&&(Ft=O.slice(0,q/2+1),Bt=O.slice(q/2)),P.q1=i.interp(Ft,.5),P.q3=i.interp(Bt,.5)):(P.q1=i.interp(O,.25),P.q3=i.interp(O,.75)),P.lf=c(P,O,q),P.uf=h(P,O,q),P.lo=p(P),P.uo=g(P);var Mt=y(P,q);P.ln=P.med-Mt,P.un=P.med+Mt,it=Math.min(it,P.ln),ft=Math.max(ft,P.un),P.pts2=M.filter(H),B.push(P)}m._extremes[_._id]=f.findExtremes(_,m.notched?bt.concat([it,ft]):bt,{padded:!0})}return function(St,Lt){if(i.isArrayOrTypedArray(Lt.selectedpoints))for(var Pt=0;Pt<St.length;Pt++){for(var zt=St[Pt].pts||[],Xt={},Gt=0;Gt<zt.length;Gt++)Xt[zt[Gt].i]=Gt;i.tagSelected(zt,Lt,Xt)}}(B,m),B.length>0?(B[0].t={num:N[J],dPos:Z,posLetter:S,valLetter:T,labels:{med:n(b,"median:"),min:n(b,"min:"),q1:n(b,"q1:"),q3:n(b,"q3:"),max:n(b,"max:"),mean:m.boxmean==="sd"?n(b,"mean ± σ:"):n(b,"mean:"),lf:n(b,"lower fence:"),uf:n(b,"upper fence:")}},N[J]++,B):[{t:{empty:!0}}]};var o={text:"tx",hovertext:"htx"};function l(b,m,v){for(var x in o)i.isArrayOrTypedArray(m[x])&&(Array.isArray(v)?i.isArrayOrTypedArray(m[x][v[0]])&&(b[o[x]]=m[x][v[0]][v[1]]):b[o[x]]=m[x][v])}function u(b,m){return b.v-m.v}function d(b){return b.v}function c(b,m,v){return v===0?b.q1:Math.min(b.q1,m[Math.min(i.findBin(2.5*b.q1-1.5*b.q3,m,!0)+1,v-1)])}function h(b,m,v){return v===0?b.q3:Math.max(b.q3,m[Math.max(i.findBin(2.5*b.q3-1.5*b.q1,m),0)])}function p(b){return 4*b.q1-3*b.q3}function g(b){return 4*b.q3-3*b.q1}function y(b,m){return m===0?0:1.57*(b.q3-b.q1)/Math.sqrt(m)}},37188:function(w,s,t){var a=t(89298),f=t(71828),e=t(99082).getAxisGroup,i=["v","h"];function r(n,o,l,u){var d,c,h,p=o.calcdata,g=o._fullLayout,y=u._id,b=y.charAt(0),m=[],v=0;for(d=0;d<l.length;d++)for(h=p[l[d]],c=0;c<h.length;c++)m.push(u.c2l(h[c].pos,!0)),v+=(h[c].pts2||[]).length;if(m.length){var x=f.distinctVals(m);u.type!=="category"&&u.type!=="multicategory"||(x.minDiff=1);var _=x.minDiff/2;a.minDtick(u,x.minDiff,x.vals[0],!0);var T=g[n==="violin"?"_numViolins":"_numBoxes"],C=g[n+"mode"]==="group"&&T>1,S=1-g[n+"gap"],F=1-g[n+"groupgap"];for(d=0;d<l.length;d++){var N,D,j,B,J,P,M=(h=p[l[d]])[0].trace,O=h[0].t,q=M.width,tt=M.side;if(q)N=D=B=q/2,j=0;else if(N=_,C){var E=e(g,u._id)+M.orientation,z=(g._alignmentOpts[E]||{})[M.alignmentgroup]||{},Y=Object.keys(z.offsetGroups||{}).length,Q=Y||T;D=N*S*F/Q,j=2*N*(((Y?M._offsetIndex:O.num)+.5)/Q-.5)*S,B=N*S/Q}else D=N*S*F,j=0,B=N;O.dPos=N,O.bPos=j,O.bdPos=D,O.wHover=B;var nt,et,Z,H,U,V,$=j+D,at=!!q;if(tt==="positive"?(J=N*(q?1:.5),nt=$,P=nt=j):tt==="negative"?(J=nt=j,P=N*(q?1:.5),et=$):(J=P=N,nt=et=$),(M.boxpoints||M.points)&&v>0){var rt=M.pointpos,ot=M.jitter,ct=M.marker.size/2,ht=0;rt+ot>=0&&((ht=$*(rt+ot))>J?(at=!0,U=ct,Z=ht):ht>nt&&(U=ct,Z=J)),ht<=J&&(Z=J);var mt=0;rt-ot<=0&&((mt=-$*(rt-ot))>P?(at=!0,V=ct,H=mt):mt>et&&(V=ct,H=P)),mt<=P&&(H=P)}else Z=J,H=P;var kt=new Array(h.length);for(c=0;c<h.length;c++)kt[c]=h[c].pos;M._extremes[y]=a.findExtremes(u,kt,{padded:at,vpadminus:H,vpadplus:Z,vpadLinearized:!0,ppadminus:{x:V,y:U}[b],ppadplus:{x:U,y:V}[b]})}}}w.exports={crossTraceCalc:function(n,o){for(var l=n.calcdata,u=o.xaxis,d=o.yaxis,c=0;c<i.length;c++){for(var h=i[c],p=h==="h"?d:u,g=[],y=0;y<l.length;y++){var b=l[y],m=b[0].t,v=b[0].trace;v.visible!==!0||v.type!=="box"&&v.type!=="candlestick"||m.empty||(v.orientation||"v")!==h||v.xaxis!==u._id||v.yaxis!==d._id||g.push(y)}r("box",n,g,p)}},setPositionOffset:r}},36411:function(w,s,t){var a=t(71828),f=t(73972),e=t(7901),i=t(73927),r=t(26125),n=t(4322),o=t(53522);function l(d,c,h,p){function g(tt){var E=0;return tt&&tt.length&&(E+=1,a.isArrayOrTypedArray(tt[0])&&tt[0].length&&(E+=1)),E}function y(tt){return a.validate(d[tt],o[tt])}var b,m=h("y"),v=h("x");if(c.type==="box"){var x=h("q1"),_=h("median"),T=h("q3");c._hasPreCompStats=x&&x.length&&_&&_.length&&T&&T.length,b=Math.min(a.minRowLength(x),a.minRowLength(_),a.minRowLength(T))}var C,S,F=g(m),N=g(v),D=F&&a.minRowLength(m),j=N&&a.minRowLength(v),B=p.calendar,J={autotypenumbers:p.autotypenumbers};if(c._hasPreCompStats)switch(String(N)+String(F)){case"00":var P=y("x0")||y("dx");C=!y("y0")&&!y("dy")||P?"v":"h",S=b;break;case"10":C="v",S=Math.min(b,j);break;case"20":C="h",S=Math.min(b,v.length);break;case"01":C="h",S=Math.min(b,D);break;case"02":C="v",S=Math.min(b,m.length);break;case"12":C="v",S=Math.min(b,j,m.length);break;case"21":C="h",S=Math.min(b,v.length,D);break;case"11":S=0;break;case"22":var M,O=!1;for(M=0;M<v.length;M++)if(n(v[M],B,J)==="category"){O=!0;break}if(O)C="v",S=Math.min(b,j,m.length);else{for(M=0;M<m.length;M++)if(n(m[M],B,J)==="category"){O=!0;break}O?(C="h",S=Math.min(b,v.length,D)):(C="v",S=Math.min(b,j,m.length))}}else F>0?(C="v",S=N>0?Math.min(j,D):Math.min(D)):N>0?(C="h",S=Math.min(j)):S=0;if(S){c._length=S;var q=h("orientation",C);c._hasPreCompStats?q==="v"&&N===0?(h("x0",0),h("dx",1)):q==="h"&&F===0&&(h("y0",0),h("dy",1)):q==="v"&&N===0?h("x0"):q==="h"&&F===0&&h("y0"),f.getComponentMethod("calendars","handleTraceDefaults")(d,c,["x","y"],p)}else c.visible=!1}function u(d,c,h,p){var g=p.prefix,y=a.coerce2(d,c,o,"marker.outliercolor"),b=h("marker.line.outliercolor"),m="outliers";c._hasPreCompStats?m="all":(y||b)&&(m="suspectedoutliers");var v=h(g+"points",m);v?(h("jitter",v==="all"?.3:0),h("pointpos",v==="all"?-1.5:0),h("marker.symbol"),h("marker.opacity"),h("marker.size"),h("marker.angle"),h("marker.color",c.line.color),h("marker.line.color"),h("marker.line.width"),v==="suspectedoutliers"&&(h("marker.line.outliercolor",c.marker.color),h("marker.line.outlierwidth")),h("selected.marker.color"),h("unselected.marker.color"),h("selected.marker.size"),h("unselected.marker.size"),h("text"),h("hovertext")):delete c.marker;var x=h("hoveron");x!=="all"&&x.indexOf("points")===-1||h("hovertemplate"),a.coerceSelectionMarkerOpacity(c,h)}w.exports={supplyDefaults:function(d,c,h,p){function g(T,C){return a.coerce(d,c,o,T,C)}if(l(d,c,g,p),c.visible!==!1){i(d,c,p,g),g("xhoverformat"),g("yhoverformat");var y=c._hasPreCompStats;y&&(g("lowerfence"),g("upperfence")),g("line.color",(d.marker||{}).color||h),g("line.width"),g("fillcolor",e.addOpacity(c.line.color,.5));var b=!1;if(y){var m=g("mean"),v=g("sd");m&&m.length&&(b=!0,v&&v.length&&(b="sd"))}g("boxmean",b),g("whiskerwidth"),g("width"),g("quartilemethod");var x=!1;if(y){var _=g("notchspan");_&&_.length&&(x=!0)}else a.validate(d.notchwidth,o.notchwidth)&&(x=!0);g("notched",x)&&g("notchwidth"),u(d,c,g,{prefix:"box"})}},crossTraceDefaults:function(d,c){var h,p;function g(m){return a.coerce(p._input,p,o,m)}for(var y=0;y<d.length;y++){var b=(p=d[y]).type;b!=="box"&&b!=="violin"||(h=p._input,c[b+"mode"]==="group"&&r(h,p,c,g))}},handleSampleDefaults:l,handlePointsDefaults:u}},74907:function(w){w.exports=function(s,t){return t.hoverOnBox&&(s.hoverOnBox=t.hoverOnBox),"xVal"in t&&(s.x=t.xVal),"yVal"in t&&(s.y=t.yVal),t.xa&&(s.xaxis=t.xa),t.ya&&(s.yaxis=t.ya),s}},41868:function(w,s,t){var a=t(89298),f=t(71828),e=t(30211),i=t(7901),r=f.fillText;function n(l,u,d,c){var h,p,g,y,b,m,v,x,_,T,C,S,F,N,D=l.cd,j=l.xa,B=l.ya,J=D[0].trace,P=D[0].t,M=J.type==="violin",O=P.bdPos,q=P.wHover,tt=function(pt){return g.c2l(pt.pos)+P.bPos-g.c2l(m)};M&&J.side!=="both"?(J.side==="positive"&&(_=function(pt){var bt=tt(pt);return e.inbox(bt,bt+q,T)},S=O,F=0),J.side==="negative"&&(_=function(pt){var bt=tt(pt);return e.inbox(bt-q,bt,T)},S=0,F=O)):(_=function(pt){var bt=tt(pt);return e.inbox(bt-q,bt+q,T)},S=F=O),N=M?function(pt){return e.inbox(pt.span[0]-b,pt.span[1]-b,T)}:function(pt){return e.inbox(pt.min-b,pt.max-b,T)},J.orientation==="h"?(b=u,m=d,v=N,x=_,h="y",g=B,p="x",y=j):(b=d,m=u,v=_,x=N,h="x",g=j,p="y",y=B);var E=Math.min(1,O/Math.abs(g.r2c(g.range[1])-g.r2c(g.range[0])));function z(pt){return(v(pt)+x(pt))/2}T=l.maxHoverDistance-E,C=l.maxSpikeDistance-E;var Y=e.getDistanceFunction(c,v,x,z);if(e.getClosest(D,Y,l),l.index===!1)return[];var Q=D[l.index],nt=J.line.color,et=(J.marker||{}).color;i.opacity(nt)&&J.line.width?l.color=nt:i.opacity(et)&&J.boxpoints?l.color=et:l.color=J.fillcolor,l[h+"0"]=g.c2p(Q.pos+P.bPos-F,!0),l[h+"1"]=g.c2p(Q.pos+P.bPos+S,!0),l[h+"LabelVal"]=Q.orig_p!==void 0?Q.orig_p:Q.pos;var Z=h+"Spike";l.spikeDistance=z(Q)*C/T,l[Z]=g.c2p(Q.pos,!0);var H=J.boxmean||(J.meanline||{}).visible,U=J.boxpoints||J.points,V=U&&H?["max","uf","q3","med","mean","q1","lf","min"]:U&&!H?["max","uf","q3","med","q1","lf","min"]:!U&&H?["max","q3","med","mean","q1","min"]:["max","q3","med","q1","min"],$=y.range[1]<y.range[0];J.orientation===($?"v":"h")&&V.reverse();for(var at=l.spikeDistance,rt=l[Z],ot=[],ct=0;ct<V.length;ct++){var ht=V[ct];if(ht in Q){var mt=Q[ht],kt=y.c2p(mt,!0),Ct=f.extendFlat({},l);Ct.attr=ht,Ct[p+"0"]=Ct[p+"1"]=kt,Ct[p+"LabelVal"]=mt,Ct[p+"Label"]=(P.labels?P.labels[ht]+" ":"")+a.hoverLabelText(y,mt,J[p+"hoverformat"]),Ct.hoverOnBox=!0,ht==="mean"&&"sd"in Q&&J.boxmean==="sd"&&(Ct[p+"err"]=Q.sd),Ct.hovertemplate=!1,ot.push(Ct)}}l.name="",l.spikeDistance=void 0,l[Z]=void 0;for(var It=0;It<ot.length;It++)ot[It].attr!=="med"?(ot[It].name="",ot[It].spikeDistance=void 0,ot[It][Z]=void 0):(ot[It].spikeDistance=at,ot[It][Z]=rt);return ot}function o(l,u,d){for(var c,h,p,g=l.cd,y=l.xa,b=l.ya,m=g[0].trace,v=y.c2p(u),x=b.c2p(d),_=e.quadrature(function(M){var O=Math.max(3,M.mrc||0);return Math.max(Math.abs(y.c2p(M.x)-v)-O,1-3/O)},function(M){var O=Math.max(3,M.mrc||0);return Math.max(Math.abs(b.c2p(M.y)-x)-O,1-3/O)}),T=!1,C=0;C<g.length;C++){h=g[C];for(var S=0;S<(h.pts||[]).length;S++){var F=_(p=h.pts[S]);F<=l.distance&&(l.distance=F,T=[C,S])}}if(!T)return!1;p=(h=g[T[0]]).pts[T[1]];var N=y.c2p(p.x,!0),D=b.c2p(p.y,!0),j=p.mrc||1;c=f.extendFlat({},l,{index:p.i,color:(m.marker||{}).color,name:m.name,x0:N-j,x1:N+j,y0:D-j,y1:D+j,spikeDistance:l.distance,hovertemplate:m.hovertemplate});var B,J=h.orig_p,P=J!==void 0?J:h.pos;return m.orientation==="h"?(B=b,c.xLabelVal=p.x,c.yLabelVal=P):(B=y,c.xLabelVal=P,c.yLabelVal=p.y),c[B._id.charAt(0)+"Spike"]=B.c2p(h.pos,!0),r(p,m,c),c}w.exports={hoverPoints:function(l,u,d,c){var h,p=l.cd[0].trace.hoveron,g=[];return p.indexOf("boxes")!==-1&&(g=g.concat(n(l,u,d,c))),p.indexOf("points")!==-1&&(h=o(l,u,d)),c==="closest"?h?[h]:g:(h&&g.push(h),g)},hoverOnBoxes:n,hoverOnPoints:o}},83832:function(w,s,t){w.exports={attributes:t(53522),layoutAttributes:t(40094),supplyDefaults:t(36411).supplyDefaults,crossTraceDefaults:t(36411).crossTraceDefaults,supplyLayoutDefaults:t(4199).supplyLayoutDefaults,calc:t(48518),crossTraceCalc:t(37188).crossTraceCalc,plot:t(86047).plot,style:t(58063).style,styleOnSelect:t(58063).styleOnSelect,hoverPoints:t(41868).hoverPoints,eventData:t(74907),selectPoints:t(24626),moduleType:"trace",name:"box",basePlotModule:t(93612),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","boxLayout","zoomScale"],meta:{}}},40094:function(w){w.exports={boxmode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},boxgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"},boxgroupgap:{valType:"number",min:0,max:1,dflt:.3,editType:"calc"}}},4199:function(w,s,t){var a=t(73972),f=t(71828),e=t(40094);function i(r,n,o,l,u){for(var d=u+"Layout",c=!1,h=0;h<o.length;h++){var p=o[h];if(a.traceIs(p,d)){c=!0;break}}c&&(l(u+"mode"),l(u+"gap"),l(u+"groupgap"))}w.exports={supplyLayoutDefaults:function(r,n,o){i(0,0,o,function(l,u){return f.coerce(r,n,e,l,u)},"box")},_supply:i}},86047:function(w,s,t){var a=t(39898),f=t(71828),e=t(91424);function i(o,l,u,d,c){var h,p,g=u.orientation==="h",y=l.val,b=l.pos,m=!!b.rangebreaks,v=d.bPos,x=d.wdPos||0,_=d.bPosPxOffset||0,T=u.whiskerwidth||0,C=u.notched||!1,S=C?1-2*u.notchwidth:1;Array.isArray(d.bdPos)?(h=d.bdPos[0],p=d.bdPos[1]):(h=d.bdPos,p=d.bdPos);var F=o.selectAll("path.box").data(u.type!=="violin"||u.box.visible?f.identity:[]);F.enter().append("path").style("vector-effect",c?"none":"non-scaling-stroke").attr("class","box"),F.exit().remove(),F.each(function(N){if(N.empty)return"M0,0Z";var D=b.c2l(N.pos+v,!0),j=b.l2p(D-h)+_,B=b.l2p(D+p)+_,J=m?(j+B)/2:b.l2p(D)+_,P=u.whiskerwidth,M=m?j*P+(1-P)*J:b.l2p(D-x)+_,O=m?B*P+(1-P)*J:b.l2p(D+x)+_,q=b.l2p(D-h*S)+_,tt=b.l2p(D+p*S)+_,E=y.c2p(N.q1,!0),z=y.c2p(N.q3,!0),Y=f.constrain(y.c2p(N.med,!0),Math.min(E,z)+1,Math.max(E,z)-1),Q=N.lf===void 0||u.boxpoints===!1,nt=y.c2p(Q?N.min:N.lf,!0),et=y.c2p(Q?N.max:N.uf,!0),Z=y.c2p(N.ln,!0),H=y.c2p(N.un,!0);g?a.select(this).attr("d","M"+Y+","+q+"V"+tt+"M"+E+","+j+"V"+B+(C?"H"+Z+"L"+Y+","+tt+"L"+H+","+B:"")+"H"+z+"V"+j+(C?"H"+H+"L"+Y+","+q+"L"+Z+","+j:"")+"ZM"+E+","+J+"H"+nt+"M"+z+","+J+"H"+et+(T===0?"":"M"+nt+","+M+"V"+O+"M"+et+","+M+"V"+O)):a.select(this).attr("d","M"+q+","+Y+"H"+tt+"M"+j+","+E+"H"+B+(C?"V"+Z+"L"+tt+","+Y+"L"+B+","+H:"")+"V"+z+"H"+j+(C?"V"+H+"L"+q+","+Y+"L"+j+","+Z:"")+"ZM"+J+","+E+"V"+nt+"M"+J+","+z+"V"+et+(T===0?"":"M"+M+","+nt+"H"+O+"M"+M+","+et+"H"+O))})}function r(o,l,u,d){var c=l.x,h=l.y,p=d.bdPos,g=d.bPos,y=u.boxpoints||u.points;f.seedPseudoRandom();var b=o.selectAll("g.points").data(y?function(v){return v.forEach(function(x){x.t=d,x.trace=u}),v}:[]);b.enter().append("g").attr("class","points"),b.exit().remove();var m=b.selectAll("path").data(function(v){var x,_,T=v.pts2,C=Math.max((v.max-v.min)/10,v.q3-v.q1),S=1e-9*C,F=.01*C,N=[],D=0;if(u.jitter){if(C===0)for(D=1,N=new Array(T.length),x=0;x<T.length;x++)N[x]=1;else for(x=0;x<T.length;x++){var j=Math.max(0,x-5),B=T[j].v,J=Math.min(T.length-1,x+5),P=T[J].v;y!=="all"&&(T[x].v<v.lf?P=Math.min(P,v.lf):B=Math.max(B,v.uf));var M=Math.sqrt(F*(J-j)/(P-B+S))||0;M=f.constrain(Math.abs(M),0,1),N.push(M),D=Math.max(M,D)}_=2*u.jitter/(D||1)}for(x=0;x<T.length;x++){var O=T[x],q=O.v,tt=u.jitter?_*N[x]*(f.pseudoRandom()-.5):0,E=v.pos+g+p*(u.pointpos+tt);u.orientation==="h"?(O.y=E,O.x=q):(O.x=E,O.y=q),y==="suspectedoutliers"&&q<v.uo&&q>v.lo&&(O.so=!0)}return T});m.enter().append("path").classed("point",!0),m.exit().remove(),m.call(e.translatePoints,c,h)}function n(o,l,u,d){var c,h,p=l.val,g=l.pos,y=!!g.rangebreaks,b=d.bPos,m=d.bPosPxOffset||0,v=u.boxmean||(u.meanline||{}).visible;Array.isArray(d.bdPos)?(c=d.bdPos[0],h=d.bdPos[1]):(c=d.bdPos,h=d.bdPos);var x=o.selectAll("path.mean").data(u.type==="box"&&u.boxmean||u.type==="violin"&&u.box.visible&&u.meanline.visible?f.identity:[]);x.enter().append("path").attr("class","mean").style({fill:"none","vector-effect":"non-scaling-stroke"}),x.exit().remove(),x.each(function(_){var T=g.c2l(_.pos+b,!0),C=g.l2p(T-c)+m,S=g.l2p(T+h)+m,F=y?(C+S)/2:g.l2p(T)+m,N=p.c2p(_.mean,!0),D=p.c2p(_.mean-_.sd,!0),j=p.c2p(_.mean+_.sd,!0);u.orientation==="h"?a.select(this).attr("d","M"+N+","+C+"V"+S+(v==="sd"?"m0,0L"+D+","+F+"L"+N+","+C+"L"+j+","+F+"Z":"")):a.select(this).attr("d","M"+C+","+N+"H"+S+(v==="sd"?"m0,0L"+F+","+D+"L"+C+","+N+"L"+F+","+j+"Z":""))})}w.exports={plot:function(o,l,u,d){var c=o._context.staticPlot,h=l.xaxis,p=l.yaxis;f.makeTraceGroups(d,u,"trace boxes").each(function(g){var y,b,m=a.select(this),v=g[0],x=v.t,_=v.trace;x.wdPos=x.bdPos*_.whiskerwidth,_.visible!==!0||x.empty?m.remove():(_.orientation==="h"?(y=p,b=h):(y=h,b=p),i(m,{pos:y,val:b},_,x,c),r(m,{x:h,y:p},_,x),n(m,{pos:y,val:b},_,x))})},plotBoxAndWhiskers:i,plotPoints:r,plotBoxMean:n}},24626:function(w){w.exports=function(s,t){var a,f,e=s.cd,i=s.xaxis,r=s.yaxis,n=[];if(t===!1)for(a=0;a<e.length;a++)for(f=0;f<(e[a].pts||[]).length;f++)e[a].pts[f].selected=0;else for(a=0;a<e.length;a++)for(f=0;f<(e[a].pts||[]).length;f++){var o=e[a].pts[f],l=i.c2p(o.x),u=r.c2p(o.y);t.contains([l,u],null,o.i,s)?(n.push({pointNumber:o.i,x:i.c2d(o.x),y:r.c2d(o.y)}),o.selected=1):o.selected=0}return n}},58063:function(w,s,t){var a=t(39898),f=t(7901),e=t(91424);w.exports={style:function(i,r,n){var o=n||a.select(i).selectAll("g.trace.boxes");o.style("opacity",function(l){return l[0].trace.opacity}),o.each(function(l){var u=a.select(this),d=l[0].trace,c=d.line.width;function h(y,b,m,v){y.style("stroke-width",b+"px").call(f.stroke,m).call(f.fill,v)}var p=u.selectAll("path.box");if(d.type==="candlestick")p.each(function(y){if(!y.empty){var b=a.select(this),m=d[y.dir];h(b,m.line.width,m.line.color,m.fillcolor),b.style("opacity",d.selectedpoints&&!y.selected?.3:1)}});else{h(p,c,d.line.color,d.fillcolor),u.selectAll("path.mean").style({"stroke-width":c,"stroke-dasharray":2*c+"px,"+c+"px"}).call(f.stroke,d.line.color);var g=u.selectAll("path.point");e.pointStyle(g,d,i)}})},styleOnSelect:function(i,r,n){var o=r[0].trace,l=n.selectAll("path.point");o.selectedpoints?e.selectedPointStyle(l,o):e.pointStyle(l,o,i)}}},70600:function(w,s,t){var a=t(21606),f=t(82196),e=t(12663),i=e.axisHoverFormat,r=e.descriptionOnlyNumbers,n=t(50693),o=t(79952).P,l=t(41940),u=t(1426).extendFlat,d=t(74808),c=d.COMPARISON_OPS2,h=d.INTERVAL_OPS,p=f.line;w.exports=u({z:a.z,x:a.x,x0:a.x0,dx:a.dx,y:a.y,y0:a.y0,dy:a.dy,xperiod:a.xperiod,yperiod:a.yperiod,xperiod0:f.xperiod0,yperiod0:f.yperiod0,xperiodalignment:a.xperiodalignment,yperiodalignment:a.yperiodalignment,text:a.text,hovertext:a.hovertext,transpose:a.transpose,xtype:a.xtype,ytype:a.ytype,xhoverformat:i("x"),yhoverformat:i("y"),zhoverformat:i("z",1),hovertemplate:a.hovertemplate,texttemplate:u({},a.texttemplate,{}),textfont:u({},a.textfont,{}),hoverongaps:a.hoverongaps,connectgaps:u({},a.connectgaps,{}),fillcolor:{valType:"color",editType:"calc"},autocontour:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{"contours.start":void 0,"contours.end":void 0,"contours.size":void 0}},ncontours:{valType:"integer",dflt:15,min:1,editType:"calc"},contours:{type:{valType:"enumerated",values:["levels","constraint"],dflt:"levels",editType:"calc"},start:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},end:{valType:"number",dflt:null,editType:"plot",impliedEdits:{"^autocontour":!1}},size:{valType:"number",dflt:null,min:0,editType:"plot",impliedEdits:{"^autocontour":!1}},coloring:{valType:"enumerated",values:["fill","heatmap","lines","none"],dflt:"fill",editType:"calc"},showlines:{valType:"boolean",dflt:!0,editType:"plot"},showlabels:{valType:"boolean",dflt:!1,editType:"plot"},labelfont:l({editType:"plot",colorEditType:"style"}),labelformat:{valType:"string",dflt:"",editType:"plot",description:r("contour label")},operation:{valType:"enumerated",values:[].concat(c).concat(h),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},editType:"calc",impliedEdits:{autocontour:!1}},line:{color:u({},p.color,{editType:"style+colorbars"}),width:{valType:"number",min:0,editType:"style+colorbars"},dash:o,smoothing:u({},p.smoothing,{}),editType:"plot"}},n("",{cLetter:"z",autoColorDflt:!1,editTypeOverride:"calc"}))},27529:function(w,s,t){var a=t(21081),f=t(90757),e=t(18670),i=t(53572);w.exports=function(r,n){var o=f(r,n),l=o[0].z;e(n,l);var u,d=n.contours,c=a.extractOpts(n);if(d.coloring==="heatmap"&&c.auto&&n.autocontour===!1){var h=d.start,p=i(d),g=d.size||1,y=Math.floor((p-h)/g)+1;isFinite(g)||(g=1,y=1);var b=h-g/2;u=[b,b+y*g]}else u=l;return a.calc(r,n,{vals:u,cLetter:"z"}),o}},20083:function(w){w.exports=function(s,t){var a,f=s[0],e=f.z;switch(t.type){case"levels":var i=Math.min(e[0][0],e[0][1]);for(a=0;a<s.length;a++){var r=s[a];r.prefixBoundary=!r.edgepaths.length&&(i>r.level||r.starts.length&&i===r.level)}break;case"constraint":if(f.prefixBoundary=!1,f.edgepaths.length)return;var n=f.x.length,o=f.y.length,l=-1/0,u=1/0;for(a=0;a<o;a++)u=Math.min(u,e[a][0]),u=Math.min(u,e[a][n-1]),l=Math.max(l,e[a][0]),l=Math.max(l,e[a][n-1]);for(a=1;a<n-1;a++)u=Math.min(u,e[0][a]),u=Math.min(u,e[o-1][a]),l=Math.max(l,e[0][a]),l=Math.max(l,e[o-1][a]);var d,c,h=t.value;switch(t._operation){case">":h>l&&(f.prefixBoundary=!0);break;case"<":(h<u||f.starts.length&&h===u)&&(f.prefixBoundary=!0);break;case"[]":d=Math.min(h[0],h[1]),((c=Math.max(h[0],h[1]))<u||d>l||f.starts.length&&c===u)&&(f.prefixBoundary=!0);break;case"][":d=Math.min(h[0],h[1]),c=Math.max(h[0],h[1]),d<u&&c>l&&(f.prefixBoundary=!0)}}}},90654:function(w,s,t){var a=t(21081),f=t(86068),e=t(53572);w.exports={min:"zmin",max:"zmax",calc:function(i,r,n){var o=r.contours,l=r.line,u=o.size||1,d=o.coloring,c=f(r,{isColorbar:!0});if(d==="heatmap"){var h=a.extractOpts(r);n._fillgradient=h.reversescale?a.flipScale(h.colorscale):h.colorscale,n._zrange=[h.min,h.max]}else d==="fill"&&(n._fillcolor=c);n._line={color:d==="lines"?c:l.color,width:o.showlines!==!1?l.width:0,dash:l.dash},n._levels={start:o.start,end:e(o),size:u}}}},36914:function(w){w.exports={BOTTOMSTART:[1,9,13,104,713],TOPSTART:[4,6,7,104,713],LEFTSTART:[8,12,14,208,1114],RIGHTSTART:[2,3,11,208,1114],NEWDELTA:[null,[-1,0],[0,-1],[-1,0],[1,0],null,[0,-1],[-1,0],[0,1],[0,1],null,[0,1],[1,0],[1,0],[0,-1]],CHOOSESADDLE:{104:[4,1],208:[2,8],713:[7,13],1114:[11,14]},SADDLEREMAINDER:{1:4,2:8,4:1,7:13,8:2,11:14,13:7,14:11},LABELDISTANCE:2,LABELINCREASE:10,LABELMIN:3,LABELMAX:10,LABELOPTIMIZER:{EDGECOST:1,ANGLECOST:1,NEIGHBORCOST:5,SAMELEVELFACTOR:10,SAMELEVELDISTANCE:5,MAXCOST:100,INITIALSEARCHPOINTS:10,ITERATIONS:5}}},83179:function(w,s,t){var a=t(92770),f=t(14523),e=t(7901),i=e.addOpacity,r=e.opacity,n=t(74808),o=n.CONSTRAINT_REDUCTION,l=n.COMPARISON_OPS2;w.exports=function(u,d,c,h,p,g){var y,b,m,v=d.contours,x=c("contours.operation");v._operation=o[x],function(_,T){var C;l.indexOf(T.operation)===-1?(_("contours.value",[0,1]),Array.isArray(T.value)?T.value.length>2?T.value=T.value.slice(2):T.length===0?T.value=[0,1]:T.length<2?(C=parseFloat(T.value[0]),T.value=[C,C+1]):T.value=[parseFloat(T.value[0]),parseFloat(T.value[1])]:a(T.value)&&(C=parseFloat(T.value),T.value=[C,C+1])):(_("contours.value",0),a(T.value)||(Array.isArray(T.value)?T.value=parseFloat(T.value[0]):T.value=0))}(c,v),x==="="?y=v.showlines=!0:(y=c("contours.showlines"),m=c("fillcolor",i((u.line||{}).color||p,.5))),y&&(b=c("line.color",m&&r(m)?i(d.fillcolor,1):p),c("line.width",2),c("line.dash")),c("line.smoothing"),f(c,h,b,g)}},64237:function(w,s,t){var a=t(74808),f=t(92770);function e(n,o){var l,u=Array.isArray(o);function d(c){return f(c)?+c:null}return a.COMPARISON_OPS2.indexOf(n)!==-1?l=d(u?o[0]:o):a.INTERVAL_OPS.indexOf(n)!==-1?l=u?[d(o[0]),d(o[1])]:[d(o),d(o)]:a.SET_OPS.indexOf(n)!==-1&&(l=u?o.map(d):[d(o)]),l}function i(n){return function(o){o=e(n,o);var l=Math.min(o[0],o[1]),u=Math.max(o[0],o[1]);return{start:l,end:u,size:u-l}}}function r(n){return function(o){return{start:o=e(n,o),end:1/0,size:1/0}}}w.exports={"[]":i("[]"),"][":i("]["),">":r(">"),"<":r("<"),"=":r("=")}},67217:function(w){w.exports=function(s,t,a,f){var e=f("contours.start"),i=f("contours.end"),r=e===!1||i===!1,n=a("contours.size");!(r?t.autocontour=!0:a("autocontour",!1))&&n||a("ncontours")}},84857:function(w,s,t){var a=t(71828);function f(e){return a.extendFlat({},e,{edgepaths:a.extendDeep([],e.edgepaths),paths:a.extendDeep([],e.paths),starts:a.extendDeep([],e.starts)})}w.exports=function(e,i){var r,n,o,l=function(c){return c.reverse()},u=function(c){return c};switch(i){case"=":case"<":return e;case">":for(e.length!==1&&a.warn("Contour data invalid for the specified inequality operation."),n=e[0],r=0;r<n.edgepaths.length;r++)n.edgepaths[r]=l(n.edgepaths[r]);for(r=0;r<n.paths.length;r++)n.paths[r]=l(n.paths[r]);for(r=0;r<n.starts.length;r++)n.starts[r]=l(n.starts[r]);return e;case"][":var d=l;l=u,u=d;case"[]":for(e.length!==2&&a.warn("Contour data invalid for the specified inequality range operation."),n=f(e[0]),o=f(e[1]),r=0;r<n.edgepaths.length;r++)n.edgepaths[r]=l(n.edgepaths[r]);for(r=0;r<n.paths.length;r++)n.paths[r]=l(n.paths[r]);for(r=0;r<n.starts.length;r++)n.starts[r]=l(n.starts[r]);for(;o.edgepaths.length;)n.edgepaths.push(u(o.edgepaths.shift()));for(;o.paths.length;)n.paths.push(u(o.paths.shift()));for(;o.starts.length;)n.starts.push(u(o.starts.shift()));return[n]}}},13031:function(w,s,t){var a=t(71828),f=t(67684),e=t(73927),i=t(83179),r=t(67217),n=t(8724),o=t(58623),l=t(70600);w.exports=function(u,d,c,h){function p(y,b){return a.coerce(u,d,l,y,b)}if(f(u,d,p,h)){e(u,d,h,p),p("xhoverformat"),p("yhoverformat"),p("text"),p("hovertext"),p("hoverongaps"),p("hovertemplate");var g=p("contours.type")==="constraint";p("connectgaps",a.isArray1D(d.z)),g?i(u,d,p,h,c):(r(u,d,p,function(y){return a.coerce2(u,d,l,y)}),n(u,d,p,h)),d.contours&&d.contours.coloring==="heatmap"&&o(p,h)}else d.visible=!1}},87558:function(w,s,t){var a=t(71828),f=t(64237),e=t(53572);w.exports=function(i,r,n){for(var o=i.type==="constraint"?f[i._operation](i.value):i,l=o.size,u=[],d=e(o),c=n.trace._carpetTrace,h=c?{xaxis:c.aaxis,yaxis:c.baxis,x:n.a,y:n.b}:{xaxis:r.xaxis,yaxis:r.yaxis,x:n.x,y:n.y},p=o.start;p<d;p+=l)if(u.push(a.extendFlat({level:p,crossings:{},starts:[],edgepaths:[],paths:[],z:n.z,smoothing:n.trace.line.smoothing},h)),u.length>1e3){a.warn("Too many contours, clipping at 1000",i);break}return u}},53572:function(w){w.exports=function(s){return s.end+s.size/1e6}},81696:function(w,s,t){var a=t(71828),f=t(36914);function e(n,o,l,u){return Math.abs(n[0]-o[0])<l&&Math.abs(n[1]-o[1])<u}function i(n,o,l,u,d){var c,h=o.join(","),p=n.crossings[h],g=function($,at,rt){var ot=0,ct=0;return $>20&&at?$===208||$===1114?ot=rt[0]===0?1:-1:ct=rt[1]===0?1:-1:f.BOTTOMSTART.indexOf($)!==-1?ct=1:f.LEFTSTART.indexOf($)!==-1?ot=1:f.TOPSTART.indexOf($)!==-1?ct=-1:ot=-1,[ot,ct]}(p,l,o),y=[r(n,o,[-g[0],-g[1]])],b=n.z.length,m=n.z[0].length,v=o.slice(),x=g.slice();for(c=0;c<1e4;c++){if(p>20?(p=f.CHOOSESADDLE[p][(g[0]||g[1])<0?0:1],n.crossings[h]=f.SADDLEREMAINDER[p]):delete n.crossings[h],!(g=f.NEWDELTA[p])){a.log("Found bad marching index:",p,o,n.level);break}y.push(r(n,o,g)),o[0]+=g[0],o[1]+=g[1],h=o.join(","),e(y[y.length-1],y[y.length-2],u,d)&&y.pop();var _=g[0]&&(o[0]<0||o[0]>m-2)||g[1]&&(o[1]<0||o[1]>b-2);if(o[0]===v[0]&&o[1]===v[1]&&g[0]===x[0]&&g[1]===x[1]||l&&_)break;p=n.crossings[h]}c===1e4&&a.log("Infinite loop in contour?");var T,C,S,F,N,D,j,B,J,P,M,O,q,tt,E,z=e(y[0],y[y.length-1],u,d),Y=0,Q=.2*n.smoothing,nt=[],et=0;for(c=1;c<y.length;c++)O=y[c],q=y[c-1],tt=O[2]-q[2],E=O[3]-q[3],Y+=j=Math.sqrt(tt*tt+E*E),nt.push(j);var Z=Y/nt.length*Q;function H($){return y[$%y.length]}for(c=y.length-2;c>=et;c--)if((T=nt[c])<Z){for(S=0,C=c-1;C>=et&&T+nt[C]<Z;C--)T+=nt[C];if(z&&c===y.length-2)for(S=0;S<C&&T+nt[S]<Z;S++)T+=nt[S];N=c-C+S+1,D=Math.floor((c+C+S+2)/2),F=z||c!==y.length-2?z||C!==-1?N%2?H(D):[(H(D)[0]+H(D+1)[0])/2,(H(D)[1]+H(D+1)[1])/2]:y[0]:y[y.length-1],y.splice(C+1,c-C+1,F),c=C+1,S&&(et=S),z&&(c===y.length-2?y[S]=y[y.length-1]:c===0&&(y[y.length-1]=y[0]))}for(y.splice(0,et),c=0;c<y.length;c++)y[c].length=2;if(!(y.length<2))if(z)y.pop(),n.paths.push(y);else{l||a.log("Unclosed interior contour?",n.level,v.join(","),y.join("L"));var U=!1;for(B=0;B<n.edgepaths.length;B++)if(P=n.edgepaths[B],!U&&e(P[0],y[y.length-1],u,d)){y.pop(),U=!0;var V=!1;for(J=0;J<n.edgepaths.length;J++)if(e((M=n.edgepaths[J])[M.length-1],y[0],u,d)){V=!0,y.shift(),n.edgepaths.splice(B,1),J===B?n.paths.push(y.concat(M)):(J>B&&J--,n.edgepaths[J]=M.concat(y,P));break}V||(n.edgepaths[B]=y.concat(P))}for(B=0;B<n.edgepaths.length&&!U;B++)e((P=n.edgepaths[B])[P.length-1],y[0],u,d)&&(y.shift(),n.edgepaths[B]=P.concat(y),U=!0);U||n.edgepaths.push(y)}}function r(n,o,l){var u=o[0]+Math.max(l[0],0),d=o[1]+Math.max(l[1],0),c=n.z[d][u],h=n.xaxis,p=n.yaxis;if(l[1]){var g=(n.level-c)/(n.z[d][u+1]-c),y=(g!==1?(1-g)*h.c2l(n.x[u]):0)+(g!==0?g*h.c2l(n.x[u+1]):0);return[h.c2p(h.l2c(y),!0),p.c2p(n.y[d],!0),u+g,d]}var b=(n.level-c)/(n.z[d+1][u]-c),m=(b!==1?(1-b)*p.c2l(n.y[d]):0)+(b!==0?b*p.c2l(n.y[d+1]):0);return[h.c2p(n.x[u],!0),p.c2p(p.l2c(m),!0),u,d+b]}w.exports=function(n,o,l){var u,d,c,h;for(o=o||.01,l=l||.01,d=0;d<n.length;d++){for(c=n[d],h=0;h<c.starts.length;h++)i(c,c.starts[h],"edge",o,l);for(u=0;Object.keys(c.crossings).length&&u<1e4;)u++,i(c,Object.keys(c.crossings)[0].split(",").map(Number),void 0,o,l);u===1e4&&a.log("Infinite loop in contour?")}}},52421:function(w,s,t){var a=t(7901),f=t(46248);w.exports=function(e,i,r,n,o){o||(o={}),o.isContour=!0;var l=f(e,i,r,n,o);return l&&l.forEach(function(u){var d=u.trace;d.contours.type==="constraint"&&(d.fillcolor&&a.opacity(d.fillcolor)?u.color=a.addOpacity(d.fillcolor,1):d.contours.showlines&&a.opacity(d.line.color)&&(u.color=a.addOpacity(d.line.color,1)))}),l}},99442:function(w,s,t){w.exports={attributes:t(70600),supplyDefaults:t(13031),calc:t(27529),plot:t(29854).plot,style:t(84426),colorbar:t(90654),hoverPoints:t(52421),moduleType:"trace",name:"contour",basePlotModule:t(93612),categories:["cartesian","svg","2dMap","contour","showLegend"],meta:{}}},14523:function(w,s,t){var a=t(71828);w.exports=function(f,e,i,r){if(r||(r={}),f("contours.showlabels")){var n=e.font;a.coerceFont(f,"contours.labelfont",{family:n.family,size:n.size,color:i}),f("contours.labelformat")}r.hasHover!==!1&&f("zhoverformat")}},86068:function(w,s,t){var a=t(39898),f=t(21081),e=t(53572);w.exports=function(i){var r=i.contours,n=r.start,o=e(r),l=r.size||1,u=Math.floor((o-n)/l)+1,d=r.coloring==="lines"?0:1,c=f.extractOpts(i);isFinite(l)||(l=1,u=1);var h,p,g=c.reversescale?f.flipScale(c.colorscale):c.colorscale,y=g.length,b=new Array(y),m=new Array(y);if(r.coloring==="heatmap"){var v=c.min,x=c.max;for(p=0;p<y;p++)h=g[p],b[p]=h[0]*(x-v)+v,m[p]=h[1];var _=a.extent([v,x,r.start,r.start+l*(u-1)]),T=_[v<x?0:1],C=_[v<x?1:0];T!==v&&(b.splice(0,0,T),m.splice(0,0,m[0])),C!==x&&(b.push(C),m.push(m[m.length-1]))}else for(p=0;p<y;p++)h=g[p],b[p]=(h[0]*(u+d-1)-d/2)*l+n,m[p]=h[1];return f.makeColorScaleFunc({domain:b,range:m},{noNumericCheck:!0})}},87678:function(w,s,t){var a=t(36914);function f(e,i){var r=(i[0][0]>e?0:1)+(i[0][1]>e?0:2)+(i[1][1]>e?0:4)+(i[1][0]>e?0:8);return r===5||r===10?e>(i[0][0]+i[0][1]+i[1][0]+i[1][1])/4?r===5?713:1114:r===5?104:208:r===15?0:r}w.exports=function(e){var i,r,n,o,l,u,d,c,h,p=e[0].z,g=p.length,y=p[0].length,b=g===2||y===2;for(r=0;r<g-1;r++)for(o=[],r===0&&(o=o.concat(a.BOTTOMSTART)),r===g-2&&(o=o.concat(a.TOPSTART)),i=0;i<y-1;i++)for(n=o.slice(),i===0&&(n=n.concat(a.LEFTSTART)),i===y-2&&(n=n.concat(a.RIGHTSTART)),l=i+","+r,u=[[p[r][i],p[r][i+1]],[p[r+1][i],p[r+1][i+1]]],h=0;h<e.length;h++)(d=f((c=e[h]).level,u))&&(c.crossings[l]=d,n.indexOf(d)!==-1&&(c.starts.push([i,r]),b&&n.indexOf(d,n.indexOf(d)+1)!==-1&&c.starts.push([i,r])))}},29854:function(w,s,t){var a=t(39898),f=t(71828),e=t(91424),i=t(21081),r=t(63893),n=t(89298),o=t(21994),l=t(50347),u=t(87678),d=t(81696),c=t(87558),h=t(84857),p=t(20083),g=t(36914),y=g.LABELOPTIMIZER;function b(x,_){var T,C,S,F,N,D,j,B="",J=0,P=x.edgepaths.map(function(z,Y){return Y}),M=!0;function O(z){return Math.abs(z[1]-_[2][1])<.01}function q(z){return Math.abs(z[0]-_[0][0])<.01}function tt(z){return Math.abs(z[0]-_[2][0])<.01}for(;P.length;){for(D=e.smoothopen(x.edgepaths[J],x.smoothing),B+=M?D:D.replace(/^M/,"L"),P.splice(P.indexOf(J),1),T=x.edgepaths[J][x.edgepaths[J].length-1],F=-1,S=0;S<4;S++){if(!T){f.log("Missing end?",J,x);break}for(j=T,Math.abs(j[1]-_[0][1])<.01&&!tt(T)?C=_[1]:q(T)?C=_[0]:O(T)?C=_[3]:tt(T)&&(C=_[2]),N=0;N<x.edgepaths.length;N++){var E=x.edgepaths[N][0];Math.abs(T[0]-C[0])<.01?Math.abs(T[0]-E[0])<.01&&(E[1]-T[1])*(C[1]-E[1])>=0&&(C=E,F=N):Math.abs(T[1]-C[1])<.01?Math.abs(T[1]-E[1])<.01&&(E[0]-T[0])*(C[0]-E[0])>=0&&(C=E,F=N):f.log("endpt to newendpt is not vert. or horz.",T,C,E)}if(T=C,F>=0)break;B+="L"+C}if(F===x.edgepaths.length){f.log("unclosed perimeter path");break}J=F,(M=P.indexOf(J)===-1)&&(J=P[0],B+="Z")}for(J=0;J<x.paths.length;J++)B+=e.smoothclosed(x.paths[J],x.smoothing);return B}function m(x,_,T,C){var S=_.width/2,F=_.height/2,N=x.x,D=x.y,j=x.theta,B=Math.cos(j)*S,J=Math.sin(j)*S,P=(N>C.center?C.right-N:N-C.left)/(B+Math.abs(Math.sin(j)*F)),M=(D>C.middle?C.bottom-D:D-C.top)/(Math.abs(J)+Math.cos(j)*F);if(P<1||M<1)return 1/0;var O=y.EDGECOST*(1/(P-1)+1/(M-1));O+=y.ANGLECOST*j*j;for(var q=N-B,tt=D-J,E=N+B,z=D+J,Y=0;Y<T.length;Y++){var Q=T[Y],nt=Math.cos(Q.theta)*Q.width/2,et=Math.sin(Q.theta)*Q.width/2,Z=2*f.segmentDistance(q,tt,E,z,Q.x-nt,Q.y-et,Q.x+nt,Q.y+et)/(_.height+Q.height),H=Q.level===_.level,U=H?y.SAMELEVELDISTANCE:1;if(Z<=U)return 1/0;O+=y.NEIGHBORCOST*(H?y.SAMELEVELFACTOR:1)/(Z-U)}return O}function v(x){var _,T,C=x.trace._emptypoints,S=[],F=x.z.length,N=x.z[0].length,D=[];for(_=0;_<N;_++)D.push(1);for(_=0;_<F;_++)S.push(D.slice());for(_=0;_<C.length;_++)S[(T=C[_])[0]][T[1]]=0;return x.zmask=S,S}s.plot=function(x,_,T,C){var S=_.xaxis,F=_.yaxis;f.makeTraceGroups(C,T,"contour").each(function(N){var D=a.select(this),j=N[0],B=j.trace,J=j.x,P=j.y,M=B.contours,O=c(M,_,j),q=f.ensureSingle(D,"g","heatmapcoloring"),tt=[];M.coloring==="heatmap"&&(tt=[N]),l(x,_,tt,q),u(O),d(O);var E=S.c2p(J[0],!0),z=S.c2p(J[J.length-1],!0),Y=F.c2p(P[0],!0),Q=F.c2p(P[P.length-1],!0),nt=[[E,Q],[z,Q],[z,Y],[E,Y]],et=O;M.type==="constraint"&&(et=h(O,M._operation)),function(Z,H,U){var V=f.ensureSingle(Z,"g","contourbg").selectAll("path").data(U.coloring==="fill"?[0]:[]);V.enter().append("path"),V.exit().remove(),V.attr("d","M"+H.join("L")+"Z").style("stroke","none")}(D,nt,M),function(Z,H,U,V){var $=V.coloring==="fill"||V.type==="constraint"&&V._operation!=="=",at="M"+U.join("L")+"Z";$&&p(H,V);var rt=f.ensureSingle(Z,"g","contourfill").selectAll("path").data($?H:[]);rt.enter().append("path"),rt.exit().remove(),rt.each(function(ot){var ct=(ot.prefixBoundary?at:"")+b(ot,U);ct?a.select(this).attr("d",ct).style("stroke","none"):a.select(this).remove()})}(D,et,nt,M),function(Z,H,U,V,$){var at=U._context.staticPlot,rt=f.ensureSingle(Z,"g","contourlines"),ot=$.showlines!==!1,ct=$.showlabels,ht=ot&&ct,mt=s.createLines(rt,ot||ct,H,at),kt=s.createLineClip(rt,ht,U,V.trace.uid),Ct=Z.selectAll("g.contourlabels").data(ct?[0]:[]);if(Ct.exit().remove(),Ct.enter().append("g").classed("contourlabels",!0),ct){var It=[],pt=[];f.clearLocationCache();var bt=s.labelFormatter(U,V),_t=e.tester.append("text").attr("data-notex",1).call(e.font,$.labelfont),Dt=H[0].xaxis,L=H[0].yaxis,X=Dt._length,it=L._length,ft=Dt.range,gt=L.range,wt=f.aggNums(Math.min,null,V.x),xt=f.aggNums(Math.max,null,V.x),Ft=f.aggNums(Math.min,null,V.y),Bt=f.aggNums(Math.max,null,V.y),Mt=Math.max(Dt.c2p(wt,!0),0),St=Math.min(Dt.c2p(xt,!0),X),Lt=Math.max(L.c2p(Bt,!0),0),Pt=Math.min(L.c2p(Ft,!0),it),zt={};ft[0]<ft[1]?(zt.left=Mt,zt.right=St):(zt.left=St,zt.right=Mt),gt[0]<gt[1]?(zt.top=Lt,zt.bottom=Pt):(zt.top=Pt,zt.bottom=Lt),zt.middle=(zt.top+zt.bottom)/2,zt.center=(zt.left+zt.right)/2,It.push([[zt.left,zt.top],[zt.right,zt.top],[zt.right,zt.bottom],[zt.left,zt.bottom]]);var Xt=Math.sqrt(X*X+it*it),Gt=g.LABELDISTANCE*Xt/Math.max(1,H.length/g.LABELINCREASE);mt.each(function(Kt){var ie=s.calcTextOpts(Kt.level,bt,_t,U);a.select(this).selectAll("path").each(function(){var de=f.getVisibleSegment(this,zt,ie.height/2);if(de&&!(de.len<(ie.width+ie.height)*g.LABELMIN))for(var Jt=Math.min(Math.ceil(de.len/Gt),g.LABELMAX),Nt=0;Nt<Jt;Nt++){var Vt=s.findBestTextLocation(this,de,ie,pt,zt);if(!Vt)break;s.addLabelData(Vt,ie,pt,It)}})}),_t.remove(),s.drawLabels(Ct,pt,U,kt,ht?It:null)}ct&&!ot&&mt.remove()}(D,O,x,j,M),function(Z,H,U,V,$){var at=V.trace,rt=U._fullLayout._clips,ot="clip"+at.uid,ct=rt.selectAll("#"+ot).data(at.connectgaps?[]:[0]);if(ct.enter().append("clipPath").classed("contourclip",!0).attr("id",ot),ct.exit().remove(),at.connectgaps===!1){var ht={level:.9,crossings:{},starts:[],edgepaths:[],paths:[],xaxis:H.xaxis,yaxis:H.yaxis,x:V.x,y:V.y,z:v(V),smoothing:0};u([ht]),d([ht]),p([ht],{type:"levels"}),f.ensureSingle(ct,"path","").attr("d",(ht.prefixBoundary?"M"+$.join("L")+"Z":"")+b(ht,$))}else ot=null;e.setClipUrl(Z,ot,U)}(D,_,x,j,nt)})},s.createLines=function(x,_,T,C){var S=T[0].smoothing,F=x.selectAll("g.contourlevel").data(_?T:[]);if(F.exit().remove(),F.enter().append("g").classed("contourlevel",!0),_){var N=F.selectAll("path.openline").data(function(j){return j.pedgepaths||j.edgepaths});N.exit().remove(),N.enter().append("path").classed("openline",!0),N.attr("d",function(j){return e.smoothopen(j,S)}).style("stroke-miterlimit",1).style("vector-effect",C?"none":"non-scaling-stroke");var D=F.selectAll("path.closedline").data(function(j){return j.ppaths||j.paths});D.exit().remove(),D.enter().append("path").classed("closedline",!0),D.attr("d",function(j){return e.smoothclosed(j,S)}).style("stroke-miterlimit",1).style("vector-effect",C?"none":"non-scaling-stroke")}return F},s.createLineClip=function(x,_,T,C){var S=_?"clipline"+C:null,F=T._fullLayout._clips.selectAll("#"+S).data(_?[0]:[]);return F.exit().remove(),F.enter().append("clipPath").classed("contourlineclip",!0).attr("id",S),e.setClipUrl(x,S,T),F},s.labelFormatter=function(x,_){var T=x._fullLayout,C=_.trace,S=C.contours,F={type:"linear",_id:"ycontour",showexponent:"all",exponentformat:"B"};if(S.labelformat)F.tickformat=S.labelformat,o(F,T);else{var N=i.extractOpts(C);if(N&&N.colorbar&&N.colorbar._axis)F=N.colorbar._axis;else{if(S.type==="constraint"){var D=S.value;Array.isArray(D)?F.range=[D[0],D[D.length-1]]:F.range=[D,D]}else F.range=[S.start,S.end],F.nticks=(S.end-S.start)/S.size;F.range[0]===F.range[1]&&(F.range[1]+=F.range[0]||1),F.nticks||(F.nticks=1e3),o(F,T),n.prepTicks(F),F._tmin=null,F._tmax=null}}return function(j){return n.tickText(F,j).text}},s.calcTextOpts=function(x,_,T,C){var S=_(x);T.text(S).call(r.convertToTspans,C);var F=T.node(),N=e.bBox(F,!0);return{text:S,width:N.width,height:N.height,fontSize:+F.style["font-size"].replace("px",""),level:x,dy:(N.top+N.bottom)/2}},s.findBestTextLocation=function(x,_,T,C,S){var F,N,D,j,B,J=T.width;_.isClosed?(N=_.len/y.INITIALSEARCHPOINTS,F=_.min+N/2,D=_.max):(N=(_.len-J)/(y.INITIALSEARCHPOINTS+1),F=_.min+N+J/2,D=_.max-(N+J)/2);for(var P=1/0,M=0;M<y.ITERATIONS;M++){for(var O=F;O<D;O+=N){var q=f.getTextLocation(x,_.total,O,J),tt=m(q,T,C,S);tt<P&&(P=tt,B=q,j=O)}if(P>2*y.MAXCOST)break;M&&(N/=2),D=(F=j-N/2)+1.5*N}if(P<=y.MAXCOST)return B},s.addLabelData=function(x,_,T,C){var S=_.fontSize,F=_.width+S/3,N=Math.max(0,_.height-S/3),D=x.x,j=x.y,B=x.theta,J=Math.sin(B),P=Math.cos(B),M=function(q,tt){return[D+q*P-tt*J,j+q*J+tt*P]},O=[M(-F/2,-N/2),M(-F/2,N/2),M(F/2,N/2),M(F/2,-N/2)];T.push({text:_.text,x:D,y:j,dy:_.dy,theta:B,level:_.level,width:F,height:N}),C.push(O)},s.drawLabels=function(x,_,T,C,S){var F=x.selectAll("text").data(_,function(j){return j.text+","+j.x+","+j.y+","+j.theta});if(F.exit().remove(),F.enter().append("text").attr({"data-notex":1,"text-anchor":"middle"}).each(function(j){var B=j.x+Math.sin(j.theta)*j.dy,J=j.y-Math.cos(j.theta)*j.dy;a.select(this).text(j.text).attr({x:B,y:J,transform:"rotate("+180*j.theta/Math.PI+" "+B+" "+J+")"}).call(r.convertToTspans,T)}),S){for(var N="",D=0;D<S.length;D++)N+="M"+S[D].join("L")+"Z";f.ensureSingle(C,"path","").attr("d",N)}}},18670:function(w,s,t){var a=t(89298),f=t(71828);function e(i,r,n){var o={type:"linear",range:[i,r]};return a.autoTicks(o,(r-i)/(n||15)),o}w.exports=function(i,r){var n=i.contours;if(i.autocontour){var o=i.zmin,l=i.zmax;(i.zauto||o===void 0)&&(o=f.aggNums(Math.min,null,r)),(i.zauto||l===void 0)&&(l=f.aggNums(Math.max,null,r));var u=e(o,l,i.ncontours);n.size=u.dtick,n.start=a.tickFirst(u),u.range.reverse(),n.end=a.tickFirst(u),n.start===o&&(n.start+=n.size),n.end===l&&(n.end-=n.size),n.start>n.end&&(n.start=n.end=(n.start+n.end)/2),i._input.contours||(i._input.contours={}),f.extendFlat(i._input.contours,{start:n.start,end:n.end,size:n.size}),i._input.autocontour=!0}else if(n.type!=="constraint"){var d,c=n.start,h=n.end,p=i._input.contours;c>h&&(n.start=p.start=h,h=n.end=p.end=c,c=n.start),n.size>0||(d=c===h?1:e(c,h,i.ncontours).dtick,p.size=n.size=d)}}},84426:function(w,s,t){var a=t(39898),f=t(91424),e=t(70035),i=t(86068);w.exports=function(r){var n=a.select(r).selectAll("g.contour");n.style("opacity",function(o){return o[0].trace.opacity}),n.each(function(o){var l=a.select(this),u=o[0].trace,d=u.contours,c=u.line,h=d.size||1,p=d.start,g=d.type==="constraint",y=!g&&d.coloring==="lines",b=!g&&d.coloring==="fill",m=y||b?i(u):null;l.selectAll("g.contourlevel").each(function(_){a.select(this).selectAll("path").call(f.lineGroupStyle,c.width,y?m(_.level):c.color,c.dash)});var v=d.labelfont;if(l.selectAll("g.contourlabels text").each(function(_){f.font(a.select(this),{family:v.family,size:v.size,color:v.color||(y?m(_.level):c.color)})}),g)l.selectAll("g.contourfill path").style("fill",u.fillcolor);else if(b){var x;l.selectAll("g.contourfill path").style("fill",function(_){return x===void 0&&(x=_.level),m(_.level+.5*h)}),x===void 0&&(x=p),l.selectAll("g.contourbg path").style("fill",m(x-.5*h))}}),e(r)}},8724:function(w,s,t){var a=t(1586),f=t(14523);w.exports=function(e,i,r,n,o){var l,u=r("contours.coloring"),d="";u==="fill"&&(l=r("contours.showlines")),l!==!1&&(u!=="lines"&&(d=r("line.color","#000")),r("line.width",.5),r("line.dash")),u!=="none"&&(e.showlegend!==!0&&(i.showlegend=!1),i._dfltShowLegend=!1,a(e,i,n,r,{prefix:"",cLetter:"z"})),r("line.smoothing"),f(r,n,d,o)}},21606:function(w,s,t){var a=t(82196),f=t(9012),e=t(41940),i=t(12663).axisHoverFormat,r=t(5386).fF,n=t(5386).si,o=t(50693),l=t(1426).extendFlat;w.exports=l({z:{valType:"data_array",editType:"calc"},x:l({},a.x,{impliedEdits:{xtype:"array"}}),x0:l({},a.x0,{impliedEdits:{xtype:"scaled"}}),dx:l({},a.dx,{impliedEdits:{xtype:"scaled"}}),y:l({},a.y,{impliedEdits:{ytype:"array"}}),y0:l({},a.y0,{impliedEdits:{ytype:"scaled"}}),dy:l({},a.dy,{impliedEdits:{ytype:"scaled"}}),xperiod:l({},a.xperiod,{impliedEdits:{xtype:"scaled"}}),yperiod:l({},a.yperiod,{impliedEdits:{ytype:"scaled"}}),xperiod0:l({},a.xperiod0,{impliedEdits:{xtype:"scaled"}}),yperiod0:l({},a.yperiod0,{impliedEdits:{ytype:"scaled"}}),xperiodalignment:l({},a.xperiodalignment,{impliedEdits:{xtype:"scaled"}}),yperiodalignment:l({},a.yperiodalignment,{impliedEdits:{ytype:"scaled"}}),text:{valType:"data_array",editType:"calc"},hovertext:{valType:"data_array",editType:"calc"},transpose:{valType:"boolean",dflt:!1,editType:"calc"},xtype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},ytype:{valType:"enumerated",values:["array","scaled"],editType:"calc+clearAxisTypes"},zsmooth:{valType:"enumerated",values:["fast","best",!1],dflt:!1,editType:"calc"},hoverongaps:{valType:"boolean",dflt:!0,editType:"none"},connectgaps:{valType:"boolean",editType:"calc"},xgap:{valType:"number",dflt:0,min:0,editType:"plot"},ygap:{valType:"number",dflt:0,min:0,editType:"plot"},xhoverformat:i("x"),yhoverformat:i("y"),zhoverformat:i("z",1),hovertemplate:r(),texttemplate:n({arrayOk:!1,editType:"plot"},{keys:["x","y","z","text"]}),textfont:e({editType:"plot",autoSize:!0,autoColor:!0,colorEditType:"style"}),showlegend:l({},f.showlegend,{dflt:!1})},{transforms:void 0},o("",{cLetter:"z",autoColorDflt:!1}))},90757:function(w,s,t){var a=t(73972),f=t(71828),e=t(89298),i=t(42973),r=t(17562),n=t(78803),o=t(68296),l=t(4742),u=t(824),d=t(43907),c=t(70769),h=t(50606).BADNUM;function p(g){for(var y=[],b=g.length,m=0;m<b;m++){var v=g[m];v!==h&&y.push(v)}return y}w.exports=function(g,y){var b,m,v,x,_,T,C,S,F,N,D,j=e.getFromId(g,y.xaxis||"x"),B=e.getFromId(g,y.yaxis||"y"),J=a.traceIs(y,"contour"),P=a.traceIs(y,"histogram"),M=a.traceIs(y,"gl2d"),O=J?"best":y.zsmooth;if(j._minDtick=0,B._minDtick=0,P)x=(D=r(g,y)).orig_x,b=D.x,m=D.x0,v=D.dx,S=D.orig_y,_=D.y,T=D.y0,C=D.dy,F=D.z;else{var q=y.z;f.isArray1D(q)?(o(y,j,B,"x","y",["z"]),b=y._x,_=y._y,q=y._z):(x=y.x?j.makeCalcdata(y,"x"):[],S=y.y?B.makeCalcdata(y,"y"):[],b=i(y,j,"x",x).vals,_=i(y,B,"y",S).vals,y._x=b,y._y=_),m=y.x0,v=y.dx,T=y.y0,C=y.dy,F=l(q,y,j,B)}function tt(at){O=y._input.zsmooth=y.zsmooth=!1,f.warn('cannot use zsmooth: "fast": '+at)}if((j.rangebreaks||B.rangebreaks)&&(F=function(at,rt,ot){for(var ct=[],ht=-1,mt=0;mt<ot.length;mt++)if(rt[mt]!==h){ct[++ht]=[];for(var kt=0;kt<ot[mt].length;kt++)at[kt]!==h&&ct[ht].push(ot[mt][kt])}return ct}(b,_,F),P||(b=p(b),_=p(_),y._x=b,y._y=_)),P||!J&&!y.connectgaps||(y._emptypoints=d(F),u(F,y._emptypoints)),O==="fast"){if(j.type==="log"||B.type==="log")tt("log axis found");else if(!P){if(b.length){var E=(b[b.length-1]-b[0])/(b.length-1),z=Math.abs(E/100);for(N=0;N<b.length-1;N++)if(Math.abs(b[N+1]-b[N]-E)>z){tt("x scale is not linear");break}}if(_.length&&O==="fast"){var Y=(_[_.length-1]-_[0])/(_.length-1),Q=Math.abs(Y/100);for(N=0;N<_.length-1;N++)if(Math.abs(_[N+1]-_[N]-Y)>Q){tt("y scale is not linear");break}}}}var nt=f.maxRowLength(F),et=y.xtype==="scaled"?"":b,Z=c(y,et,m,v,nt,j),H=y.ytype==="scaled"?"":_,U=c(y,H,T,C,F.length,B);M||(y._extremes[j._id]=e.findExtremes(j,Z),y._extremes[B._id]=e.findExtremes(B,U));var V={x:Z,y:U,z:F,text:y._text||y.text,hovertext:y._hovertext||y.hovertext};if(y.xperiodalignment&&x&&(V.orig_x=x),y.yperiodalignment&&S&&(V.orig_y=S),et&&et.length===Z.length-1&&(V.xCenter=et),H&&H.length===U.length-1&&(V.yCenter=H),P&&(V.xRanges=D.xRanges,V.yRanges=D.yRanges,V.pts=D.pts),J||n(g,y,{vals:F,cLetter:"z"}),J&&y.contours&&y.contours.coloring==="heatmap"){var $={type:y.type==="contour"?"heatmap":"histogram2d",xcalendar:y.xcalendar,ycalendar:y.ycalendar};V.xfill=c($,et,m,v,nt,j),V.yfill=c($,H,T,C,F.length,B)}return[V]}},4742:function(w,s,t){var a=t(92770),f=t(71828),e=t(50606).BADNUM;w.exports=function(i,r,n,o){var l,u,d,c,h,p;function g(_){if(a(_))return+_}if(r&&r.transpose){for(l=0,h=0;h<i.length;h++)l=Math.max(l,i[h].length);if(l===0)return!1;d=function(_){return _.length},c=function(_,T,C){return(_[C]||[])[T]}}else l=i.length,d=function(_,T){return _[T].length},c=function(_,T,C){return(_[T]||[])[C]};var y=function(_,T,C){return T===e||C===e?e:c(_,T,C)};function b(_){if(r&&r.type!=="carpet"&&r.type!=="contourcarpet"&&_&&_.type==="category"&&r["_"+_._id.charAt(0)].length){var T=_._id.charAt(0),C={},S=r["_"+T+"CategoryMap"]||r[T];for(h=0;h<S.length;h++)C[S[h]]=h;return function(F){var N=C[_._categories[F]];return N+1?N:e}}return f.identity}var m=b(n),v=b(o);o&&o.type==="category"&&(l=o._categories.length);var x=new Array(l);for(h=0;h<l;h++)for(u=n&&n.type==="category"?n._categories.length:d(i,h),x[h]=new Array(u),p=0;p<u;p++)x[h][p]=g(y(i,v(h),m(p)));return x}},61243:function(w){w.exports={min:"zmin",max:"zmax"}},68296:function(w,s,t){var a=t(71828),f=t(50606).BADNUM,e=t(42973);w.exports=function(i,r,n,o,l,u){var d=i._length,c=r.makeCalcdata(i,o),h=n.makeCalcdata(i,l);c=e(i,r,o,c).vals,h=e(i,n,l,h).vals;var p,g,y,b,m=i.text,v=m!==void 0&&a.isArray1D(m),x=i.hovertext,_=x!==void 0&&a.isArray1D(x),T=a.distinctVals(c),C=T.vals,S=a.distinctVals(h),F=S.vals,N=[],D=F.length,j=C.length;for(p=0;p<u.length;p++)N[p]=a.init2dArray(D,j);v&&(y=a.init2dArray(D,j)),_&&(b=a.init2dArray(D,j));var B=a.init2dArray(D,j);for(p=0;p<d;p++)if(c[p]!==f&&h[p]!==f){var J=a.findBin(c[p]+T.minDiff/2,C),P=a.findBin(h[p]+S.minDiff/2,F);for(g=0;g<u.length;g++){var M=i[u[g]];N[g][P][J]=M[p],B[P][J]=p}v&&(y[P][J]=m[p]),_&&(b[P][J]=x[p])}for(i["_"+o]=C,i["_"+l]=F,g=0;g<u.length;g++)i["_"+u[g]]=N[g];v&&(i._text=y),_&&(i._hovertext=b),r&&r.type==="category"&&(i["_"+o+"CategoryMap"]=C.map(function(O){return r._categories[O]})),n&&n.type==="category"&&(i["_"+l+"CategoryMap"]=F.map(function(O){return n._categories[O]})),i._after2before=B}},76382:function(w,s,t){var a=t(71828),f=t(67684),e=t(58623),i=t(73927),r=t(49901),n=t(1586),o=t(21606);w.exports=function(l,u,d,c){function h(p,g){return a.coerce(l,u,o,p,g)}f(l,u,h,c)?(i(l,u,c,h),h("xhoverformat"),h("yhoverformat"),h("text"),h("hovertext"),h("hovertemplate"),e(h,c),r(l,u,h,c),h("hoverongaps"),h("connectgaps",a.isArray1D(u.z)&&u.zsmooth!==!1),n(l,u,c,h,{prefix:"",cLetter:"z"})):u.visible=!1}},43907:function(w,s,t){var a=t(71828).maxRowLength;w.exports=function(f){var e,i,r,n,o,l,u,d,c=[],h={},p=[],g=f[0],y=[],b=[0,0,0],m=a(f);for(i=0;i<f.length;i++)for(e=y,y=g,g=f[i+1]||[],r=0;r<m;r++)y[r]===void 0&&((l=(y[r-1]!==void 0?1:0)+(y[r+1]!==void 0?1:0)+(e[r]!==void 0?1:0)+(g[r]!==void 0?1:0))?(i===0&&l++,r===0&&l++,i===f.length-1&&l++,r===y.length-1&&l++,l<4&&(h[[i,r]]=[i,r,l]),c.push([i,r,l])):p.push([i,r]));for(;p.length;){for(u={},d=!1,o=p.length-1;o>=0;o--)(l=((h[[(i=(n=p[o])[0])-1,r=n[1]]]||b)[2]+(h[[i+1,r]]||b)[2]+(h[[i,r-1]]||b)[2]+(h[[i,r+1]]||b)[2])/20)&&(u[n]=[i,r,l],p.splice(o,1),d=!0);if(!d)throw"findEmpties iterated with no new neighbors";for(n in u)h[n]=u[n],c.push(u[n])}return c.sort(function(v,x){return x[2]-v[2]})}},46248:function(w,s,t){var a=t(30211),f=t(71828),e=t(89298),i=t(21081).extractOpts;w.exports=function(r,n,o,l,u){u||(u={});var d,c,h,p,g=u.isContour,y=r.cd[0],b=y.trace,m=r.xa,v=r.ya,x=y.x,_=y.y,T=y.z,C=y.xCenter,S=y.yCenter,F=y.zmask,N=b.zhoverformat,D=x,j=_;if(r.index!==!1){try{h=Math.round(r.index[1]),p=Math.round(r.index[0])}catch{return void f.error("Error hovering on heatmap, pointNumber must be [row,col], found:",r.index)}if(h<0||h>=T[0].length||p<0||p>T.length)return}else{if(a.inbox(n-x[0],n-x[x.length-1],0)>0||a.inbox(o-_[0],o-_[_.length-1],0)>0)return;if(g){var B;for(D=[2*x[0]-x[1]],B=1;B<x.length;B++)D.push((x[B]+x[B-1])/2);for(D.push([2*x[x.length-1]-x[x.length-2]]),j=[2*_[0]-_[1]],B=1;B<_.length;B++)j.push((_[B]+_[B-1])/2);j.push([2*_[_.length-1]-_[_.length-2]])}h=Math.max(0,Math.min(D.length-2,f.findBin(n,D))),p=Math.max(0,Math.min(j.length-2,f.findBin(o,j)))}var J,P,M=m.c2p(x[h]),O=m.c2p(x[h+1]),q=v.c2p(_[p]),tt=v.c2p(_[p+1]);g?(J=y.orig_x||x,P=y.orig_y||_,O=M,d=J[h],tt=q,c=P[p]):(J=y.orig_x||C||x,P=y.orig_y||S||_,d=C?J[h]:(J[h]+J[h+1])/2,c=S?P[p]:(P[p]+P[p+1])/2,m&&m.type==="category"&&(d=x[h]),v&&v.type==="category"&&(c=_[p]),b.zsmooth&&(M=O=m.c2p(d),q=tt=v.c2p(c)));var E=T[p][h];if(F&&!F[p][h]&&(E=void 0),E!==void 0||b.hoverongaps){var z;Array.isArray(y.hovertext)&&Array.isArray(y.hovertext[p])?z=y.hovertext[p][h]:Array.isArray(y.text)&&Array.isArray(y.text[p])&&(z=y.text[p][h]);var Y=i(b),Q={type:"linear",range:[Y.min,Y.max],hoverformat:N,_separators:m._separators,_numFormat:m._numFormat},nt=e.tickText(Q,E,"hover").text;return[f.extendFlat(r,{index:b._after2before?b._after2before[p][h]:[p,h],distance:r.maxHoverDistance,spikeDistance:r.maxSpikeDistance,x0:M,x1:O,y0:q,y1:tt,xLabelVal:d,yLabelVal:c,zLabelVal:E,zLabel:nt,text:z})]}}},92165:function(w,s,t){w.exports={attributes:t(21606),supplyDefaults:t(76382),calc:t(90757),plot:t(50347),colorbar:t(61243),style:t(70035),hoverPoints:t(46248),moduleType:"trace",name:"heatmap",basePlotModule:t(93612),categories:["cartesian","svg","2dMap","showLegend"],meta:{}}},824:function(w,s,t){var a=t(71828),f=[[-1,0],[1,0],[0,-1],[0,1]];function e(r){return .5-.25*Math.min(1,.5*r)}function i(r,n,o){var l,u,d,c,h,p,g,y,b,m,v,x,_,T=0;for(c=0;c<n.length;c++){for(u=(l=n[c])[0],d=l[1],v=r[u][d],m=0,b=0,h=0;h<4;h++)(g=r[u+(p=f[h])[0]])&&(y=g[d+p[1]])!==void 0&&(m===0?x=_=y:(x=Math.min(x,y),_=Math.max(_,y)),b++,m+=y);if(b===0)throw"iterateInterp2d order is wrong: no defined neighbors";r[u][d]=m/b,v===void 0?b<4&&(T=1):(r[u][d]=(1+o)*r[u][d]-o*v,_>x&&(T=Math.max(T,Math.abs(r[u][d]-v)/(_-x))))}return T}w.exports=function(r,n){var o,l=1;for(i(r,n),o=0;o<n.length&&!(n[o][2]<4);o++);for(n=n.slice(o),o=0;o<100&&l>.01;o++)l=i(r,n,e(l));return l>.01&&a.log("interp2d didn't converge quickly",l),r}},58623:function(w,s,t){var a=t(71828);w.exports=function(f,e){f("texttemplate");var i=a.extendFlat({},e.font,{color:"auto",size:"auto"});a.coerceFont(f,"textfont",i)}},70769:function(w,s,t){var a=t(73972),f=t(71828).isArrayOrTypedArray;w.exports=function(e,i,r,n,o,l){var u,d,c,h=[],p=a.traceIs(e,"contour"),g=a.traceIs(e,"histogram"),y=a.traceIs(e,"gl2d");if(f(i)&&i.length>1&&!g&&l.type!=="category"){var b=i.length;if(!(b<=o))return p?i.slice(0,o):i.slice(0,o+1);if(p||y)h=i.slice(0,o);else if(o===1)h=[i[0]-.5,i[0]+.5];else{for(h=[1.5*i[0]-.5*i[1]],c=1;c<b;c++)h.push(.5*(i[c-1]+i[c]));h.push(1.5*i[b-1]-.5*i[b-2])}if(b<o){var m=h[h.length-1],v=m-h[h.length-2];for(c=b;c<o;c++)m+=v,h.push(m)}}else{var x=e[l._id.charAt(0)+"calendar"];for(u=g?l.r2c(r,0,x):f(i)&&i.length===1?i[0]:r===void 0?0:(l.type==="log"?l.d2c:l.r2c)(r,0,x),d=n||1,c=p||y?0:-.5;c<o;c++)h.push(u+d*c)}return h}},50347:function(w,s,t){var a=t(39898),f=t(84267),e=t(73972),i=t(91424),r=t(89298),n=t(71828),o=t(63893),l=t(8225),u=t(7901),d=t(21081).extractOpts,c=t(21081).makeColorScaleFuncFromTrace,h=t(77922),p=t(18783).LINE_SPACING,g="heatmap-label";function y(_){return _.selectAll("g."+g)}function b(_){y(_).remove()}function m(_,T){var C=T.length-2,S=n.constrain(n.findBin(_,T),0,C),F=T[S],N=T[S+1],D=n.constrain(S+(_-F)/(N-F)-.5,0,C),j=Math.round(D),B=Math.abs(D-j);return D&&D!==C&&B?{bin0:j,frac:B,bin1:Math.round(j+B/(D-j))}:{bin0:j,bin1:j,frac:0}}function v(_,T){var C=T.length-1,S=n.constrain(n.findBin(_,T),0,C),F=T[S],N=(_-F)/(T[S+1]-F)||0;return N<=0?{bin0:S,bin1:S,frac:0}:N<.5?{bin0:S,bin1:S+1,frac:N}:{bin0:S+1,bin1:S,frac:1-N}}function x(_,T,C){_[T]=C[0],_[T+1]=C[1],_[T+2]=C[2],_[T+3]=Math.round(255*C[3])}w.exports=function(_,T,C,S){var F=T.xaxis,N=T.yaxis;n.makeTraceGroups(S,C,"hm").each(function(D){var j,B,J,P,M,O,q,tt,E=a.select(this),z=D[0],Y=z.trace,Q=Y.xgap||0,nt=Y.ygap||0,et=z.z,Z=z.x,H=z.y,U=z.xCenter,V=z.yCenter,$=e.traceIs(Y,"contour"),at=$?"best":Y.zsmooth,rt=et.length,ot=n.maxRowLength(et),ct=!1,ht=!1;for(O=0;j===void 0&&O<Z.length-1;)j=F.c2p(Z[O]),O++;for(O=Z.length-1;B===void 0&&O>0;)B=F.c2p(Z[O]),O--;for(B<j&&(J=B,B=j,j=J,ct=!0),O=0;P===void 0&&O<H.length-1;)P=N.c2p(H[O]),O++;for(O=H.length-1;M===void 0&&O>0;)M=N.c2p(H[O]),O--;if(M<P&&(J=P,P=M,M=J,ht=!0),$&&(U=Z,V=H,Z=z.xfill,H=z.yfill),at!=="fast"){var mt=at==="best"?0:.5;j=Math.max(-mt*F._length,j),B=Math.min((1+mt)*F._length,B),P=Math.max(-mt*N._length,P),M=Math.min((1+mt)*N._length,M)}var kt,Ct,It=Math.round(B-j),pt=Math.round(M-P);if(It<=0||pt<=0)return E.selectAll("image").data([]).exit().remove(),void b(E);at==="fast"?(kt=ot,Ct=rt):(kt=It,Ct=pt);var bt=document.createElement("canvas");bt.width=kt,bt.height=Ct;var _t,Dt,L=bt.getContext("2d"),X=c(Y,{noNumericCheck:!0,returnArray:!0});at==="fast"?(_t=ct?function(We){return ot-1-We}:n.identity,Dt=ht?function(We){return rt-1-We}:n.identity):(_t=function(We){return n.constrain(Math.round(F.c2p(Z[We])-j),0,It)},Dt=function(We){return n.constrain(Math.round(N.c2p(H[We])-P),0,pt)});var it,ft,gt,wt,xt=Dt(0),Ft=[xt,xt],Bt=ct?0:1,Mt=ht?0:1,St=0,Lt=0,Pt=0,zt=0;function Xt(We,nn){if(We!==void 0){var sn=X(We);return sn[0]=Math.round(sn[0]),sn[1]=Math.round(sn[1]),sn[2]=Math.round(sn[2]),St+=nn,Lt+=sn[0]*nn,Pt+=sn[1]*nn,zt+=sn[2]*nn,sn}return[0,0,0,0]}function Gt(We,nn,sn,Xe){var un=We[sn.bin0];if(un===void 0)return Xt(void 0,1);var tn,vn=We[sn.bin1],fn=nn[sn.bin0],gn=nn[sn.bin1],En=vn-un||0,xn=fn-un||0;return tn=vn===void 0?gn===void 0?0:fn===void 0?2*(gn-un):2*(2*gn-fn-un)/3:gn===void 0?fn===void 0?0:2*(2*un-vn-fn)/3:fn===void 0?2*(2*gn-vn-un)/3:gn+un-vn-fn,Xt(un+sn.frac*En+Xe.frac*(xn+sn.frac*tn))}if(at){var Kt,ie=0;try{Kt=new Uint8Array(kt*Ct*4)}catch{Kt=new Array(kt*Ct*4)}if(at==="best"){var de,Jt,Nt,Vt=U||Z,Zt=V||H,Wt=new Array(Vt.length),he=new Array(Zt.length),$t=new Array(It),ye=U?v:m,se=V?v:m;for(O=0;O<Vt.length;O++)Wt[O]=Math.round(F.c2p(Vt[O])-j);for(O=0;O<Zt.length;O++)he[O]=Math.round(N.c2p(Zt[O])-P);for(O=0;O<It;O++)$t[O]=ye(O,Wt);for(q=0;q<pt;q++)for(Jt=et[(de=se(q,he)).bin0],Nt=et[de.bin1],O=0;O<It;O++,ie+=4)x(Kt,ie,wt=Gt(Jt,Nt,$t[O],de))}else for(q=0;q<rt;q++)for(gt=et[q],Ft=Dt(q),O=0;O<ot;O++)wt=Xt(gt[O],1),x(Kt,ie=4*(Ft*ot+_t(O)),wt);var Pe=L.createImageData(kt,Ct);try{Pe.data.set(Kt)}catch{var Ce=Pe.data,Ne=Ce.length;for(q=0;q<Ne;q++)Ce[q]=Kt[q]}L.putImageData(Pe,0,0)}else{var yt=Math.floor(Q/2),vt=Math.floor(nt/2);for(q=0;q<rt;q++)if(gt=et[q],Ft.reverse(),Ft[Mt]=Dt(q+1),Ft[0]!==Ft[1]&&Ft[0]!==void 0&&Ft[1]!==void 0)for(it=[ft=_t(0),ft],O=0;O<ot;O++)it.reverse(),it[Bt]=_t(O+1),it[0]!==it[1]&&it[0]!==void 0&&it[1]!==void 0&&(wt=Xt(gt[O],(it[1]-it[0])*(Ft[1]-Ft[0])),L.fillStyle="rgba("+wt.join(",")+")",L.fillRect(it[0]+yt,Ft[0]+vt,it[1]-it[0]-Q,Ft[1]-Ft[0]-nt))}Lt=Math.round(Lt/St),Pt=Math.round(Pt/St),zt=Math.round(zt/St);var Rt=f("rgb("+Lt+","+Pt+","+zt+")");_._hmpixcount=(_._hmpixcount||0)+St,_._hmlumcount=(_._hmlumcount||0)+St*Rt.getLuminance();var Ut=E.selectAll("image").data(D);Ut.enter().append("svg:image").attr({xmlns:h.svg,preserveAspectRatio:"none"}),Ut.attr({height:pt,width:It,x:j,y:P,"xlink:href":bt.toDataURL("image/png")}),b(E);var Ht=Y.texttemplate;if(Ht){var Yt=d(Y),ee={type:"linear",range:[Yt.min,Yt.max],_separators:F._separators,_numFormat:F._numFormat},ne=Y.type==="histogram2dcontour",re=Y.type==="contour",ve=re?rt-1:rt,fe=re?1:0,pe=re?ot-1:ot,ze=[];for(O=re?1:0;O<ve;O++){var Be;if(re)Be=z.y[O];else if(ne){if(O===0||O===rt-1)continue;Be=z.y[O]}else if(z.yCenter)Be=z.yCenter[O];else{if(O+1===rt&&z.y[O+1]===void 0)continue;Be=(z.y[O]+z.y[O+1])/2}var Me=Math.round(N.c2p(Be));if(!(0>Me||Me>N._length))for(q=fe;q<pe;q++){var _e;if(re)_e=z.x[q];else if(ne){if(q===0||q===ot-1)continue;_e=z.x[q]}else if(z.xCenter)_e=z.xCenter[q];else{if(q+1===ot&&z.x[q+1]===void 0)continue;_e=(z.x[q]+z.x[q+1])/2}var xe=Math.round(F.c2p(_e));if(!(0>xe||xe>F._length)){var me=l({x:_e,y:Be},Y,_._fullLayout);me.x=_e,me.y=Be;var Te=z.z[O][q];Te===void 0?(me.z="",me.zLabel=""):(me.z=Te,me.zLabel=r.tickText(ee,Te,"hover").text);var we=z.text&&z.text[O]&&z.text[O][q];we!==void 0&&we!==!1||(we=""),me.text=we;var Ae=n.texttemplateString(Ht,me,_._fullLayout._d3locale,me,Y._meta||{});if(Ae){var Ye=Ae.split("<br>"),Re=Ye.length,ge=0;for(tt=0;tt<Re;tt++)ge=Math.max(ge,Ye[tt].length);ze.push({l:Re,c:ge,t:Ae,x:xe,y:Me,z:Te})}}}}var ke=Y.textfont,Ee=ke.family,Oe=ke.size,Se=_._fullLayout.font.size;if(!Oe||Oe==="auto"){var Fe=1/0,je=1/0,Ue=0,He=0;for(tt=0;tt<ze.length;tt++){var Je=ze[tt];if(Ue=Math.max(Ue,Je.l),He=Math.max(He,Je.c),tt<ze.length-1){var Qe=ze[tt+1],ln=Math.abs(Qe.x-Je.x),rn=Math.abs(Qe.y-Je.y);ln&&(Fe=Math.min(Fe,ln)),rn&&(je=Math.min(je,rn))}}isFinite(Fe)&&isFinite(je)?(Fe-=Q,je-=nt,Fe/=He,je/=Ue,Fe/=p/2,je/=p,Oe=Math.min(Math.floor(Fe),Math.floor(je),Se)):Oe=Se}if(Oe<=0||!isFinite(Oe))return;y(E).data(ze).enter().append("g").classed(g,1).append("text").attr("text-anchor","middle").each(function(We){var nn=a.select(this),sn=ke.color;sn&&sn!=="auto"||(sn=u.contrast("rgba("+X(We.z).join()+")")),nn.attr("data-notex",1).call(o.positionText,function(Xe){return Xe.x}(We),function(Xe){return Xe.y-Oe*(Xe.l*p/2-1)}(We)).call(i.font,Ee,Oe,sn).text(We.t).call(o.convertToTspans,_)})}})}},70035:function(w,s,t){var a=t(39898);w.exports=function(f){a.select(f).selectAll(".hm image").style("opacity",function(e){return e.trace.opacity})}},49901:function(w){w.exports=function(s,t,a){a("zsmooth")===!1&&(a("xgap"),a("ygap")),a("zhoverformat")}},67684:function(w,s,t){var a=t(92770),f=t(71828),e=t(73972);function i(r,n){var o=n(r);return(o?n(r+"type","array"):"scaled")==="scaled"&&(n(r+"0"),n("d"+r)),o}w.exports=function(r,n,o,l,u,d){var c,h,p=o("z");if(u=u||"x",d=d||"y",p===void 0||!p.length)return 0;if(f.isArray1D(r.z)){c=o(u),h=o(d);var g=f.minRowLength(c),y=f.minRowLength(h);if(g===0||y===0)return 0;n._length=Math.min(g,y,p.length)}else{if(c=i(u,o),h=i(d,o),!function(b){for(var m,v=!0,x=!1,_=!1,T=0;T<b.length;T++){if(m=b[T],!f.isArrayOrTypedArray(m)){v=!1;break}m.length>0&&(x=!0);for(var C=0;C<m.length;C++)if(a(m[C])){_=!0;break}}return v&&x&&_}(p))return 0;o("transpose"),n._length=null}return r.type==="heatmapgl"||e.getComponentMethod("calendars","handleTraceDefaults")(r,n,[u,d],l),!0}},7745:function(w,s,t){var a=t(1486),f=t(12663).axisHoverFormat,e=t(5386).fF,i=t(5386).si,r=t(41940),n=t(17656),o=t(72406),l=t(1426).extendFlat;w.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},xhoverformat:f("x"),yhoverformat:f("y"),text:l({},a.text,{}),hovertext:l({},a.hovertext,{}),orientation:a.orientation,histfunc:{valType:"enumerated",values:["count","sum","avg","min","max"],dflt:"count",editType:"calc"},histnorm:{valType:"enumerated",values:["","percent","probability","density","probability density"],dflt:"",editType:"calc"},cumulative:{enabled:{valType:"boolean",dflt:!1,editType:"calc"},direction:{valType:"enumerated",values:["increasing","decreasing"],dflt:"increasing",editType:"calc"},currentbin:{valType:"enumerated",values:["include","exclude","half"],dflt:"include",editType:"calc"},editType:"calc"},nbinsx:{valType:"integer",min:0,dflt:0,editType:"calc"},xbins:n("x",!0),nbinsy:{valType:"integer",min:0,dflt:0,editType:"calc"},ybins:n("y",!0),autobinx:{valType:"boolean",dflt:null,editType:"calc"},autobiny:{valType:"boolean",dflt:null,editType:"calc"},bingroup:{valType:"string",dflt:"",editType:"calc"},hovertemplate:e({},{keys:o.eventDataKeys}),texttemplate:i({arrayOk:!1,editType:"plot"},{keys:["label","value"]}),textposition:l({},a.textposition,{arrayOk:!1}),textfont:r({arrayOk:!1,editType:"plot",colorEditType:"style"}),outsidetextfont:r({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextfont:r({arrayOk:!1,editType:"plot",colorEditType:"style"}),insidetextanchor:a.insidetextanchor,textangle:a.textangle,cliponaxis:a.cliponaxis,constraintext:a.constraintext,marker:a.marker,offsetgroup:a.offsetgroup,alignmentgroup:a.alignmentgroup,selected:a.selected,unselected:a.unselected,_deprecated:{bardir:a._deprecated.bardir}}},42174:function(w){w.exports=function(s,t){for(var a=s.length,f=0,e=0;e<a;e++)t[e]?(s[e]/=t[e],f+=s[e]):s[e]=null;return f}},17656:function(w){w.exports=function(s,t){return{start:{valType:"any",editType:"calc"},end:{valType:"any",editType:"calc"},size:{valType:"any",editType:"calc"},editType:"calc"}}},59575:function(w,s,t){var a=t(92770);w.exports={count:function(f,e,i){return i[f]++,1},sum:function(f,e,i,r){var n=r[e];return a(n)?(n=Number(n),i[f]+=n,n):0},avg:function(f,e,i,r,n){var o=r[e];return a(o)&&(o=Number(o),i[f]+=o,n[f]++),0},min:function(f,e,i,r){var n=r[e];if(a(n)){if(n=Number(n),!a(i[f]))return i[f]=n,n;if(i[f]>n){var o=n-i[f];return i[f]=n,o}}return 0},max:function(f,e,i,r){var n=r[e];if(a(n)){if(n=Number(n),!a(i[f]))return i[f]=n,n;if(i[f]<n){var o=n-i[f];return i[f]=n,o}}return 0}}},40965:function(w,s,t){var a=t(50606),f=a.ONEAVGYEAR,e=a.ONEAVGMONTH,i=a.ONEDAY,r=a.ONEHOUR,n=a.ONEMIN,o=a.ONESEC,l=t(89298).tickIncrement;function u(p,g,y,b){if(p*g<=0)return 1/0;for(var m=Math.abs(g-p),v=y.type==="date",x=d(m,v),_=0;_<10;_++){var T=d(80*x,v);if(x===T||!c(T,p,g,v,y,b))break;x=T}return x}function d(p,g){return g&&p>o?p>i?p>1.1*f?f:p>1.1*e?e:i:p>r?r:p>n?n:o:Math.pow(10,Math.floor(Math.log(p)/Math.LN10))}function c(p,g,y,b,m,v){if(b&&p>i){var x=h(g,m,v),_=h(y,m,v),T=p===f?0:1;return x[T]!==_[T]}return Math.floor(y/p)-Math.floor(g/p)>.1}function h(p,g,y){var b=g.c2d(p,f,y).split("-");return b[0]===""&&(b.unshift(),b[0]="-"+b[0]),b}w.exports=function(p,g,y,b,m){var v,x,_=-1.1*g,T=-.1*g,C=p-T,S=y[0],F=y[1],N=Math.min(u(S+T,S+C,b,m),u(F+T,F+C,b,m)),D=Math.min(u(S+_,S+T,b,m),u(F+_,F+T,b,m));if(N>D&&D<Math.abs(F-S)/4e3?(v=N,x=!1):(v=Math.min(N,D),x=!0),b.type==="date"&&v>i){var j=v===f?1:6,B=v===f?"M12":"M1";return function(J,P){var M=b.c2d(J,f,m),O=M.indexOf("-",j);O>0&&(M=M.substr(0,O));var q=b.d2c(M,0,m);if(q<J){var tt=l(q,B,!1,m);(q+tt)/2<J+p&&(q=tt)}return P&&x?l(q,B,!0,m):q}}return function(J,P){var M=v*Math.round(J/v);return M+v/10<J&&M+.9*v<J+p&&(M+=v),P&&x&&(M-=v),M}}},72138:function(w,s,t){var a=t(92770),f=t(71828),e=t(73972),i=t(89298),r=t(75341),n=t(59575),o=t(36362),l=t(42174),u=t(40965);function d(c,h,p,g,y){var b,m,v,x,_,T,C,S=g+"bins",F=c._fullLayout,N=h["_"+g+"bingroup"],D=F._histogramBinOpts[N],j=F.barmode==="overlay",B=function(kt){return p.r2c(kt,0,x)},J=function(kt){return p.c2r(kt,0,x)},P=p.type==="date"?function(kt){return kt||kt===0?f.cleanDate(kt,null,x):null}:function(kt){return a(kt)?Number(kt):null};function M(kt,Ct,It){Ct[kt+"Found"]?(Ct[kt]=P(Ct[kt]),Ct[kt]===null&&(Ct[kt]=It[kt])):(T[kt]=Ct[kt]=It[kt],f.nestedProperty(m[0],S+"."+kt).set(It[kt]))}if(h["_"+g+"autoBinFinished"])delete h["_"+g+"autoBinFinished"];else{m=D.traces;var O=[],q=!0,tt=!1,E=!1;for(b=0;b<m.length;b++)if((v=m[b]).visible){var z=D.dirs[b];_=v["_"+z+"pos0"]=p.makeCalcdata(v,z),O=f.concat(O,_),delete v["_"+g+"autoBinFinished"],h.visible===!0&&(q?q=!1:(delete v._autoBin,v["_"+g+"autoBinFinished"]=1),e.traceIs(v,"2dMap")&&(tt=!0),v.type==="histogram2dcontour"&&(E=!0))}x=m[0][g+"calendar"];var Y=i.autoBin(O,p,D.nbins,tt,x,D.sizeFound&&D.size),Q=m[0]._autoBin={};if(T=Q[D.dirs[0]]={},E&&(D.size||(Y.start=J(i.tickIncrement(B(Y.start),Y.size,!0,x))),D.end===void 0&&(Y.end=J(i.tickIncrement(B(Y.end),Y.size,!1,x)))),j&&!e.traceIs(h,"2dMap")&&Y._dataSpan===0&&p.type!=="category"&&p.type!=="multicategory"){if(y)return[Y,_,!0];Y=function(kt,Ct,It,pt,bt){var _t,Dt,L,X=kt._fullLayout,it=function(Xt,Gt){for(var Kt=Gt.xaxis,ie=Gt.yaxis,de=Gt.orientation,Jt=[],Nt=Xt._fullData,Vt=0;Vt<Nt.length;Vt++){var Zt=Nt[Vt];Zt.type==="histogram"&&Zt.visible===!0&&Zt.orientation===de&&Zt.xaxis===Kt&&Zt.yaxis===ie&&Jt.push(Zt)}return Jt}(kt,Ct),ft=!1,gt=1/0,wt=[Ct];for(_t=0;_t<it.length;_t++)if((Dt=it[_t])===Ct)ft=!0;else if(ft){var xt=d(kt,Dt,It,pt,!0),Ft=xt[0],Bt=xt[2];Dt["_"+pt+"autoBinFinished"]=1,Dt["_"+pt+"pos0"]=xt[1],Bt?wt.push(Dt):gt=Math.min(gt,Ft.size)}else L=X._histogramBinOpts[Dt["_"+pt+"bingroup"]],gt=Math.min(gt,L.size||Dt[bt].size);var Mt=new Array(wt.length);for(_t=0;_t<wt.length;_t++)for(var St=wt[_t]["_"+pt+"pos0"],Lt=0;Lt<St.length;Lt++)if(St[Lt]!==void 0){Mt[_t]=St[Lt];break}for(isFinite(gt)||(gt=f.distinctVals(Mt).minDiff),_t=0;_t<wt.length;_t++){var Pt=(Dt=wt[_t])[pt+"calendar"],zt={start:It.c2r(Mt[_t]-gt/2,0,Pt),end:It.c2r(Mt[_t]+gt/2,0,Pt),size:gt};Dt._input[bt]=Dt[bt]=zt,(L=X._histogramBinOpts[Dt["_"+pt+"bingroup"]])&&f.extendFlat(L,zt)}return Ct[bt]}(c,h,p,g,S)}(C=v.cumulative||{}).enabled&&C.currentbin!=="include"&&(C.direction==="decreasing"?Y.start=J(i.tickIncrement(B(Y.start),Y.size,!0,x)):Y.end=J(i.tickIncrement(B(Y.end),Y.size,!1,x))),D.size=Y.size,D.sizeFound||(T.size=Y.size,f.nestedProperty(m[0],S+".size").set(Y.size)),M("start",D,Y),M("end",D,Y)}_=h["_"+g+"pos0"],delete h["_"+g+"pos0"];var nt=h._input[S]||{},et=f.extendFlat({},D),Z=D.start,H=p.r2l(nt.start),U=H!==void 0;if((D.startFound||U)&&H!==p.r2l(Z)){var V=U?H:f.aggNums(Math.min,null,_),$={type:p.type==="category"||p.type==="multicategory"?"linear":p.type,r2l:p.r2l,dtick:D.size,tick0:Z,calendar:x,range:[V,i.tickIncrement(V,D.size,!1,x)].map(p.l2r)},at=i.tickFirst($);at>p.r2l(V)&&(at=i.tickIncrement(at,D.size,!0,x)),et.start=p.l2r(at),U||f.nestedProperty(h,S+".start").set(et.start)}var rt=D.end,ot=p.r2l(nt.end),ct=ot!==void 0;if((D.endFound||ct)&&ot!==p.r2l(rt)){var ht=ct?ot:f.aggNums(Math.max,null,_);et.end=p.l2r(ht),ct||f.nestedProperty(h,S+".start").set(et.end)}var mt="autobin"+g;return h._input[mt]===!1&&(h._input[S]=f.extendFlat({},h[S]||{}),delete h._input[mt],delete h[mt]),[et,_]}w.exports={calc:function(c,h){var p,g,y,b,m=[],v=[],x=h.orientation==="h",_=i.getFromId(c,x?h.yaxis:h.xaxis),T=x?"y":"x",C={x:"y",y:"x"}[T],S=h[T+"calendar"],F=h.cumulative,N=d(c,h,_,T),D=N[0],j=N[1],B=typeof D.size=="string",J=[],P=B?J:D,M=[],O=[],q=[],tt=0,E=h.histnorm,z=h.histfunc,Y=E.indexOf("density")!==-1;F.enabled&&Y&&(E=E.replace(/ ?density$/,""),Y=!1);var Q,nt=z==="max"||z==="min"?null:0,et=n.count,Z=o[E],H=!1,U=function(Dt){return _.r2c(Dt,0,S)};for(f.isArrayOrTypedArray(h[C])&&z!=="count"&&(Q=h[C],H=z==="avg",et=n[z]),p=U(D.start),y=U(D.end)+(p-i.tickIncrement(p,D.size,!1,S))/1e6;p<y&&m.length<1e6&&(g=i.tickIncrement(p,D.size,!1,S),m.push((p+g)/2),v.push(nt),q.push([]),J.push(p),Y&&M.push(1/(g-p)),H&&O.push(0),!(g<=p));)p=g;J.push(p),B||_.type!=="date"||(P={start:U(P.start),end:U(P.end),size:P.size}),c._fullLayout._roundFnOpts||(c._fullLayout._roundFnOpts={});var V=h["_"+T+"bingroup"],$={leftGap:1/0,rightGap:1/0};V&&(c._fullLayout._roundFnOpts[V]||(c._fullLayout._roundFnOpts[V]=$),$=c._fullLayout._roundFnOpts[V]);var at,rt=v.length,ot=!0,ct=$.leftGap,ht=$.rightGap,mt={};for(p=0;p<j.length;p++){var kt=j[p];(b=f.findBin(kt,P))>=0&&b<rt&&(tt+=et(b,p,v,Q,O),ot&&q[b].length&&kt!==j[q[b][0]]&&(ot=!1),q[b].push(p),mt[p]=b,ct=Math.min(ct,kt-J[b]),ht=Math.min(ht,J[b+1]-kt))}$.leftGap=ct,$.rightGap=ht,ot||(at=function(Dt,L){return function(){var X=c._fullLayout._roundFnOpts[V];return u(X.leftGap,X.rightGap,J,_,S)(Dt,L)}}),H&&(tt=l(v,O)),Z&&Z(v,tt,M),F.enabled&&function(Dt,L,X){var it,ft,gt;function wt(Ft){gt=Dt[Ft],Dt[Ft]/=2}function xt(Ft){ft=Dt[Ft],Dt[Ft]=gt+ft/2,gt+=ft}if(X==="half")if(L==="increasing")for(wt(0),it=1;it<Dt.length;it++)xt(it);else for(wt(Dt.length-1),it=Dt.length-2;it>=0;it--)xt(it);else if(L==="increasing"){for(it=1;it<Dt.length;it++)Dt[it]+=Dt[it-1];X==="exclude"&&(Dt.unshift(0),Dt.pop())}else{for(it=Dt.length-2;it>=0;it--)Dt[it]+=Dt[it+1];X==="exclude"&&(Dt.push(0),Dt.shift())}}(v,F.direction,F.currentbin);var Ct=Math.min(m.length,v.length),It=[],pt=0,bt=Ct-1;for(p=0;p<Ct;p++)if(v[p]){pt=p;break}for(p=Ct-1;p>=pt;p--)if(v[p]){bt=p;break}for(p=pt;p<=bt;p++)if(a(m[p])&&a(v[p])){var _t={p:m[p],s:v[p],b:0};F.enabled||(_t.pts=q[p],ot?_t.ph0=_t.ph1=q[p].length?j[q[p][0]]:m[p]:(h._computePh=!0,_t.ph0=at(J[p]),_t.ph1=at(J[p+1],!0))),It.push(_t)}return It.length===1&&(It[0].width1=i.tickIncrement(It[0].p,D.size,!1,S)-It[0].p),r(It,h),f.isArrayOrTypedArray(h.selectedpoints)&&f.tagSelected(It,h,mt),It},calcAllAutoBins:d}},72406:function(w){w.exports={eventDataKeys:["binNumber"]}},82222:function(w,s,t){var a=t(71828),f=t(41675),e=t(73972).traceIs,i=t(26125),r=a.nestedProperty,n=t(99082).getAxisGroup,o=[{aStr:{x:"xbins.start",y:"ybins.start"},name:"start"},{aStr:{x:"xbins.end",y:"ybins.end"},name:"end"},{aStr:{x:"xbins.size",y:"ybins.size"},name:"size"},{aStr:{x:"nbinsx",y:"nbinsy"},name:"nbins"}],l=["x","y"];w.exports=function(u,d){var c,h,p,g,y,b,m,v=d._histogramBinOpts={},x=[],_={},T=[];function C(Y,Q){return a.coerce(c._input,c,c._module.attributes,Y,Q)}function S(Y){return Y.orientation==="v"?"x":"y"}function F(Y,Q,nt){var et=Y.uid+"__"+nt;Q||(Q=et);var Z=function($,at){return f.getFromTrace({_fullLayout:d},$,at).type}(Y,nt),H=Y[nt+"calendar"]||"",U=v[Q],V=!0;U&&(Z===U.axType&&H===U.calendar?(V=!1,U.traces.push(Y),U.dirs.push(nt)):(Q=et,Z!==U.axType&&a.warn(["Attempted to group the bins of trace",Y.index,"set on a","type:"+Z,"axis","with bins on","type:"+U.axType,"axis."].join(" ")),H!==U.calendar&&a.warn(["Attempted to group the bins of trace",Y.index,"set with a",H,"calendar","with bins",U.calendar?"on a "+U.calendar+" calendar":"w/o a set calendar"].join(" ")))),V&&(v[Q]={traces:[Y],dirs:[nt],axType:Z,calendar:Y[nt+"calendar"]||""}),Y["_"+nt+"bingroup"]=Q}for(y=0;y<u.length;y++)c=u[y],e(c,"histogram")&&(x.push(c),delete c._xautoBinFinished,delete c._yautoBinFinished,e(c,"2dMap")||i(c._input,c,d,C));var N=d._alignmentOpts||{};for(y=0;y<x.length;y++){if(c=x[y],p="",!e(c,"2dMap")){if(g=S(c),d.barmode==="group"&&c.alignmentgroup){var D=c[g+"axis"],j=n(d,D)+c.orientation;(N[j]||{})[c.alignmentgroup]&&(p=j)}p||d.barmode==="overlay"||(p=n(d,c.xaxis)+n(d,c.yaxis)+S(c))}p?(_[p]||(_[p]=[]),_[p].push(c)):T.push(c)}for(p in _)if((h=_[p]).length!==1){var B=!1;for(h.length&&(c=h[0],B=C("bingroup")),p=B||p,y=0;y<h.length;y++){var J=(c=h[y])._input.bingroup;J&&J!==p&&a.warn(["Trace",c.index,"must match","within bingroup",p+".","Ignoring its bingroup:",J,"setting."].join(" ")),c.bingroup=p,F(c,p,S(c))}}else T.push(h[0]);for(y=0;y<T.length;y++){c=T[y];var P=C("bingroup");if(e(c,"2dMap"))for(m=0;m<2;m++){var M=C((g=l[m])+"bingroup",P?P+"__"+g:null);F(c,M,g)}else F(c,P,S(c))}for(p in v){var O=v[p];for(h=O.traces,b=0;b<o.length;b++){var q,tt,E=o[b],z=E.name;if(z!=="nbins"||!O.sizeFound){for(y=0;y<h.length;y++){if(c=h[y],g=O.dirs[y],q=E.aStr[g],r(c._input,q).get()!==void 0){O[z]=C(q),O[z+"Found"]=!0;break}(tt=(c._autoBin||{})[g]||{})[z]&&r(c,q).set(tt[z])}if(z==="start"||z==="end")for(;y<h.length;y++)(c=h[y])["_"+g+"bingroup"]&&C(q,(tt=(c._autoBin||{})[g]||{})[z]);z!=="nbins"||O.sizeFound||O.nbinsFound||(c=h[0],O[z]=C(q))}}}}},11385:function(w,s,t){var a=t(73972),f=t(71828),e=t(7901),i=t(90769).handleText,r=t(98340),n=t(7745);w.exports=function(o,l,u,d){function c(T,C){return f.coerce(o,l,n,T,C)}var h=c("x"),p=c("y");c("cumulative.enabled")&&(c("cumulative.direction"),c("cumulative.currentbin")),c("text");var g=c("textposition");i(o,l,d,c,g,{moduleHasSelected:!0,moduleHasUnselected:!0,moduleHasConstrain:!0,moduleHasCliponaxis:!0,moduleHasTextangle:!0,moduleHasInsideanchor:!0}),c("hovertext"),c("hovertemplate"),c("xhoverformat"),c("yhoverformat");var y=c("orientation",p&&!h?"h":"v"),b=y==="v"?"x":"y",m=y==="v"?"y":"x",v=h&&p?Math.min(f.minRowLength(h)&&f.minRowLength(p)):f.minRowLength(l[b]||[]);if(v){l._length=v,a.getComponentMethod("calendars","handleTraceDefaults")(o,l,["x","y"],d),l[m]&&c("histfunc"),c("histnorm"),c("autobin"+b),r(o,l,c,u,d),f.coerceSelectionMarkerOpacity(l,c);var x=(l.marker.line||{}).color,_=a.getComponentMethod("errorbars","supplyDefaults");_(o,l,x||e.defaultLine,{axis:"y"}),_(o,l,x||e.defaultLine,{axis:"x",inherit:"y"})}else l.visible=!1}},84402:function(w){w.exports=function(s,t,a,f,e){if(s.x="xVal"in t?t.xVal:t.x,s.y="yVal"in t?t.yVal:t.y,"zLabelVal"in t&&(s.z=t.zLabelVal),t.xa&&(s.xaxis=t.xa),t.ya&&(s.yaxis=t.ya),!(a.cumulative||{}).enabled){var i,r=Array.isArray(e)?f[0].pts[e[0]][e[1]]:f[e].pts;if(s.pointNumbers=r,s.binNumber=s.pointNumber,delete s.pointNumber,delete s.pointIndex,a._indexToPoints){i=[];for(var n=0;n<r.length;n++)i=i.concat(a._indexToPoints[r[n]])}else i=r;s.pointIndices=i}return s}},76440:function(w,s,t){var a=t(95423).hoverPoints,f=t(89298).hoverLabelText;w.exports=function(e,i,r,n,o){var l=a(e,i,r,n,o);if(l){var u=(e=l[0]).cd[e.index],d=e.cd[0].trace;if(!d.cumulative.enabled){var c=d.orientation==="h"?"y":"x";e[c+"Label"]=f(e[c+"a"],[u.ph0,u.ph1],d[c+"hoverformat"])}return l}}},36071:function(w,s,t){w.exports={attributes:t(7745),layoutAttributes:t(43641),supplyDefaults:t(11385),crossTraceDefaults:t(82222),supplyLayoutDefaults:t(13957),calc:t(72138).calc,crossTraceCalc:t(11661).crossTraceCalc,plot:t(17295).plot,layerName:"barlayer",style:t(16688).style,styleOnSelect:t(16688).styleOnSelect,colorbar:t(4898),hoverPoints:t(76440),selectPoints:t(81974),eventData:t(84402),moduleType:"trace",name:"histogram",basePlotModule:t(93612),categories:["bar-like","cartesian","svg","bar","histogram","oriented","errorBarsOK","showLegend"],meta:{}}},36362:function(w){w.exports={percent:function(s,t){for(var a=s.length,f=100/t,e=0;e<a;e++)s[e]*=f},probability:function(s,t){for(var a=s.length,f=0;f<a;f++)s[f]/=t},density:function(s,t,a,f){var e=s.length;f=f||1;for(var i=0;i<e;i++)s[i]*=a[i]*f},"probability density":function(s,t,a,f){var e=s.length;f&&(t/=f);for(var i=0;i<e;i++)s[i]*=a[i]/t}}},35361:function(w,s,t){var a=t(7745),f=t(17656),e=t(21606),i=t(9012),r=t(12663).axisHoverFormat,n=t(5386).fF,o=t(5386).si,l=t(50693),u=t(1426).extendFlat;w.exports=u({x:a.x,y:a.y,z:{valType:"data_array",editType:"calc"},marker:{color:{valType:"data_array",editType:"calc"},editType:"calc"},histnorm:a.histnorm,histfunc:a.histfunc,nbinsx:a.nbinsx,xbins:f("x"),nbinsy:a.nbinsy,ybins:f("y"),autobinx:a.autobinx,autobiny:a.autobiny,bingroup:u({},a.bingroup,{}),xbingroup:u({},a.bingroup,{}),ybingroup:u({},a.bingroup,{}),xgap:e.xgap,ygap:e.ygap,zsmooth:e.zsmooth,xhoverformat:r("x"),yhoverformat:r("y"),zhoverformat:r("z",1),hovertemplate:n({},{keys:"z"}),texttemplate:o({arrayOk:!1,editType:"plot"},{keys:"z"}),textfont:e.textfont,showlegend:u({},i.showlegend,{dflt:!1})},l("",{cLetter:"z",autoColorDflt:!1}))},17562:function(w,s,t){var a=t(71828),f=t(89298),e=t(59575),i=t(36362),r=t(42174),n=t(40965),o=t(72138).calcAllAutoBins;function l(c,h,p,g){var y,b=new Array(c);if(g)for(y=0;y<c;y++)b[y]=1/(h[y+1]-h[y]);else{var m=1/p;for(y=0;y<c;y++)b[y]=m}return b}function u(c,h){return{start:c(h.start),end:c(h.end),size:h.size}}function d(c,h,p,g,y,b){var m,v=c.length-1,x=new Array(v),_=n(p,g,c,y,b);for(m=0;m<v;m++){var T=(h||[])[m];x[m]=T===void 0?[_(c[m]),_(c[m+1],!0)]:[T,T]}return x}w.exports=function(c,h){var p,g,y,b,m=f.getFromId(c,h.xaxis),v=f.getFromId(c,h.yaxis),x=h.xcalendar,_=h.ycalendar,T=function(ie){return m.r2c(ie,0,x)},C=function(ie){return v.r2c(ie,0,_)},S=o(c,h,m,"x"),F=S[0],N=S[1],D=o(c,h,v,"y"),j=D[0],B=D[1],J=h._length;N.length>J&&N.splice(J,N.length-J),B.length>J&&B.splice(J,B.length-J);var P=[],M=[],O=[],q=typeof F.size=="string",tt=typeof j.size=="string",E=[],z=[],Y=q?E:F,Q=tt?z:j,nt=0,et=[],Z=[],H=h.histnorm,U=h.histfunc,V=H.indexOf("density")!==-1,$=U==="max"||U==="min"?null:0,at=e.count,rt=i[H],ot=!1,ct=[],ht=[],mt="z"in h?h.z:"marker"in h&&Array.isArray(h.marker.color)?h.marker.color:"";mt&&U!=="count"&&(ot=U==="avg",at=e[U]);var kt=F.size,Ct=T(F.start),It=T(F.end)+(Ct-f.tickIncrement(Ct,kt,!1,x))/1e6;for(p=Ct;p<It;p=f.tickIncrement(p,kt,!1,x))M.push($),E.push(p),ot&&O.push(0);E.push(p);var pt,bt=M.length,_t=(p-Ct)/bt,Dt=(pt=Ct+_t/2,m.c2r(pt,0,x)),L=j.size,X=C(j.start),it=C(j.end)+(X-f.tickIncrement(X,L,!1,_))/1e6;for(p=X;p<it;p=f.tickIncrement(p,L,!1,_)){P.push(M.slice()),z.push(p);var ft=new Array(bt);for(g=0;g<bt;g++)ft[g]=[];Z.push(ft),ot&&et.push(O.slice())}z.push(p);var gt=P.length,wt=(p-X)/gt,xt=function(ie){return v.c2r(ie,0,_)}(X+wt/2);V&&(ct=l(M.length,Y,_t,q),ht=l(P.length,Q,wt,tt)),q||m.type!=="date"||(Y=u(T,Y)),tt||v.type!=="date"||(Q=u(C,Q));var Ft=!0,Bt=!0,Mt=new Array(bt),St=new Array(gt),Lt=1/0,Pt=1/0,zt=1/0,Xt=1/0;for(p=0;p<J;p++){var Gt=N[p],Kt=B[p];y=a.findBin(Gt,Y),b=a.findBin(Kt,Q),y>=0&&y<bt&&b>=0&&b<gt&&(nt+=at(y,p,P[b],mt,et[b]),Z[b][y].push(p),Ft&&(Mt[y]===void 0?Mt[y]=Gt:Mt[y]!==Gt&&(Ft=!1)),Bt&&(St[b]===void 0?St[b]=Kt:St[b]!==Kt&&(Bt=!1)),Lt=Math.min(Lt,Gt-E[y]),Pt=Math.min(Pt,E[y+1]-Gt),zt=Math.min(zt,Kt-z[b]),Xt=Math.min(Xt,z[b+1]-Kt))}if(ot)for(b=0;b<gt;b++)nt+=r(P[b],et[b]);if(rt)for(b=0;b<gt;b++)rt(P[b],nt,ct,ht[b]);return{x:N,xRanges:d(E,Ft&&Mt,Lt,Pt,m,x),x0:Dt,dx:_t,y:B,yRanges:d(z,Bt&&St,zt,Xt,v,_),y0:xt,dy:wt,z:P,pts:Z}}},93888:function(w,s,t){var a=t(71828),f=t(75238),e=t(49901),i=t(1586),r=t(58623),n=t(35361);w.exports=function(o,l,u,d){function c(h,p){return a.coerce(o,l,n,h,p)}f(o,l,c,d),l.visible!==!1&&(e(o,l,c,d),i(o,l,d,c,{prefix:"",cLetter:"z"}),c("hovertemplate"),r(c,d),c("xhoverformat"),c("yhoverformat"))}},76128:function(w,s,t){var a=t(46248),f=t(89298).hoverLabelText;w.exports=function(e,i,r,n,o){var l=a(e,i,r,n,o);if(l){var u=(e=l[0]).index,d=u[0],c=u[1],h=e.cd[0],p=h.trace,g=h.xRanges[c],y=h.yRanges[d];return e.xLabel=f(e.xa,[g[0],g[1]],p.xhoverformat),e.yLabel=f(e.ya,[y[0],y[1]],p.yhoverformat),l}}},43905:function(w,s,t){w.exports={attributes:t(35361),supplyDefaults:t(93888),crossTraceDefaults:t(82222),calc:t(90757),plot:t(50347),layerName:"heatmaplayer",colorbar:t(61243),style:t(70035),hoverPoints:t(76128),eventData:t(84402),moduleType:"trace",name:"histogram2d",basePlotModule:t(93612),categories:["cartesian","svg","2dMap","histogram","showLegend"],meta:{}}},75238:function(w,s,t){var a=t(73972),f=t(71828);w.exports=function(e,i,r,n){var o=r("x"),l=r("y"),u=f.minRowLength(o),d=f.minRowLength(l);u&&d?(i._length=Math.min(u,d),a.getComponentMethod("calendars","handleTraceDefaults")(e,i,["x","y"],n),(r("z")||r("marker.color"))&&r("histfunc"),r("histnorm"),r("autobinx"),r("autobiny")):i.visible=!1}},99066:function(w,s,t){var a=t(35361),f=t(70600),e=t(50693),i=t(12663).axisHoverFormat,r=t(1426).extendFlat;w.exports=r({x:a.x,y:a.y,z:a.z,marker:a.marker,histnorm:a.histnorm,histfunc:a.histfunc,nbinsx:a.nbinsx,xbins:a.xbins,nbinsy:a.nbinsy,ybins:a.ybins,autobinx:a.autobinx,autobiny:a.autobiny,bingroup:a.bingroup,xbingroup:a.xbingroup,ybingroup:a.ybingroup,autocontour:f.autocontour,ncontours:f.ncontours,contours:f.contours,line:{color:f.line.color,width:r({},f.line.width,{dflt:.5}),dash:f.line.dash,smoothing:f.line.smoothing,editType:"plot"},xhoverformat:i("x"),yhoverformat:i("y"),zhoverformat:i("z",1),hovertemplate:a.hovertemplate,texttemplate:f.texttemplate,textfont:f.textfont},e("",{cLetter:"z",editTypeOverride:"calc"}))},62654:function(w,s,t){var a=t(71828),f=t(75238),e=t(67217),i=t(8724),r=t(58623),n=t(99066);w.exports=function(o,l,u,d){function c(h,p){return a.coerce(o,l,n,h,p)}f(o,l,c,d),l.visible!==!1&&(e(o,l,c,function(h){return a.coerce2(o,l,n,h)}),i(o,l,c,d),c("xhoverformat"),c("yhoverformat"),c("hovertemplate"),l.contours&&l.contours.coloring==="heatmap"&&r(c,d))}},35902:function(w,s,t){w.exports={attributes:t(99066),supplyDefaults:t(62654),crossTraceDefaults:t(82222),calc:t(27529),plot:t(29854).plot,layerName:"contourlayer",style:t(84426),colorbar:t(90654),hoverPoints:t(52421),moduleType:"trace",name:"histogram2dcontour",basePlotModule:t(93612),categories:["cartesian","svg","2dMap","contour","histogram","showLegend"],meta:{}}},17230:function(w,s,t){for(var a=t(9012),f=t(5386).fF,e=t(1426).extendFlat,i=t(51877).colormodel,r=["rgb","rgba","rgba256","hsl","hsla"],n=[],o=[],l=0;l<r.length;l++){var u=i[r[l]];n.push("For the `"+r[l]+"` colormodel, it is ["+(u.zminDflt||u.min).join(", ")+"]."),o.push("For the `"+r[l]+"` colormodel, it is ["+(u.zmaxDflt||u.max).join(", ")+"].")}w.exports=e({source:{valType:"string",editType:"calc"},z:{valType:"data_array",editType:"calc"},colormodel:{valType:"enumerated",values:r,editType:"calc"},zsmooth:{valType:"enumerated",values:["fast",!1],dflt:!1,editType:"plot"},zmin:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},zmax:{valType:"info_array",items:[{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"},{valType:"number",editType:"calc"}],editType:"calc"},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dx:{valType:"number",dflt:1,editType:"calc"},dy:{valType:"number",dflt:1,editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"data_array",editType:"plot"},hoverinfo:e({},a.hoverinfo,{flags:["x","y","z","color","name","text"],dflt:"x+y+z+text+name"}),hovertemplate:f({},{keys:["z","color","colormodel"]}),transforms:void 0})},71113:function(w,s,t){var a=t(71828),f=t(51877),e=t(92770),i=t(89298),r=t(71828).maxRowLength,n=t(67395).A;function o(u,d,c,h){return function(p){return a.constrain((p-u)*d,c,h)}}function l(u,d){return function(c){return a.constrain(c,u,d)}}w.exports=function(u,d){var c,h;if(d._hasZ)c=d.z.length,h=r(d.z);else if(d._hasSource){var p=n(d.source);c=p.height,h=p.width}var g,y=i.getFromId(u,d.xaxis||"x"),b=i.getFromId(u,d.yaxis||"y"),m=y.d2c(d.x0)-d.dx/2,v=b.d2c(d.y0)-d.dy/2,x=[m,m+h*d.dx],_=[v,v+c*d.dy];if(y&&y.type==="log")for(g=0;g<h;g++)x.push(m+g*d.dx);if(b&&b.type==="log")for(g=0;g<c;g++)_.push(v+g*d.dy);return d._extremes[y._id]=i.findExtremes(y,x),d._extremes[b._id]=i.findExtremes(b,_),d._scaler=function(T){var C=f.colormodel[T.colormodel],S=(C.colormodel||T.colormodel).length;T._sArray=[];for(var F=0;F<S;F++)C.min[F]!==T.zmin[F]||C.max[F]!==T.zmax[F]?T._sArray.push(o(T.zmin[F],(C.max[F]-C.min[F])/(T.zmax[F]-T.zmin[F]),C.min[F],C.max[F])):T._sArray.push(l(C.min[F],C.max[F]));return function(N){for(var D=N.slice(0,S),j=0;j<S;j++){var B=D[j];if(!e(B))return!1;D[j]=T._sArray[j](B)}return D}}(d),[{x0:m,y0:v,z:d.z,w:h,h:c}]}},51877:function(w){w.exports={colormodel:{rgb:{min:[0,0,0],max:[255,255,255],fmt:function(s){return s.slice(0,3)},suffix:["","",""]},rgba:{min:[0,0,0,0],max:[255,255,255,1],fmt:function(s){return s.slice(0,4)},suffix:["","","",""]},rgba256:{colormodel:"rgba",zminDflt:[0,0,0,0],zmaxDflt:[255,255,255,255],min:[0,0,0,0],max:[255,255,255,1],fmt:function(s){return s.slice(0,4)},suffix:["","","",""]},hsl:{min:[0,0,0],max:[360,100,100],fmt:function(s){var t=s.slice(0,3);return t[1]=t[1]+"%",t[2]=t[2]+"%",t},suffix:["°","%","%"]},hsla:{min:[0,0,0,0],max:[360,100,100,1],fmt:function(s){var t=s.slice(0,4);return t[1]=t[1]+"%",t[2]=t[2]+"%",t},suffix:["°","%","%",""]}},pixelatedStyle:["image-rendering: optimizeSpeed","image-rendering: -moz-crisp-edges","image-rendering: -o-crisp-edges","image-rendering: -webkit-optimize-contrast","image-rendering: optimize-contrast","image-rendering: crisp-edges","image-rendering: pixelated",""].join("; ")}},13245:function(w,s,t){var a=t(71828),f=t(17230),e=t(51877),i=t(25095).IMAGE_URL_PREFIX;w.exports=function(r,n){function o(d,c){return a.coerce(r,n,f,d,c)}o("source"),n.source&&!n.source.match(i)&&delete n.source,n._hasSource=!!n.source;var l,u=o("z");n._hasZ=!(u===void 0||!u.length||!u[0]||!u[0].length),n._hasZ||n._hasSource?(o("x0"),o("y0"),o("dx"),o("dy"),n._hasZ?(o("colormodel","rgb"),o("zmin",(l=e.colormodel[n.colormodel]).zminDflt||l.min),o("zmax",l.zmaxDflt||l.max)):n._hasSource&&(n.colormodel="rgba256",l=e.colormodel[n.colormodel],n.zmin=l.zminDflt,n.zmax=l.zmaxDflt),o("zsmooth"),o("text"),o("hovertext"),o("hovertemplate"),n._length=null):n.visible=!1}},30835:function(w){w.exports=function(s,t){return"xVal"in t&&(s.x=t.xVal),"yVal"in t&&(s.y=t.yVal),t.xa&&(s.xaxis=t.xa),t.ya&&(s.yaxis=t.ya),s.color=t.color,s.colormodel=t.trace.colormodel,s.z||(s.z=t.color),s}},67395:function(w,s,t){var a=t(33575),f=t(25095).IMAGE_URL_PREFIX,e=t(12856).Buffer;s.A=function(i){var r=i.replace(f,""),n=new e(r,"base64");return a(n)}},28749:function(w,s,t){var a=t(30211),f=t(71828),e=t(51877);w.exports=function(i,r,n){var o=i.cd[0],l=o.trace,u=i.xa,d=i.ya;if(!(a.inbox(r-o.x0,r-(o.x0+o.w*l.dx),0)>0||a.inbox(n-o.y0,n-(o.y0+o.h*l.dy),0)>0)){var c,h=Math.floor((r-o.x0)/l.dx),p=Math.floor(Math.abs(n-o.y0)/l.dy);if(l._hasZ?c=o.z[p][h]:l._hasSource&&(c=l._canvas.el.getContext("2d",{willReadFrequently:!0}).getImageData(h,p,1,1).data),c){var g,y=o.hi||l.hoverinfo;if(y){var b=y.split("+");b.indexOf("all")!==-1&&(b=["color"]),b.indexOf("color")!==-1&&(g=!0)}var m,v=e.colormodel[l.colormodel],x=v.colormodel||l.colormodel,_=x.length,T=l._scaler(c),C=v.suffix,S=[];(l.hovertemplate||g)&&(S.push("["+[T[0]+C[0],T[1]+C[1],T[2]+C[2]].join(", ")),_===4&&S.push(", "+T[3]+C[3]),S.push("]"),S=S.join(""),i.extraText=x.toUpperCase()+": "+S),Array.isArray(l.hovertext)&&Array.isArray(l.hovertext[p])?m=l.hovertext[p][h]:Array.isArray(l.text)&&Array.isArray(l.text[p])&&(m=l.text[p][h]);var F=d.c2p(o.y0+(p+.5)*l.dy),N=o.x0+(h+.5)*l.dx,D=o.y0+(p+.5)*l.dy,j="["+c.slice(0,l.colormodel.length).join(", ")+"]";return[f.extendFlat(i,{index:[p,h],x0:u.c2p(o.x0+h*l.dx),x1:u.c2p(o.x0+(h+1)*l.dx),y0:F,y1:F,color:T,xVal:N,xLabelVal:N,yVal:D,yLabelVal:D,zLabelVal:j,text:m,hovertemplateLabels:{zLabel:j,colorLabel:S,"color[0]Label":T[0]+C[0],"color[1]Label":T[1]+C[1],"color[2]Label":T[2]+C[2],"color[3]Label":T[3]+C[3]}})]}}}},94507:function(w,s,t){w.exports={attributes:t(17230),supplyDefaults:t(13245),calc:t(71113),plot:t(60775),style:t(12826),hoverPoints:t(28749),eventData:t(30835),moduleType:"trace",name:"image",basePlotModule:t(93612),categories:["cartesian","svg","2dMap","noSortingByValue"],animatable:!1,meta:{}}},60775:function(w,s,t){var a=t(39898),f=t(71828),e=f.strTranslate,i=t(77922),r=t(51877),n=f.isIOS()||f.isSafari()||f.isIE();w.exports=function(o,l,u,d){var c=l.xaxis,h=l.yaxis,p=!(n||o._context._exportedPlot);f.makeTraceGroups(d,u,"im").each(function(g){var y=a.select(this),b=g[0],m=b.trace,v=(m.zsmooth==="fast"||m.zsmooth===!1&&p)&&!m._hasZ&&m._hasSource&&c.type==="linear"&&h.type==="linear";m._realImage=v;var x,_,T,C,S,F,N=b.z,D=b.x0,j=b.y0,B=b.w,J=b.h,P=m.dx,M=m.dy;for(F=0;x===void 0&&F<B;)x=c.c2p(D+F*P),F++;for(F=B;_===void 0&&F>0;)_=c.c2p(D+F*P),F--;for(F=0;C===void 0&&F<J;)C=h.c2p(j+F*M),F++;for(F=J;S===void 0&&F>0;)S=h.c2p(j+F*M),F--;_<x&&(T=_,_=x,x=T),S<C&&(T=C,C=S,S=T),v||(x=Math.max(-.5*c._length,x),_=Math.min(1.5*c._length,_),C=Math.max(-.5*h._length,C),S=Math.min(1.5*h._length,S));var O=Math.round(_-x),q=Math.round(S-C);if(O<=0||q<=0)y.selectAll("image").data([]).exit().remove();else{var tt=y.selectAll("image").data([g]);tt.enter().append("svg:image").attr({xmlns:i.svg,preserveAspectRatio:"none"}),tt.exit().remove();var E=m.zsmooth===!1?r.pixelatedStyle:"";if(v){var z=f.simpleMap(c.range,c.r2l),Y=f.simpleMap(h.range,h.r2l),Q=z[1]<z[0],nt=Y[1]>Y[0];if(Q||nt){var et=x+O/2,Z=C+q/2;E+="transform:"+e(et+"px",Z+"px")+"scale("+(Q?-1:1)+","+(nt?-1:1)+")"+e(-et+"px",-Z+"px")+";"}}tt.attr("style",E);var H=new Promise(function(V){if(m._hasZ)V();else if(m._hasSource)if(m._canvas&&m._canvas.el.width===B&&m._canvas.el.height===J&&m._canvas.source===m.source)V();else{var $=document.createElement("canvas");$.width=B,$.height=J;var at=$.getContext("2d",{willReadFrequently:!0});m._image=m._image||new Image;var rt=m._image;rt.onload=function(){at.drawImage(rt,0,0),m._canvas={el:$,source:m.source},V()},rt.setAttribute("src",m.source)}}).then(function(){var V,$;if(m._hasZ)$=U(function(rt,ot){return N[ot][rt]}),V=$.toDataURL("image/png");else if(m._hasSource)if(v)V=m.source;else{var at=m._canvas.el.getContext("2d",{willReadFrequently:!0}).getImageData(0,0,B,J).data;$=U(function(rt,ot){var ct=4*(ot*B+rt);return[at[ct],at[ct+1],at[ct+2],at[ct+3]]}),V=$.toDataURL("image/png")}tt.attr({"xlink:href":V,height:q,width:O,x,y:C})});o._promises.push(H)}function U(V){var $=document.createElement("canvas");$.width=O,$.height=q;var at,rt=$.getContext("2d",{willReadFrequently:!0}),ot=function(Dt){return f.constrain(Math.round(c.c2p(D+Dt*P)-x),0,O)},ct=function(Dt){return f.constrain(Math.round(h.c2p(j+Dt*M)-C),0,q)},ht=r.colormodel[m.colormodel],mt=ht.colormodel||m.colormodel,kt=ht.fmt;for(F=0;F<b.w;F++){var Ct=ot(F),It=ot(F+1);if(It!==Ct&&!isNaN(It)&&!isNaN(Ct))for(var pt=0;pt<b.h;pt++){var bt=ct(pt),_t=ct(pt+1);_t===bt||isNaN(_t)||isNaN(bt)||!V(F,pt)||(at=m._scaler(V(F,pt)),rt.fillStyle=at?mt+"("+kt(at).join(",")+")":"rgba(0,0,0,0)",rt.fillRect(Ct,bt,It-Ct,_t-bt))}}return $}})}},12826:function(w,s,t){var a=t(39898);w.exports=function(f){a.select(f).selectAll(".im image").style("opacity",function(e){return e[0].trace.opacity})}},34e3:function(w,s,t){var a=t(9012),f=t(27670).Y,e=t(41940),i=t(22399),r=t(5386).fF,n=t(5386).si,o=t(1426).extendFlat,l=e({editType:"plot",arrayOk:!0,colorEditType:"plot"});w.exports={labels:{valType:"data_array",editType:"calc"},label0:{valType:"number",dflt:0,editType:"calc"},dlabel:{valType:"number",dflt:1,editType:"calc"},values:{valType:"data_array",editType:"calc"},marker:{colors:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:i.defaultLine,arrayOk:!0,editType:"style"},width:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"style"},editType:"calc"},editType:"calc"},text:{valType:"data_array",editType:"plot"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},scalegroup:{valType:"string",dflt:"",editType:"calc"},textinfo:{valType:"flaglist",flags:["label","text","value","percent"],extras:["none"],editType:"calc"},hoverinfo:o({},a.hoverinfo,{flags:["label","text","value","percent","name"]}),hovertemplate:r({},{keys:["label","color","value","percent","text"]}),texttemplate:n({editType:"plot"},{keys:["label","color","value","percent","text"]}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"plot"},textfont:o({},l,{}),insidetextorientation:{valType:"enumerated",values:["horizontal","radial","tangential","auto"],dflt:"auto",editType:"plot"},insidetextfont:o({},l,{}),outsidetextfont:o({},l,{}),automargin:{valType:"boolean",dflt:!1,editType:"plot"},title:{text:{valType:"string",dflt:"",editType:"plot"},font:o({},l,{}),position:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"plot"},editType:"plot"},domain:f({name:"pie",trace:!0,editType:"calc"}),hole:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},sort:{valType:"boolean",dflt:!0,editType:"calc"},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"angle",dflt:0,editType:"calc"},pull:{valType:"number",min:0,max:1,dflt:0,arrayOk:!0,editType:"calc"},_deprecated:{title:{valType:"string",dflt:"",editType:"calc"},titlefont:o({},l,{}),titleposition:{valType:"enumerated",values:["top left","top center","top right","middle center","bottom left","bottom center","bottom right"],editType:"calc"}}}},13584:function(w,s,t){var a=t(74875);s.name="pie",s.plot=function(f,e,i,r){a.plotBasePlot(s.name,f,e,i,r)},s.clean=function(f,e,i,r){a.cleanBasePlot(s.name,f,e,i,r)}},32354:function(w,s,t){var a=t(92770),f=t(84267),e=t(7901),i={};function r(o){return function(l,u){return!!l&&!!(l=f(l)).isValid()&&(l=e.addOpacity(l,l.getAlpha()),o[u]||(o[u]=l),l)}}function n(o,l){var u,d=JSON.stringify(o),c=l[d];if(!c){for(c=o.slice(),u=0;u<o.length;u++)c.push(f(o[u]).lighten(20).toHexString());for(u=0;u<o.length;u++)c.push(f(o[u]).darken(20).toHexString());l[d]=c}return c}w.exports={calc:function(o,l){var u,d,c=[],h=o._fullLayout,p=h.hiddenlabels||[],g=l.labels,y=l.marker.colors||[],b=l.values,m=l._length,v=l._hasValues&&m;if(l.dlabel)for(g=new Array(m),u=0;u<m;u++)g[u]=String(l.label0+u*l.dlabel);var x={},_=r(h["_"+l.type+"colormap"]),T=0,C=!1;for(u=0;u<m;u++){var S,F,N;if(v){if(S=b[u],!a(S))continue;S=+S}else S=1;(F=g[u])!==void 0&&F!==""||(F=u);var D=x[F=String(F)];D===void 0?(x[F]=c.length,(N=p.indexOf(F)!==-1)||(T+=S),c.push({v:S,label:F,color:_(y[u],F),i:u,pts:[u],hidden:N})):(C=!0,(d=c[D]).v+=S,d.pts.push(u),d.hidden||(T+=S),d.color===!1&&y[u]&&(d.color=_(y[u],F)))}return c=c.filter(function(j){return j.v>=0}),(l.type==="funnelarea"?C:l.sort)&&c.sort(function(j,B){return B.v-j.v}),c[0]&&(c[0].vTotal=T),c},crossTraceCalc:function(o,l){var u=(l||{}).type;u||(u="pie");var d=o._fullLayout,c=o.calcdata,h=d[u+"colorway"],p=d["_"+u+"colormap"];d["extend"+u+"colors"]&&(h=n(h,i));for(var g=0,y=0;y<c.length;y++){var b=c[y];if(b[0].trace.type===u)for(var m=0;m<b.length;m++){var v=b[m];v.color===!1&&(p[v.label]?v.color=p[v.label]:(p[v.label]=v.color=h[g%h.length],g++))}}},makePullColorFn:r,generateExtendedColors:n}},37434:function(w,s,t){var a=t(92770),f=t(71828),e=t(34e3),i=t(27670).c,r=t(90769).handleText;function n(o,l){var u=Array.isArray(o),d=f.isArrayOrTypedArray(l),c=Math.min(u?o.length:1/0,d?l.length:1/0);if(isFinite(c)||(c=0),c&&d){for(var h,p=0;p<c;p++){var g=l[p];if(a(g)&&g>0){h=!0;break}}h||(c=0)}return{hasLabels:u,hasValues:d,len:c}}w.exports={handleLabelsAndValues:n,supplyDefaults:function(o,l,u,d){function c(_,T){return f.coerce(o,l,e,_,T)}var h=n(c("labels"),c("values")),p=h.len;if(l._hasLabels=h.hasLabels,l._hasValues=h.hasValues,!l._hasLabels&&l._hasValues&&(c("label0"),c("dlabel")),p){l._length=p,c("marker.line.width")&&c("marker.line.color"),c("marker.colors"),c("scalegroup");var g,y=c("text"),b=c("texttemplate");if(b||(g=c("textinfo",Array.isArray(y)?"text+percent":"percent")),c("hovertext"),c("hovertemplate"),b||g&&g!=="none"){var m=c("textposition");r(o,l,d,c,m,{moduleHasSelected:!1,moduleHasUnselected:!1,moduleHasConstrain:!1,moduleHasCliponaxis:!1,moduleHasTextangle:!1,moduleHasInsideanchor:!1}),(Array.isArray(m)||m==="auto"||m==="outside")&&c("automargin"),(m==="inside"||m==="auto"||Array.isArray(m))&&c("insidetextorientation")}i(l,d,c);var v=c("hole");if(c("title.text")){var x=c("title.position",v?"middle center":"top center");v||x!=="middle center"||(l.title.position="top center"),f.coerceFont(c,"title.font",d.font)}c("sort"),c("direction"),c("rotation"),c("pull")}else l.visible=!1}}},20007:function(w,s,t){var a=t(23469).appendArrayMultiPointValues;w.exports=function(f,e){var i={curveNumber:e.index,pointNumbers:f.pts,data:e._input,fullData:e,label:f.label,color:f.color,value:f.v,percent:f.percent,text:f.text,bbox:f.bbox,v:f.v};return f.pts.length===1&&(i.pointNumber=i.i=f.pts[0]),a(i,e,f.pts),e.type==="funnelarea"&&(delete i.v,delete i.i),i}},53581:function(w,s,t){var a=t(71828);function f(e){return e.indexOf("e")!==-1?e.replace(/[.]?0+e/,"e"):e.indexOf(".")!==-1?e.replace(/[.]?0+$/,""):e}s.formatPiePercent=function(e,i){var r=f((100*e).toPrecision(3));return a.numSeparate(r,i)+"%"},s.formatPieValue=function(e,i){var r=f(e.toPrecision(10));return a.numSeparate(r,i)},s.getFirstFilled=function(e,i){if(Array.isArray(e))for(var r=0;r<i.length;r++){var n=e[i[r]];if(n||n===0||n==="")return n}},s.castOption=function(e,i){return Array.isArray(e)?s.getFirstFilled(e,i):e||void 0},s.getRotationAngle=function(e){return(e==="auto"?0:e)*Math.PI/180}},58810:function(w,s,t){w.exports={attributes:t(34e3),supplyDefaults:t(37434).supplyDefaults,supplyLayoutDefaults:t(92097),layoutAttributes:t(92774),calc:t(32354).calc,crossTraceCalc:t(32354).crossTraceCalc,plot:t(14575).plot,style:t(68357),styleOne:t(63463),moduleType:"trace",name:"pie",basePlotModule:t(13584),categories:["pie-like","pie","showLegend"],meta:{}}},92774:function(w){w.exports={hiddenlabels:{valType:"data_array",editType:"calc"},piecolorway:{valType:"colorlist",editType:"calc"},extendpiecolors:{valType:"boolean",dflt:!0,editType:"calc"}}},92097:function(w,s,t){var a=t(71828),f=t(92774);w.exports=function(e,i){function r(n,o){return a.coerce(e,i,f,n,o)}r("hiddenlabels"),r("piecolorway",i.colorway),r("extendpiecolors")}},14575:function(w,s,t){var a=t(39898),f=t(74875),e=t(30211),i=t(7901),r=t(91424),n=t(71828),o=n.strScale,l=n.strTranslate,u=t(63893),d=t(72597),c=d.recordMinTextSize,h=d.clearMinTextSize,p=t(97313).TEXTPAD,g=t(53581),y=t(20007),b=t(71828).isValidTextValue;function m(E,z,Y){var Q=Y[0],nt=Q.cx,et=Q.cy,Z=Q.trace,H=Z.type==="funnelarea";"_hasHoverLabel"in Z||(Z._hasHoverLabel=!1),"_hasHoverEvent"in Z||(Z._hasHoverEvent=!1),E.on("mouseover",function(U){var V=z._fullLayout,$=z._fullData[Z.index];if(!z._dragging&&V.hovermode!==!1){var at=$.hoverinfo;if(Array.isArray(at)&&(at=e.castHoverinfo({hoverinfo:[g.castOption(at,U.pts)],_module:Z._module},V,0)),at==="all"&&(at="label+text+value+percent+name"),$.hovertemplate||at!=="none"&&at!=="skip"&&at){var rt=U.rInscribed||0,ot=nt+U.pxmid[0]*(1-rt),ct=et+U.pxmid[1]*(1-rt),ht=V.separators,mt=[];if(at&&at.indexOf("label")!==-1&&mt.push(U.label),U.text=g.castOption($.hovertext||$.text,U.pts),at&&at.indexOf("text")!==-1){var kt=U.text;n.isValidTextValue(kt)&&mt.push(kt)}U.value=U.v,U.valueLabel=g.formatPieValue(U.v,ht),at&&at.indexOf("value")!==-1&&mt.push(U.valueLabel),U.percent=U.v/Q.vTotal,U.percentLabel=g.formatPiePercent(U.percent,ht),at&&at.indexOf("percent")!==-1&&mt.push(U.percentLabel);var Ct=$.hoverlabel,It=Ct.font,pt=[];e.loneHover({trace:Z,x0:ot-rt*Q.r,x1:ot+rt*Q.r,y:ct,_x0:H?nt+U.TL[0]:ot-rt*Q.r,_x1:H?nt+U.TR[0]:ot+rt*Q.r,_y0:H?et+U.TL[1]:ct-rt*Q.r,_y1:H?et+U.BL[1]:ct+rt*Q.r,text:mt.join("<br>"),name:$.hovertemplate||at.indexOf("name")!==-1?$.name:void 0,idealAlign:U.pxmid[0]<0?"left":"right",color:g.castOption(Ct.bgcolor,U.pts)||U.color,borderColor:g.castOption(Ct.bordercolor,U.pts),fontFamily:g.castOption(It.family,U.pts),fontSize:g.castOption(It.size,U.pts),fontColor:g.castOption(It.color,U.pts),nameLength:g.castOption(Ct.namelength,U.pts),textAlign:g.castOption(Ct.align,U.pts),hovertemplate:g.castOption($.hovertemplate,U.pts),hovertemplateLabels:U,eventData:[y(U,$)]},{container:V._hoverlayer.node(),outerContainer:V._paper.node(),gd:z,inOut_bbox:pt}),U.bbox=pt[0],Z._hasHoverLabel=!0}Z._hasHoverEvent=!0,z.emit("plotly_hover",{points:[y(U,$)],event:a.event})}}),E.on("mouseout",function(U){var V=z._fullLayout,$=z._fullData[Z.index],at=a.select(this).datum();Z._hasHoverEvent&&(U.originalEvent=a.event,z.emit("plotly_unhover",{points:[y(at,$)],event:a.event}),Z._hasHoverEvent=!1),Z._hasHoverLabel&&(e.loneUnhover(V._hoverlayer.node()),Z._hasHoverLabel=!1)}),E.on("click",function(U){var V=z._fullLayout,$=z._fullData[Z.index];z._dragging||V.hovermode===!1||(z._hoverdata=[y(U,$)],e.click(z,a.event))})}function v(E,z,Y){var Q=g.castOption(E.insidetextfont.color,z.pts);!Q&&E._input.textfont&&(Q=g.castOption(E._input.textfont.color,z.pts));var nt=g.castOption(E.insidetextfont.family,z.pts)||g.castOption(E.textfont.family,z.pts)||Y.family,et=g.castOption(E.insidetextfont.size,z.pts)||g.castOption(E.textfont.size,z.pts)||Y.size;return{color:Q||i.contrast(z.color),family:nt,size:et}}function x(E,z){for(var Y,Q,nt=0;nt<E.length;nt++)if((Q=(Y=E[nt][0]).trace).title.text){var et=Q.title.text;Q._meta&&(et=n.templateString(et,Q._meta));var Z=r.tester.append("text").attr("data-notex",1).text(et).call(r.font,Q.title.font).call(u.convertToTspans,z),H=r.bBox(Z.node(),!0);Y.titleBox={width:H.width,height:H.height},Z.remove()}}function _(E,z,Y){var Q=Y.r||z.rpx1,nt=z.rInscribed;if(z.startangle===z.stopangle)return{rCenter:1-nt,scale:0,rotate:0,textPosAngle:0};var et,Z=z.ring,H=Z===1&&Math.abs(z.startangle-z.stopangle)===2*Math.PI,U=z.halfangle,V=z.midangle,$=Y.trace.insidetextorientation,at=$==="horizontal",rt=$==="tangential",ot=$==="radial",ct=$==="auto",ht=[];if(!ct){var mt,kt=function(Dt,L){if(function(gt,wt){var xt=gt.startangle,Ft=gt.stopangle;return xt>wt&&wt>Ft||xt<wt&&wt<Ft}(z,Dt)){var X=Math.abs(Dt-z.startangle),it=Math.abs(Dt-z.stopangle),ft=X<it?X:it;(et=L==="tan"?C(E,Q,Z,ft,0):T(E,Q,Z,ft,Math.PI/2)).textPosAngle=Dt,ht.push(et)}};if(at||rt){for(mt=4;mt>=-4;mt-=2)kt(Math.PI*mt,"tan");for(mt=4;mt>=-4;mt-=2)kt(Math.PI*(mt+1),"tan")}if(at||ot){for(mt=4;mt>=-4;mt-=2)kt(Math.PI*(mt+1.5),"rad");for(mt=4;mt>=-4;mt-=2)kt(Math.PI*(mt+.5),"rad")}}if(H||ct||at){var Ct=Math.sqrt(E.width*E.width+E.height*E.height);if((et={scale:nt*Q*2/Ct,rCenter:1-nt,rotate:0}).textPosAngle=(z.startangle+z.stopangle)/2,et.scale>=1)return et;ht.push(et)}(ct||ot)&&((et=T(E,Q,Z,U,V)).textPosAngle=(z.startangle+z.stopangle)/2,ht.push(et)),(ct||rt)&&((et=C(E,Q,Z,U,V)).textPosAngle=(z.startangle+z.stopangle)/2,ht.push(et));for(var It=0,pt=0,bt=0;bt<ht.length;bt++){var _t=ht[bt].scale;if(pt<_t&&(pt=_t,It=bt),!ct&&pt>=1)break}return ht[It]}function T(E,z,Y,Q,nt){z=Math.max(0,z-2*p);var et=E.width/E.height,Z=N(et,Q,z,Y);return{scale:2*Z/E.height,rCenter:S(et,Z/z),rotate:F(nt)}}function C(E,z,Y,Q,nt){z=Math.max(0,z-2*p);var et=E.height/E.width,Z=N(et,Q,z,Y);return{scale:2*Z/E.width,rCenter:S(et,Z/z),rotate:F(nt+Math.PI/2)}}function S(E,z){return Math.cos(z)-E*z}function F(E){return(180/Math.PI*E+720)%180-90}function N(E,z,Y,Q){var nt=E+1/(2*Math.tan(z));return Y*Math.min(1/(Math.sqrt(nt*nt+.5)+nt),Q/(Math.sqrt(E*E+Q/2)+E))}function D(E,z){return E.v!==z.vTotal||z.trace.hole?Math.min(1/(1+1/Math.sin(E.halfangle)),E.ring/2):1}function j(E,z){var Y=z.pxmid[0],Q=z.pxmid[1],nt=E.width/2,et=E.height/2;return Y<0&&(nt*=-1),Q<0&&(et*=-1),{scale:1,rCenter:1,rotate:0,x:nt+Math.abs(et)*(nt>0?1:-1)/2,y:et/(1+Y*Y/(Q*Q)),outside:!0}}function B(E,z){var Y,Q,nt,et=E.trace,Z={x:E.cx,y:E.cy},H={tx:0,ty:0};H.ty+=et.title.font.size,nt=P(et),et.title.position.indexOf("top")!==-1?(Z.y-=(1+nt)*E.r,H.ty-=E.titleBox.height):et.title.position.indexOf("bottom")!==-1&&(Z.y+=(1+nt)*E.r);var U,V=E.r/((U=E.trace.aspectratio)===void 0?1:U),$=z.w*(et.domain.x[1]-et.domain.x[0])/2;return et.title.position.indexOf("left")!==-1?($+=V,Z.x-=(1+nt)*V,H.tx+=E.titleBox.width/2):et.title.position.indexOf("center")!==-1?$*=2:et.title.position.indexOf("right")!==-1&&($+=V,Z.x+=(1+nt)*V,H.tx-=E.titleBox.width/2),Y=$/E.titleBox.width,Q=J(E,z)/E.titleBox.height,{x:Z.x,y:Z.y,scale:Math.min(Y,Q),tx:H.tx,ty:H.ty}}function J(E,z){var Y=E.trace,Q=z.h*(Y.domain.y[1]-Y.domain.y[0]);return Math.min(E.titleBox.height,Q/2)}function P(E){var z,Y=E.pull;if(!Y)return 0;if(Array.isArray(Y))for(Y=0,z=0;z<E.pull.length;z++)E.pull[z]>Y&&(Y=E.pull[z]);return Y}function M(E,z){for(var Y=[],Q=0;Q<E.length;Q++){var nt=E[Q][0],et=nt.trace,Z=et.domain,H=z.w*(Z.x[1]-Z.x[0]),U=z.h*(Z.y[1]-Z.y[0]);et.title.text&&et.title.position!=="middle center"&&(U-=J(nt,z));var V=H/2,$=U/2;et.type!=="funnelarea"||et.scalegroup||($/=et.aspectratio),nt.r=Math.min(V,$)/(1+P(et)),nt.cx=z.l+z.w*(et.domain.x[1]+et.domain.x[0])/2,nt.cy=z.t+z.h*(1-et.domain.y[0])-U/2,et.title.text&&et.title.position.indexOf("bottom")!==-1&&(nt.cy-=J(nt,z)),et.scalegroup&&Y.indexOf(et.scalegroup)===-1&&Y.push(et.scalegroup)}(function(at,rt){for(var ot,ct,ht,mt=0;mt<rt.length;mt++){var kt=1/0,Ct=rt[mt];for(ct=0;ct<at.length;ct++)if((ht=(ot=at[ct][0]).trace).scalegroup===Ct){var It;if(ht.type==="pie")It=ot.r*ot.r;else if(ht.type==="funnelarea"){var pt,bt;ht.aspectratio>1?bt=(pt=ot.r)/ht.aspectratio:pt=(bt=ot.r)*ht.aspectratio,It=(pt*=(1+ht.baseratio)/2)*bt}kt=Math.min(kt,It/ot.vTotal)}for(ct=0;ct<at.length;ct++)if((ht=(ot=at[ct][0]).trace).scalegroup===Ct){var _t=kt*ot.vTotal;ht.type==="funnelarea"&&(_t/=(1+ht.baseratio)/2,_t/=ht.aspectratio),ot.r=Math.sqrt(_t)}}})(E,Y)}function O(E,z){return[E*Math.sin(z),-E*Math.cos(z)]}function q(E,z,Y){var Q=E._fullLayout,nt=Y.trace,et=nt.texttemplate,Z=nt.textinfo;if(!et&&Z&&Z!=="none"){var H,U=Z.split("+"),V=function(It){return U.indexOf(It)!==-1},$=V("label"),at=V("text"),rt=V("value"),ot=V("percent"),ct=Q.separators;if(H=$?[z.label]:[],at){var ht=g.getFirstFilled(nt.text,z.pts);b(ht)&&H.push(ht)}rt&&H.push(g.formatPieValue(z.v,ct)),ot&&H.push(g.formatPiePercent(z.v/Y.vTotal,ct)),z.text=H.join("<br>")}if(et){var mt=n.castOption(nt,z.i,"texttemplate");if(mt){var kt=function(It){return{label:It.label,value:It.v,valueLabel:g.formatPieValue(It.v,Q.separators),percent:It.v/Y.vTotal,percentLabel:g.formatPiePercent(It.v/Y.vTotal,Q.separators),color:It.color,text:It.text,customdata:n.castOption(nt,It.i,"customdata")}}(z),Ct=g.getFirstFilled(nt.text,z.pts);(b(Ct)||Ct==="")&&(kt.text=Ct),z.text=n.texttemplateString(mt,kt,E._fullLayout._d3locale,kt,nt._meta||{})}else z.text=""}}function tt(E,z){var Y=E.rotate*Math.PI/180,Q=Math.cos(Y),nt=Math.sin(Y),et=(z.left+z.right)/2,Z=(z.top+z.bottom)/2;E.textX=et*Q-Z*nt,E.textY=et*nt+Z*Q,E.noCenter=!0}w.exports={plot:function(E,z){var Y=E._context.staticPlot,Q=E._fullLayout,nt=Q._size;h("pie",Q),x(z,E),M(z,nt);var et=n.makeTraceGroups(Q._pielayer,z,"trace").each(function(Z){var H=a.select(this),U=Z[0],V=U.trace;(function($){var at,rt,ot,ct=$[0],ht=ct.r,mt=ct.trace,kt=g.getRotationAngle(mt.rotation),Ct=2*Math.PI/ct.vTotal,It="px0",pt="px1";if(mt.direction==="counterclockwise"){for(at=0;at<$.length&&$[at].hidden;at++);if(at===$.length)return;kt+=Ct*$[at].v,Ct*=-1,It="px1",pt="px0"}for(ot=O(ht,kt),at=0;at<$.length;at++)(rt=$[at]).hidden||(rt[It]=ot,rt.startangle=kt,kt+=Ct*rt.v/2,rt.pxmid=O(ht,kt),rt.midangle=kt,ot=O(ht,kt+=Ct*rt.v/2),rt.stopangle=kt,rt[pt]=ot,rt.largeArc=rt.v>ct.vTotal/2?1:0,rt.halfangle=Math.PI*Math.min(rt.v/ct.vTotal,.5),rt.ring=1-mt.hole,rt.rInscribed=D(rt,ct))})(Z),H.attr("stroke-linejoin","round"),H.each(function(){var $=a.select(this).selectAll("g.slice").data(Z);$.enter().append("g").classed("slice",!0),$.exit().remove();var at=[[[],[]],[[],[]]],rt=!1;$.each(function(pt,bt){if(pt.hidden)a.select(this).selectAll("path,g").remove();else{pt.pointNumber=pt.i,pt.curveNumber=V.index,at[pt.pxmid[1]<0?0:1][pt.pxmid[0]<0?0:1].push(pt);var _t=U.cx,Dt=U.cy,L=a.select(this),X=L.selectAll("path.surface").data([pt]);if(X.enter().append("path").classed("surface",!0).style({"pointer-events":Y?"none":"all"}),L.call(m,E,Z),V.pull){var it=+g.castOption(V.pull,pt.pts)||0;it>0&&(_t+=it*pt.pxmid[0],Dt+=it*pt.pxmid[1])}pt.cxFinal=_t,pt.cyFinal=Dt;var ft=V.hole;if(pt.v===U.vTotal){var gt="M"+(_t+pt.px0[0])+","+(Dt+pt.px0[1])+Mt(pt.px0,pt.pxmid,!0,1)+Mt(pt.pxmid,pt.px0,!0,1)+"Z";ft?X.attr("d","M"+(_t+ft*pt.px0[0])+","+(Dt+ft*pt.px0[1])+Mt(pt.px0,pt.pxmid,!1,ft)+Mt(pt.pxmid,pt.px0,!1,ft)+"Z"+gt):X.attr("d",gt)}else{var wt=Mt(pt.px0,pt.px1,!0,1);if(ft){var xt=1-ft;X.attr("d","M"+(_t+ft*pt.px1[0])+","+(Dt+ft*pt.px1[1])+Mt(pt.px1,pt.px0,!1,ft)+"l"+xt*pt.px0[0]+","+xt*pt.px0[1]+wt+"Z")}else X.attr("d","M"+_t+","+Dt+"l"+pt.px0[0]+","+pt.px0[1]+wt+"Z")}q(E,pt,U);var Ft=g.castOption(V.textposition,pt.pts),Bt=L.selectAll("g.slicetext").data(pt.text&&Ft!=="none"?[0]:[]);Bt.enter().append("g").classed("slicetext",!0),Bt.exit().remove(),Bt.each(function(){var St=n.ensureSingle(a.select(this),"text","",function(de){de.attr("data-notex",1)}),Lt=n.ensureUniformFontSize(E,Ft==="outside"?function(de,Jt,Nt){return{color:g.castOption(de.outsidetextfont.color,Jt.pts)||g.castOption(de.textfont.color,Jt.pts)||Nt.color,family:g.castOption(de.outsidetextfont.family,Jt.pts)||g.castOption(de.textfont.family,Jt.pts)||Nt.family,size:g.castOption(de.outsidetextfont.size,Jt.pts)||g.castOption(de.textfont.size,Jt.pts)||Nt.size}}(V,pt,Q.font):v(V,pt,Q.font));St.text(pt.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(r.font,Lt).call(u.convertToTspans,E);var Pt,zt=r.bBox(St.node());if(Ft==="outside")Pt=j(zt,pt);else if(Pt=_(zt,pt,U),Ft==="auto"&&Pt.scale<1){var Xt=n.ensureUniformFontSize(E,V.outsidetextfont);St.call(r.font,Xt),Pt=j(zt=r.bBox(St.node()),pt)}var Gt=Pt.textPosAngle,Kt=Gt===void 0?pt.pxmid:O(U.r,Gt);if(Pt.targetX=_t+Kt[0]*Pt.rCenter+(Pt.x||0),Pt.targetY=Dt+Kt[1]*Pt.rCenter+(Pt.y||0),tt(Pt,zt),Pt.outside){var ie=Pt.targetY;pt.yLabelMin=ie-zt.height/2,pt.yLabelMid=ie,pt.yLabelMax=ie+zt.height/2,pt.labelExtraX=0,pt.labelExtraY=0,rt=!0}Pt.fontSize=Lt.size,c(V.type,Pt,Q),Z[bt].transform=Pt,n.setTransormAndDisplay(St,Pt)})}function Mt(St,Lt,Pt,zt){var Xt=zt*(Lt[0]-St[0]),Gt=zt*(Lt[1]-St[1]);return"a"+zt*U.r+","+zt*U.r+" 0 "+pt.largeArc+(Pt?" 1 ":" 0 ")+Xt+","+Gt}});var ot=a.select(this).selectAll("g.titletext").data(V.title.text?[0]:[]);if(ot.enter().append("g").classed("titletext",!0),ot.exit().remove(),ot.each(function(){var pt,bt=n.ensureSingle(a.select(this),"text","",function(Dt){Dt.attr("data-notex",1)}),_t=V.title.text;V._meta&&(_t=n.templateString(_t,V._meta)),bt.text(_t).attr({class:"titletext",transform:"","text-anchor":"middle"}).call(r.font,V.title.font).call(u.convertToTspans,E),pt=V.title.position==="middle center"?function(Dt){var L=Math.sqrt(Dt.titleBox.width*Dt.titleBox.width+Dt.titleBox.height*Dt.titleBox.height);return{x:Dt.cx,y:Dt.cy,scale:Dt.trace.hole*Dt.r*2/L,tx:0,ty:-Dt.titleBox.height/2+Dt.trace.title.font.size}}(U):B(U,nt),bt.attr("transform",l(pt.x,pt.y)+o(Math.min(1,pt.scale))+l(pt.tx,pt.ty))}),rt&&function(pt,bt){var _t,Dt,L,X,it,ft,gt,wt,xt,Ft,Bt,Mt,St;function Lt(Gt,Kt){return Gt.pxmid[1]-Kt.pxmid[1]}function Pt(Gt,Kt){return Kt.pxmid[1]-Gt.pxmid[1]}function zt(Gt,Kt){Kt||(Kt={});var ie,de,Jt,Nt,Vt=Kt.labelExtraY+(Dt?Kt.yLabelMax:Kt.yLabelMin),Zt=Dt?Gt.yLabelMin:Gt.yLabelMax,Wt=Dt?Gt.yLabelMax:Gt.yLabelMin,he=Gt.cyFinal+it(Gt.px0[1],Gt.px1[1]),$t=Vt-Zt;if($t*gt>0&&(Gt.labelExtraY=$t),Array.isArray(bt.pull))for(de=0;de<Ft.length;de++)(Jt=Ft[de])===Gt||(g.castOption(bt.pull,Gt.pts)||0)>=(g.castOption(bt.pull,Jt.pts)||0)||((Gt.pxmid[1]-Jt.pxmid[1])*gt>0?($t=Jt.cyFinal+it(Jt.px0[1],Jt.px1[1])-Zt-Gt.labelExtraY)*gt>0&&(Gt.labelExtraY+=$t):(Wt+Gt.labelExtraY-he)*gt>0&&(ie=3*ft*Math.abs(de-Ft.indexOf(Gt)),(Nt=Jt.cxFinal+X(Jt.px0[0],Jt.px1[0])+ie-(Gt.cxFinal+Gt.pxmid[0])-Gt.labelExtraX)*ft>0&&(Gt.labelExtraX+=Nt)))}for(Dt=0;Dt<2;Dt++)for(L=Dt?Lt:Pt,it=Dt?Math.max:Math.min,gt=Dt?1:-1,_t=0;_t<2;_t++){for(X=_t?Math.max:Math.min,ft=_t?1:-1,(wt=pt[Dt][_t]).sort(L),xt=pt[1-Dt][_t],Ft=xt.concat(wt),Mt=[],Bt=0;Bt<wt.length;Bt++)wt[Bt].yLabelMid!==void 0&&Mt.push(wt[Bt]);for(St=!1,Bt=0;Dt&&Bt<xt.length;Bt++)if(xt[Bt].yLabelMid!==void 0){St=xt[Bt];break}for(Bt=0;Bt<Mt.length;Bt++){var Xt=Bt&&Mt[Bt-1];St&&!Bt&&(Xt=St),zt(Mt[Bt],Xt)}}}(at,V),function(pt,bt){pt.each(function(_t){var Dt=a.select(this);if(_t.labelExtraX||_t.labelExtraY){var L=Dt.select("g.slicetext text");_t.transform.targetX+=_t.labelExtraX,_t.transform.targetY+=_t.labelExtraY,n.setTransormAndDisplay(L,_t.transform);var X=_t.cxFinal+_t.pxmid[0],it="M"+X+","+(_t.cyFinal+_t.pxmid[1]),ft=(_t.yLabelMax-_t.yLabelMin)*(_t.pxmid[0]<0?-1:1)/4;if(_t.labelExtraX){var gt=_t.labelExtraX*_t.pxmid[1]/_t.pxmid[0],wt=_t.yLabelMid+_t.labelExtraY-(_t.cyFinal+_t.pxmid[1]);Math.abs(gt)>Math.abs(wt)?it+="l"+wt*_t.pxmid[0]/_t.pxmid[1]+","+wt+"H"+(X+_t.labelExtraX+ft):it+="l"+_t.labelExtraX+","+gt+"v"+(wt-gt)+"h"+ft}else it+="V"+(_t.yLabelMid+_t.labelExtraY)+"h"+ft;n.ensureSingle(Dt,"path","textline").call(i.stroke,bt.outsidetextfont.color).attr({"stroke-width":Math.min(2,bt.outsidetextfont.size/8),d:it,fill:"none"})}else Dt.select("path.textline").remove()})}($,V),rt&&V.automargin){var ct=r.bBox(H.node()),ht=V.domain,mt=nt.w*(ht.x[1]-ht.x[0]),kt=nt.h*(ht.y[1]-ht.y[0]),Ct=(.5*mt-U.r)/nt.w,It=(.5*kt-U.r)/nt.h;f.autoMargin(E,"pie."+V.uid+".automargin",{xl:ht.x[0]-Ct,xr:ht.x[1]+Ct,yb:ht.y[0]-It,yt:ht.y[1]+It,l:Math.max(U.cx-U.r-ct.left,0),r:Math.max(ct.right-(U.cx+U.r),0),b:Math.max(ct.bottom-(U.cy+U.r),0),t:Math.max(U.cy-U.r-ct.top,0),pad:5})}})});setTimeout(function(){et.selectAll("tspan").each(function(){var Z=a.select(this);Z.attr("dy")&&Z.attr("dy",Z.attr("dy"))})},0)},formatSliceLabel:q,transformInsideText:_,determineInsideTextFont:v,positionTitleOutside:B,prerenderTitles:x,layoutAreas:M,attachFxHandlers:m,computeTransform:tt}},68357:function(w,s,t){var a=t(39898),f=t(63463),e=t(72597).resizeText;w.exports=function(i){var r=i._fullLayout._pielayer.selectAll(".trace");e(i,r,"pie"),r.each(function(n){var o=n[0].trace,l=a.select(this);l.style({opacity:o.opacity}),l.selectAll("path.surface").each(function(u){a.select(this).call(f,u,o)})})}},63463:function(w,s,t){var a=t(7901),f=t(53581).castOption;w.exports=function(e,i,r){var n=r.marker.line,o=f(n.color,i.pts)||a.defaultLine,l=f(n.width,i.pts)||0;e.style("stroke-width",l).call(a.fill,i.color).call(a.stroke,o)}},75225:function(w,s,t){var a=t(71828);w.exports=function(f,e){for(var i=0;i<f.length;i++)f[i].i=i;a.mergeArray(e.text,f,"tx"),a.mergeArray(e.texttemplate,f,"txt"),a.mergeArray(e.hovertext,f,"htx"),a.mergeArray(e.customdata,f,"data"),a.mergeArray(e.textposition,f,"tp"),e.textfont&&(a.mergeArrayCastPositive(e.textfont.size,f,"ts"),a.mergeArray(e.textfont.color,f,"tc"),a.mergeArray(e.textfont.family,f,"tf"));var r=e.marker;if(r){a.mergeArrayCastPositive(r.size,f,"ms"),a.mergeArrayCastPositive(r.opacity,f,"mo"),a.mergeArray(r.symbol,f,"mx"),a.mergeArray(r.angle,f,"ma"),a.mergeArray(r.standoff,f,"mf"),a.mergeArray(r.color,f,"mc");var n=r.line;r.line&&(a.mergeArray(n.color,f,"mlc"),a.mergeArrayCastPositive(n.width,f,"mlw"));var o=r.gradient;o&&o.type!=="none"&&(a.mergeArray(o.type,f,"mgt"),a.mergeArray(o.color,f,"mgc"))}}},82196:function(w,s,t){var a=t(12663).axisHoverFormat,f=t(5386).si,e=t(5386).fF,i=t(50693),r=t(41940),n=t(79952).P,o=t(79952).u,l=t(91424),u=t(47581),d=t(1426).extendFlat;w.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dx:{valType:"number",dflt:1,editType:"calc",anim:!0},y:{valType:"data_array",editType:"calc+clearAxisTypes",anim:!0},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes",anim:!0},dy:{valType:"number",dflt:1,editType:"calc",anim:!0},xperiod:{valType:"any",dflt:0,editType:"calc"},yperiod:{valType:"any",dflt:0,editType:"calc"},xperiod0:{valType:"any",editType:"calc"},yperiod0:{valType:"any",editType:"calc"},xperiodalignment:{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"},yperiodalignment:{valType:"enumerated",values:["start","middle","end"],dflt:"middle",editType:"calc"},xhoverformat:a("x"),yhoverformat:a("y"),offsetgroup:{valType:"string",dflt:"",editType:"calc"},alignmentgroup:{valType:"string",dflt:"",editType:"calc"},stackgroup:{valType:"string",dflt:"",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc"},groupnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},stackgaps:{valType:"enumerated",values:["infer zero","interpolate"],dflt:"infer zero",editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},texttemplate:f({},{}),hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},hovertemplate:e({},{keys:u.eventDataKeys}),line:{color:{valType:"color",editType:"style",anim:!0},width:{valType:"number",min:0,dflt:2,editType:"style",anim:!0},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:d({},n,{editType:"style"}),backoff:{valType:"number",min:0,dflt:"auto",arrayOk:!0,editType:"plot"},simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],editType:"calc"},fillcolor:{valType:"color",editType:"style",anim:!0},fillpattern:o,marker:d({symbol:{valType:"enumerated",values:l.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style",anim:!0},angle:{valType:"angle",dflt:0,arrayOk:!0,editType:"plot",anim:!1},angleref:{valType:"enumerated",values:["previous","up"],dflt:"up",editType:"plot",anim:!1},standoff:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"plot",anim:!0},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calc",anim:!0},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},line:d({width:{valType:"number",min:0,arrayOk:!0,editType:"style",anim:!0},editType:"calc"},i("marker.line",{anim:!0})),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},i("marker",{anim:!0})),selected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},unselected:{marker:{opacity:{valType:"number",min:0,max:1,editType:"style"},color:{valType:"color",editType:"style"},size:{valType:"number",min:0,editType:"style"},editType:"style"},textfont:{color:{valType:"color",editType:"style"},editType:"style"},editType:"style"},textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:r({editType:"calc",colorEditType:"style",arrayOk:!0})}},47761:function(w,s,t){var a=t(92770),f=t(71828),e=t(89298),i=t(42973),r=t(50606).BADNUM,n=t(34098),o=t(36922),l=t(75225),u=t(66279);function d(y,b,m,v,x,_,T){var C=b._length,S=y._fullLayout,F=m._id,N=v._id,D=S._firstScatter[p(b)]===b.uid,j=(g(b,S,m,v)||{}).orientation,B=b.fill;m._minDtick=0,v._minDtick=0;var J={padded:!0},P={padded:!0};T&&(J.ppad=P.ppad=T);var M=C<2||x[0]!==x[C-1]||_[0]!==_[C-1];M&&(B==="tozerox"||B==="tonextx"&&(D||j==="h"))?J.tozero=!0:(b.error_y||{}).visible||B!=="tonexty"&&B!=="tozeroy"&&(n.hasMarkers(b)||n.hasText(b))||(J.padded=!1,J.ppad=0),M&&(B==="tozeroy"||B==="tonexty"&&(D||j==="v"))?P.tozero=!0:B!=="tonextx"&&B!=="tozerox"||(P.padded=!1),F&&(b._extremes[F]=e.findExtremes(m,x,J)),N&&(b._extremes[N]=e.findExtremes(v,_,P))}function c(y,b){if(n.hasMarkers(y)){var m,v=y.marker,x=1.6*(y.marker.sizeref||1);if(m=y.marker.sizemode==="area"?function(F){return Math.max(Math.sqrt((F||0)/x),3)}:function(F){return Math.max((F||0)/x,3)},f.isArrayOrTypedArray(v.size)){var _={type:"linear"};e.setConvert(_);for(var T=_.makeCalcdata(y.marker,"size"),C=new Array(b),S=0;S<b;S++)C[S]=m(T[S]);return C}return m(v.size)}}function h(y,b){var m=p(b),v=y._firstScatter;v[m]||(v[m]=b.uid)}function p(y){var b=y.stackgroup;return y.xaxis+y.yaxis+y.type+(b?"-"+b:"")}function g(y,b,m,v){var x=y.stackgroup;if(x){var _=b._scatterStackOpts[m._id+v._id][x],T=_.orientation==="v"?v:m;return T.type==="linear"||T.type==="log"?_:void 0}}w.exports={calc:function(y,b){var m,v,x,_,T,C,S=y._fullLayout,F=b._xA=e.getFromId(y,b.xaxis||"x","x"),N=b._yA=e.getFromId(y,b.yaxis||"y","y"),D=F.makeCalcdata(b,"x"),j=N.makeCalcdata(b,"y"),B=i(b,F,"x",D),J=i(b,N,"y",j),P=B.vals,M=J.vals,O=b._length,q=new Array(O),tt=b.ids,E=g(b,S,F,N),z=!1;h(S,b);var Y,Q="x",nt="y";E?(f.pushUnique(E.traceIndices,b._expandedIndex),(m=E.orientation==="v")?(nt="s",Y="x"):(Q="s",Y="y"),T=E.stackgaps==="interpolate"):d(y,b,F,N,P,M,c(b,O));var et=!!b.xperiodalignment,Z=!!b.yperiodalignment;for(v=0;v<O;v++){var H=q[v]={},U=a(P[v]),V=a(M[v]);U&&V?(H[Q]=P[v],H[nt]=M[v],et&&(H.orig_x=D[v],H.xEnd=B.ends[v],H.xStart=B.starts[v]),Z&&(H.orig_y=j[v],H.yEnd=J.ends[v],H.yStart=J.starts[v])):E&&(m?U:V)?(H[Y]=m?P[v]:M[v],H.gap=!0,T?(H.s=r,z=!0):H.s=0):H[Q]=H[nt]=r,tt&&(H.id=String(tt[v]))}if(l(q,b),o(y,b),u(q,b),E){for(v=0;v<q.length;)q[v][Y]===r?q.splice(v,1):v++;if(f.sort(q,function(ot,ct){return ot[Y]-ct[Y]||ot.i-ct.i}),z){for(v=0;v<q.length-1&&q[v].gap;)v++;for((C=q[v].s)||(C=q[v].s=0),x=0;x<v;x++)q[x].s=C;for(_=q.length-1;_>v&&q[_].gap;)_--;for(C=q[_].s,x=q.length-1;x>_;x--)q[x].s=C;for(;v<_;)if(q[++v].gap){for(x=v+1;q[x].gap;)x++;for(var $=q[v-1][Y],at=q[v-1].s,rt=(q[x].s-at)/(q[x][Y]-$);v<x;)q[v].s=at+(q[v][Y]-$)*rt,v++}}}return q},calcMarkerSize:c,calcAxisExpansion:d,setFirstScatter:h,getStackOpts:g}},66279:function(w,s,t){var a=t(71828);w.exports=function(f,e){a.isArrayOrTypedArray(e.selectedpoints)&&a.tagSelected(f,e)}},36922:function(w,s,t){var a=t(52075).hasColorscale,f=t(78803),e=t(34098);w.exports=function(i,r){e.hasLines(r)&&a(r,"line")&&f(i,r,{vals:r.line.color,containerStr:"line",cLetter:"c"}),e.hasMarkers(r)&&(a(r,"marker")&&f(i,r,{vals:r.marker.color,containerStr:"marker",cLetter:"c"}),a(r,"marker.line")&&f(i,r,{vals:r.marker.line.color,containerStr:"marker.line",cLetter:"c"}))}},47581:function(w){w.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20,eventDataKeys:[]}},72626:function(w,s,t){var a=t(47761),f=t(11661).setGroupPositions;function e(i,r,n,o,l,u,d){l[o]=!0;var c={i:null,gap:!0,s:0};if(c[d]=n,i.splice(r,0,c),r&&n===i[r-1][d]){var h=i[r-1];c.s=h.s,c.i=h.i,c.gap=h.gap}else u&&(c.s=function(p,g,y,b){var m=p[g-1],v=p[g+1];return v?m?m.s+(v.s-m.s)*(y-m[b])/(v[b]-m[b]):v.s:m.s}(i,r,n,d));r||(i[0].t=i[1].t,i[0].trace=i[1].trace,delete i[1].t,delete i[1].trace)}w.exports=function(i,r){i._fullLayout.scattermode==="group"&&function(Y,Q){for(var nt=Q.xaxis,et=Q.yaxis,Z=Y._fullLayout,H=Y._fullData,U=Y.calcdata,V=[],$=[],at=0;at<H.length;at++){var rt=H[at];rt.visible===!0&&rt.type==="scatter"&&rt.xaxis===nt._id&&rt.yaxis===et._id&&(rt.orientation==="h"?V.push(U[at]):rt.orientation==="v"&&$.push(U[at]))}var ot={mode:Z.scattermode,gap:Z.scattergap};f(Y,nt,et,$,ot),f(Y,et,nt,V,ot)}(i,r);var n=r.xaxis,o=r.yaxis,l=n._id+o._id,u=i._fullLayout._scatterStackOpts[l];if(u){var d,c,h,p,g,y,b,m,v,x,_,T,C,S,F,N=i.calcdata;for(var D in u){var j=(x=u[D]).traceIndices;if(j.length){for(_=x.stackgaps==="interpolate",T=x.groupnorm,x.orientation==="v"?(C="x",S="y"):(C="y",S="x"),F=new Array(j.length),d=0;d<F.length;d++)F[d]=!1;y=N[j[0]];var B=new Array(y.length);for(d=0;d<y.length;d++)B[d]=y[d][C];for(d=1;d<j.length;d++){for(g=N[j[d]],c=h=0;c<g.length;c++){for(b=g[c][C];b>B[h]&&h<B.length;h++)e(g,c,B[h],d,F,_,C),c++;if(b!==B[h]){for(p=0;p<d;p++)e(N[j[p]],h,b,p,F,_,C);B.splice(h,0,b)}h++}for(;h<B.length;h++)e(g,c,B[h],d,F,_,C),c++}var J=B.length;for(c=0;c<y.length;c++){for(m=y[c][S]=y[c].s,d=1;d<j.length;d++)(g=N[j[d]])[0].trace._rawLength=g[0].trace._length,g[0].trace._length=J,m+=g[c].s,g[c][S]=m;if(T)for(v=(T==="fraction"?m:m/100)||1,d=0;d<j.length;d++){var P=N[j[d]][c];P[S]/=v,P.sNorm=P.s/v}}for(d=0;d<j.length;d++){var M=(g=N[j[d]])[0].trace,O=a.calcMarkerSize(M,M._rawLength),q=Array.isArray(O);if(O&&F[d]||q){var tt=O;for(O=new Array(J),c=0;c<J;c++)O[c]=g[c].gap?0:q?tt[g[c].i]:tt}var E=new Array(J),z=new Array(J);for(c=0;c<J;c++)E[c]=g[c].x,z[c]=g[c].y;a.calcAxisExpansion(i,M,n,o,E,z,O),g[0].t.orientation=x.orientation}}}}}},34936:function(w,s,t){var a=t(71828),f=t(26125),e=t(82196);w.exports=function(i,r){var n,o,l;function u(g){return a.coerce(o._input,o,e,g)}if(r.scattermode==="group")for(l=0;l<i.length;l++)(o=i[l]).type==="scatter"&&(n=o._input,f(n,o,r,u));for(l=0;l<i.length;l++){var d=i[l];if(d.type==="scatter"){var c=d.fill;if(c!=="none"&&c!=="toself"&&(d.opacity=void 0,c==="tonexty"||c==="tonextx"))for(var h=l-1;h>=0;h--){var p=i[h];if(p.type==="scatter"&&p.xaxis===d.xaxis&&p.yaxis===d.yaxis){p.opacity=void 0;break}}}}}},17438:function(w,s,t){var a=t(71828),f=t(73972),e=t(82196),i=t(47581),r=t(34098),n=t(67513),o=t(73927),l=t(565),u=t(49508),d=t(11058),c=t(94039),h=t(82410),p=t(28908),g=t(71828).coercePattern;w.exports=function(y,b,m,v){function x(j,B){return a.coerce(y,b,e,j,B)}var _=n(y,b,v,x);if(_||(b.visible=!1),b.visible){o(y,b,v,x),x("xhoverformat"),x("yhoverformat");var T=l(y,b,v,x);v.scattermode==="group"&&b.orientation===void 0&&x("orientation","v");var C=!T&&_<i.PTS_LINESONLY?"lines+markers":"lines";x("text"),x("hovertext"),x("mode",C),r.hasLines(b)&&(d(y,b,m,v,x,{backoff:!0}),c(y,b,x),x("connectgaps"),x("line.simplify")),r.hasMarkers(b)&&u(y,b,m,v,x,{gradient:!0}),r.hasText(b)&&(x("texttemplate"),h(y,b,v,x));var S=[];(r.hasMarkers(b)||r.hasText(b))&&(x("cliponaxis"),x("marker.maxdisplayed"),S.push("points")),x("fill",T?T.fillDflt:"none"),b.fill!=="none"&&(p(y,b,m,x),r.hasLines(b)||c(y,b,x),g(x,"fillpattern",b.fillcolor,!1));var F=(b.line||{}).color,N=(b.marker||{}).color;b.fill!=="tonext"&&b.fill!=="toself"||S.push("fills"),x("hoveron",S.join("+")||"points"),b.hoveron!=="fills"&&x("hovertemplate");var D=f.getComponentMethod("errorbars","supplyDefaults");D(y,b,F||N||m,{axis:"y"}),D(y,b,F||N||m,{axis:"x",inherit:"y"}),a.coerceSelectionMarkerOpacity(b,x)}}},28908:function(w,s,t){var a=t(7901),f=t(71828).isArrayOrTypedArray;w.exports=function(e,i,r,n){var o=!1;if(i.marker){var l=i.marker.color,u=(i.marker.line||{}).color;l&&!f(l)?o=l:u&&!f(u)&&(o=u)}n("fillcolor",a.addOpacity((i.line||{}).color||o||r,.5))}},8225:function(w,s,t){var a=t(89298);w.exports=function(f,e,i){var r={},n={_fullLayout:i},o=a.getFromTrace(n,e,"x"),l=a.getFromTrace(n,e,"y"),u=f.orig_x;u===void 0&&(u=f.x);var d=f.orig_y;return d===void 0&&(d=f.y),r.xLabel=a.tickText(o,o.c2l(u),!0).text,r.yLabel=a.tickText(l,l.c2l(d),!0).text,r}},34603:function(w,s,t){var a=t(7901),f=t(34098);w.exports=function(e,i){var r,n;if(e.mode==="lines")return(r=e.line.color)&&a.opacity(r)?r:e.fillcolor;if(e.mode==="none")return e.fill?e.fillcolor:"";var o=i.mcc||(e.marker||{}).color,l=i.mlcc||((e.marker||{}).line||{}).color;return(n=o&&a.opacity(o)?o:l&&a.opacity(l)&&(i.mlw||((e.marker||{}).line||{}).width)?l:"")?a.opacity(n)<.3?a.addOpacity(n,.3):n:(r=(e.line||{}).color)&&a.opacity(r)&&f.hasLines(e)&&e.line.width?r:e.fillcolor}},26125:function(w,s,t){var a=t(99082).getAxisGroup;w.exports=function(f,e,i,r){var n=e.orientation,o=e[{v:"x",h:"y"}[n]+"axis"],l=a(i,o)+n,u=i._alignmentOpts||{},d=r("alignmentgroup"),c=u[l];c||(c=u[l]={});var h=c[d];h?h.traces.push(e):h=c[d]={traces:[e],alignmentIndex:Object.keys(c).length,offsetGroups:{}};var p=r("offsetgroup"),g=h.offsetGroups,y=g[p];p&&(y||(y=g[p]={offsetIndex:Object.keys(g).length}),e._offsetIndex=y.offsetIndex)}},33720:function(w,s,t){var a=t(71828),f=t(30211),e=t(73972),i=t(34603),r=t(7901),n=a.fillText;w.exports=function(o,l,u,d){var c=o.cd,h=c[0].trace,p=o.xa,g=o.ya,y=p.c2p(l),b=g.c2p(u),m=[y,b],v=h.hoveron||"",x=h.mode.indexOf("markers")!==-1?3:.5,_=!!h.xperiodalignment,T=!!h.yperiodalignment;if(v.indexOf("points")!==-1){var C=function(ht){var mt=Math.max(x,ht.mrc||0),kt=p.c2p(ht.x)-y,Ct=g.c2p(ht.y)-b;return Math.max(Math.sqrt(kt*kt+Ct*Ct)-mt,1-x/mt)},S=f.getDistanceFunction(d,function(ht){if(_){var mt=p.c2p(ht.xStart),kt=p.c2p(ht.xEnd);return y>=Math.min(mt,kt)&&y<=Math.max(mt,kt)?0:1/0}var Ct=Math.max(3,ht.mrc||0),It=1-1/Ct,pt=Math.abs(p.c2p(ht.x)-y);return pt<Ct?It*pt/Ct:pt-Ct+It},function(ht){if(T){var mt=g.c2p(ht.yStart),kt=g.c2p(ht.yEnd);return b>=Math.min(mt,kt)&&b<=Math.max(mt,kt)?0:1/0}var Ct=Math.max(3,ht.mrc||0),It=1-1/Ct,pt=Math.abs(g.c2p(ht.y)-b);return pt<Ct?It*pt/Ct:pt-Ct+It},C);if(f.getClosest(c,S,o),o.index!==!1){var F=c[o.index],N=p.c2p(F.x,!0),D=g.c2p(F.y,!0),j=F.mrc||1;o.index=F.i;var B=c[0].t.orientation,J=B&&(F.sNorm||F.s),P=B==="h"?J:F.orig_x!==void 0?F.orig_x:F.x,M=B==="v"?J:F.orig_y!==void 0?F.orig_y:F.y;return a.extendFlat(o,{color:i(h,F),x0:N-j,x1:N+j,xLabelVal:P,y0:D-j,y1:D+j,yLabelVal:M,spikeDistance:C(F),hovertemplate:h.hovertemplate}),n(F,h,o),e.getComponentMethod("errorbars","hoverInfo")(F,h,o),[o]}}if(v.indexOf("fills")!==-1&&h._polygons){var O,q,tt,E,z,Y,Q,nt,et,Z=h._polygons,H=[],U=!1,V=1/0,$=-1/0,at=1/0,rt=-1/0;for(O=0;O<Z.length;O++)(tt=Z[O]).contains(m)&&(U=!U,H.push(tt),at=Math.min(at,tt.ymin),rt=Math.max(rt,tt.ymax));if(U){var ot=((at=Math.max(at,0))+(rt=Math.min(rt,g._length)))/2;for(O=0;O<H.length;O++)for(E=H[O].pts,q=1;q<E.length;q++)(nt=E[q-1][1])>ot!=(et=E[q][1])>=ot&&(Y=E[q-1][0],Q=E[q][0],et-nt&&(z=Y+(Q-Y)*(ot-nt)/(et-nt),V=Math.min(V,z),$=Math.max($,z)));V=Math.max(V,0),$=Math.min($,p._length);var ct=r.defaultLine;return r.opacity(h.fillcolor)?ct=h.fillcolor:r.opacity((h.line||{}).color)&&(ct=h.line.color),a.extendFlat(o,{distance:o.maxHoverDistance,x0:V,x1:$,y0:ot,y1:ot,color:ct,hovertemplate:!1}),delete o.index,h.text&&!Array.isArray(h.text)?o.text=String(h.text):o.text=h.name,[o]}}}},67368:function(w,s,t){var a=t(34098);w.exports={hasLines:a.hasLines,hasMarkers:a.hasMarkers,hasText:a.hasText,isBubble:a.isBubble,attributes:t(82196),layoutAttributes:t(21479),supplyDefaults:t(17438),crossTraceDefaults:t(34936),supplyLayoutDefaults:t(79334),calc:t(47761).calc,crossTraceCalc:t(72626),arraysToCalcdata:t(75225),plot:t(32663),colorbar:t(4898),formatLabels:t(8225),style:t(16296).style,styleOnSelect:t(16296).styleOnSelect,hoverPoints:t(33720),selectPoints:t(98002),animatable:!0,moduleType:"trace",name:"scatter",basePlotModule:t(93612),categories:["cartesian","svg","symbols","errorBarsOK","showLegend","scatter-like","zoomScale"],meta:{}}},21479:function(w){w.exports={scattermode:{valType:"enumerated",values:["group","overlay"],dflt:"overlay",editType:"calc"},scattergap:{valType:"number",min:0,max:1,editType:"calc"}}},79334:function(w,s,t){var a=t(71828),f=t(21479);w.exports=function(e,i){var r,n=i.barmode==="group";i.scattermode==="group"&&(r=n?i.bargap:.2,a.coerce(e,i,f,"scattergap",r))}},11058:function(w,s,t){var a=t(71828).isArrayOrTypedArray,f=t(52075).hasColorscale,e=t(1586);w.exports=function(i,r,n,o,l,u){u||(u={});var d=(i.marker||{}).color;l("line.color",n),f(i,"line")?e(i,r,o,l,{prefix:"line.",cLetter:"c"}):l("line.color",!a(d)&&d||n),l("line.width"),u.noDash||l("line.dash"),u.backoff&&l("line.backoff")}},34621:function(w,s,t){var a=t(91424),f=t(50606),e=f.BADNUM,i=f.LOG_CLIP,r=i+.5,n=i-.5,o=t(71828),l=o.segmentsIntersect,u=o.constrain,d=t(47581);w.exports=function(c,h){var p,g,y,b,m,v,x,_,T,C,S,F,N,D,j,B,J,P,M=h.trace||{},O=h.xaxis,q=h.yaxis,tt=O.type==="log",E=q.type==="log",z=O._length,Y=q._length,Q=h.backoff,nt=M.marker,et=h.connectGaps,Z=h.baseTolerance,H=h.shape,U=H==="linear",V=M.fill&&M.fill!=="none",$=[],at=d.minTolerance,rt=c.length,ot=new Array(rt),ct=0;function ht($t){var ye=c[$t];if(!ye)return!1;var se=h.linearized?O.l2p(ye.x):O.c2p(ye.x),Pe=h.linearized?q.l2p(ye.y):q.c2p(ye.y);if(se===e){if(tt&&(se=O.c2p(ye.x,!0)),se===e)return!1;E&&Pe===e&&(se*=Math.abs(O._m*Y*(O._m>0?r:n)/(q._m*z*(q._m>0?r:n)))),se*=1e3}if(Pe===e){if(E&&(Pe=q.c2p(ye.y,!0)),Pe===e)return!1;Pe*=1e3}return[se,Pe]}function mt($t,ye,se,Pe){var Ce=se-$t,Ne=Pe-ye,yt=.5-$t,vt=.5-ye,Rt=Ce*Ce+Ne*Ne,Ut=Ce*yt+Ne*vt;if(Ut>0&&Ut<Rt){var Ht=yt*Ne-vt*Ce;if(Ht*Ht<Rt)return!0}}function kt($t,ye){var se=$t[0]/z,Pe=$t[1]/Y,Ce=Math.max(0,-se,se-1,-Pe,Pe-1);return Ce&&J!==void 0&&mt(se,Pe,J,P)&&(Ce=0),Ce&&ye&&mt(se,Pe,ye[0]/z,ye[1]/Y)&&(Ce=0),(1+d.toleranceGrowth*Ce)*Z}function Ct($t,ye){var se=$t[0]-ye[0],Pe=$t[1]-ye[1];return Math.sqrt(se*se+Pe*Pe)}var It,pt,bt,_t,Dt,L,X,it=d.maxScreensAway,ft=-z*it,gt=z*(1+it),wt=-Y*it,xt=Y*(1+it),Ft=[[ft,wt,gt,wt],[gt,wt,gt,xt],[gt,xt,ft,xt],[ft,xt,ft,wt]];function Bt($t){if($t[0]<ft||$t[0]>gt||$t[1]<wt||$t[1]>xt)return[u($t[0],ft,gt),u($t[1],wt,xt)]}function Mt($t,ye){return $t[0]===ye[0]&&($t[0]===ft||$t[0]===gt)||$t[1]===ye[1]&&($t[1]===wt||$t[1]===xt)||void 0}function St($t,ye,se){return function(Pe,Ce){var Ne=Bt(Pe),yt=Bt(Ce),vt=[];if(Ne&&yt&&Mt(Ne,yt))return vt;Ne&&vt.push(Ne),yt&&vt.push(yt);var Rt=2*o.constrain((Pe[$t]+Ce[$t])/2,ye,se)-((Ne||Pe)[$t]+(yt||Ce)[$t]);return Rt&&((Ne&&yt?Rt>0==Ne[$t]>yt[$t]?Ne:yt:Ne||yt)[$t]+=Rt),vt}}function Lt($t){var ye=$t[0],se=$t[1],Pe=ye===ot[ct-1][0],Ce=se===ot[ct-1][1];if(!Pe||!Ce)if(ct>1){var Ne=ye===ot[ct-2][0],yt=se===ot[ct-2][1];Pe&&(ye===ft||ye===gt)&&Ne?yt?ct--:ot[ct-1]=$t:Ce&&(se===wt||se===xt)&&yt?Ne?ct--:ot[ct-1]=$t:ot[ct++]=$t}else ot[ct++]=$t}function Pt($t){ot[ct-1][0]!==$t[0]&&ot[ct-1][1]!==$t[1]&&Lt([bt,_t]),Lt($t),Dt=null,bt=_t=0}H==="linear"||H==="spline"?X=function($t,ye){for(var se=[],Pe=0,Ce=0;Ce<4;Ce++){var Ne=Ft[Ce],yt=l($t[0],$t[1],ye[0],ye[1],Ne[0],Ne[1],Ne[2],Ne[3]);yt&&(!Pe||Math.abs(yt.x-se[0][0])>1||Math.abs(yt.y-se[0][1])>1)&&(yt=[yt.x,yt.y],Pe&&Ct(yt,$t)<Ct(se[0],$t)?se.unshift(yt):se.push(yt),Pe++)}return se}:H==="hv"||H==="vh"?X=function($t,ye){var se=[],Pe=Bt($t),Ce=Bt(ye);return Pe&&Ce&&Mt(Pe,Ce)||(Pe&&se.push(Pe),Ce&&se.push(Ce)),se}:H==="hvh"?X=St(0,ft,gt):H==="vhv"&&(X=St(1,wt,xt));var zt=o.isArrayOrTypedArray(nt);function Xt($t){if($t&&Q&&($t.i=p,$t.d=c,$t.trace=M,$t.marker=zt?nt[$t.i]:nt,$t.backoff=Q),J=$t[0]/z,P=$t[1]/Y,It=$t[0]<ft?ft:$t[0]>gt?gt:0,pt=$t[1]<wt?wt:$t[1]>xt?xt:0,It||pt){if(ct)if(Dt){var ye=X(Dt,$t);ye.length>1&&(Pt(ye[0]),ot[ct++]=ye[1])}else L=X(ot[ct-1],$t)[0],ot[ct++]=L;else ot[ct++]=[It||$t[0],pt||$t[1]];var se=ot[ct-1];It&&pt&&(se[0]!==It||se[1]!==pt)?(Dt&&(bt!==It&&_t!==pt?Lt(bt&&_t?(Pe=Dt,Ne=(Ce=$t)[0]-Pe[0],yt=(Ce[1]-Pe[1])/Ne,(Pe[1]*Ce[0]-Ce[1]*Pe[0])/Ne>0?[yt>0?ft:gt,xt]:[yt>0?gt:ft,wt]):[bt||It,_t||pt]):bt&&_t&&Lt([bt,_t])),Lt([It,pt])):bt-It&&_t-pt&&Lt([It||bt,pt||_t]),Dt=$t,bt=It,_t=pt}else Dt&&Pt(X(Dt,$t)[0]),ot[ct++]=$t;var Pe,Ce,Ne,yt}for(p=0;p<rt;p++)if(g=ht(p)){for(ct=0,Dt=null,Xt(g),p++;p<rt;p++){if(!(b=ht(p))){if(et)continue;break}if(U&&h.simplify){var Gt=ht(p+1);if(C=Ct(b,g),V&&(ct===0||ct===rt-1)||!(C<kt(b,Gt)*at)){for(_=[(b[0]-g[0])/C,(b[1]-g[1])/C],m=g,S=C,F=D=j=0,x=!1,y=b,p++;p<c.length;p++){if(v=Gt,Gt=ht(p+1),!v){if(et)continue;break}if(B=(T=[v[0]-g[0],v[1]-g[1]])[0]*_[1]-T[1]*_[0],D=Math.min(D,B),(j=Math.max(j,B))-D>kt(v,Gt))break;y=v,(N=T[0]*_[0]+T[1]*_[1])>S?(S=N,b=v,x=!1):N<F&&(F=N,m=v,x=!0)}if(x?(Xt(b),y!==m&&Xt(m)):(m!==g&&Xt(m),y!==b&&Xt(b)),Xt(y),p>=c.length||!v)break;Xt(v),g=v}}else Xt(b)}Dt&&Lt([bt||Dt[0],_t||Dt[1]]),$.push(ot.slice(0,ct))}var Kt=H.slice(H.length-1);if(Q&&Kt!=="h"&&Kt!=="v"){for(var ie=!1,de=-1,Jt=[],Nt=0;Nt<$.length;Nt++)for(var Vt=0;Vt<$[Nt].length-1;Vt++){var Zt=$[Nt][Vt],Wt=$[Nt][Vt+1],he=a.applyBackoff(Wt,Zt);he[0]===Wt[0]&&he[1]===Wt[1]||(ie=!0),Jt[de+1]||(Jt[++de]=[Zt,[he[0],he[1]]])}return ie?Jt:$}return $}},94039:function(w){w.exports=function(s,t,a){a("line.shape")==="spline"&&a("line.smoothing")}},68687:function(w){var s={tonextx:1,tonexty:1,tonext:1};w.exports=function(t,a,f){var e,i,r,n,o,l={},u=!1,d=-1,c=0,h=-1;for(i=0;i<f.length;i++)(r=(e=f[i][0].trace).stackgroup||"")?r in l?o=l[r]:(o=l[r]=c,c++):e.fill in s&&h>=0?o=h:(o=h=c,c++),o<d&&(u=!0),e._groupIndex=d=o;var p=f.slice();u&&p.sort(function(y,b){var m=y[0].trace,v=b[0].trace;return m._groupIndex-v._groupIndex||m.index-v.index});var g={};for(i=0;i<p.length;i++)r=(e=p[i][0].trace).stackgroup||"",e.visible===!0?(e._nexttrace=null,e.fill in s&&(n=g[r],e._prevtrace=n||null,n&&(n._nexttrace=e)),e._ownfill=e.fill&&(e.fill.substr(0,6)==="tozero"||e.fill==="toself"||e.fill.substr(0,2)==="to"&&!e._prevtrace),g[r]=e):e._prevtrace=e._nexttrace=e._ownfill=null;return p}},39984:function(w,s,t){var a=t(92770);w.exports=function(f,e){e||(e=2);var i=f.marker,r=i.sizeref||1,n=i.sizemin||0,o=i.sizemode==="area"?function(l){return Math.sqrt(l/r)}:function(l){return l/r};return function(l){var u=o(l/e);return a(u)&&u>0?Math.max(u,n):0}}},4898:function(w){w.exports={container:"marker",min:"cmin",max:"cmax"}},49508:function(w,s,t){var a=t(7901),f=t(52075).hasColorscale,e=t(1586),i=t(34098);w.exports=function(r,n,o,l,u,d){var c=i.isBubble(r),h=(r.line||{}).color;d=d||{},h&&(o=h),u("marker.symbol"),u("marker.opacity",c?.7:1),u("marker.size"),d.noAngle||(u("marker.angle"),d.noAngleRef||u("marker.angleref"),d.noStandOff||u("marker.standoff")),u("marker.color",o),f(r,"marker")&&e(r,n,l,u,{prefix:"marker.",cLetter:"c"}),d.noSelect||(u("selected.marker.color"),u("unselected.marker.color"),u("selected.marker.size"),u("unselected.marker.size")),d.noLine||(u("marker.line.color",h&&!Array.isArray(h)&&n.marker.color!==h?h:c?a.background:a.defaultLine),f(r,"marker.line")&&e(r,n,l,u,{prefix:"marker.line.",cLetter:"c"}),u("marker.line.width",c?1:0)),c&&(u("marker.sizeref"),u("marker.sizemin"),u("marker.sizemode")),d.gradient&&u("marker.gradient.type")!=="none"&&u("marker.gradient.color")}},73927:function(w,s,t){var a=t(71828).dateTick0,f=t(50606).ONEWEEK;function e(i,r){return a(r,i%f==0?1:0)}w.exports=function(i,r,n,o,l){if(l||(l={x:!0,y:!0}),l.x){var u=o("xperiod");u&&(o("xperiod0",e(u,r.xcalendar)),o("xperiodalignment"))}if(l.y){var d=o("yperiod");d&&(o("yperiod0",e(d,r.ycalendar)),o("yperiodalignment"))}}},32663:function(w,s,t){var a=t(39898),f=t(73972),e=t(71828),i=e.ensureSingle,r=e.identity,n=t(91424),o=t(34098),l=t(34621),u=t(68687),d=t(61082).tester;function c(h,p,g,y,b,m,v){var x,_=h._context.staticPlot;(function(X,it,ft,gt,wt){var xt=ft.xaxis,Ft=ft.yaxis,Bt=a.extent(e.simpleMap(xt.range,xt.r2c)),Mt=a.extent(e.simpleMap(Ft.range,Ft.r2c)),St=gt[0].trace;if(o.hasMarkers(St)){var Lt=St.marker.maxdisplayed;if(Lt!==0){var Pt=gt.filter(function(Kt){return Kt.x>=Bt[0]&&Kt.x<=Bt[1]&&Kt.y>=Mt[0]&&Kt.y<=Mt[1]}),zt=Math.ceil(Pt.length/Lt),Xt=0;wt.forEach(function(Kt,ie){var de=Kt[0].trace;o.hasMarkers(de)&&de.marker.maxdisplayed>0&&ie<it&&Xt++});var Gt=Math.round(Xt*zt/3+Math.floor(Xt/3)*zt/7.1);gt.forEach(function(Kt){delete Kt.vis}),Pt.forEach(function(Kt,ie){Math.round((ie+Gt)%zt)===0&&(Kt.vis=!0)})}}})(0,p,g,y,b);var T=!!v&&v.duration>0;function C(X){return T?X.transition():X}var S=g.xaxis,F=g.yaxis,N=y[0].trace,D=N.line,j=a.select(m),B=i(j,"g","errorbars"),J=i(j,"g","lines"),P=i(j,"g","points"),M=i(j,"g","text");if(f.getComponentMethod("errorbars","plot")(h,B,g,v),N.visible===!0){var O,q;C(j).style("opacity",N.opacity);var tt=N.fill.charAt(N.fill.length-1);tt!=="x"&&tt!=="y"&&(tt=""),y[0][g.isRangePlot?"nodeRangePlot3":"node3"]=j;var E,z,Y="",Q=[],nt=N._prevtrace;nt&&(Y=nt._prevRevpath||"",q=nt._nextFill,Q=nt._polygons);var et,Z,H,U,V,$,at,rt="",ot="",ct=[],ht=e.noop;if(O=N._ownFill,o.hasLines(N)||N.fill!=="none"){for(q&&q.datum(y),["hv","vh","hvh","vhv"].indexOf(D.shape)!==-1?(et=n.steps(D.shape),Z=n.steps(D.shape.split("").reverse().join(""))):et=Z=D.shape==="spline"?function(X){var it=X[X.length-1];return X.length>1&&X[0][0]===it[0]&&X[0][1]===it[1]?n.smoothclosed(X.slice(1),D.smoothing):n.smoothopen(X,D.smoothing)}:function(X){return"M"+X.join("L")},H=function(X){return Z(X.reverse())},ct=l(y,{xaxis:S,yaxis:F,trace:N,connectGaps:N.connectgaps,baseTolerance:Math.max(D.width||1,3)/4,shape:D.shape,backoff:D.backoff,simplify:D.simplify,fill:N.fill}),at=N._polygons=new Array(ct.length),x=0;x<ct.length;x++)N._polygons[x]=d(ct[x]);ct.length&&(U=ct[0][0],$=(V=ct[ct.length-1])[V.length-1]),ht=function(X){return function(it){if(E=et(it),z=H(it),rt?tt?(rt+="L"+E.substr(1),ot=z+"L"+ot.substr(1)):(rt+="Z"+E,ot=z+"Z"+ot):(rt=E,ot=z),o.hasLines(N)){var ft=a.select(this);if(ft.datum(y),X)C(ft.style("opacity",0).attr("d",E).call(n.lineGroupStyle)).style("opacity",1);else{var gt=C(ft);gt.attr("d",E),n.singleLineStyle(y,gt)}}}}}var mt=J.selectAll(".js-line").data(ct);C(mt.exit()).style("opacity",0).remove(),mt.each(ht(!1)),mt.enter().append("path").classed("js-line",!0).style("vector-effect",_?"none":"non-scaling-stroke").call(n.lineGroupStyle).each(ht(!0)),n.setClipUrl(mt,g.layerClipId,h),ct.length?(O?(O.datum(y),U&&$&&(tt?(tt==="y"?U[1]=$[1]=F.c2p(0,!0):tt==="x"&&(U[0]=$[0]=S.c2p(0,!0)),C(O).attr("d","M"+$+"L"+U+"L"+rt.substr(1)).call(n.singleFillStyle,h)):C(O).attr("d",rt+"Z").call(n.singleFillStyle,h))):q&&(N.fill.substr(0,6)==="tonext"&&rt&&Y?(N.fill==="tonext"?C(q).attr("d",rt+"Z"+Y+"Z").call(n.singleFillStyle,h):C(q).attr("d",rt+"L"+Y.substr(1)+"Z").call(n.singleFillStyle,h),N._polygons=N._polygons.concat(Q)):(Ct(q),N._polygons=null)),N._prevRevpath=ot,N._prevPolygons=at):(O?Ct(O):q&&Ct(q),N._polygons=N._prevRevpath=N._prevPolygons=null),P.datum(y),M.datum(y),function(X,it,ft){var gt,wt=ft[0].trace,xt=o.hasMarkers(wt),Ft=o.hasText(wt),Bt=Dt(wt),Mt=L,St=L;if(xt||Ft){var Lt=r,Pt=wt.stackgroup,zt=Pt&&h._fullLayout._scatterStackOpts[S._id+F._id][Pt].stackgaps==="infer zero";wt.marker.maxdisplayed||wt._needsCull?Lt=zt?pt:It:Pt&&!zt&&(Lt=bt),xt&&(Mt=Lt),Ft&&(St=Lt)}var Xt,Gt=(gt=X.selectAll("path.point").data(Mt,Bt)).enter().append("path").classed("point",!0);T&&Gt.call(n.pointStyle,wt,h).call(n.translatePoints,S,F).style("opacity",0).transition().style("opacity",1),gt.order(),xt&&(Xt=n.makePointStyleFns(wt)),gt.each(function(Kt){var ie=a.select(this),de=C(ie);n.translatePoint(Kt,de,S,F)?(n.singlePointStyle(Kt,de,wt,Xt,h),g.layerClipId&&n.hideOutsideRangePoint(Kt,de,S,F,wt.xcalendar,wt.ycalendar),wt.customdata&&ie.classed("plotly-customdata",Kt.data!==null&&Kt.data!==void 0)):de.remove()}),T?gt.exit().transition().style("opacity",0).remove():gt.exit().remove(),(gt=it.selectAll("g").data(St,Bt)).enter().append("g").classed("textpoint",!0).append("text"),gt.order(),gt.each(function(Kt){var ie=a.select(this),de=C(ie.select("text"));n.translatePoint(Kt,de,S,F)?g.layerClipId&&n.hideOutsideRangePoint(Kt,ie,S,F,wt.xcalendar,wt.ycalendar):ie.remove()}),gt.selectAll("text").call(n.textPointStyle,wt,h).each(function(Kt){var ie=S.c2p(Kt.x),de=F.c2p(Kt.y);a.select(this).selectAll("tspan.line").each(function(){C(a.select(this)).attr({x:ie,y:de})})}),gt.exit().remove()}(P,M,y);var kt=N.cliponaxis===!1?null:g.layerClipId;n.setClipUrl(P,kt,h),n.setClipUrl(M,kt,h)}function Ct(X){C(X).attr("d","M0,0Z")}function It(X){return X.filter(function(it){return!it.gap&&it.vis})}function pt(X){return X.filter(function(it){return it.vis})}function bt(X){return X.filter(function(it){return!it.gap})}function _t(X){return X.id}function Dt(X){if(X.ids)return _t}function L(){return!1}}w.exports=function(h,p,g,y,b,m){var v,x,_=!b,T=!!b&&b.duration>0,C=u(h,p,g);(v=y.selectAll("g.trace").data(C,function(S){return S[0].trace.uid})).enter().append("g").attr("class",function(S){return"trace scatter trace"+S[0].trace.uid}).style("stroke-miterlimit",2),v.order(),function(S,F,N){F.each(function(D){var j=i(a.select(this),"g","fills");n.setClipUrl(j,N.layerClipId,S);var B=D[0].trace,J=[];B._ownfill&&J.push("_ownFill"),B._nexttrace&&J.push("_nextFill");var P=j.selectAll("g").data(J,r);P.enter().append("g"),P.exit().each(function(M){B[M]=null}).remove(),P.order().each(function(M){B[M]=i(a.select(this),"path","js-fill")})})}(h,v,p),T?(m&&(x=m()),a.transition().duration(b.duration).ease(b.easing).each("end",function(){x&&x()}).each("interrupt",function(){x&&x()}).each(function(){y.selectAll("g.trace").each(function(S,F){c(h,F,p,S,C,this,b)})})):v.each(function(S,F){c(h,F,p,S,C,this,b)}),_&&v.exit().remove(),y.selectAll("path:not([d])").remove()}},98002:function(w,s,t){var a=t(34098);w.exports=function(f,e){var i,r,n,o,l=f.cd,u=f.xaxis,d=f.yaxis,c=[],h=l[0].trace;if(!a.hasMarkers(h)&&!a.hasText(h))return[];if(e===!1)for(i=0;i<l.length;i++)l[i].selected=0;else for(i=0;i<l.length;i++)r=l[i],n=u.c2p(r.x),o=d.c2p(r.y),r.i!==null&&e.contains([n,o],!1,i,f)?(c.push({pointNumber:r.i,x:u.c2d(r.x),y:d.c2d(r.y)}),r.selected=1):r.selected=0;return c}},565:function(w){var s=["orientation","groupnorm","stackgaps"];w.exports=function(t,a,f,e){var i=f._scatterStackOpts,r=e("stackgroup");if(r){var n=a.xaxis+a.yaxis,o=i[n];o||(o=i[n]={});var l=o[r],u=!1;l?l.traces.push(a):(l=o[r]={traceIndices:[],traces:[a]},u=!0);for(var d={orientation:a.x&&!a.y?"h":"v"},c=0;c<s.length;c++){var h=s[c],p=h+"Found";if(!l[p]){var g=t[h]!==void 0,y=h==="orientation";if((g||u)&&(l[h]=e(h,d[h]),y&&(l.fillDflt=l[h]==="h"?"tonextx":"tonexty"),g&&(l[p]=!0,!u&&(delete l.traces[0][h],y))))for(var b=0;b<l.traces.length-1;b++){var m=l.traces[b];m._input.fill!==m.fill&&(m.fill=l.fillDflt)}}}return l}}},16296:function(w,s,t){var a=t(39898),f=t(91424),e=t(73972);function i(n,o,l){f.pointStyle(n.selectAll("path.point"),o,l)}function r(n,o,l){f.textPointStyle(n.selectAll("text"),o,l)}w.exports={style:function(n){var o=a.select(n).selectAll("g.trace.scatter");o.style("opacity",function(l){return l[0].trace.opacity}),o.selectAll("g.points").each(function(l){i(a.select(this),l.trace||l[0].trace,n)}),o.selectAll("g.text").each(function(l){r(a.select(this),l.trace||l[0].trace,n)}),o.selectAll("g.trace path.js-line").call(f.lineGroupStyle),o.selectAll("g.trace path.js-fill").call(f.fillGroupStyle,n),e.getComponentMethod("errorbars","style")(o)},stylePoints:i,styleText:r,styleOnSelect:function(n,o,l){var u=o[0].trace;u.selectedpoints?(f.selectedPointStyle(l.selectAll("path.point"),u),f.selectedTextStyle(l.selectAll("text"),u)):(i(l,u,n),r(l,u,n))}}},34098:function(w,s,t){var a=t(71828);w.exports={hasLines:function(f){return f.visible&&f.mode&&f.mode.indexOf("lines")!==-1},hasMarkers:function(f){return f.visible&&(f.mode&&f.mode.indexOf("markers")!==-1||f.type==="splom")},hasText:function(f){return f.visible&&f.mode&&f.mode.indexOf("text")!==-1},isBubble:function(f){return a.isPlainObject(f.marker)&&a.isArrayOrTypedArray(f.marker.size)}}},82410:function(w,s,t){var a=t(71828);w.exports=function(f,e,i,r,n){n=n||{},r("textposition"),a.coerceFont(r,"textfont",i.font),n.noSelect||(r("selected.textfont.color"),r("unselected.textfont.color"))}},67513:function(w,s,t){var a=t(71828),f=t(73972);w.exports=function(e,i,r,n){var o,l=n("x"),u=n("y");if(f.getComponentMethod("calendars","handleTraceDefaults")(e,i,["x","y"],r),l){var d=a.minRowLength(l);u?o=Math.min(d,a.minRowLength(u)):(o=d,n("y0"),n("dy"))}else{if(!u)return 0;o=a.minRowLength(u),n("x0"),n("dx")}return i._length=o,o}},50413:function(w,s,t){var a=t(5386).fF,f=t(5386).si,e=t(82196),i=t(9012),r=t(50693),n=t(79952).P,o=t(1426).extendFlat,l=e.marker,u=e.line,d=l.line;w.exports={a:{valType:"data_array",editType:"calc"},b:{valType:"data_array",editType:"calc"},c:{valType:"data_array",editType:"calc"},sum:{valType:"number",dflt:0,min:0,editType:"calc"},mode:o({},e.mode,{dflt:"markers"}),text:o({},e.text,{}),texttemplate:f({editType:"plot"},{keys:["a","b","c","text"]}),hovertext:o({},e.hovertext,{}),line:{color:u.color,width:u.width,dash:n,backoff:u.backoff,shape:o({},u.shape,{values:["linear","spline"]}),smoothing:u.smoothing,editType:"calc"},connectgaps:e.connectgaps,cliponaxis:e.cliponaxis,fill:o({},e.fill,{values:["none","toself","tonext"],dflt:"none"}),fillcolor:e.fillcolor,marker:o({symbol:l.symbol,opacity:l.opacity,angle:l.angle,angleref:l.angleref,standoff:l.standoff,maxdisplayed:l.maxdisplayed,size:l.size,sizeref:l.sizeref,sizemin:l.sizemin,sizemode:l.sizemode,line:o({width:d.width,editType:"calc"},r("marker.line")),gradient:l.gradient,editType:"calc"},r("marker")),textfont:e.textfont,textposition:e.textposition,selected:e.selected,unselected:e.unselected,hoverinfo:o({},i.hoverinfo,{flags:["a","b","c","text","name"]}),hoveron:e.hoveron,hovertemplate:a()}},54337:function(w,s,t){var a=t(92770),f=t(36922),e=t(75225),i=t(66279),r=t(47761).calcMarkerSize,n=["a","b","c"],o={a:["b","c"],b:["a","c"],c:["a","b"]};w.exports=function(l,u){var d,c,h,p,g,y,b=l._fullLayout[u.subplot].sum,m=u.sum||b,v={a:u.a,b:u.b,c:u.c};for(d=0;d<n.length;d++)if(!v[h=n[d]]){for(g=v[o[h][0]],y=v[o[h][1]],p=new Array(g.length),c=0;c<g.length;c++)p[c]=m-g[c]-y[c];v[h]=p}var x,_,T,C,S,F,N=u._length,D=new Array(N);for(d=0;d<N;d++)x=v.a[d],_=v.b[d],T=v.c[d],a(x)&&a(_)&&a(T)?((C=b/((x=+x)+(_=+_)+(T=+T)))!=1&&(x*=C,_*=C,T*=C),F=x,S=T-_,D[d]={x:S,y:F,a:x,b:_,c:T}):D[d]={x:!1,y:!1};return r(u,N),f(l,u),e(D,u),i(D,u),D}},46008:function(w,s,t){var a=t(71828),f=t(47581),e=t(34098),i=t(49508),r=t(11058),n=t(94039),o=t(82410),l=t(28908),u=t(50413);w.exports=function(d,c,h,p){function g(_,T){return a.coerce(d,c,u,_,T)}var y,b=g("a"),m=g("b"),v=g("c");if(b?(y=b.length,m?(y=Math.min(y,m.length),v&&(y=Math.min(y,v.length))):y=v?Math.min(y,v.length):0):m&&v&&(y=Math.min(m.length,v.length)),y){c._length=y,g("sum"),g("text"),g("hovertext"),c.hoveron!=="fills"&&g("hovertemplate"),g("mode",y<f.PTS_LINESONLY?"lines+markers":"lines"),e.hasLines(c)&&(r(d,c,h,p,g,{backoff:!0}),n(d,c,g),g("connectgaps")),e.hasMarkers(c)&&i(d,c,h,p,g,{gradient:!0}),e.hasText(c)&&(g("texttemplate"),o(d,c,p,g));var x=[];(e.hasMarkers(c)||e.hasText(c))&&(g("cliponaxis"),g("marker.maxdisplayed"),x.push("points")),g("fill"),c.fill!=="none"&&(l(d,c,h,g),e.hasLines(c)||n(d,c,g)),c.fill!=="tonext"&&c.fill!=="toself"||x.push("fills"),g("hoveron",x.join("+")||"points"),a.coerceSelectionMarkerOpacity(c,g)}else c.visible=!1}},4524:function(w){w.exports=function(s,t,a,f,e){if(t.xa&&(s.xaxis=t.xa),t.ya&&(s.yaxis=t.ya),f[e]){var i=f[e];s.a=i.a,s.b=i.b,s.c=i.c}else s.a=t.a,s.b=t.b,s.c=t.c;return s}},93645:function(w,s,t){var a=t(89298);w.exports=function(f,e,i){var r={},n=i[e.subplot]._subplot;return r.aLabel=a.tickText(n.aaxis,f.a,!0).text,r.bLabel=a.tickText(n.baxis,f.b,!0).text,r.cLabel=a.tickText(n.caxis,f.c,!0).text,r}},47250:function(w,s,t){var a=t(33720);w.exports=function(f,e,i,r){var n=a(f,e,i,r);if(n&&n[0].index!==!1){var o=n[0];if(o.index===void 0){var l=1-o.y0/f.ya._length,u=f.xa._length,d=u*l/2,c=u-d;return o.x0=Math.max(Math.min(o.x0,c),d),o.x1=Math.max(Math.min(o.x1,c),d),n}var h=o.cd[o.index],p=o.trace,g=o.subplot;o.a=h.a,o.b=h.b,o.c=h.c,o.xLabelVal=void 0,o.yLabelVal=void 0;var y={};y[p.subplot]={_subplot:g};var b=p._module.formatLabels(h,p,y);o.aLabel=b.aLabel,o.bLabel=b.bLabel,o.cLabel=b.cLabel;var m=h.hi||p.hoverinfo,v=[];if(!p.hovertemplate){var x=m.split("+");x.indexOf("all")!==-1&&(x=["a","b","c"]),x.indexOf("a")!==-1&&_(g.aaxis,o.aLabel),x.indexOf("b")!==-1&&_(g.baxis,o.bLabel),x.indexOf("c")!==-1&&_(g.caxis,o.cLabel)}return o.extraText=v.join("<br>"),o.hovertemplate=p.hovertemplate,n}function _(T,C){v.push(T._hovertitle+": "+C)}}},52979:function(w,s,t){w.exports={attributes:t(50413),supplyDefaults:t(46008),colorbar:t(4898),formatLabels:t(93645),calc:t(54337),plot:t(7507),style:t(16296).style,styleOnSelect:t(16296).styleOnSelect,hoverPoints:t(47250),selectPoints:t(98002),eventData:t(4524),moduleType:"trace",name:"scatterternary",basePlotModule:t(61639),categories:["ternary","symbols","showLegend","scatter-like"],meta:{}}},7507:function(w,s,t){var a=t(32663);w.exports=function(f,e,i){var r=e.plotContainer;r.select(".scatterlayer").selectAll("*").remove();for(var n=e.xaxis,o=e.yaxis,l={xaxis:n,yaxis:o,plot:r,layerClipId:e._hasClipOnAxisFalse?e.clipIdRelative:null},u=e.layers.frontplot.select("g.scatterlayer"),d=0;d<i.length;d++){var c=i[d];c.length&&(c[0].trace._xA=n,c[0].trace._yA=o)}a(f,l,i,u)}},68875:function(w,s,t){var a=t(53522),f=t(1426).extendFlat,e=t(12663).axisHoverFormat;w.exports={y:a.y,x:a.x,x0:a.x0,y0:a.y0,xhoverformat:e("x"),yhoverformat:e("y"),name:f({},a.name,{}),orientation:f({},a.orientation,{}),bandwidth:{valType:"number",min:0,editType:"calc"},scalegroup:{valType:"string",dflt:"",editType:"calc"},scalemode:{valType:"enumerated",values:["width","count"],dflt:"width",editType:"calc"},spanmode:{valType:"enumerated",values:["soft","hard","manual"],dflt:"soft",editType:"calc"},span:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},editType:"plot"},fillcolor:a.fillcolor,points:f({},a.boxpoints,{}),jitter:f({},a.jitter,{}),pointpos:f({},a.pointpos,{}),width:f({},a.width,{}),marker:a.marker,text:a.text,hovertext:a.hovertext,hovertemplate:a.hovertemplate,quartilemethod:a.quartilemethod,box:{visible:{valType:"boolean",dflt:!1,editType:"plot"},width:{valType:"number",min:0,max:1,dflt:.25,editType:"plot"},fillcolor:{valType:"color",editType:"style"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"style"},editType:"plot"},meanline:{visible:{valType:"boolean",dflt:!1,editType:"plot"},color:{valType:"color",editType:"style"},width:{valType:"number",min:0,editType:"style"},editType:"plot"},side:{valType:"enumerated",values:["both","positive","negative"],dflt:"both",editType:"calc"},offsetgroup:a.offsetgroup,alignmentgroup:a.alignmentgroup,selected:a.selected,unselected:a.unselected,hoveron:{valType:"flaglist",flags:["violins","points","kde"],dflt:"violins+points+kde",extras:["all"],editType:"style"}}},38603:function(w,s,t){var a=t(71828),f=t(89298),e=t(48518),i=t(60168),r=t(50606).BADNUM;function n(l,u,d){var c=u.max-u.min;if(!c)return l.bandwidth?l.bandwidth:0;if(l.bandwidth)return Math.max(l.bandwidth,c/1e4);var h=d.length,p=a.stdev(d,h-1,u.mean);return Math.max(function(g,y,b){return 1.059*Math.min(y,b/1.349)*Math.pow(g,-.2)}(h,p,u.q3-u.q1),c/100)}function o(l,u,d,c){var h,p=l.spanmode,g=l.span||[],y=[u.min,u.max],b=[u.min-2*c,u.max+2*c];function m(x){var _=g[x],T=d.type==="multicategory"?d.r2c(_):d.d2c(_,0,l[u.valLetter+"calendar"]);return T===r?b[x]:T}var v={type:"linear",range:h=p==="soft"?b:p==="hard"?y:[m(0),m(1)]};return f.setConvert(v),v.cleanRange(),h}w.exports=function(l,u){var d=e(l,u);if(d[0].t.empty)return d;for(var c=l._fullLayout,h=f.getFromId(l,u[u.orientation==="h"?"xaxis":"yaxis"]),p=1/0,g=-1/0,y=0,b=0,m=0;m<d.length;m++){var v=d[m],x=v.pts.map(i.extractVal),_=v.bandwidth=n(u,v,x),T=v.span=o(u,v,h,_);if(v.min===v.max&&_===0)T=v.span=[v.min,v.max],v.density=[{v:1,t:T[0]}],v.bandwidth=_,y=Math.max(y,1);else{var C=T[1]-T[0],S=Math.ceil(C/(_/3)),F=C/S;if(!isFinite(F)||!isFinite(S))return a.error("Something went wrong with computing the violin span"),d[0].t.empty=!0,d;var N=i.makeKDE(v,u,x);v.density=new Array(S);for(var D=0,j=T[0];j<T[1]+F/2;D++,j+=F){var B=N(j);v.density[D]={v:B,t:j},y=Math.max(y,B)}}b=Math.max(b,x.length),p=Math.min(p,T[0]),g=Math.max(g,T[1])}var J=f.findExtremes(h,[p,g],{padded:!0});if(u._extremes[h._id]=J,u.width)d[0].t.maxKDE=y;else{var P=c._violinScaleGroupStats,M=u.scalegroup,O=P[M];O?(O.maxKDE=Math.max(O.maxKDE,y),O.maxCount=Math.max(O.maxCount,b)):P[M]={maxKDE:y,maxCount:b}}return d[0].t.labels.kde=a._(l,"kde:"),d}},86403:function(w,s,t){var a=t(37188).setPositionOffset,f=["v","h"];w.exports=function(e,i){for(var r=e.calcdata,n=i.xaxis,o=i.yaxis,l=0;l<f.length;l++){for(var u=f[l],d=u==="h"?o:n,c=[],h=0;h<r.length;h++){var p=r[h],g=p[0].t,y=p[0].trace;y.visible!==!0||y.type!=="violin"||g.empty||y.orientation!==u||y.xaxis!==n._id||y.yaxis!==o._id||c.push(h)}a("violin",e,c,d)}}},15899:function(w,s,t){var a=t(71828),f=t(7901),e=t(36411),i=t(68875);w.exports=function(r,n,o,l){function u(C,S){return a.coerce(r,n,i,C,S)}function d(C,S){return a.coerce2(r,n,i,C,S)}if(e.handleSampleDefaults(r,n,u,l),n.visible!==!1){u("bandwidth"),u("side"),u("width")||(u("scalegroup",n.name),u("scalemode"));var c,h=u("span");Array.isArray(h)&&(c="manual"),u("spanmode",c);var p=u("line.color",(r.marker||{}).color||o),g=u("line.width"),y=u("fillcolor",f.addOpacity(n.line.color,.5));e.handlePointsDefaults(r,n,u,{prefix:""});var b=d("box.width"),m=d("box.fillcolor",y),v=d("box.line.color",p),x=d("box.line.width",g);u("box.visible",!!(b||m||v||x))||(n.box={visible:!1});var _=d("meanline.color",p),T=d("meanline.width",g);u("meanline.visible",!!(_||T))||(n.meanline={visible:!1}),u("quartilemethod")}}},60168:function(w,s,t){var a=t(71828),f=function(e){return 1/Math.sqrt(2*Math.PI)*Math.exp(-.5*e*e)};s.makeKDE=function(e,i,r){var n=r.length,o=f,l=e.bandwidth,u=1/(n*l);return function(d){for(var c=0,h=0;h<n;h++)c+=o((d-r[h])/l);return u*c}},s.getPositionOnKdePath=function(e,i,r){var n,o;i.orientation==="h"?(n="y",o="x"):(n="x",o="y");var l=a.findPointOnPath(e.path,r,o,{pathLength:e.pathLength}),u=e.posCenterPx,d=l[n];return[d,i.side==="both"?2*u-d:u]},s.getKdeValue=function(e,i,r){var n=e.pts.map(s.extractVal);return s.makeKDE(e,i,n)(r)/e.posDensityScale},s.extractVal=function(e){return e.v}},57634:function(w,s,t){var a=t(7901),f=t(71828),e=t(89298),i=t(41868),r=t(60168);w.exports=function(n,o,l,u,d){d||(d={});var c,h,p=d.hoverLayer,g=n.cd,y=g[0].trace,b=y.hoveron,m=b.indexOf("violins")!==-1,v=b.indexOf("kde")!==-1,x=[];if(m||v){var _=i.hoverOnBoxes(n,o,l,u);if(v&&_.length>0){var T,C,S,F,N,D=n.xa,j=n.ya;y.orientation==="h"?(N=o,T="y",S=j,C="x",F=D):(N=l,T="x",S=D,C="y",F=j);var B=g[n.index];if(N>=B.span[0]&&N<=B.span[1]){var J=f.extendFlat({},n),P=F.c2p(N,!0),M=r.getKdeValue(B,y,N),O=r.getPositionOnKdePath(B,y,P),q=S._offset,tt=S._length;J[T+"0"]=O[0],J[T+"1"]=O[1],J[C+"0"]=J[C+"1"]=P,J[C+"Label"]=C+": "+e.hoverLabelText(F,N,y[C+"hoverformat"])+", "+g[0].t.labels.kde+" "+M.toFixed(3);for(var E=0,z=0;z<_.length;z++)if(_[z].attr==="med"){E=z;break}J.spikeDistance=_[E].spikeDistance;var Y=T+"Spike";J[Y]=_[E][Y],_[E].spikeDistance=void 0,_[E][Y]=void 0,J.hovertemplate=!1,x.push(J),(h={})[T+"1"]=f.constrain(q+O[0],q,q+tt),h[T+"2"]=f.constrain(q+O[1],q,q+tt),h[C+"1"]=h[C+"2"]=F._offset+P}}m&&(x=x.concat(_))}b.indexOf("points")!==-1&&(c=i.hoverOnPoints(n,o,l));var Q=p.selectAll(".violinline-"+y.uid).data(h?[0]:[]);return Q.enter().append("line").classed("violinline-"+y.uid,!0).attr("stroke-width",1.5),Q.exit().remove(),Q.attr(h).call(a.stroke,n.color),u==="closest"?c?[c]:x:(c&&x.push(c),x)}},47462:function(w,s,t){w.exports={attributes:t(68875),layoutAttributes:t(9228),supplyDefaults:t(15899),crossTraceDefaults:t(36411).crossTraceDefaults,supplyLayoutDefaults:t(33598),calc:t(38603),crossTraceCalc:t(86403),plot:t(28443),style:t(31847),styleOnSelect:t(16296).styleOnSelect,hoverPoints:t(57634),selectPoints:t(24626),moduleType:"trace",name:"violin",basePlotModule:t(93612),categories:["cartesian","svg","symbols","oriented","box-violin","showLegend","violinLayout","zoomScale"],meta:{}}},9228:function(w,s,t){var a=t(40094),f=t(71828).extendFlat;w.exports={violinmode:f({},a.boxmode,{}),violingap:f({},a.boxgap,{}),violingroupgap:f({},a.boxgroupgap,{})}},33598:function(w,s,t){var a=t(71828),f=t(9228),e=t(4199);w.exports=function(i,r,n){e._supply(i,r,n,function(o,l){return a.coerce(i,r,f,o,l)},"violin")}},28443:function(w,s,t){var a=t(39898),f=t(71828),e=t(91424),i=t(86047),r=t(34621),n=t(60168);w.exports=function(o,l,u,d){var c=o._context.staticPlot,h=o._fullLayout,p=l.xaxis,g=l.yaxis;function y(b,m){var v=r(b,{xaxis:p,yaxis:g,trace:m,connectGaps:!0,baseTolerance:.75,shape:"spline",simplify:!0,linearized:!0});return e.smoothopen(v[0],1)}f.makeTraceGroups(d,u,"trace violins").each(function(b){var m=a.select(this),v=b[0],x=v.t,_=v.trace;if(_.visible!==!0||x.empty)m.remove();else{var T=x.bPos,C=x.bdPos,S=l[x.valLetter+"axis"],F=l[x.posLetter+"axis"],N=_.side==="both",D=N||_.side==="positive",j=N||_.side==="negative",B=m.selectAll("path.violin").data(f.identity);B.enter().append("path").style("vector-effect",c?"none":"non-scaling-stroke").attr("class","violin"),B.exit().remove(),B.each(function(z){var Y,Q,nt,et,Z,H,U,V,$=a.select(this),at=z.density,rt=at.length,ot=F.c2l(z.pos+T,!0),ct=F.l2p(ot);if(_.width)Y=x.maxKDE/C;else{var ht=h._violinScaleGroupStats[_.scalegroup];Y=_.scalemode==="count"?ht.maxKDE/C*(ht.maxCount/z.pts.length):ht.maxKDE/C}if(D){for(U=new Array(rt),Z=0;Z<rt;Z++)(V=U[Z]={})[x.posLetter]=ot+at[Z].v/Y,V[x.valLetter]=S.c2l(at[Z].t,!0);Q=y(U,_)}if(j){for(U=new Array(rt),H=0,Z=rt-1;H<rt;H++,Z--)(V=U[H]={})[x.posLetter]=ot-at[Z].v/Y,V[x.valLetter]=S.c2l(at[Z].t,!0);nt=y(U,_)}if(N)et=Q+"L"+nt.substr(1)+"Z";else{var mt=[ct,S.c2p(at[0].t)],kt=[ct,S.c2p(at[rt-1].t)];_.orientation==="h"&&(mt.reverse(),kt.reverse()),et=D?"M"+mt+"L"+Q.substr(1)+"L"+kt:"M"+kt+"L"+nt.substr(1)+"L"+mt}$.attr("d",et),z.posCenterPx=ct,z.posDensityScale=Y*C,z.path=$.node(),z.pathLength=z.path.getTotalLength()/(N?2:1)});var J,P,M,O=_.box,q=O.width,tt=(O.line||{}).width;N?(J=C*q,P=0):D?(J=[0,C*q/2],P=tt*{x:1,y:-1}[x.posLetter]):(J=[C*q/2,0],P=tt*{x:-1,y:1}[x.posLetter]),i.plotBoxAndWhiskers(m,{pos:F,val:S},_,{bPos:T,bdPos:J,bPosPxOffset:P}),i.plotBoxMean(m,{pos:F,val:S},_,{bPos:T,bdPos:J,bPosPxOffset:P}),!_.box.visible&&_.meanline.visible&&(M=f.identity);var E=m.selectAll("path.meanline").data(M||[]);E.enter().append("path").attr("class","meanline").style("fill","none").style("vector-effect",c?"none":"non-scaling-stroke"),E.exit().remove(),E.each(function(z){var Y=S.c2p(z.mean,!0),Q=n.getPositionOnKdePath(z,_,Y);a.select(this).attr("d",_.orientation==="h"?"M"+Y+","+Q[0]+"V"+Q[1]:"M"+Q[0]+","+Y+"H"+Q[1])}),i.plotPoints(m,{x:p,y:g},_,x)}})}},31847:function(w,s,t){var a=t(39898),f=t(7901),e=t(16296).stylePoints;w.exports=function(i){var r=a.select(i).selectAll("g.trace.violins");r.style("opacity",function(n){return n[0].trace.opacity}),r.each(function(n){var o=n[0].trace,l=a.select(this),u=o.box||{},d=u.line||{},c=o.meanline||{},h=c.width;l.selectAll("path.violin").style("stroke-width",o.line.width+"px").call(f.stroke,o.line.color).call(f.fill,o.fillcolor),l.selectAll("path.box").style("stroke-width",d.width+"px").call(f.stroke,d.color).call(f.fill,u.fillcolor);var p={"stroke-width":h+"px","stroke-dasharray":2*h+"px,"+h+"px"};l.selectAll("path.mean").style(p).call(f.stroke,c.color),l.selectAll("path.meanline").style(p).call(f.stroke,c.color),e(l,o,i)})}},82887:function(w,s,t){var a=t(89298),f=t(71828),e=t(86281),i=t(79344).p,r=t(50606).BADNUM;s.moduleType="transform",s.name="aggregate";var n=s.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},aggregations:{_isLinkedToArray:"aggregation",target:{valType:"string",editType:"calc"},func:{valType:"enumerated",values:["count","sum","avg","median","mode","rms","stddev","min","max","first","last","change","range"],dflt:"first",editType:"calc"},funcmode:{valType:"enumerated",values:["sample","population"],dflt:"sample",editType:"calc"},enabled:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},editType:"calc"},o=n.aggregations;function l(h,p,g,y){if(y.enabled){for(var b=y.target,m=f.nestedProperty(p,b),v=m.get(),x=function(C,S){var F=C.func,N=S.d2c,D=S.c2d;switch(F){case"count":return u;case"first":return d;case"last":return c;case"sum":return function(j,B){for(var J=0,P=0;P<B.length;P++){var M=N(j[B[P]]);M!==r&&(J+=M)}return D(J)};case"avg":return function(j,B){for(var J=0,P=0,M=0;M<B.length;M++){var O=N(j[B[M]]);O!==r&&(J+=O,P++)}return P?D(J/P):r};case"min":return function(j,B){for(var J=1/0,P=0;P<B.length;P++){var M=N(j[B[P]]);M!==r&&(J=Math.min(J,M))}return J===1/0?r:D(J)};case"max":return function(j,B){for(var J=-1/0,P=0;P<B.length;P++){var M=N(j[B[P]]);M!==r&&(J=Math.max(J,M))}return J===-1/0?r:D(J)};case"range":return function(j,B){for(var J=1/0,P=-1/0,M=0;M<B.length;M++){var O=N(j[B[M]]);O!==r&&(J=Math.min(J,O),P=Math.max(P,O))}return P===-1/0||J===1/0?r:D(P-J)};case"change":return function(j,B){var J=N(j[B[0]]),P=N(j[B[B.length-1]]);return J===r||P===r?r:D(P-J)};case"median":return function(j,B){for(var J=[],P=0;P<B.length;P++){var M=N(j[B[P]]);M!==r&&J.push(M)}if(!J.length)return r;J.sort(f.sorterAsc);var O=(J.length-1)/2;return D((J[Math.floor(O)]+J[Math.ceil(O)])/2)};case"mode":return function(j,B){for(var J={},P=0,M=r,O=0;O<B.length;O++){var q=N(j[B[O]]);if(q!==r){var tt=J[q]=(J[q]||0)+1;tt>P&&(P=tt,M=q)}}return P?D(M):r};case"rms":return function(j,B){for(var J=0,P=0,M=0;M<B.length;M++){var O=N(j[B[M]]);O!==r&&(J+=O*O,P++)}return P?D(Math.sqrt(J/P)):r};case"stddev":return function(j,B){var J,P=0,M=0,O=1,q=r;for(J=0;J<B.length&&q===r;J++)q=N(j[B[J]]);if(q===r)return r;for(;J<B.length;J++){var tt=N(j[B[J]]);if(tt!==r){var E=tt-q;P+=E,M+=E*E,O++}}var z=C.funcmode==="sample"?O-1:O;return z?Math.sqrt((M-P*P/O)/z):0}}}(y,a.getDataConversions(h,p,b,v)),_=new Array(g.length),T=0;T<g.length;T++)_[T]=x(v,g[T]);m.set(_),y.func==="count"&&f.pushUnique(p._arrayAttrs,b)}}function u(h,p){return p.length}function d(h,p){return h[p[0]]}function c(h,p){return h[p[p.length-1]]}s.supplyDefaults=function(h,p){var g,y={};function b(D,j){return f.coerce(h,y,n,D,j)}if(!b("enabled"))return y;var m=e.findArrayAttributes(p),v={};for(g=0;g<m.length;g++)v[m[g]]=1;var x=b("groups");if(!Array.isArray(x)){if(!v[x])return y.enabled=!1,y;v[x]=0}var _,T=h.aggregations||[],C=y.aggregations=new Array(T.length);function S(D,j){return f.coerce(T[g],_,o,D,j)}for(g=0;g<T.length;g++){_={_index:g};var F=S("target"),N=S("func");S("enabled")&&F&&(v[F]||N==="count"&&v[F]===void 0)?(N==="stddev"&&S("funcmode"),v[F]=0,C[g]=_):C[g]={enabled:!1,_index:g}}for(g=0;g<m.length;g++)v[m[g]]&&C.push({target:m[g],func:o.func.dflt,enabled:!0,_index:-1});return y},s.calcTransform=function(h,p,g){if(g.enabled){var y=g.groups,b=f.getTargetArray(p,{target:y});if(b){var m,v,x,_,T={},C={},S=[],F=i(p.transforms,g),N=b.length;for(p._length&&(N=Math.min(N,p._length)),m=0;m<N;m++)(x=T[v=b[m]])===void 0?(T[v]=S.length,_=[m],S.push(_),C[T[v]]=F(m)):(S[x].push(m),C[T[v]]=(C[T[v]]||[]).concat(F(m)));g._indexToPoints=C;var D=g.aggregations;for(m=0;m<D.length;m++)l(h,p,S,D[m]);typeof y=="string"&&l(h,p,S,{target:y,func:"first",enabled:!0}),p._length=S.length}}}},14382:function(w,s,t){var a=t(71828),f=t(73972),e=t(89298),i=t(79344).p,r=t(74808),n=r.COMPARISON_OPS,o=r.INTERVAL_OPS,l=r.SET_OPS;s.moduleType="transform",s.name="filter",s.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},operation:{valType:"enumerated",values:[].concat(n).concat(o).concat(l),dflt:"=",editType:"calc"},value:{valType:"any",dflt:0,editType:"calc"},preservegaps:{valType:"boolean",dflt:!1,editType:"calc"},editType:"calc"},s.supplyDefaults=function(u){var d={};function c(g,y){return a.coerce(u,d,s.attributes,g,y)}if(c("enabled")){var h=c("target");if(a.isArrayOrTypedArray(h)&&h.length===0)return d.enabled=!1,d;c("preservegaps"),c("operation"),c("value");var p=f.getComponentMethod("calendars","handleDefaults");p(u,d,"valuecalendar",null),p(u,d,"targetcalendar",null)}return d},s.calcTransform=function(u,d,c){if(c.enabled){var h=a.getTargetArray(d,c);if(h){var p=c.target,g=h.length;d._length&&(g=Math.min(g,d._length));var y=c.targetcalendar,b=d._arrayAttrs,m=c.preservegaps;if(typeof p=="string"){var v=a.nestedProperty(d,p+"calendar").get();v&&(y=v)}var x,_,T=function(B,J,P){var M=B.operation,O=B.value,q=Array.isArray(O);function tt(Q){return Q.indexOf(M)!==-1}var E,z=function(Q){return J(Q,0,B.valuecalendar)},Y=function(Q){return J(Q,0,P)};switch(tt(n)?E=z(q?O[0]:O):tt(o)?E=q?[z(O[0]),z(O[1])]:[z(O),z(O)]:tt(l)&&(E=q?O.map(z):[z(O)]),M){case"=":return function(Q){return Y(Q)===E};case"!=":return function(Q){return Y(Q)!==E};case"<":return function(Q){return Y(Q)<E};case"<=":return function(Q){return Y(Q)<=E};case">":return function(Q){return Y(Q)>E};case">=":return function(Q){return Y(Q)>=E};case"[]":return function(Q){var nt=Y(Q);return nt>=E[0]&&nt<=E[1]};case"()":return function(Q){var nt=Y(Q);return nt>E[0]&&nt<E[1]};case"[)":return function(Q){var nt=Y(Q);return nt>=E[0]&&nt<E[1]};case"(]":return function(Q){var nt=Y(Q);return nt>E[0]&&nt<=E[1]};case"][":return function(Q){var nt=Y(Q);return nt<=E[0]||nt>=E[1]};case")(":return function(Q){var nt=Y(Q);return nt<E[0]||nt>E[1]};case"](":return function(Q){var nt=Y(Q);return nt<=E[0]||nt>E[1]};case")[":return function(Q){var nt=Y(Q);return nt<E[0]||nt>=E[1]};case"{}":return function(Q){return E.indexOf(Y(Q))!==-1};case"}{":return function(Q){return E.indexOf(Y(Q))===-1}}}(c,e.getDataToCoordFunc(u,d,p,h),y),C={},S={},F=0;m?(x=function(B){C[B.astr]=a.extendDeep([],B.get()),B.set(new Array(g))},_=function(B,J){var P=C[B.astr][J];B.get()[J]=P}):(x=function(B){C[B.astr]=a.extendDeep([],B.get()),B.set([])},_=function(B,J){var P=C[B.astr][J];B.get().push(P)}),j(x);for(var N=i(d.transforms,c),D=0;D<g;D++)T(h[D])?(j(_,D),S[F++]=N(D)):m&&F++;c._indexToPoints=S,d._length=F}}function j(B,J){for(var P=0;P<b.length;P++)B(a.nestedProperty(d,b[P]),J)}}},43102:function(w,s,t){var a=t(71828),f=t(86281),e=t(74875),i=t(79344).p;function r(n,o){var l,u,d,c,h,p,g,y,b,m,v=o.transform,x=o.transformIndex,_=n.transforms[x].groups,T=i(n.transforms,v);if(!a.isArrayOrTypedArray(_)||_.length===0)return[n];var C=a.filterUnique(_),S=new Array(C.length),F=_.length,N=f.findArrayAttributes(n),D=v.styles||[],j={};for(l=0;l<D.length;l++)j[D[l].target]=D[l].value;v.styles&&(m=a.keyedContainer(v,"styles","target","value.name"));var B={},J={};for(l=0;l<C.length;l++){B[p=C[l]]=l,J[p]=0,(g=S[l]=a.extendDeepNoArrays({},n))._group=p,g.transforms[x]._indexToPoints={};var P=null;for(m&&(P=m.get(p)),g.name=P||P===""?P:a.templateString(v.nameformat,{trace:n.name,group:p}),y=g.transforms,g.transforms=[],u=0;u<y.length;u++)g.transforms[u]=a.extendDeepNoArrays({},y[u]);for(u=0;u<N.length;u++)a.nestedProperty(g,N[u]).set([])}for(d=0;d<N.length;d++){for(c=N[d],u=0,b=[];u<C.length;u++)b[u]=a.nestedProperty(S[u],c).get();for(h=a.nestedProperty(n,c).get(),u=0;u<F;u++)b[B[_[u]]].push(h[u])}for(u=0;u<F;u++)(g=S[B[_[u]]]).transforms[x]._indexToPoints[J[_[u]]]=T(u),J[_[u]]++;for(l=0;l<C.length;l++)p=C[l],g=S[l],e.clearExpandedTraceDefaultColors(g),g=a.extendDeepNoArrays(g,j[p]||{});return S}s.moduleType="transform",s.name="groupby",s.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},groups:{valType:"data_array",dflt:[],editType:"calc"},nameformat:{valType:"string",editType:"calc"},styles:{_isLinkedToArray:"style",target:{valType:"string",editType:"calc"},value:{valType:"any",dflt:{},editType:"calc",_compareAsJSON:!0},editType:"calc"},editType:"calc"},s.supplyDefaults=function(n,o,l){var u,d={};function c(b,m){return a.coerce(n,d,s.attributes,b,m)}if(!c("enabled"))return d;c("groups"),c("nameformat",l._dataLength>1?"%{group} (%{trace})":"%{group}");var h=n.styles,p=d.styles=[];if(h)for(u=0;u<h.length;u++){var g=p[u]={};a.coerce(h[u],p[u],s.attributes.styles,"target");var y=a.coerce(h[u],p[u],s.attributes.styles,"value");a.isPlainObject(y)?g.value=a.extendDeep({},y):y&&delete g.value}return d},s.transform=function(n,o){var l,u,d,c=[];for(u=0;u<n.length;u++)for(l=r(n[u],o),d=0;d<l.length;d++)c.push(l[d]);return c}},79344:function(w,s){s.p=function(t,a){for(var f,e,i=0;i<t.length&&(f=t[i])!==a;i++)f._indexToPoints&&f.enabled!==!1&&(e=f._indexToPoints);var r=e?function(n){return e[n]}:function(n){return[n]};return r}},32275:function(w,s,t){var a=t(71828),f=t(89298),e=t(79344).p,i=t(50606).BADNUM;s.moduleType="transform",s.name="sort",s.attributes={enabled:{valType:"boolean",dflt:!0,editType:"calc"},target:{valType:"string",strict:!0,noBlank:!0,arrayOk:!0,dflt:"x",editType:"calc"},order:{valType:"enumerated",values:["ascending","descending"],dflt:"ascending",editType:"calc"},editType:"calc"},s.supplyDefaults=function(r){var n={};function o(l,u){return a.coerce(r,n,s.attributes,l,u)}return o("enabled")&&(o("target"),o("order")),n},s.calcTransform=function(r,n,o){if(o.enabled){var l=a.getTargetArray(n,o);if(l){var u=o.target,d=l.length;n._length&&(d=Math.min(d,n._length));var c,h,p=n._arrayAttrs,g=function(_,T,C,S){var F,N=new Array(S),D=new Array(S);for(F=0;F<S;F++)N[F]={v:T[F],i:F};for(N.sort(function(j,B){switch(j.order){case"ascending":return function(J,P){var M=B(J.v),O=B(P.v);return M===i?1:O===i?-1:M-O};case"descending":return function(J,P){var M=B(J.v),O=B(P.v);return M===i?1:O===i?-1:O-M}}}(_,C)),F=0;F<S;F++)D[F]=N[F].i;return D}(o,l,f.getDataToCoordFunc(r,n,u,l),d),y=e(n.transforms,o),b={};for(c=0;c<p.length;c++){var m=a.nestedProperty(n,p[c]),v=m.get(),x=new Array(d);for(h=0;h<d;h++)x[h]=v[g[h]];m.set(x)}for(h=0;h<d;h++)b[h]=y(g[h]);o._indexToPoints=b,n._length=d}}}},11506:function(w,s){s.version="2.22.0"},12856:function(w,s,t){function a(L,X){if(!(L instanceof X))throw new TypeError("Cannot call a class as a function")}function f(L,X){for(var it=0;it<X.length;it++){var ft=X[it];ft.enumerable=ft.enumerable||!1,ft.configurable=!0,"value"in ft&&(ft.writable=!0),Object.defineProperty(L,ft.key,ft)}}function e(L,X){return e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(it,ft){return it.__proto__=ft,it},e(L,X)}function i(L,X){if(X&&(o(X)==="object"||typeof X=="function"))return X;if(X!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return r(L)}function r(L){if(L===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return L}function n(L){return n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(X){return X.__proto__||Object.getPrototypeOf(X)},n(L)}function o(L){return o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(X){return typeof X}:function(X){return X&&typeof Symbol=="function"&&X.constructor===Symbol&&X!==Symbol.prototype?"symbol":typeof X},o(L)}var l=t(95341),u=t(95280),d=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;s.Buffer=p,s.SlowBuffer=function(L){return+L!=L&&(L=0),p.alloc(+L)},s.INSPECT_MAX_BYTES=50;var c=2147483647;function h(L){if(L>c)throw new RangeError('The value "'+L+'" is invalid for option "size"');var X=new Uint8Array(L);return Object.setPrototypeOf(X,p.prototype),X}function p(L,X,it){if(typeof L=="number"){if(typeof X=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return b(L)}return g(L,X,it)}function g(L,X,it){if(typeof L=="string")return function(wt,xt){if(typeof xt=="string"&&xt!==""||(xt="utf8"),!p.isEncoding(xt))throw new TypeError("Unknown encoding: "+xt);var Ft=0|_(wt,xt),Bt=h(Ft),Mt=Bt.write(wt,xt);return Mt!==Ft&&(Bt=Bt.slice(0,Mt)),Bt}(L,X);if(ArrayBuffer.isView(L))return function(wt){if(It(wt,Uint8Array)){var xt=new Uint8Array(wt);return v(xt.buffer,xt.byteOffset,xt.byteLength)}return m(wt)}(L);if(L==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+o(L));if(It(L,ArrayBuffer)||L&&It(L.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(It(L,SharedArrayBuffer)||L&&It(L.buffer,SharedArrayBuffer)))return v(L,X,it);if(typeof L=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var ft=L.valueOf&&L.valueOf();if(ft!=null&&ft!==L)return p.from(ft,X,it);var gt=function(wt){if(p.isBuffer(wt)){var xt=0|x(wt.length),Ft=h(xt);return Ft.length===0||wt.copy(Ft,0,0,xt),Ft}return wt.length!==void 0?typeof wt.length!="number"||pt(wt.length)?h(0):m(wt):wt.type==="Buffer"&&Array.isArray(wt.data)?m(wt.data):void 0}(L);if(gt)return gt;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof L[Symbol.toPrimitive]=="function")return p.from(L[Symbol.toPrimitive]("string"),X,it);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+o(L))}function y(L){if(typeof L!="number")throw new TypeError('"size" argument must be of type number');if(L<0)throw new RangeError('The value "'+L+'" is invalid for option "size"')}function b(L){return y(L),h(L<0?0:0|x(L))}function m(L){for(var X=L.length<0?0:0|x(L.length),it=h(X),ft=0;ft<X;ft+=1)it[ft]=255&L[ft];return it}function v(L,X,it){if(X<0||L.byteLength<X)throw new RangeError('"offset" is outside of buffer bounds');if(L.byteLength<X+(it||0))throw new RangeError('"length" is outside of buffer bounds');var ft;return ft=X===void 0&&it===void 0?new Uint8Array(L):it===void 0?new Uint8Array(L,X):new Uint8Array(L,X,it),Object.setPrototypeOf(ft,p.prototype),ft}function x(L){if(L>=c)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+c.toString(16)+" bytes");return 0|L}function _(L,X){if(p.isBuffer(L))return L.length;if(ArrayBuffer.isView(L)||It(L,ArrayBuffer))return L.byteLength;if(typeof L!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+o(L));var it=L.length,ft=arguments.length>2&&arguments[2]===!0;if(!ft&&it===0)return 0;for(var gt=!1;;)switch(X){case"ascii":case"latin1":case"binary":return it;case"utf8":case"utf-8":return mt(L).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*it;case"hex":return it>>>1;case"base64":return kt(L).length;default:if(gt)return ft?-1:mt(L).length;X=(""+X).toLowerCase(),gt=!0}}function T(L,X,it){var ft=!1;if((X===void 0||X<0)&&(X=0),X>this.length||((it===void 0||it>this.length)&&(it=this.length),it<=0)||(it>>>=0)<=(X>>>=0))return"";for(L||(L="utf8");;)switch(L){case"hex":return E(this,X,it);case"utf8":case"utf-8":return M(this,X,it);case"ascii":return q(this,X,it);case"latin1":case"binary":return tt(this,X,it);case"base64":return P(this,X,it);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return z(this,X,it);default:if(ft)throw new TypeError("Unknown encoding: "+L);L=(L+"").toLowerCase(),ft=!0}}function C(L,X,it){var ft=L[X];L[X]=L[it],L[it]=ft}function S(L,X,it,ft,gt){if(L.length===0)return-1;if(typeof it=="string"?(ft=it,it=0):it>2147483647?it=2147483647:it<-2147483648&&(it=-2147483648),pt(it=+it)&&(it=gt?0:L.length-1),it<0&&(it=L.length+it),it>=L.length){if(gt)return-1;it=L.length-1}else if(it<0){if(!gt)return-1;it=0}if(typeof X=="string"&&(X=p.from(X,ft)),p.isBuffer(X))return X.length===0?-1:F(L,X,it,ft,gt);if(typeof X=="number")return X&=255,typeof Uint8Array.prototype.indexOf=="function"?gt?Uint8Array.prototype.indexOf.call(L,X,it):Uint8Array.prototype.lastIndexOf.call(L,X,it):F(L,[X],it,ft,gt);throw new TypeError("val must be string, number or Buffer")}function F(L,X,it,ft,gt){var wt,xt=1,Ft=L.length,Bt=X.length;if(ft!==void 0&&((ft=String(ft).toLowerCase())==="ucs2"||ft==="ucs-2"||ft==="utf16le"||ft==="utf-16le")){if(L.length<2||X.length<2)return-1;xt=2,Ft/=2,Bt/=2,it/=2}function Mt(zt,Xt){return xt===1?zt[Xt]:zt.readUInt16BE(Xt*xt)}if(gt){var St=-1;for(wt=it;wt<Ft;wt++)if(Mt(L,wt)===Mt(X,St===-1?0:wt-St)){if(St===-1&&(St=wt),wt-St+1===Bt)return St*xt}else St!==-1&&(wt-=wt-St),St=-1}else for(it+Bt>Ft&&(it=Ft-Bt),wt=it;wt>=0;wt--){for(var Lt=!0,Pt=0;Pt<Bt;Pt++)if(Mt(L,wt+Pt)!==Mt(X,Pt)){Lt=!1;break}if(Lt)return wt}return-1}function N(L,X,it,ft){it=Number(it)||0;var gt=L.length-it;ft?(ft=Number(ft))>gt&&(ft=gt):ft=gt;var wt,xt=X.length;for(ft>xt/2&&(ft=xt/2),wt=0;wt<ft;++wt){var Ft=parseInt(X.substr(2*wt,2),16);if(pt(Ft))return wt;L[it+wt]=Ft}return wt}function D(L,X,it,ft){return Ct(mt(X,L.length-it),L,it,ft)}function j(L,X,it,ft){return Ct(function(gt){for(var wt=[],xt=0;xt<gt.length;++xt)wt.push(255&gt.charCodeAt(xt));return wt}(X),L,it,ft)}function B(L,X,it,ft){return Ct(kt(X),L,it,ft)}function J(L,X,it,ft){return Ct(function(gt,wt){for(var xt,Ft,Bt,Mt=[],St=0;St<gt.length&&!((wt-=2)<0);++St)Ft=(xt=gt.charCodeAt(St))>>8,Bt=xt%256,Mt.push(Bt),Mt.push(Ft);return Mt}(X,L.length-it),L,it,ft)}function P(L,X,it){return X===0&&it===L.length?l.fromByteArray(L):l.fromByteArray(L.slice(X,it))}function M(L,X,it){it=Math.min(L.length,it);for(var ft=[],gt=X;gt<it;){var wt=L[gt],xt=null,Ft=wt>239?4:wt>223?3:wt>191?2:1;if(gt+Ft<=it){var Bt=void 0,Mt=void 0,St=void 0,Lt=void 0;switch(Ft){case 1:wt<128&&(xt=wt);break;case 2:(192&(Bt=L[gt+1]))==128&&(Lt=(31&wt)<<6|63&Bt)>127&&(xt=Lt);break;case 3:Bt=L[gt+1],Mt=L[gt+2],(192&Bt)==128&&(192&Mt)==128&&(Lt=(15&wt)<<12|(63&Bt)<<6|63&Mt)>2047&&(Lt<55296||Lt>57343)&&(xt=Lt);break;case 4:Bt=L[gt+1],Mt=L[gt+2],St=L[gt+3],(192&Bt)==128&&(192&Mt)==128&&(192&St)==128&&(Lt=(15&wt)<<18|(63&Bt)<<12|(63&Mt)<<6|63&St)>65535&&Lt<1114112&&(xt=Lt)}}xt===null?(xt=65533,Ft=1):xt>65535&&(xt-=65536,ft.push(xt>>>10&1023|55296),xt=56320|1023&xt),ft.push(xt),gt+=Ft}return function(Pt){var zt=Pt.length;if(zt<=O)return String.fromCharCode.apply(String,Pt);for(var Xt="",Gt=0;Gt<zt;)Xt+=String.fromCharCode.apply(String,Pt.slice(Gt,Gt+=O));return Xt}(ft)}s.kMaxLength=c,p.TYPED_ARRAY_SUPPORT=function(){try{var L=new Uint8Array(1),X={foo:function(){return 42}};return Object.setPrototypeOf(X,Uint8Array.prototype),Object.setPrototypeOf(L,X),L.foo()===42}catch{return!1}}(),p.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(p.prototype,"parent",{enumerable:!0,get:function(){if(p.isBuffer(this))return this.buffer}}),Object.defineProperty(p.prototype,"offset",{enumerable:!0,get:function(){if(p.isBuffer(this))return this.byteOffset}}),p.poolSize=8192,p.from=function(L,X,it){return g(L,X,it)},Object.setPrototypeOf(p.prototype,Uint8Array.prototype),Object.setPrototypeOf(p,Uint8Array),p.alloc=function(L,X,it){return function(ft,gt,wt){return y(ft),ft<=0?h(ft):gt!==void 0?typeof wt=="string"?h(ft).fill(gt,wt):h(ft).fill(gt):h(ft)}(L,X,it)},p.allocUnsafe=function(L){return b(L)},p.allocUnsafeSlow=function(L){return b(L)},p.isBuffer=function(L){return L!=null&&L._isBuffer===!0&&L!==p.prototype},p.compare=function(L,X){if(It(L,Uint8Array)&&(L=p.from(L,L.offset,L.byteLength)),It(X,Uint8Array)&&(X=p.from(X,X.offset,X.byteLength)),!p.isBuffer(L)||!p.isBuffer(X))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(L===X)return 0;for(var it=L.length,ft=X.length,gt=0,wt=Math.min(it,ft);gt<wt;++gt)if(L[gt]!==X[gt]){it=L[gt],ft=X[gt];break}return it<ft?-1:ft<it?1:0},p.isEncoding=function(L){switch(String(L).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},p.concat=function(L,X){if(!Array.isArray(L))throw new TypeError('"list" argument must be an Array of Buffers');if(L.length===0)return p.alloc(0);var it;if(X===void 0)for(X=0,it=0;it<L.length;++it)X+=L[it].length;var ft=p.allocUnsafe(X),gt=0;for(it=0;it<L.length;++it){var wt=L[it];if(It(wt,Uint8Array))gt+wt.length>ft.length?(p.isBuffer(wt)||(wt=p.from(wt)),wt.copy(ft,gt)):Uint8Array.prototype.set.call(ft,wt,gt);else{if(!p.isBuffer(wt))throw new TypeError('"list" argument must be an Array of Buffers');wt.copy(ft,gt)}gt+=wt.length}return ft},p.byteLength=_,p.prototype._isBuffer=!0,p.prototype.swap16=function(){var L=this.length;if(L%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var X=0;X<L;X+=2)C(this,X,X+1);return this},p.prototype.swap32=function(){var L=this.length;if(L%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var X=0;X<L;X+=4)C(this,X,X+3),C(this,X+1,X+2);return this},p.prototype.swap64=function(){var L=this.length;if(L%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var X=0;X<L;X+=8)C(this,X,X+7),C(this,X+1,X+6),C(this,X+2,X+5),C(this,X+3,X+4);return this},p.prototype.toString=function(){var L=this.length;return L===0?"":arguments.length===0?M(this,0,L):T.apply(this,arguments)},p.prototype.toLocaleString=p.prototype.toString,p.prototype.equals=function(L){if(!p.isBuffer(L))throw new TypeError("Argument must be a Buffer");return this===L||p.compare(this,L)===0},p.prototype.inspect=function(){var L="",X=s.INSPECT_MAX_BYTES;return L=this.toString("hex",0,X).replace(/(.{2})/g,"$1 ").trim(),this.length>X&&(L+=" ... "),"<Buffer "+L+">"},d&&(p.prototype[d]=p.prototype.inspect),p.prototype.compare=function(L,X,it,ft,gt){if(It(L,Uint8Array)&&(L=p.from(L,L.offset,L.byteLength)),!p.isBuffer(L))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+o(L));if(X===void 0&&(X=0),it===void 0&&(it=L?L.length:0),ft===void 0&&(ft=0),gt===void 0&&(gt=this.length),X<0||it>L.length||ft<0||gt>this.length)throw new RangeError("out of range index");if(ft>=gt&&X>=it)return 0;if(ft>=gt)return-1;if(X>=it)return 1;if(this===L)return 0;for(var wt=(gt>>>=0)-(ft>>>=0),xt=(it>>>=0)-(X>>>=0),Ft=Math.min(wt,xt),Bt=this.slice(ft,gt),Mt=L.slice(X,it),St=0;St<Ft;++St)if(Bt[St]!==Mt[St]){wt=Bt[St],xt=Mt[St];break}return wt<xt?-1:xt<wt?1:0},p.prototype.includes=function(L,X,it){return this.indexOf(L,X,it)!==-1},p.prototype.indexOf=function(L,X,it){return S(this,L,X,it,!0)},p.prototype.lastIndexOf=function(L,X,it){return S(this,L,X,it,!1)},p.prototype.write=function(L,X,it,ft){if(X===void 0)ft="utf8",it=this.length,X=0;else if(it===void 0&&typeof X=="string")ft=X,it=this.length,X=0;else{if(!isFinite(X))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");X>>>=0,isFinite(it)?(it>>>=0,ft===void 0&&(ft="utf8")):(ft=it,it=void 0)}var gt=this.length-X;if((it===void 0||it>gt)&&(it=gt),L.length>0&&(it<0||X<0)||X>this.length)throw new RangeError("Attempt to write outside buffer bounds");ft||(ft="utf8");for(var wt=!1;;)switch(ft){case"hex":return N(this,L,X,it);case"utf8":case"utf-8":return D(this,L,X,it);case"ascii":case"latin1":case"binary":return j(this,L,X,it);case"base64":return B(this,L,X,it);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return J(this,L,X,it);default:if(wt)throw new TypeError("Unknown encoding: "+ft);ft=(""+ft).toLowerCase(),wt=!0}},p.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var O=4096;function q(L,X,it){var ft="";it=Math.min(L.length,it);for(var gt=X;gt<it;++gt)ft+=String.fromCharCode(127&L[gt]);return ft}function tt(L,X,it){var ft="";it=Math.min(L.length,it);for(var gt=X;gt<it;++gt)ft+=String.fromCharCode(L[gt]);return ft}function E(L,X,it){var ft=L.length;(!X||X<0)&&(X=0),(!it||it<0||it>ft)&&(it=ft);for(var gt="",wt=X;wt<it;++wt)gt+=bt[L[wt]];return gt}function z(L,X,it){for(var ft=L.slice(X,it),gt="",wt=0;wt<ft.length-1;wt+=2)gt+=String.fromCharCode(ft[wt]+256*ft[wt+1]);return gt}function Y(L,X,it){if(L%1!=0||L<0)throw new RangeError("offset is not uint");if(L+X>it)throw new RangeError("Trying to access beyond buffer length")}function Q(L,X,it,ft,gt,wt){if(!p.isBuffer(L))throw new TypeError('"buffer" argument must be a Buffer instance');if(X>gt||X<wt)throw new RangeError('"value" argument is out of bounds');if(it+ft>L.length)throw new RangeError("Index out of range")}function nt(L,X,it,ft,gt){rt(X,ft,gt,L,it,7);var wt=Number(X&BigInt(4294967295));L[it++]=wt,wt>>=8,L[it++]=wt,wt>>=8,L[it++]=wt,wt>>=8,L[it++]=wt;var xt=Number(X>>BigInt(32)&BigInt(4294967295));return L[it++]=xt,xt>>=8,L[it++]=xt,xt>>=8,L[it++]=xt,xt>>=8,L[it++]=xt,it}function et(L,X,it,ft,gt){rt(X,ft,gt,L,it,7);var wt=Number(X&BigInt(4294967295));L[it+7]=wt,wt>>=8,L[it+6]=wt,wt>>=8,L[it+5]=wt,wt>>=8,L[it+4]=wt;var xt=Number(X>>BigInt(32)&BigInt(4294967295));return L[it+3]=xt,xt>>=8,L[it+2]=xt,xt>>=8,L[it+1]=xt,xt>>=8,L[it]=xt,it+8}function Z(L,X,it,ft,gt,wt){if(it+ft>L.length)throw new RangeError("Index out of range");if(it<0)throw new RangeError("Index out of range")}function H(L,X,it,ft,gt){return X=+X,it>>>=0,gt||Z(L,0,it,4),u.write(L,X,it,ft,23,4),it+4}function U(L,X,it,ft,gt){return X=+X,it>>>=0,gt||Z(L,0,it,8),u.write(L,X,it,ft,52,8),it+8}p.prototype.slice=function(L,X){var it=this.length;(L=~~L)<0?(L+=it)<0&&(L=0):L>it&&(L=it),(X=X===void 0?it:~~X)<0?(X+=it)<0&&(X=0):X>it&&(X=it),X<L&&(X=L);var ft=this.subarray(L,X);return Object.setPrototypeOf(ft,p.prototype),ft},p.prototype.readUintLE=p.prototype.readUIntLE=function(L,X,it){L>>>=0,X>>>=0,it||Y(L,X,this.length);for(var ft=this[L],gt=1,wt=0;++wt<X&&(gt*=256);)ft+=this[L+wt]*gt;return ft},p.prototype.readUintBE=p.prototype.readUIntBE=function(L,X,it){L>>>=0,X>>>=0,it||Y(L,X,this.length);for(var ft=this[L+--X],gt=1;X>0&&(gt*=256);)ft+=this[L+--X]*gt;return ft},p.prototype.readUint8=p.prototype.readUInt8=function(L,X){return L>>>=0,X||Y(L,1,this.length),this[L]},p.prototype.readUint16LE=p.prototype.readUInt16LE=function(L,X){return L>>>=0,X||Y(L,2,this.length),this[L]|this[L+1]<<8},p.prototype.readUint16BE=p.prototype.readUInt16BE=function(L,X){return L>>>=0,X||Y(L,2,this.length),this[L]<<8|this[L+1]},p.prototype.readUint32LE=p.prototype.readUInt32LE=function(L,X){return L>>>=0,X||Y(L,4,this.length),(this[L]|this[L+1]<<8|this[L+2]<<16)+16777216*this[L+3]},p.prototype.readUint32BE=p.prototype.readUInt32BE=function(L,X){return L>>>=0,X||Y(L,4,this.length),16777216*this[L]+(this[L+1]<<16|this[L+2]<<8|this[L+3])},p.prototype.readBigUInt64LE=_t(function(L){ot(L>>>=0,"offset");var X=this[L],it=this[L+7];X!==void 0&&it!==void 0||ct(L,this.length-8);var ft=X+this[++L]*Math.pow(2,8)+this[++L]*Math.pow(2,16)+this[++L]*Math.pow(2,24),gt=this[++L]+this[++L]*Math.pow(2,8)+this[++L]*Math.pow(2,16)+it*Math.pow(2,24);return BigInt(ft)+(BigInt(gt)<<BigInt(32))}),p.prototype.readBigUInt64BE=_t(function(L){ot(L>>>=0,"offset");var X=this[L],it=this[L+7];X!==void 0&&it!==void 0||ct(L,this.length-8);var ft=X*Math.pow(2,24)+this[++L]*Math.pow(2,16)+this[++L]*Math.pow(2,8)+this[++L],gt=this[++L]*Math.pow(2,24)+this[++L]*Math.pow(2,16)+this[++L]*Math.pow(2,8)+it;return(BigInt(ft)<<BigInt(32))+BigInt(gt)}),p.prototype.readIntLE=function(L,X,it){L>>>=0,X>>>=0,it||Y(L,X,this.length);for(var ft=this[L],gt=1,wt=0;++wt<X&&(gt*=256);)ft+=this[L+wt]*gt;return ft>=(gt*=128)&&(ft-=Math.pow(2,8*X)),ft},p.prototype.readIntBE=function(L,X,it){L>>>=0,X>>>=0,it||Y(L,X,this.length);for(var ft=X,gt=1,wt=this[L+--ft];ft>0&&(gt*=256);)wt+=this[L+--ft]*gt;return wt>=(gt*=128)&&(wt-=Math.pow(2,8*X)),wt},p.prototype.readInt8=function(L,X){return L>>>=0,X||Y(L,1,this.length),128&this[L]?-1*(255-this[L]+1):this[L]},p.prototype.readInt16LE=function(L,X){L>>>=0,X||Y(L,2,this.length);var it=this[L]|this[L+1]<<8;return 32768&it?4294901760|it:it},p.prototype.readInt16BE=function(L,X){L>>>=0,X||Y(L,2,this.length);var it=this[L+1]|this[L]<<8;return 32768&it?4294901760|it:it},p.prototype.readInt32LE=function(L,X){return L>>>=0,X||Y(L,4,this.length),this[L]|this[L+1]<<8|this[L+2]<<16|this[L+3]<<24},p.prototype.readInt32BE=function(L,X){return L>>>=0,X||Y(L,4,this.length),this[L]<<24|this[L+1]<<16|this[L+2]<<8|this[L+3]},p.prototype.readBigInt64LE=_t(function(L){ot(L>>>=0,"offset");var X=this[L],it=this[L+7];X!==void 0&&it!==void 0||ct(L,this.length-8);var ft=this[L+4]+this[L+5]*Math.pow(2,8)+this[L+6]*Math.pow(2,16)+(it<<24);return(BigInt(ft)<<BigInt(32))+BigInt(X+this[++L]*Math.pow(2,8)+this[++L]*Math.pow(2,16)+this[++L]*Math.pow(2,24))}),p.prototype.readBigInt64BE=_t(function(L){ot(L>>>=0,"offset");var X=this[L],it=this[L+7];X!==void 0&&it!==void 0||ct(L,this.length-8);var ft=(X<<24)+this[++L]*Math.pow(2,16)+this[++L]*Math.pow(2,8)+this[++L];return(BigInt(ft)<<BigInt(32))+BigInt(this[++L]*Math.pow(2,24)+this[++L]*Math.pow(2,16)+this[++L]*Math.pow(2,8)+it)}),p.prototype.readFloatLE=function(L,X){return L>>>=0,X||Y(L,4,this.length),u.read(this,L,!0,23,4)},p.prototype.readFloatBE=function(L,X){return L>>>=0,X||Y(L,4,this.length),u.read(this,L,!1,23,4)},p.prototype.readDoubleLE=function(L,X){return L>>>=0,X||Y(L,8,this.length),u.read(this,L,!0,52,8)},p.prototype.readDoubleBE=function(L,X){return L>>>=0,X||Y(L,8,this.length),u.read(this,L,!1,52,8)},p.prototype.writeUintLE=p.prototype.writeUIntLE=function(L,X,it,ft){L=+L,X>>>=0,it>>>=0,ft||Q(this,L,X,it,Math.pow(2,8*it)-1,0);var gt=1,wt=0;for(this[X]=255&L;++wt<it&&(gt*=256);)this[X+wt]=L/gt&255;return X+it},p.prototype.writeUintBE=p.prototype.writeUIntBE=function(L,X,it,ft){L=+L,X>>>=0,it>>>=0,ft||Q(this,L,X,it,Math.pow(2,8*it)-1,0);var gt=it-1,wt=1;for(this[X+gt]=255&L;--gt>=0&&(wt*=256);)this[X+gt]=L/wt&255;return X+it},p.prototype.writeUint8=p.prototype.writeUInt8=function(L,X,it){return L=+L,X>>>=0,it||Q(this,L,X,1,255,0),this[X]=255&L,X+1},p.prototype.writeUint16LE=p.prototype.writeUInt16LE=function(L,X,it){return L=+L,X>>>=0,it||Q(this,L,X,2,65535,0),this[X]=255&L,this[X+1]=L>>>8,X+2},p.prototype.writeUint16BE=p.prototype.writeUInt16BE=function(L,X,it){return L=+L,X>>>=0,it||Q(this,L,X,2,65535,0),this[X]=L>>>8,this[X+1]=255&L,X+2},p.prototype.writeUint32LE=p.prototype.writeUInt32LE=function(L,X,it){return L=+L,X>>>=0,it||Q(this,L,X,4,4294967295,0),this[X+3]=L>>>24,this[X+2]=L>>>16,this[X+1]=L>>>8,this[X]=255&L,X+4},p.prototype.writeUint32BE=p.prototype.writeUInt32BE=function(L,X,it){return L=+L,X>>>=0,it||Q(this,L,X,4,4294967295,0),this[X]=L>>>24,this[X+1]=L>>>16,this[X+2]=L>>>8,this[X+3]=255&L,X+4},p.prototype.writeBigUInt64LE=_t(function(L){var X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return nt(this,L,X,BigInt(0),BigInt("0xffffffffffffffff"))}),p.prototype.writeBigUInt64BE=_t(function(L){var X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return et(this,L,X,BigInt(0),BigInt("0xffffffffffffffff"))}),p.prototype.writeIntLE=function(L,X,it,ft){if(L=+L,X>>>=0,!ft){var gt=Math.pow(2,8*it-1);Q(this,L,X,it,gt-1,-gt)}var wt=0,xt=1,Ft=0;for(this[X]=255&L;++wt<it&&(xt*=256);)L<0&&Ft===0&&this[X+wt-1]!==0&&(Ft=1),this[X+wt]=(L/xt>>0)-Ft&255;return X+it},p.prototype.writeIntBE=function(L,X,it,ft){if(L=+L,X>>>=0,!ft){var gt=Math.pow(2,8*it-1);Q(this,L,X,it,gt-1,-gt)}var wt=it-1,xt=1,Ft=0;for(this[X+wt]=255&L;--wt>=0&&(xt*=256);)L<0&&Ft===0&&this[X+wt+1]!==0&&(Ft=1),this[X+wt]=(L/xt>>0)-Ft&255;return X+it},p.prototype.writeInt8=function(L,X,it){return L=+L,X>>>=0,it||Q(this,L,X,1,127,-128),L<0&&(L=255+L+1),this[X]=255&L,X+1},p.prototype.writeInt16LE=function(L,X,it){return L=+L,X>>>=0,it||Q(this,L,X,2,32767,-32768),this[X]=255&L,this[X+1]=L>>>8,X+2},p.prototype.writeInt16BE=function(L,X,it){return L=+L,X>>>=0,it||Q(this,L,X,2,32767,-32768),this[X]=L>>>8,this[X+1]=255&L,X+2},p.prototype.writeInt32LE=function(L,X,it){return L=+L,X>>>=0,it||Q(this,L,X,4,2147483647,-2147483648),this[X]=255&L,this[X+1]=L>>>8,this[X+2]=L>>>16,this[X+3]=L>>>24,X+4},p.prototype.writeInt32BE=function(L,X,it){return L=+L,X>>>=0,it||Q(this,L,X,4,2147483647,-2147483648),L<0&&(L=4294967295+L+1),this[X]=L>>>24,this[X+1]=L>>>16,this[X+2]=L>>>8,this[X+3]=255&L,X+4},p.prototype.writeBigInt64LE=_t(function(L){var X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return nt(this,L,X,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),p.prototype.writeBigInt64BE=_t(function(L){var X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return et(this,L,X,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),p.prototype.writeFloatLE=function(L,X,it){return H(this,L,X,!0,it)},p.prototype.writeFloatBE=function(L,X,it){return H(this,L,X,!1,it)},p.prototype.writeDoubleLE=function(L,X,it){return U(this,L,X,!0,it)},p.prototype.writeDoubleBE=function(L,X,it){return U(this,L,X,!1,it)},p.prototype.copy=function(L,X,it,ft){if(!p.isBuffer(L))throw new TypeError("argument should be a Buffer");if(it||(it=0),ft||ft===0||(ft=this.length),X>=L.length&&(X=L.length),X||(X=0),ft>0&&ft<it&&(ft=it),ft===it||L.length===0||this.length===0)return 0;if(X<0)throw new RangeError("targetStart out of bounds");if(it<0||it>=this.length)throw new RangeError("Index out of range");if(ft<0)throw new RangeError("sourceEnd out of bounds");ft>this.length&&(ft=this.length),L.length-X<ft-it&&(ft=L.length-X+it);var gt=ft-it;return this===L&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(X,it,ft):Uint8Array.prototype.set.call(L,this.subarray(it,ft),X),gt},p.prototype.fill=function(L,X,it,ft){if(typeof L=="string"){if(typeof X=="string"?(ft=X,X=0,it=this.length):typeof it=="string"&&(ft=it,it=this.length),ft!==void 0&&typeof ft!="string")throw new TypeError("encoding must be a string");if(typeof ft=="string"&&!p.isEncoding(ft))throw new TypeError("Unknown encoding: "+ft);if(L.length===1){var gt=L.charCodeAt(0);(ft==="utf8"&&gt<128||ft==="latin1")&&(L=gt)}}else typeof L=="number"?L&=255:typeof L=="boolean"&&(L=Number(L));if(X<0||this.length<X||this.length<it)throw new RangeError("Out of range index");if(it<=X)return this;var wt;if(X>>>=0,it=it===void 0?this.length:it>>>0,L||(L=0),typeof L=="number")for(wt=X;wt<it;++wt)this[wt]=L;else{var xt=p.isBuffer(L)?L:p.from(L,ft),Ft=xt.length;if(Ft===0)throw new TypeError('The value "'+L+'" is invalid for argument "value"');for(wt=0;wt<it-X;++wt)this[wt+X]=xt[wt%Ft]}return this};var V={};function $(L,X,it){V[L]=function(ft){(function(St,Lt){if(typeof Lt!="function"&&Lt!==null)throw new TypeError("Super expression must either be null or a function");St.prototype=Object.create(Lt&&Lt.prototype,{constructor:{value:St,writable:!0,configurable:!0}}),Object.defineProperty(St,"prototype",{writable:!1}),Lt&&e(St,Lt)})(Mt,ft);var gt,wt,xt,Ft,Bt=(xt=Mt,Ft=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var St,Lt=n(xt);if(Ft){var Pt=n(this).constructor;St=Reflect.construct(Lt,arguments,Pt)}else St=Lt.apply(this,arguments);return i(this,St)});function Mt(){var St;return a(this,Mt),St=Bt.call(this),Object.defineProperty(r(St),"message",{value:X.apply(r(St),arguments),writable:!0,configurable:!0}),St.name="".concat(St.name," [").concat(L,"]"),St.stack,delete St.name,St}return gt=Mt,(wt=[{key:"code",get:function(){return L},set:function(St){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:St,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(L,"]: ").concat(this.message)}}])&&f(gt.prototype,wt),Object.defineProperty(gt,"prototype",{writable:!1}),Mt}(it)}function at(L){for(var X="",it=L.length,ft=L[0]==="-"?1:0;it>=ft+4;it-=3)X="_".concat(L.slice(it-3,it)).concat(X);return"".concat(L.slice(0,it)).concat(X)}function rt(L,X,it,ft,gt,wt){if(L>it||L<X){var xt,Ft=typeof X=="bigint"?"n":"";throw xt=wt>3?X===0||X===BigInt(0)?">= 0".concat(Ft," and < 2").concat(Ft," ** ").concat(8*(wt+1)).concat(Ft):">= -(2".concat(Ft," ** ").concat(8*(wt+1)-1).concat(Ft,") and < 2 ** ")+"".concat(8*(wt+1)-1).concat(Ft):">= ".concat(X).concat(Ft," and <= ").concat(it).concat(Ft),new V.ERR_OUT_OF_RANGE("value",xt,L)}(function(Bt,Mt,St){ot(Mt,"offset"),Bt[Mt]!==void 0&&Bt[Mt+St]!==void 0||ct(Mt,Bt.length-(St+1))})(ft,gt,wt)}function ot(L,X){if(typeof L!="number")throw new V.ERR_INVALID_ARG_TYPE(X,"number",L)}function ct(L,X,it){throw Math.floor(L)!==L?(ot(L,it),new V.ERR_OUT_OF_RANGE(it||"offset","an integer",L)):X<0?new V.ERR_BUFFER_OUT_OF_BOUNDS:new V.ERR_OUT_OF_RANGE(it||"offset",">= ".concat(it?1:0," and <= ").concat(X),L)}$("ERR_BUFFER_OUT_OF_BOUNDS",function(L){return L?"".concat(L," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),$("ERR_INVALID_ARG_TYPE",function(L,X){return'The "'.concat(L,'" argument must be of type number. Received type ').concat(o(X))},TypeError),$("ERR_OUT_OF_RANGE",function(L,X,it){var ft='The value of "'.concat(L,'" is out of range.'),gt=it;return Number.isInteger(it)&&Math.abs(it)>Math.pow(2,32)?gt=at(String(it)):typeof it=="bigint"&&(gt=String(it),(it>Math.pow(BigInt(2),BigInt(32))||it<-Math.pow(BigInt(2),BigInt(32)))&&(gt=at(gt)),gt+="n"),ft+" It must be ".concat(X,". Received ").concat(gt)},RangeError);var ht=/[^+/0-9A-Za-z-_]/g;function mt(L,X){var it;X=X||1/0;for(var ft=L.length,gt=null,wt=[],xt=0;xt<ft;++xt){if((it=L.charCodeAt(xt))>55295&&it<57344){if(!gt){if(it>56319){(X-=3)>-1&&wt.push(239,191,189);continue}if(xt+1===ft){(X-=3)>-1&&wt.push(239,191,189);continue}gt=it;continue}if(it<56320){(X-=3)>-1&&wt.push(239,191,189),gt=it;continue}it=65536+(gt-55296<<10|it-56320)}else gt&&(X-=3)>-1&&wt.push(239,191,189);if(gt=null,it<128){if((X-=1)<0)break;wt.push(it)}else if(it<2048){if((X-=2)<0)break;wt.push(it>>6|192,63&it|128)}else if(it<65536){if((X-=3)<0)break;wt.push(it>>12|224,it>>6&63|128,63&it|128)}else{if(!(it<1114112))throw new Error("Invalid code point");if((X-=4)<0)break;wt.push(it>>18|240,it>>12&63|128,it>>6&63|128,63&it|128)}}return wt}function kt(L){return l.toByteArray(function(X){if((X=(X=X.split("=")[0]).trim().replace(ht,"")).length<2)return"";for(;X.length%4!=0;)X+="=";return X}(L))}function Ct(L,X,it,ft){var gt;for(gt=0;gt<ft&&!(gt+it>=X.length||gt>=L.length);++gt)X[gt+it]=L[gt];return gt}function It(L,X){return L instanceof X||L!=null&&L.constructor!=null&&L.constructor.name!=null&&L.constructor.name===X.name}function pt(L){return L!=L}var bt=function(){for(var L="0123456789abcdef",X=new Array(256),it=0;it<16;++it)for(var ft=16*it,gt=0;gt<16;++gt)X[ft+gt]=L[it]+L[gt];return X}();function _t(L){return typeof BigInt>"u"?Dt:L}function Dt(){throw new Error("BigInt not supported")}},35791:function(w){w.exports=f,w.exports.isMobile=f,w.exports.default=f;var s=/(android|bb\d+|meego).+mobile|armv7l|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series[46]0|samsungbrowser.*mobile|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,t=/CrOS/,a=/android|ipad|playbook|silk/i;function f(e){e||(e={});var i=e.ua;if(i||typeof navigator>"u"||(i=navigator.userAgent),i&&i.headers&&typeof i.headers["user-agent"]=="string"&&(i=i.headers["user-agent"]),typeof i!="string")return!1;var r=s.test(i)&&!t.test(i)||!!e.tablet&&a.test(i);return!r&&e.tablet&&e.featureDetect&&navigator&&navigator.maxTouchPoints>1&&i.indexOf("Macintosh")!==-1&&i.indexOf("Safari")!==-1&&(r=!0),r}},39898:function(w,s,t){var a,f;(function(){var e={version:"3.8.0"},i=[].slice,r=function(k){return i.call(k)},n=self.document;function o(k){return k&&(k.ownerDocument||k.document||k).documentElement}function l(k){return k&&(k.ownerDocument&&k.ownerDocument.defaultView||k.document&&k||k.defaultView)}if(n)try{r(n.documentElement.childNodes)[0].nodeType}catch{r=function(R){for(var K=R.length,lt=new Array(K);K--;)lt[K]=R[K];return lt}}if(Date.now||(Date.now=function(){return+new Date}),n)try{n.createElement("DIV").style.setProperty("opacity",0,"")}catch{var u=this.Element.prototype,d=u.setAttribute,c=u.setAttributeNS,h=this.CSSStyleDeclaration.prototype,p=h.setProperty;u.setAttribute=function(R,K){d.call(this,R,K+"")},u.setAttributeNS=function(R,K,lt){c.call(this,R,K,lt+"")},h.setProperty=function(R,K,lt){p.call(this,R,K+"",lt)}}function g(k,R){return k<R?-1:k>R?1:k>=R?0:NaN}function y(k){return k===null?NaN:+k}function b(k){return!isNaN(k)}function m(k){return{left:function(R,K,lt,ut){for(arguments.length<3&&(lt=0),arguments.length<4&&(ut=R.length);lt<ut;){var dt=lt+ut>>>1;k(R[dt],K)<0?lt=dt+1:ut=dt}return lt},right:function(R,K,lt,ut){for(arguments.length<3&&(lt=0),arguments.length<4&&(ut=R.length);lt<ut;){var dt=lt+ut>>>1;k(R[dt],K)>0?ut=dt:lt=dt+1}return lt}}}e.ascending=g,e.descending=function(k,R){return R<k?-1:R>k?1:R>=k?0:NaN},e.min=function(k,R){var K,lt,ut=-1,dt=k.length;if(arguments.length===1){for(;++ut<dt;)if((lt=k[ut])!=null&&lt>=lt){K=lt;break}for(;++ut<dt;)(lt=k[ut])!=null&&K>lt&&(K=lt)}else{for(;++ut<dt;)if((lt=R.call(k,k[ut],ut))!=null&&lt>=lt){K=lt;break}for(;++ut<dt;)(lt=R.call(k,k[ut],ut))!=null&&K>lt&&(K=lt)}return K},e.max=function(k,R){var K,lt,ut=-1,dt=k.length;if(arguments.length===1){for(;++ut<dt;)if((lt=k[ut])!=null&&lt>=lt){K=lt;break}for(;++ut<dt;)(lt=k[ut])!=null&&lt>K&&(K=lt)}else{for(;++ut<dt;)if((lt=R.call(k,k[ut],ut))!=null&&lt>=lt){K=lt;break}for(;++ut<dt;)(lt=R.call(k,k[ut],ut))!=null&&lt>K&&(K=lt)}return K},e.extent=function(k,R){var K,lt,ut,dt=-1,At=k.length;if(arguments.length===1){for(;++dt<At;)if((lt=k[dt])!=null&&lt>=lt){K=ut=lt;break}for(;++dt<At;)(lt=k[dt])!=null&&(K>lt&&(K=lt),ut<lt&&(ut=lt))}else{for(;++dt<At;)if((lt=R.call(k,k[dt],dt))!=null&&lt>=lt){K=ut=lt;break}for(;++dt<At;)(lt=R.call(k,k[dt],dt))!=null&&(K>lt&&(K=lt),ut<lt&&(ut=lt))}return[K,ut]},e.sum=function(k,R){var K,lt=0,ut=k.length,dt=-1;if(arguments.length===1)for(;++dt<ut;)b(K=+k[dt])&&(lt+=K);else for(;++dt<ut;)b(K=+R.call(k,k[dt],dt))&&(lt+=K);return lt},e.mean=function(k,R){var K,lt=0,ut=k.length,dt=-1,At=ut;if(arguments.length===1)for(;++dt<ut;)b(K=y(k[dt]))?lt+=K:--At;else for(;++dt<ut;)b(K=y(R.call(k,k[dt],dt)))?lt+=K:--At;if(At)return lt/At},e.quantile=function(k,R){var K=(k.length-1)*R+1,lt=Math.floor(K),ut=+k[lt-1],dt=K-lt;return dt?ut+dt*(k[lt]-ut):ut},e.median=function(k,R){var K,lt=[],ut=k.length,dt=-1;if(arguments.length===1)for(;++dt<ut;)b(K=y(k[dt]))&&lt.push(K);else for(;++dt<ut;)b(K=y(R.call(k,k[dt],dt)))&&lt.push(K);if(lt.length)return e.quantile(lt.sort(g),.5)},e.variance=function(k,R){var K,lt,ut=k.length,dt=0,At=0,Tt=-1,Et=0;if(arguments.length===1)for(;++Tt<ut;)b(K=y(k[Tt]))&&(At+=(lt=K-dt)*(K-(dt+=lt/++Et)));else for(;++Tt<ut;)b(K=y(R.call(k,k[Tt],Tt)))&&(At+=(lt=K-dt)*(K-(dt+=lt/++Et)));if(Et>1)return At/(Et-1)},e.deviation=function(){var k=e.variance.apply(this,arguments);return k&&Math.sqrt(k)};var v=m(g);function x(k){return k.length}e.bisectLeft=v.left,e.bisect=e.bisectRight=v.right,e.bisector=function(k){return m(k.length===1?function(R,K){return g(k(R),K)}:k)},e.shuffle=function(k,R,K){(dt=arguments.length)<3&&(K=k.length,dt<2&&(R=0));for(var lt,ut,dt=K-R;dt;)ut=Math.random()*dt--|0,lt=k[dt+R],k[dt+R]=k[ut+R],k[ut+R]=lt;return k},e.permute=function(k,R){for(var K=R.length,lt=new Array(K);K--;)lt[K]=k[R[K]];return lt},e.pairs=function(k){for(var R=0,K=k.length-1,lt=k[0],ut=new Array(K<0?0:K);R<K;)ut[R]=[lt,lt=k[++R]];return ut},e.transpose=function(k){if(!(ut=k.length))return[];for(var R=-1,K=e.min(k,x),lt=new Array(K);++R<K;)for(var ut,dt=-1,At=lt[R]=new Array(ut);++dt<ut;)At[dt]=k[dt][R];return lt},e.zip=function(){return e.transpose(arguments)},e.keys=function(k){var R=[];for(var K in k)R.push(K);return R},e.values=function(k){var R=[];for(var K in k)R.push(k[K]);return R},e.entries=function(k){var R=[];for(var K in k)R.push({key:K,value:k[K]});return R},e.merge=function(k){for(var R,K,lt,ut=k.length,dt=-1,At=0;++dt<ut;)At+=k[dt].length;for(K=new Array(At);--ut>=0;)for(R=(lt=k[ut]).length;--R>=0;)K[--At]=lt[R];return K};var _=Math.abs;function T(k){for(var R=1;k*R%1;)R*=10;return R}function C(k,R){for(var K in R)Object.defineProperty(k.prototype,K,{value:R[K],enumerable:!1})}function S(){this._=Object.create(null)}function F(k){return(k+="")=="__proto__"||k[0]==="\0"?"\0"+k:k}function N(k){return(k+="")[0]==="\0"?k.slice(1):k}function D(k){return F(k)in this._}function j(k){return(k=F(k))in this._&&delete this._[k]}function B(){var k=[];for(var R in this._)k.push(N(R));return k}function J(){var k=0;for(var R in this._)++k;return k}function P(){for(var k in this._)return!1;return!0}function M(){this._=Object.create(null)}function O(k){return k}function q(k,R,K){return function(){var lt=K.apply(R,arguments);return lt===R?k:lt}}function tt(k,R){if(R in k)return R;R=R.charAt(0).toUpperCase()+R.slice(1);for(var K=0,lt=E.length;K<lt;++K){var ut=E[K]+R;if(ut in k)return ut}}e.range=function(k,R,K){if(arguments.length<3&&(K=1,arguments.length<2&&(R=k,k=0)),(R-k)/K==1/0)throw new Error("infinite range");var lt,ut=[],dt=T(_(K)),At=-1;if(k*=dt,R*=dt,(K*=dt)<0)for(;(lt=k+K*++At)>R;)ut.push(lt/dt);else for(;(lt=k+K*++At)<R;)ut.push(lt/dt);return ut},e.map=function(k,R){var K=new S;if(k instanceof S)k.forEach(function(Tt,Et){K.set(Tt,Et)});else if(Array.isArray(k)){var lt,ut=-1,dt=k.length;if(arguments.length===1)for(;++ut<dt;)K.set(ut,k[ut]);else for(;++ut<dt;)K.set(R.call(k,lt=k[ut],ut),lt)}else for(var At in k)K.set(At,k[At]);return K},C(S,{has:D,get:function(k){return this._[F(k)]},set:function(k,R){return this._[F(k)]=R},remove:j,keys:B,values:function(){var k=[];for(var R in this._)k.push(this._[R]);return k},entries:function(){var k=[];for(var R in this._)k.push({key:N(R),value:this._[R]});return k},size:J,empty:P,forEach:function(k){for(var R in this._)k.call(this,N(R),this._[R])}}),e.nest=function(){var k,R,K={},lt=[],ut=[];function dt(Tt,Et,Ot){if(Ot>=lt.length)return R?R.call(K,Et):k?Et.sort(k):Et;for(var jt,qt,Qt,le,be=-1,oe=Et.length,ue=lt[Ot++],te=new S;++be<oe;)(le=te.get(jt=ue(qt=Et[be])))?le.push(qt):te.set(jt,[qt]);return Tt?(qt=Tt(),Qt=function(De,ce){qt.set(De,dt(Tt,ce,Ot))}):(qt={},Qt=function(De,ce){qt[De]=dt(Tt,ce,Ot)}),te.forEach(Qt),qt}function At(Tt,Et){if(Et>=lt.length)return Tt;var Ot=[],jt=ut[Et++];return Tt.forEach(function(qt,Qt){Ot.push({key:qt,values:At(Qt,Et)})}),jt?Ot.sort(function(qt,Qt){return jt(qt.key,Qt.key)}):Ot}return K.map=function(Tt,Et){return dt(Et,Tt,0)},K.entries=function(Tt){return At(dt(e.map,Tt,0),0)},K.key=function(Tt){return lt.push(Tt),K},K.sortKeys=function(Tt){return ut[lt.length-1]=Tt,K},K.sortValues=function(Tt){return k=Tt,K},K.rollup=function(Tt){return R=Tt,K},K},e.set=function(k){var R=new M;if(k)for(var K=0,lt=k.length;K<lt;++K)R.add(k[K]);return R},C(M,{has:D,add:function(k){return this._[F(k+="")]=!0,k},remove:j,values:B,size:J,empty:P,forEach:function(k){for(var R in this._)k.call(this,N(R))}}),e.behavior={},e.rebind=function(k,R){for(var K,lt=1,ut=arguments.length;++lt<ut;)k[K=arguments[lt]]=q(k,R,R[K]);return k};var E=["webkit","ms","moz","Moz","o","O"];function z(){}function Y(){}function Q(k){var R=[],K=new S;function lt(){for(var ut,dt=R,At=-1,Tt=dt.length;++At<Tt;)(ut=dt[At].on)&&ut.apply(this,arguments);return k}return lt.on=function(ut,dt){var At,Tt=K.get(ut);return arguments.length<2?Tt&&Tt.on:(Tt&&(Tt.on=null,R=R.slice(0,At=R.indexOf(Tt)).concat(R.slice(At+1)),K.remove(ut)),dt&&R.push(K.set(ut,{on:dt})),k)},lt}function nt(){e.event.preventDefault()}function et(){for(var k,R=e.event;k=R.sourceEvent;)R=k;return R}function Z(k){for(var R=new Y,K=0,lt=arguments.length;++K<lt;)R[arguments[K]]=Q(R);return R.of=function(ut,dt){return function(At){try{var Tt=At.sourceEvent=e.event;At.target=k,e.event=At,R[At.type].apply(ut,dt)}finally{e.event=Tt}}},R}e.dispatch=function(){for(var k=new Y,R=-1,K=arguments.length;++R<K;)k[arguments[R]]=Q(k);return k},Y.prototype.on=function(k,R){var K=k.indexOf("."),lt="";if(K>=0&&(lt=k.slice(K+1),k=k.slice(0,K)),k)return arguments.length<2?this[k].on(lt):this[k].on(lt,R);if(arguments.length===2){if(R==null)for(k in this)this.hasOwnProperty(k)&&this[k].on(lt,null);return this}},e.event=null,e.requote=function(k){return k.replace(H,"\\$&")};var H=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,U={}.__proto__?function(k,R){k.__proto__=R}:function(k,R){for(var K in R)k[K]=R[K]};function V(k){return U(k,ot),k}var $=function(k,R){return R.querySelector(k)},at=function(k,R){return R.querySelectorAll(k)},rt=function(k,R){var K=k.matches||k[tt(k,"matchesSelector")];return rt=function(lt,ut){return K.call(lt,ut)},rt(k,R)};typeof Sizzle=="function"&&($=function(k,R){return Sizzle(k,R)[0]||null},at=Sizzle,rt=Sizzle.matchesSelector),e.selection=function(){return e.select(n.documentElement)};var ot=e.selection.prototype=[];function ct(k){return typeof k=="function"?k:function(){return $(k,this)}}function ht(k){return typeof k=="function"?k:function(){return at(k,this)}}ot.select=function(k){var R,K,lt,ut,dt=[];k=ct(k);for(var At=-1,Tt=this.length;++At<Tt;){dt.push(R=[]),R.parentNode=(lt=this[At]).parentNode;for(var Et=-1,Ot=lt.length;++Et<Ot;)(ut=lt[Et])?(R.push(K=k.call(ut,ut.__data__,Et,At)),K&&"__data__"in ut&&(K.__data__=ut.__data__)):R.push(null)}return V(dt)},ot.selectAll=function(k){var R,K,lt=[];k=ht(k);for(var ut=-1,dt=this.length;++ut<dt;)for(var At=this[ut],Tt=-1,Et=At.length;++Tt<Et;)(K=At[Tt])&&(lt.push(R=r(k.call(K,K.__data__,Tt,ut))),R.parentNode=K);return V(lt)};var mt="http://www.w3.org/1999/xhtml",kt={svg:"http://www.w3.org/2000/svg",xhtml:mt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ct(k,R){return k=e.ns.qualify(k),R==null?k.local?function(){this.removeAttributeNS(k.space,k.local)}:function(){this.removeAttribute(k)}:typeof R=="function"?k.local?function(){var K=R.apply(this,arguments);K==null?this.removeAttributeNS(k.space,k.local):this.setAttributeNS(k.space,k.local,K)}:function(){var K=R.apply(this,arguments);K==null?this.removeAttribute(k):this.setAttribute(k,K)}:k.local?function(){this.setAttributeNS(k.space,k.local,R)}:function(){this.setAttribute(k,R)}}function It(k){return k.trim().replace(/\s+/g," ")}function pt(k){return new RegExp("(?:^|\\s+)"+e.requote(k)+"(?:\\s+|$)","g")}function bt(k){return(k+"").trim().split(/^|\s+/)}function _t(k,R){var K=(k=bt(k).map(Dt)).length;return typeof R=="function"?function(){for(var lt=-1,ut=R.apply(this,arguments);++lt<K;)k[lt](this,ut)}:function(){for(var lt=-1;++lt<K;)k[lt](this,R)}}function Dt(k){var R=pt(k);return function(K,lt){if(ut=K.classList)return lt?ut.add(k):ut.remove(k);var ut=K.getAttribute("class")||"";lt?(R.lastIndex=0,R.test(ut)||K.setAttribute("class",It(ut+" "+k))):K.setAttribute("class",It(ut.replace(R," ")))}}function L(k,R,K){return R==null?function(){this.style.removeProperty(k)}:typeof R=="function"?function(){var lt=R.apply(this,arguments);lt==null?this.style.removeProperty(k):this.style.setProperty(k,lt,K)}:function(){this.style.setProperty(k,R,K)}}function X(k,R){return R==null?function(){delete this[k]}:typeof R=="function"?function(){var K=R.apply(this,arguments);K==null?delete this[k]:this[k]=K}:function(){this[k]=R}}function it(k){return typeof k=="function"?k:(k=e.ns.qualify(k)).local?function(){return this.ownerDocument.createElementNS(k.space,k.local)}:function(){var R=this.ownerDocument,K=this.namespaceURI;return K===mt&&R.documentElement.namespaceURI===mt?R.createElement(k):R.createElementNS(K,k)}}function ft(){var k=this.parentNode;k&&k.removeChild(this)}function gt(k){return{__data__:k}}function wt(k){return function(){return rt(this,k)}}function xt(k){return arguments.length||(k=g),function(R,K){return R&&K?k(R.__data__,K.__data__):!R-!K}}function Ft(k,R){for(var K=0,lt=k.length;K<lt;K++)for(var ut,dt=k[K],At=0,Tt=dt.length;At<Tt;At++)(ut=dt[At])&&R(ut,At,K);return k}function Bt(k){return U(k,Mt),k}e.ns={prefix:kt,qualify:function(k){var R=k.indexOf(":"),K=k;return R>=0&&(K=k.slice(0,R))!=="xmlns"&&(k=k.slice(R+1)),kt.hasOwnProperty(K)?{space:kt[K],local:k}:k}},ot.attr=function(k,R){if(arguments.length<2){if(typeof k=="string"){var K=this.node();return(k=e.ns.qualify(k)).local?K.getAttributeNS(k.space,k.local):K.getAttribute(k)}for(R in k)this.each(Ct(R,k[R]));return this}return this.each(Ct(k,R))},ot.classed=function(k,R){if(arguments.length<2){if(typeof k=="string"){var K=this.node(),lt=(k=bt(k)).length,ut=-1;if(R=K.classList){for(;++ut<lt;)if(!R.contains(k[ut]))return!1}else for(R=K.getAttribute("class");++ut<lt;)if(!pt(k[ut]).test(R))return!1;return!0}for(R in k)this.each(_t(R,k[R]));return this}return this.each(_t(k,R))},ot.style=function(k,R,K){var lt=arguments.length;if(lt<3){if(typeof k!="string"){for(K in lt<2&&(R=""),k)this.each(L(K,k[K],R));return this}if(lt<2){var ut=this.node();return l(ut).getComputedStyle(ut,null).getPropertyValue(k)}K=""}return this.each(L(k,R,K))},ot.property=function(k,R){if(arguments.length<2){if(typeof k=="string")return this.node()[k];for(R in k)this.each(X(R,k[R]));return this}return this.each(X(k,R))},ot.text=function(k){return arguments.length?this.each(typeof k=="function"?function(){var R=k.apply(this,arguments);this.textContent=R??""}:k==null?function(){this.textContent=""}:function(){this.textContent=k}):this.node().textContent},ot.html=function(k){return arguments.length?this.each(typeof k=="function"?function(){var R=k.apply(this,arguments);this.innerHTML=R??""}:k==null?function(){this.innerHTML=""}:function(){this.innerHTML=k}):this.node().innerHTML},ot.append=function(k){return k=it(k),this.select(function(){return this.appendChild(k.apply(this,arguments))})},ot.insert=function(k,R){return k=it(k),R=ct(R),this.select(function(){return this.insertBefore(k.apply(this,arguments),R.apply(this,arguments)||null)})},ot.remove=function(){return this.each(ft)},ot.data=function(k,R){var K,lt,ut=-1,dt=this.length;if(!arguments.length){for(k=new Array(dt=(K=this[0]).length);++ut<dt;)(lt=K[ut])&&(k[ut]=lt.__data__);return k}function At(jt,qt){var Qt,le,be,oe=jt.length,ue=qt.length,te=Math.min(oe,ue),De=new Array(ue),ce=new Array(ue),ae=new Array(oe);if(R){var Le,Ie=new S,Ge=new Array(oe);for(Qt=-1;++Qt<oe;)(le=jt[Qt])&&(Ie.has(Le=R.call(le,le.__data__,Qt))?ae[Qt]=le:Ie.set(Le,le),Ge[Qt]=Le);for(Qt=-1;++Qt<ue;)(le=Ie.get(Le=R.call(qt,be=qt[Qt],Qt)))?le!==!0&&(De[Qt]=le,le.__data__=be):ce[Qt]=gt(be),Ie.set(Le,!0);for(Qt=-1;++Qt<oe;)Qt in Ge&&Ie.get(Ge[Qt])!==!0&&(ae[Qt]=jt[Qt])}else{for(Qt=-1;++Qt<te;)le=jt[Qt],be=qt[Qt],le?(le.__data__=be,De[Qt]=le):ce[Qt]=gt(be);for(;Qt<ue;++Qt)ce[Qt]=gt(qt[Qt]);for(;Qt<oe;++Qt)ae[Qt]=jt[Qt]}ce.update=De,ce.parentNode=De.parentNode=ae.parentNode=jt.parentNode,Tt.push(ce),Et.push(De),Ot.push(ae)}var Tt=Bt([]),Et=V([]),Ot=V([]);if(typeof k=="function")for(;++ut<dt;)At(K=this[ut],k.call(K,K.parentNode.__data__,ut));else for(;++ut<dt;)At(K=this[ut],k);return Et.enter=function(){return Tt},Et.exit=function(){return Ot},Et},ot.datum=function(k){return arguments.length?this.property("__data__",k):this.property("__data__")},ot.filter=function(k){var R,K,lt,ut=[];typeof k!="function"&&(k=wt(k));for(var dt=0,At=this.length;dt<At;dt++){ut.push(R=[]),R.parentNode=(K=this[dt]).parentNode;for(var Tt=0,Et=K.length;Tt<Et;Tt++)(lt=K[Tt])&&k.call(lt,lt.__data__,Tt,dt)&&R.push(lt)}return V(ut)},ot.order=function(){for(var k=-1,R=this.length;++k<R;)for(var K,lt=this[k],ut=lt.length-1,dt=lt[ut];--ut>=0;)(K=lt[ut])&&(dt&&dt!==K.nextSibling&&dt.parentNode.insertBefore(K,dt),dt=K);return this},ot.sort=function(k){k=xt.apply(this,arguments);for(var R=-1,K=this.length;++R<K;)this[R].sort(k);return this.order()},ot.each=function(k){return Ft(this,function(R,K,lt){k.call(R,R.__data__,K,lt)})},ot.call=function(k){var R=r(arguments);return k.apply(R[0]=this,R),this},ot.empty=function(){return!this.node()},ot.node=function(){for(var k=0,R=this.length;k<R;k++)for(var K=this[k],lt=0,ut=K.length;lt<ut;lt++){var dt=K[lt];if(dt)return dt}return null},ot.size=function(){var k=0;return Ft(this,function(){++k}),k};var Mt=[];function St(k){var R,K;return function(lt,ut,dt){var At,Tt=k[dt].update,Et=Tt.length;for(dt!=K&&(K=dt,R=0),ut>=R&&(R=ut+1);!(At=Tt[R])&&++R<Et;);return At}}function Lt(k,R,K){var lt="__on"+k,ut=k.indexOf("."),dt=zt;ut>0&&(k=k.slice(0,ut));var At=Pt.get(k);function Tt(){var Et=this[lt];Et&&(this.removeEventListener(k,Et,Et.$),delete this[lt])}return At&&(k=At,dt=Xt),ut?R?function(){var Et=dt(R,r(arguments));Tt.call(this),this.addEventListener(k,this[lt]=Et,Et.$=K),Et._=R}:Tt:R?z:function(){var Et,Ot=new RegExp("^__on([^.]+)"+e.requote(k)+"$");for(var jt in this)if(Et=jt.match(Ot)){var qt=this[jt];this.removeEventListener(Et[1],qt,qt.$),delete this[jt]}}}e.selection.enter=Bt,e.selection.enter.prototype=Mt,Mt.append=ot.append,Mt.empty=ot.empty,Mt.node=ot.node,Mt.call=ot.call,Mt.size=ot.size,Mt.select=function(k){for(var R,K,lt,ut,dt,At=[],Tt=-1,Et=this.length;++Tt<Et;){lt=(ut=this[Tt]).update,At.push(R=[]),R.parentNode=ut.parentNode;for(var Ot=-1,jt=ut.length;++Ot<jt;)(dt=ut[Ot])?(R.push(lt[Ot]=K=k.call(ut.parentNode,dt.__data__,Ot,Tt)),K.__data__=dt.__data__):R.push(null)}return V(At)},Mt.insert=function(k,R){return arguments.length<2&&(R=St(this)),ot.insert.call(this,k,R)},e.select=function(k){var R;return typeof k=="string"?(R=[$(k,n)]).parentNode=n.documentElement:(R=[k]).parentNode=o(k),V([R])},e.selectAll=function(k){var R;return typeof k=="string"?(R=r(at(k,n))).parentNode=n.documentElement:(R=r(k)).parentNode=null,V([R])},ot.on=function(k,R,K){var lt=arguments.length;if(lt<3){if(typeof k!="string"){for(K in lt<2&&(R=!1),k)this.each(Lt(K,k[K],R));return this}if(lt<2)return(lt=this.node()["__on"+k])&&lt._;K=!1}return this.each(Lt(k,R,K))};var Pt=e.map({mouseenter:"mouseover",mouseleave:"mouseout"});function zt(k,R){return function(K){var lt=e.event;e.event=K,R[0]=this.__data__;try{k.apply(this,R)}finally{e.event=lt}}}function Xt(k,R){var K=zt(k,R);return function(lt){var ut=this,dt=lt.relatedTarget;dt&&(dt===ut||8&dt.compareDocumentPosition(ut))||K.call(ut,lt)}}n&&Pt.forEach(function(k){"on"+k in n&&Pt.remove(k)});var Gt,Kt=0;function ie(k){var R=".dragsuppress-"+ ++Kt,K="click"+R,lt=e.select(l(k)).on("touchmove"+R,nt).on("dragstart"+R,nt).on("selectstart"+R,nt);if(Gt==null&&(Gt=!("onselectstart"in k)&&tt(k.style,"userSelect")),Gt){var ut=o(k).style,dt=ut[Gt];ut[Gt]="none"}return function(At){if(lt.on(R,null),Gt&&(ut[Gt]=dt),At){var Tt=function(){lt.on(K,null)};lt.on(K,function(){nt(),Tt()},!0),setTimeout(Tt,0)}}}e.mouse=function(k){return Jt(k,et())};var de=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function Jt(k,R){R.changedTouches&&(R=R.changedTouches[0]);var K=k.ownerSVGElement||k;if(K.createSVGPoint){var lt=K.createSVGPoint();if(de<0){var ut=l(k);if(ut.scrollX||ut.scrollY){var dt=(K=e.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();de=!(dt.f||dt.e),K.remove()}}return de?(lt.x=R.pageX,lt.y=R.pageY):(lt.x=R.clientX,lt.y=R.clientY),[(lt=lt.matrixTransform(k.getScreenCTM().inverse())).x,lt.y]}var At=k.getBoundingClientRect();return[R.clientX-At.left-k.clientLeft,R.clientY-At.top-k.clientTop]}function Nt(){return e.event.changedTouches[0].identifier}e.touch=function(k,R,K){if(arguments.length<3&&(K=R,R=et().changedTouches),R){for(var lt,ut=0,dt=R.length;ut<dt;++ut)if((lt=R[ut]).identifier===K)return Jt(k,lt)}},e.behavior.drag=function(){var k=Z(ut,"drag","dragstart","dragend"),R=null,K=dt(z,e.mouse,l,"mousemove","mouseup"),lt=dt(Nt,e.touch,O,"touchmove","touchend");function ut(){this.on("mousedown.drag",K).on("touchstart.drag",lt)}function dt(At,Tt,Et,Ot,jt){return function(){var qt,Qt=this,le=e.event.target.correspondingElement||e.event.target,be=Qt.parentNode,oe=k.of(Qt,arguments),ue=0,te=At(),De=".drag"+(te==null?"":"-"+te),ce=e.select(Et(le)).on(Ot+De,Ie).on(jt+De,Ge),ae=ie(le),Le=Tt(be,te);function Ie(){var Ze,an,on=Tt(be,te);on&&(Ze=on[0]-Le[0],an=on[1]-Le[1],ue|=Ze|an,Le=on,oe({type:"drag",x:on[0]+qt[0],y:on[1]+qt[1],dx:Ze,dy:an}))}function Ge(){Tt(be,te)&&(ce.on(Ot+De,null).on(jt+De,null),ae(ue),oe({type:"dragend"}))}qt=R?[(qt=R.apply(Qt,arguments)).x-Le[0],qt.y-Le[1]]:[0,0],oe({type:"dragstart"})}}return ut.origin=function(At){return arguments.length?(R=At,ut):R},e.rebind(ut,k,"on")},e.touches=function(k,R){return arguments.length<2&&(R=et().touches),R?r(R).map(function(K){var lt=Jt(k,K);return lt.identifier=K.identifier,lt}):[]};var Vt=1e-6,Zt=Math.PI,Wt=2*Zt,he=Wt-Vt,$t=Zt/2,ye=Zt/180,se=180/Zt;function Pe(k){return k>1?$t:k<-1?-$t:Math.asin(k)}function Ce(k){return((k=Math.exp(k))+1/k)/2}var Ne=Math.SQRT2;e.interpolateZoom=function(k,R){var K,lt,ut=k[0],dt=k[1],At=k[2],Tt=R[0],Et=R[1],Ot=R[2],jt=Tt-ut,qt=Et-dt,Qt=jt*jt+qt*qt;if(Qt<1e-12)lt=Math.log(Ot/At)/Ne,K=function(De){return[ut+De*jt,dt+De*qt,At*Math.exp(Ne*De*lt)]};else{var le=Math.sqrt(Qt),be=(Ot*Ot-At*At+4*Qt)/(2*At*2*le),oe=(Ot*Ot-At*At-4*Qt)/(2*Ot*2*le),ue=Math.log(Math.sqrt(be*be+1)-be),te=Math.log(Math.sqrt(oe*oe+1)-oe);lt=(te-ue)/Ne,K=function(De){var ce,ae=De*lt,Le=Ce(ue),Ie=At/(2*le)*(Le*(ce=Ne*ae+ue,((ce=Math.exp(2*ce))-1)/(ce+1))-function(Ge){return((Ge=Math.exp(Ge))-1/Ge)/2}(ue));return[ut+Ie*jt,dt+Ie*qt,At*Le/Ce(Ne*ae+ue)]}}return K.duration=1e3*lt,K},e.behavior.zoom=function(){var k,R,K,lt,ut,dt,At,Tt,Et,Ot={x:0,y:0,k:1},jt=[960,500],qt=Rt,Qt=250,le=0,be="mousedown.zoom",oe="mousemove.zoom",ue="mouseup.zoom",te="touchstart.zoom",De=Z(ce,"zoomstart","zoom","zoomend");function ce(Ke){Ke.on(be,cn).on(vt+".zoom",Hn).on("dblclick.zoom",lr).on(te,Mn)}function ae(Ke){return[(Ke[0]-Ot.x)/Ot.k,(Ke[1]-Ot.y)/Ot.k]}function Le(Ke){Ot.k=Math.max(qt[0],Math.min(qt[1],Ke))}function Ie(Ke,dn){dn=function(kn){return[kn[0]*Ot.k+Ot.x,kn[1]*Ot.k+Ot.y]}(dn),Ot.x+=Ke[0]-dn[0],Ot.y+=Ke[1]-dn[1]}function Ge(Ke,dn,kn,Tn){Ke.__chart__={x:Ot.x,y:Ot.y,k:Ot.k},Le(Math.pow(2,Tn)),Ie(R=dn,kn),Ke=e.select(Ke),Qt>0&&(Ke=Ke.transition().duration(Qt)),Ke.call(ce.event)}function Ze(){At&&At.domain(dt.range().map(function(Ke){return(Ke-Ot.x)/Ot.k}).map(dt.invert)),Et&&Et.domain(Tt.range().map(function(Ke){return(Ke-Ot.y)/Ot.k}).map(Tt.invert))}function an(Ke){le++||Ke({type:"zoomstart"})}function on(Ke){Ze(),Ke({type:"zoom",scale:Ot.k,translate:[Ot.x,Ot.y]})}function yn(Ke){--le||(Ke({type:"zoomend"}),R=null)}function cn(){var Ke=this,dn=De.of(Ke,arguments),kn=0,Tn=e.select(l(Ke)).on(oe,$n).on(ue,yr),Bn=ae(e.mouse(Ke)),qn=ie(Ke);function $n(){kn=1,Ie(e.mouse(Ke),Bn),on(dn)}function yr(){Tn.on(oe,null).on(ue,null),qn(kn),yn(dn)}mi.call(Ke),an(dn)}function Mn(){var Ke,dn=this,kn=De.of(dn,arguments),Tn={},Bn=0,qn=".zoom-"+e.event.changedTouches[0].identifier,$n="touchmove"+qn,yr="touchend"+qn,Er=[],Or=e.select(dn),Br=ie(dn);function Ar(){var Tr=e.touches(dn);return Ke=Ot.k,Tr.forEach(function(br){br.identifier in Tn&&(Tn[br.identifier]=ae(br))}),Tr}function Mr(){var Tr=e.event.target;e.select(Tr).on($n,Jr).on(yr,_a),Er.push(Tr);for(var br=e.event.changedTouches,Lr=0,ea=br.length;Lr<ea;++Lr)Tn[br[Lr].identifier]=null;var ua=Ar(),Ea=Date.now();if(ua.length===1){if(Ea-ut<500){var wa=ua[0];Ge(dn,wa,Tn[wa.identifier],Math.floor(Math.log(Ot.k)/Math.LN2)+1),nt()}ut=Ea}else if(ua.length>1){wa=ua[0];var ca=ua[1],_i=wa[0]-ca[0],Gl=wa[1]-ca[1];Bn=_i*_i+Gl*Gl}}function Jr(){var Tr,br,Lr,ea,ua=e.touches(dn);mi.call(dn);for(var Ea=0,wa=ua.length;Ea<wa;++Ea,ea=null)if(Lr=ua[Ea],ea=Tn[Lr.identifier]){if(br)break;Tr=Lr,br=ea}if(ea){var ca=(ca=Lr[0]-Tr[0])*ca+(ca=Lr[1]-Tr[1])*ca,_i=Bn&&Math.sqrt(ca/Bn);Tr=[(Tr[0]+Lr[0])/2,(Tr[1]+Lr[1])/2],br=[(br[0]+ea[0])/2,(br[1]+ea[1])/2],Le(_i*Ke)}ut=null,Ie(Tr,br),on(kn)}function _a(){if(e.event.touches.length){for(var Tr=e.event.changedTouches,br=0,Lr=Tr.length;br<Lr;++br)delete Tn[Tr[br].identifier];for(var ea in Tn)return void Ar()}e.selectAll(Er).on(qn,null),Or.on(be,cn).on(te,Mn),Br(),yn(kn)}Mr(),an(kn),Or.on(be,null).on(te,Mr)}function Hn(){var Ke=De.of(this,arguments);lt?clearTimeout(lt):(mi.call(this),k=ae(R=K||e.mouse(this)),an(Ke)),lt=setTimeout(function(){lt=null,yn(Ke)},50),nt(),Le(Math.pow(2,.002*yt())*Ot.k),Ie(R,k),on(Ke)}function lr(){var Ke=e.mouse(this),dn=Math.log(Ot.k)/Math.LN2;Ge(this,Ke,ae(Ke),e.event.shiftKey?Math.ceil(dn)-1:Math.floor(dn)+1)}return vt||(vt="onwheel"in n?(yt=function(){return-e.event.deltaY*(e.event.deltaMode?120:1)},"wheel"):"onmousewheel"in n?(yt=function(){return e.event.wheelDelta},"mousewheel"):(yt=function(){return-e.event.detail},"MozMousePixelScroll")),ce.event=function(Ke){Ke.each(function(){var dn=De.of(this,arguments),kn=Ot;ba?e.select(this).transition().each("start.zoom",function(){Ot=this.__chart__||{x:0,y:0,k:1},an(dn)}).tween("zoom:zoom",function(){var Tn=jt[0],Bn=jt[1],qn=R?R[0]:Tn/2,$n=R?R[1]:Bn/2,yr=e.interpolateZoom([(qn-Ot.x)/Ot.k,($n-Ot.y)/Ot.k,Tn/Ot.k],[(qn-kn.x)/kn.k,($n-kn.y)/kn.k,Tn/kn.k]);return function(Er){var Or=yr(Er),Br=Tn/Or[2];this.__chart__=Ot={x:qn-Or[0]*Br,y:$n-Or[1]*Br,k:Br},on(dn)}}).each("interrupt.zoom",function(){yn(dn)}).each("end.zoom",function(){yn(dn)}):(this.__chart__=Ot,an(dn),on(dn),yn(dn))})},ce.translate=function(Ke){return arguments.length?(Ot={x:+Ke[0],y:+Ke[1],k:Ot.k},Ze(),ce):[Ot.x,Ot.y]},ce.scale=function(Ke){return arguments.length?(Ot={x:Ot.x,y:Ot.y,k:null},Le(+Ke),Ze(),ce):Ot.k},ce.scaleExtent=function(Ke){return arguments.length?(qt=Ke==null?Rt:[+Ke[0],+Ke[1]],ce):qt},ce.center=function(Ke){return arguments.length?(K=Ke&&[+Ke[0],+Ke[1]],ce):K},ce.size=function(Ke){return arguments.length?(jt=Ke&&[+Ke[0],+Ke[1]],ce):jt},ce.duration=function(Ke){return arguments.length?(Qt=+Ke,ce):Qt},ce.x=function(Ke){return arguments.length?(At=Ke,dt=Ke.copy(),Ot={x:0,y:0,k:1},ce):At},ce.y=function(Ke){return arguments.length?(Et=Ke,Tt=Ke.copy(),Ot={x:0,y:0,k:1},ce):Et},e.rebind(ce,De,"on")};var yt,vt,Rt=[0,1/0];function Ut(){}function Ht(k,R,K){return this instanceof Ht?(this.h=+k,this.s=+R,void(this.l=+K)):arguments.length<2?k instanceof Ht?new Ht(k.h,k.s,k.l):Ee(""+k,Oe,Ht):new Ht(k,R,K)}e.color=Ut,Ut.prototype.toString=function(){return this.rgb()+""},e.hsl=Ht;var Yt=Ht.prototype=new Ut;function ee(k,R,K){var lt,ut;function dt(At){return Math.round(255*function(Tt){return Tt>360?Tt-=360:Tt<0&&(Tt+=360),Tt<60?lt+(ut-lt)*Tt/60:Tt<180?ut:Tt<240?lt+(ut-lt)*(240-Tt)/60:lt}(At))}return k=isNaN(k)?0:(k%=360)<0?k+360:k,R=isNaN(R)||R<0?0:R>1?1:R,lt=2*(K=K<0?0:K>1?1:K)-(ut=K<=.5?K*(1+R):K+R-K*R),new Ae(dt(k+120),dt(k),dt(k-120))}function ne(k,R,K){return this instanceof ne?(this.h=+k,this.c=+R,void(this.l=+K)):arguments.length<2?k instanceof ne?new ne(k.h,k.c,k.l):xe(k instanceof fe?k.l:(k=Se((k=e.rgb(k)).r,k.g,k.b)).l,k.a,k.b):new ne(k,R,K)}Yt.brighter=function(k){return k=Math.pow(.7,arguments.length?k:1),new Ht(this.h,this.s,this.l/k)},Yt.darker=function(k){return k=Math.pow(.7,arguments.length?k:1),new Ht(this.h,this.s,k*this.l)},Yt.rgb=function(){return ee(this.h,this.s,this.l)},e.hcl=ne;var re=ne.prototype=new Ut;function ve(k,R,K){return isNaN(k)&&(k=0),isNaN(R)&&(R=0),new fe(K,Math.cos(k*=ye)*R,Math.sin(k)*R)}function fe(k,R,K){return this instanceof fe?(this.l=+k,this.a=+R,void(this.b=+K)):arguments.length<2?k instanceof fe?new fe(k.l,k.a,k.b):k instanceof ne?ve(k.h,k.c,k.l):Se((k=Ae(k)).r,k.g,k.b):new fe(k,R,K)}re.brighter=function(k){return new ne(this.h,this.c,Math.min(100,this.l+pe*(arguments.length?k:1)))},re.darker=function(k){return new ne(this.h,this.c,Math.max(0,this.l-pe*(arguments.length?k:1)))},re.rgb=function(){return ve(this.h,this.c,this.l).rgb()},e.lab=fe;var pe=18,ze=.95047,Be=1.08883,Me=fe.prototype=new Ut;function _e(k,R,K){var lt=(k+16)/116,ut=lt+R/500,dt=lt-K/200;return new Ae(we(3.2404542*(ut=me(ut)*ze)-1.5371385*(lt=1*me(lt))-.4985314*(dt=me(dt)*Be)),we(-.969266*ut+1.8760108*lt+.041556*dt),we(.0556434*ut-.2040259*lt+1.0572252*dt))}function xe(k,R,K){return k>0?new ne(Math.atan2(K,R)*se,Math.sqrt(R*R+K*K),k):new ne(NaN,NaN,k)}function me(k){return k>.206893034?k*k*k:(k-.13793103448275862)/7.787037}function Te(k){return k>.008856?Math.pow(k,.3333333333333333):7.787037*k+.13793103448275862}function we(k){return Math.round(255*(k<=.00304?12.92*k:1.055*Math.pow(k,.4166666666666667)-.055))}function Ae(k,R,K){return this instanceof Ae?(this.r=~~k,this.g=~~R,void(this.b=~~K)):arguments.length<2?k instanceof Ae?new Ae(k.r,k.g,k.b):Ee(""+k,Ae,ee):new Ae(k,R,K)}function Ye(k){return new Ae(k>>16,k>>8&255,255&k)}function Re(k){return Ye(k)+""}Me.brighter=function(k){return new fe(Math.min(100,this.l+pe*(arguments.length?k:1)),this.a,this.b)},Me.darker=function(k){return new fe(Math.max(0,this.l-pe*(arguments.length?k:1)),this.a,this.b)},Me.rgb=function(){return _e(this.l,this.a,this.b)},e.rgb=Ae;var ge=Ae.prototype=new Ut;function ke(k){return k<16?"0"+Math.max(0,k).toString(16):Math.min(255,k).toString(16)}function Ee(k,R,K){var lt,ut,dt,At=0,Tt=0,Et=0;if(lt=/([a-z]+)\((.*)\)/.exec(k=k.toLowerCase()))switch(ut=lt[2].split(","),lt[1]){case"hsl":return K(parseFloat(ut[0]),parseFloat(ut[1])/100,parseFloat(ut[2])/100);case"rgb":return R(je(ut[0]),je(ut[1]),je(ut[2]))}return(dt=Ue.get(k))?R(dt.r,dt.g,dt.b):(k==null||k.charAt(0)!=="#"||isNaN(dt=parseInt(k.slice(1),16))||(k.length===4?(At=(3840&dt)>>4,At|=At>>4,Tt=240&dt,Tt|=Tt>>4,Et=15&dt,Et|=Et<<4):k.length===7&&(At=(16711680&dt)>>16,Tt=(65280&dt)>>8,Et=255&dt)),R(At,Tt,Et))}function Oe(k,R,K){var lt,ut,dt=Math.min(k/=255,R/=255,K/=255),At=Math.max(k,R,K),Tt=At-dt,Et=(At+dt)/2;return Tt?(ut=Et<.5?Tt/(At+dt):Tt/(2-At-dt),lt=k==At?(R-K)/Tt+(R<K?6:0):R==At?(K-k)/Tt+2:(k-R)/Tt+4,lt*=60):(lt=NaN,ut=Et>0&&Et<1?0:lt),new Ht(lt,ut,Et)}function Se(k,R,K){var lt=Te((.4124564*(k=Fe(k))+.3575761*(R=Fe(R))+.1804375*(K=Fe(K)))/ze),ut=Te((.2126729*k+.7151522*R+.072175*K)/1);return fe(116*ut-16,500*(lt-ut),200*(ut-Te((.0193339*k+.119192*R+.9503041*K)/Be)))}function Fe(k){return(k/=255)<=.04045?k/12.92:Math.pow((k+.055)/1.055,2.4)}function je(k){var R=parseFloat(k);return k.charAt(k.length-1)==="%"?Math.round(2.55*R):R}ge.brighter=function(k){k=Math.pow(.7,arguments.length?k:1);var R=this.r,K=this.g,lt=this.b,ut=30;return R||K||lt?(R&&R<ut&&(R=ut),K&&K<ut&&(K=ut),lt&&lt<ut&&(lt=ut),new Ae(Math.min(255,R/k),Math.min(255,K/k),Math.min(255,lt/k))):new Ae(ut,ut,ut)},ge.darker=function(k){return new Ae((k=Math.pow(.7,arguments.length?k:1))*this.r,k*this.g,k*this.b)},ge.hsl=function(){return Oe(this.r,this.g,this.b)},ge.toString=function(){return"#"+ke(this.r)+ke(this.g)+ke(this.b)};var Ue=e.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function He(k){return typeof k=="function"?k:function(){return k}}function Je(k){return function(R,K,lt){return arguments.length===2&&typeof K=="function"&&(lt=K,K=null),Qe(R,K,k,lt)}}function Qe(k,R,K,lt){var ut={},dt=e.dispatch("beforesend","progress","load","error"),At={},Tt=new XMLHttpRequest,Et=null;function Ot(){var jt,qt=Tt.status;if(!qt&&function(Qt){var le=Qt.responseType;return le&&le!=="text"?Qt.response:Qt.responseText}(Tt)||qt>=200&&qt<300||qt===304){try{jt=K.call(ut,Tt)}catch(Qt){return void dt.error.call(ut,Qt)}dt.load.call(ut,jt)}else dt.error.call(ut,Tt)}return self.XDomainRequest&&!("withCredentials"in Tt)&&/^(http(s)?:)?\/\//.test(k)&&(Tt=new XDomainRequest),"onload"in Tt?Tt.onload=Tt.onerror=Ot:Tt.onreadystatechange=function(){Tt.readyState>3&&Ot()},Tt.onprogress=function(jt){var qt=e.event;e.event=jt;try{dt.progress.call(ut,Tt)}finally{e.event=qt}},ut.header=function(jt,qt){return jt=(jt+"").toLowerCase(),arguments.length<2?At[jt]:(qt==null?delete At[jt]:At[jt]=qt+"",ut)},ut.mimeType=function(jt){return arguments.length?(R=jt==null?null:jt+"",ut):R},ut.responseType=function(jt){return arguments.length?(Et=jt,ut):Et},ut.response=function(jt){return K=jt,ut},["get","post"].forEach(function(jt){ut[jt]=function(){return ut.send.apply(ut,[jt].concat(r(arguments)))}}),ut.send=function(jt,qt,Qt){if(arguments.length===2&&typeof qt=="function"&&(Qt=qt,qt=null),Tt.open(jt,k,!0),R==null||"accept"in At||(At.accept=R+",*/*"),Tt.setRequestHeader)for(var le in At)Tt.setRequestHeader(le,At[le]);return R!=null&&Tt.overrideMimeType&&Tt.overrideMimeType(R),Et!=null&&(Tt.responseType=Et),Qt!=null&&ut.on("error",Qt).on("load",function(be){Qt(null,be)}),dt.beforesend.call(ut,Tt),Tt.send(qt??null),ut},ut.abort=function(){return Tt.abort(),ut},e.rebind(ut,dt,"on"),lt==null?ut:ut.get(function(jt){return jt.length===1?function(qt,Qt){jt(qt==null?Qt:null)}:jt}(lt))}Ue.forEach(function(k,R){Ue.set(k,Ye(R))}),e.functor=He,e.xhr=Je(O),e.dsv=function(k,R){var K=new RegExp('["'+k+`
]`),lt=k.charCodeAt(0);function ut(Ot,jt,qt){arguments.length<3&&(qt=jt,jt=null);var Qt=Qe(Ot,R,jt==null?dt:At(jt),qt);return Qt.row=function(le){return arguments.length?Qt.response((jt=le)==null?dt:At(le)):jt},Qt}function dt(Ot){return ut.parse(Ot.responseText)}function At(Ot){return function(jt){return ut.parse(jt.responseText,Ot)}}function Tt(Ot){return Ot.map(Et).join(k)}function Et(Ot){return K.test(Ot)?'"'+Ot.replace(/\"/g,'""')+'"':Ot}return ut.parse=function(Ot,jt){var qt;return ut.parseRows(Ot,function(Qt,le){if(qt)return qt(Qt,le-1);var be=function(oe){for(var ue={},te=Qt.length,De=0;De<te;++De)ue[Qt[De]]=oe[De];return ue};qt=jt?function(oe,ue){return jt(be(oe),ue)}:be})},ut.parseRows=function(Ot,jt){var qt,Qt,le={},be={},oe=[],ue=Ot.length,te=0,De=0;function ce(){if(te>=ue)return be;if(Qt)return Qt=!1,le;var Le=te;if(Ot.charCodeAt(Le)===34){for(var Ie=Le;Ie++<ue;)if(Ot.charCodeAt(Ie)===34){if(Ot.charCodeAt(Ie+1)!==34)break;++Ie}return te=Ie+2,(Ge=Ot.charCodeAt(Ie+1))===13?(Qt=!0,Ot.charCodeAt(Ie+2)===10&&++te):Ge===10&&(Qt=!0),Ot.slice(Le+1,Ie).replace(/""/g,'"')}for(;te<ue;){var Ge,Ze=1;if((Ge=Ot.charCodeAt(te++))===10)Qt=!0;else if(Ge===13)Qt=!0,Ot.charCodeAt(te)===10&&(++te,++Ze);else if(Ge!==lt)continue;return Ot.slice(Le,te-Ze)}return Ot.slice(Le)}for(;(qt=ce())!==be;){for(var ae=[];qt!==le&&qt!==be;)ae.push(qt),qt=ce();jt&&(ae=jt(ae,De++))==null||oe.push(ae)}return oe},ut.format=function(Ot){if(Array.isArray(Ot[0]))return ut.formatRows(Ot);var jt=new M,qt=[];return Ot.forEach(function(Qt){for(var le in Qt)jt.has(le)||qt.push(jt.add(le))}),[qt.map(Et).join(k)].concat(Ot.map(function(Qt){return qt.map(function(le){return Et(Qt[le])}).join(k)})).join(`
`)},ut.formatRows=function(Ot){return Ot.map(Tt).join(`
`)},ut},e.csv=e.dsv(",","text/csv"),e.tsv=e.dsv("	","text/tab-separated-values");var ln,rn,We,nn,sn=this[tt(this,"requestAnimationFrame")]||function(k){setTimeout(k,17)};function Xe(k,R,K){var lt=arguments.length;lt<2&&(R=0),lt<3&&(K=Date.now());var ut=K+R,dt={c:k,t:ut,n:null};return rn?rn.n=dt:ln=dt,rn=dt,We||(nn=clearTimeout(nn),We=1,sn(un)),dt}function un(){var k=tn(),R=vn()-k;R>24?(isFinite(R)&&(clearTimeout(nn),nn=setTimeout(un,R)),We=0):(We=1,sn(un))}function tn(){for(var k=Date.now(),R=ln;R;)k>=R.t&&R.c(k-R.t)&&(R.c=null),R=R.n;return k}function vn(){for(var k,R=ln,K=1/0;R;)R.c?(R.t<K&&(K=R.t),R=(k=R).n):R=k?k.n=R.n:ln=R.n;return rn=k,K}function fn(k){return k[0]}function gn(k){return k[1]}function En(k){for(var R,K,lt,ut=k.length,dt=[0,1],At=2,Tt=2;Tt<ut;Tt++){for(;At>1&&(R=k[dt[At-2]],K=k[dt[At-1]],lt=k[Tt],(K[0]-R[0])*(lt[1]-R[1])-(K[1]-R[1])*(lt[0]-R[0])<=0);)--At;dt[At++]=Tt}return dt.slice(0,At)}function xn(k,R){return k[0]-R[0]||k[1]-R[1]}e.timer=function(){Xe.apply(this,arguments)},e.timer.flush=function(){tn(),vn()},e.round=function(k,R){return R?Math.round(k*(R=Math.pow(10,R)))/R:Math.round(k)},e.geom={},e.geom.hull=function(k){var R=fn,K=gn;if(arguments.length)return lt(k);function lt(ut){if(ut.length<3)return[];var dt,At=He(R),Tt=He(K),Et=ut.length,Ot=[],jt=[];for(dt=0;dt<Et;dt++)Ot.push([+At.call(this,ut[dt],dt),+Tt.call(this,ut[dt],dt),dt]);for(Ot.sort(xn),dt=0;dt<Et;dt++)jt.push([Ot[dt][0],-Ot[dt][1]]);var qt=En(Ot),Qt=En(jt),le=Qt[0]===qt[0],be=Qt[Qt.length-1]===qt[qt.length-1],oe=[];for(dt=qt.length-1;dt>=0;--dt)oe.push(ut[Ot[qt[dt]][2]]);for(dt=+le;dt<Qt.length-be;++dt)oe.push(ut[Ot[Qt[dt]][2]]);return oe}return lt.x=function(ut){return arguments.length?(R=ut,lt):R},lt.y=function(ut){return arguments.length?(K=ut,lt):K},lt},e.geom.polygon=function(k){return U(k,Cn),k};var Cn=e.geom.polygon.prototype=[];function Zn(k,R,K){return(K[0]-R[0])*(k[1]-R[1])<(K[1]-R[1])*(k[0]-R[0])}function Yn(k,R,K,lt){var ut=k[0],dt=K[0],At=R[0]-ut,Tt=lt[0]-dt,Et=k[1],Ot=K[1],jt=R[1]-Et,qt=lt[1]-Ot,Qt=(Tt*(Et-Ot)-qt*(ut-dt))/(qt*At-Tt*jt);return[ut+Qt*At,Et+Qt*jt]}function Fr(k){var R=k[0],K=k[k.length-1];return!(R[0]-K[0]||R[1]-K[1])}Cn.area=function(){for(var k,R=-1,K=this.length,lt=this[K-1],ut=0;++R<K;)k=lt,lt=this[R],ut+=k[1]*lt[0]-k[0]*lt[1];return .5*ut},Cn.centroid=function(k){var R,K,lt=-1,ut=this.length,dt=0,At=0,Tt=this[ut-1];for(arguments.length||(k=-1/(6*this.area()));++lt<ut;)R=Tt,Tt=this[lt],K=R[0]*Tt[1]-Tt[0]*R[1],dt+=(R[0]+Tt[0])*K,At+=(R[1]+Tt[1])*K;return[dt*k,At*k]},Cn.clip=function(k){for(var R,K,lt,ut,dt,At,Tt=Fr(k),Et=-1,Ot=this.length-Fr(this),jt=this[Ot-1];++Et<Ot;){for(R=k.slice(),k.length=0,ut=this[Et],dt=R[(lt=R.length-Tt)-1],K=-1;++K<lt;)Zn(At=R[K],jt,ut)?(Zn(dt,jt,ut)||k.push(Yn(dt,At,jt,ut)),k.push(At)):Zn(dt,jt,ut)&&k.push(Yn(dt,At,jt,ut)),dt=At;Tt&&k.push(k[0]),jt=ut}return k};var zn,Nn,gr,mr,pn,en=[],Dn=[];function er(){oa(this),this.edge=this.site=this.circle=null}function _n(k){var R=en.pop()||new er;return R.site=k,R}function On(k){fr(k),gr.remove(k),en.push(k),oa(k)}function An(k){var R=k.circle,K=R.x,lt=R.cy,ut={x:K,y:lt},dt=k.P,At=k.N,Tt=[k];On(k);for(var Et=dt;Et.circle&&_(K-Et.circle.x)<Vt&&_(lt-Et.circle.cy)<Vt;)dt=Et.P,Tt.unshift(Et),On(Et),Et=dt;Tt.unshift(Et),fr(Et);for(var Ot=At;Ot.circle&&_(K-Ot.circle.x)<Vt&&_(lt-Ot.circle.cy)<Vt;)At=Ot.N,Tt.push(Ot),On(Ot),Ot=At;Tt.push(Ot),fr(Ot);var jt,qt=Tt.length;for(jt=1;jt<qt;++jt)Ot=Tt[jt],Et=Tt[jt-1],Dr(Ot.edge,Et.site,Ot.site,ut);Et=Tt[0],(Ot=Tt[qt-1]).edge=ir(Et.site,Ot.site,null,ut),xr(Et),xr(Ot)}function Pn(k){for(var R,K,lt,ut,dt=k.x,At=k.y,Tt=gr._;Tt;)if((lt=cr(Tt,At)-dt)>Vt)Tt=Tt.L;else{if(!((ut=dt-jn(Tt,At))>Vt)){lt>-Vt?(R=Tt.P,K=Tt):ut>-Vt?(R=Tt,K=Tt.N):R=K=Tt;break}if(!Tt.R){R=Tt;break}Tt=Tt.R}var Et=_n(k);if(gr.insert(R,Et),R||K){if(R===K)return fr(R),K=_n(R.site),gr.insert(Et,K),Et.edge=K.edge=ir(R.site,Et.site),xr(R),void xr(K);if(K){fr(R),fr(K);var Ot=R.site,jt=Ot.x,qt=Ot.y,Qt=k.x-jt,le=k.y-qt,be=K.site,oe=be.x-jt,ue=be.y-qt,te=2*(Qt*ue-le*oe),De=Qt*Qt+le*le,ce=oe*oe+ue*ue,ae={x:(ue*De-le*ce)/te+jt,y:(Qt*ce-oe*De)/te+qt};Dr(K.edge,Ot,be,ae),Et.edge=ir(Ot,k,null,ae),K.edge=ir(k,be,null,ae),xr(R),xr(K)}else Et.edge=ir(R.site,Et.site)}}function cr(k,R){var K=k.site,lt=K.x,ut=K.y,dt=ut-R;if(!dt)return lt;var At=k.P;if(!At)return-1/0;var Tt=(K=At.site).x,Et=K.y,Ot=Et-R;if(!Ot)return Tt;var jt=Tt-lt,qt=1/dt-1/Ot,Qt=jt/Ot;return qt?(-Qt+Math.sqrt(Qt*Qt-2*qt*(jt*jt/(-2*Ot)-Et+Ot/2+ut-dt/2)))/qt+lt:(lt+Tt)/2}function jn(k,R){var K=k.N;if(K)return cr(K,R);var lt=k.site;return lt.y===R?lt.x:1/0}function nr(k){this.site=k,this.edges=[]}function kr(k,R){return R.angle-k.angle}function wr(){oa(this),this.x=this.y=this.arc=this.site=this.cy=null}function xr(k){var R=k.P,K=k.N;if(R&&K){var lt=R.site,ut=k.site,dt=K.site;if(lt!==dt){var At=ut.x,Tt=ut.y,Et=lt.x-At,Ot=lt.y-Tt,jt=dt.x-At,qt=2*(Et*(ue=dt.y-Tt)-Ot*jt);if(!(qt>=-1e-12)){var Qt=Et*Et+Ot*Ot,le=jt*jt+ue*ue,be=(ue*Qt-Ot*le)/qt,oe=(Et*le-jt*Qt)/qt,ue=oe+Tt,te=Dn.pop()||new wr;te.arc=k,te.site=ut,te.x=be+At,te.y=ue+Math.sqrt(be*be+oe*oe),te.cy=ue,k.circle=te;for(var De=null,ce=pn._;ce;)if(te.y<ce.y||te.y===ce.y&&te.x<=ce.x){if(!ce.L){De=ce.P;break}ce=ce.L}else{if(!ce.R){De=ce;break}ce=ce.R}pn.insert(De,te),De||(mr=te)}}}}function fr(k){var R=k.circle;R&&(R.P||(mr=R.N),pn.remove(R),Dn.push(R),oa(R),k.circle=null)}function Zr(k,R){var K=k.b;if(K)return!0;var lt,ut,dt=k.a,At=R[0][0],Tt=R[1][0],Et=R[0][1],Ot=R[1][1],jt=k.l,qt=k.r,Qt=jt.x,le=jt.y,be=qt.x,oe=qt.y,ue=(Qt+be)/2,te=(le+oe)/2;if(oe===le){if(ue<At||ue>=Tt)return;if(Qt>be){if(dt){if(dt.y>=Ot)return}else dt={x:ue,y:Et};K={x:ue,y:Ot}}else{if(dt){if(dt.y<Et)return}else dt={x:ue,y:Ot};K={x:ue,y:Et}}}else if(ut=te-(lt=(Qt-be)/(oe-le))*ue,lt<-1||lt>1)if(Qt>be){if(dt){if(dt.y>=Ot)return}else dt={x:(Et-ut)/lt,y:Et};K={x:(Ot-ut)/lt,y:Ot}}else{if(dt){if(dt.y<Et)return}else dt={x:(Ot-ut)/lt,y:Ot};K={x:(Et-ut)/lt,y:Et}}else if(le<oe){if(dt){if(dt.x>=Tt)return}else dt={x:At,y:lt*At+ut};K={x:Tt,y:lt*Tt+ut}}else{if(dt){if(dt.x<At)return}else dt={x:Tt,y:lt*Tt+ut};K={x:At,y:lt*At+ut}}return k.a=dt,k.b=K,!0}function wn(k,R){this.l=k,this.r=R,this.a=this.b=null}function ir(k,R,K,lt){var ut=new wn(k,R);return zn.push(ut),K&&Dr(ut,k,R,K),lt&&Dr(ut,R,k,lt),Nn[k.i].edges.push(new ur(ut,k,R)),Nn[R.i].edges.push(new ur(ut,R,k)),ut}function Dr(k,R,K,lt){k.a||k.b?k.l===K?k.b=lt:k.a=lt:(k.a=lt,k.l=R,k.r=K)}function ur(k,R,K){var lt=k.a,ut=k.b;this.edge=k,this.site=R,this.angle=K?Math.atan2(K.y-R.y,K.x-R.x):k.l===R?Math.atan2(ut.x-lt.x,lt.y-ut.y):Math.atan2(lt.x-ut.x,ut.y-lt.y)}function va(){this._=null}function oa(k){k.U=k.C=k.L=k.R=k.P=k.N=null}function jr(k,R){var K=R,lt=R.R,ut=K.U;ut?ut.L===K?ut.L=lt:ut.R=lt:k._=lt,lt.U=ut,K.U=lt,K.R=lt.L,K.R&&(K.R.U=K),lt.L=K}function Ur(k,R){var K=R,lt=R.L,ut=K.U;ut?ut.L===K?ut.L=lt:ut.R=lt:k._=lt,lt.U=ut,K.U=lt,K.L=lt.R,K.L&&(K.L.U=K),lt.R=K}function la(k){for(;k.L;)k=k.L;return k}function ga(k,R){var K,lt,ut,dt=k.sort(li).pop();for(zn=[],Nn=new Array(k.length),gr=new va,pn=new va;;)if(ut=mr,dt&&(!ut||dt.y<ut.y||dt.y===ut.y&&dt.x<ut.x))dt.x===K&&dt.y===lt||(Nn[dt.i]=new nr(dt),Pn(dt),K=dt.x,lt=dt.y),dt=k.pop();else{if(!ut)break;An(ut.arc)}R&&(function(Tt){for(var Et,Ot,jt,qt,Qt,le=zn,be=(Ot=Tt[0][0],jt=Tt[0][1],qt=Tt[1][0],Qt=Tt[1][1],function(ue){var te,De=ue.a,ce=ue.b,ae=De.x,Le=De.y,Ie=0,Ge=1,Ze=ce.x-ae,an=ce.y-Le;if(te=Ot-ae,Ze||!(te>0)){if(te/=Ze,Ze<0){if(te<Ie)return;te<Ge&&(Ge=te)}else if(Ze>0){if(te>Ge)return;te>Ie&&(Ie=te)}if(te=qt-ae,Ze||!(te<0)){if(te/=Ze,Ze<0){if(te>Ge)return;te>Ie&&(Ie=te)}else if(Ze>0){if(te<Ie)return;te<Ge&&(Ge=te)}if(te=jt-Le,an||!(te>0)){if(te/=an,an<0){if(te<Ie)return;te<Ge&&(Ge=te)}else if(an>0){if(te>Ge)return;te>Ie&&(Ie=te)}if(te=Qt-Le,an||!(te<0)){if(te/=an,an<0){if(te>Ge)return;te>Ie&&(Ie=te)}else if(an>0){if(te<Ie)return;te<Ge&&(Ge=te)}return Ie>0&&(ue.a={x:ae+Ie*Ze,y:Le+Ie*an}),Ge<1&&(ue.b={x:ae+Ge*Ze,y:Le+Ge*an}),ue}}}}}),oe=le.length;oe--;)(!Zr(Et=le[oe],Tt)||!be(Et)||_(Et.a.x-Et.b.x)<Vt&&_(Et.a.y-Et.b.y)<Vt)&&(Et.a=Et.b=null,le.splice(oe,1))}(R),function(Tt){for(var Et,Ot,jt,qt,Qt,le,be,oe,ue,te,De=Tt[0][0],ce=Tt[1][0],ae=Tt[0][1],Le=Tt[1][1],Ie=Nn,Ge=Ie.length;Ge--;)if((Qt=Ie[Ge])&&Qt.prepare())for(oe=(be=Qt.edges).length,le=0;le<oe;)jt=(te=be[le].end()).x,qt=te.y,Et=(ue=be[++le%oe].start()).x,Ot=ue.y,(_(jt-Et)>Vt||_(qt-Ot)>Vt)&&(be.splice(le,0,new ur((Ze=Qt.site,an=te,on=_(jt-De)<Vt&&Le-qt>Vt?{x:De,y:_(Et-De)<Vt?Ot:Le}:_(qt-Le)<Vt&&ce-jt>Vt?{x:_(Ot-Le)<Vt?Et:ce,y:Le}:_(jt-ce)<Vt&&qt-ae>Vt?{x:ce,y:_(Et-ce)<Vt?Ot:ae}:_(qt-ae)<Vt&&jt-De>Vt?{x:_(Ot-ae)<Vt?Et:De,y:ae}:null,yn=void 0,(yn=new wn(Ze,null)).a=an,yn.b=on,zn.push(yn),yn),Qt.site,null)),++oe);var Ze,an,on,yn}(R));var At={cells:Nn,edges:zn};return gr=pn=zn=Nn=null,At}function li(k,R){return R.y-k.y||R.x-k.x}nr.prototype.prepare=function(){for(var k,R=this.edges,K=R.length;K--;)(k=R[K].edge).b&&k.a||R.splice(K,1);return R.sort(kr),R.length},ur.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},va.prototype={insert:function(k,R){var K,lt,ut;if(k){if(R.P=k,R.N=k.N,k.N&&(k.N.P=R),k.N=R,k.R){for(k=k.R;k.L;)k=k.L;k.L=R}else k.R=R;K=k}else this._?(k=la(this._),R.P=null,R.N=k,k.P=k.L=R,K=k):(R.P=R.N=null,this._=R,K=null);for(R.L=R.R=null,R.U=K,R.C=!0,k=R;K&&K.C;)K===(lt=K.U).L?(ut=lt.R)&&ut.C?(K.C=ut.C=!1,lt.C=!0,k=lt):(k===K.R&&(jr(this,K),K=(k=K).U),K.C=!1,lt.C=!0,Ur(this,lt)):(ut=lt.L)&&ut.C?(K.C=ut.C=!1,lt.C=!0,k=lt):(k===K.L&&(Ur(this,K),K=(k=K).U),K.C=!1,lt.C=!0,jr(this,lt)),K=k.U;this._.C=!1},remove:function(k){k.N&&(k.N.P=k.P),k.P&&(k.P.N=k.N),k.N=k.P=null;var R,K,lt,ut=k.U,dt=k.L,At=k.R;if(K=dt?At?la(At):dt:At,ut?ut.L===k?ut.L=K:ut.R=K:this._=K,dt&&At?(lt=K.C,K.C=k.C,K.L=dt,dt.U=K,K!==At?(ut=K.U,K.U=k.U,k=K.R,ut.L=k,K.R=At,At.U=K):(K.U=ut,ut=K,k=K.R)):(lt=k.C,k=K),k&&(k.U=ut),!lt)if(k&&k.C)k.C=!1;else{do{if(k===this._)break;if(k===ut.L){if((R=ut.R).C&&(R.C=!1,ut.C=!0,jr(this,ut),R=ut.R),R.L&&R.L.C||R.R&&R.R.C){R.R&&R.R.C||(R.L.C=!1,R.C=!0,Ur(this,R),R=ut.R),R.C=ut.C,ut.C=R.R.C=!1,jr(this,ut),k=this._;break}}else if((R=ut.L).C&&(R.C=!1,ut.C=!0,Ur(this,ut),R=ut.L),R.L&&R.L.C||R.R&&R.R.C){R.L&&R.L.C||(R.R.C=!1,R.C=!0,jr(this,R),R=ut.L),R.C=ut.C,ut.C=R.L.C=!1,Ur(this,ut),k=this._;break}R.C=!0,k=ut,ut=ut.U}while(!k.C);k&&(k.C=!1)}}},e.geom.voronoi=function(k){var R=fn,K=gn,lt=R,ut=K,dt=ma;if(k)return At(k);function At(Et){var Ot=new Array(Et.length),jt=dt[0][0],qt=dt[0][1],Qt=dt[1][0],le=dt[1][1];return ga(Tt(Et),dt).cells.forEach(function(be,oe){var ue=be.edges,te=be.site;(Ot[oe]=ue.length?ue.map(function(De){var ce=De.start();return[ce.x,ce.y]}):te.x>=jt&&te.x<=Qt&&te.y>=qt&&te.y<=le?[[jt,le],[Qt,le],[Qt,qt],[jt,qt]]:[]).point=Et[oe]}),Ot}function Tt(Et){return Et.map(function(Ot,jt){return{x:Math.round(lt(Ot,jt)/Vt)*Vt,y:Math.round(ut(Ot,jt)/Vt)*Vt,i:jt}})}return At.links=function(Et){return ga(Tt(Et)).edges.filter(function(Ot){return Ot.l&&Ot.r}).map(function(Ot){return{source:Et[Ot.l.i],target:Et[Ot.r.i]}})},At.triangles=function(Et){var Ot=[];return ga(Tt(Et)).cells.forEach(function(jt,qt){for(var Qt,le,be,oe,ue=jt.site,te=jt.edges.sort(kr),De=-1,ce=te.length,ae=te[ce-1].edge,Le=ae.l===ue?ae.r:ae.l;++De<ce;)Qt=Le,Le=(ae=te[De].edge).l===ue?ae.r:ae.l,qt<Qt.i&&qt<Le.i&&(be=Qt,oe=Le,((le=ue).x-oe.x)*(be.y-le.y)-(le.x-be.x)*(oe.y-le.y)<0)&&Ot.push([Et[qt],Et[Qt.i],Et[Le.i]])}),Ot},At.x=function(Et){return arguments.length?(lt=He(R=Et),At):R},At.y=function(Et){return arguments.length?(ut=He(K=Et),At):K},At.clipExtent=function(Et){return arguments.length?(dt=Et??ma,At):dt===ma?null:dt},At.size=function(Et){return arguments.length?At.clipExtent(Et&&[[0,0],Et]):dt===ma?null:dt&&dt[1]},At};var ma=[[-1e6,-1e6],[1e6,1e6]];function qa(k){return k.x}function si(k){return k.y}function Ya(k,R,K,lt,ut,dt){if(!k(R,K,lt,ut,dt)){var At=.5*(K+ut),Tt=.5*(lt+dt),Et=R.nodes;Et[0]&&Ya(k,Et[0],K,lt,At,Tt),Et[1]&&Ya(k,Et[1],At,lt,ut,Tt),Et[2]&&Ya(k,Et[2],K,Tt,At,dt),Et[3]&&Ya(k,Et[3],At,Tt,ut,dt)}}function Xs(k,R,K,lt,ut,dt,At){var Tt,Et=1/0;return function Ot(jt,qt,Qt,le,be){if(!(qt>dt||Qt>At||le<lt||be<ut)){if(oe=jt.point){var oe,ue=R-jt.x,te=K-jt.y,De=ue*ue+te*te;if(De<Et){var ce=Math.sqrt(Et=De);lt=R-ce,ut=K-ce,dt=R+ce,At=K+ce,Tt=oe}}for(var ae=jt.nodes,Le=.5*(qt+le),Ie=.5*(Qt+be),Ge=(K>=Ie)<<1|R>=Le,Ze=Ge+4;Ge<Ze;++Ge)if(jt=ae[3&Ge])switch(3&Ge){case 0:Ot(jt,qt,Qt,Le,Ie);break;case 1:Ot(jt,Le,Qt,le,Ie);break;case 2:Ot(jt,qt,Ie,Le,be);break;case 3:Ot(jt,Le,Ie,le,be)}}}(k,lt,ut,dt,At),Tt}function Vi(k,R){k=e.rgb(k),R=e.rgb(R);var K=k.r,lt=k.g,ut=k.b,dt=R.r-K,At=R.g-lt,Tt=R.b-ut;return function(Et){return"#"+ke(Math.round(K+dt*Et))+ke(Math.round(lt+At*Et))+ke(Math.round(ut+Tt*Et))}}function Zo(k,R){var K,lt={},ut={};for(K in k)K in R?lt[K]=xa(k[K],R[K]):ut[K]=k[K];for(K in R)K in k||(ut[K]=R[K]);return function(dt){for(K in lt)ut[K]=lt[K](dt);return ut}}function ta(k,R){return k=+k,R=+R,function(K){return k*(1-K)+R*K}}function $o(k,R){var K,lt,ut,dt=Wi.lastIndex=Gi.lastIndex=0,At=-1,Tt=[],Et=[];for(k+="",R+="";(K=Wi.exec(k))&&(lt=Gi.exec(R));)(ut=lt.index)>dt&&(ut=R.slice(dt,ut),Tt[At]?Tt[At]+=ut:Tt[++At]=ut),(K=K[0])===(lt=lt[0])?Tt[At]?Tt[At]+=lt:Tt[++At]=lt:(Tt[++At]=null,Et.push({i:At,x:ta(K,lt)})),dt=Gi.lastIndex;return dt<R.length&&(ut=R.slice(dt),Tt[At]?Tt[At]+=ut:Tt[++At]=ut),Tt.length<2?Et[0]?(R=Et[0].x,function(Ot){return R(Ot)+""}):function(){return R}:(R=Et.length,function(Ot){for(var jt,qt=0;qt<R;++qt)Tt[(jt=Et[qt]).i]=jt.x(Ot);return Tt.join("")})}e.geom.delaunay=function(k){return e.geom.voronoi().triangles(k)},e.geom.quadtree=function(k,R,K,lt,ut){var dt,At=fn,Tt=gn;if(dt=arguments.length)return At=qa,Tt=si,dt===3&&(ut=K,lt=R,K=R=0),Et(k);function Et(Ot){var jt,qt,Qt,le,be,oe,ue,te,De,ce=He(At),ae=He(Tt);if(R!=null)oe=R,ue=K,te=lt,De=ut;else if(te=De=-(oe=ue=1/0),qt=[],Qt=[],be=Ot.length,dt)for(le=0;le<be;++le)(jt=Ot[le]).x<oe&&(oe=jt.x),jt.y<ue&&(ue=jt.y),jt.x>te&&(te=jt.x),jt.y>De&&(De=jt.y),qt.push(jt.x),Qt.push(jt.y);else for(le=0;le<be;++le){var Le=+ce(jt=Ot[le],le),Ie=+ae(jt,le);Le<oe&&(oe=Le),Ie<ue&&(ue=Ie),Le>te&&(te=Le),Ie>De&&(De=Ie),qt.push(Le),Qt.push(Ie)}var Ge=te-oe,Ze=De-ue;function an(cn,Mn,Hn,lr,Ke,dn,kn,Tn){if(!isNaN(Hn)&&!isNaN(lr))if(cn.leaf){var Bn=cn.x,qn=cn.y;if(Bn!=null)if(_(Bn-Hn)+_(qn-lr)<.01)on(cn,Mn,Hn,lr,Ke,dn,kn,Tn);else{var $n=cn.point;cn.x=cn.y=cn.point=null,on(cn,$n,Bn,qn,Ke,dn,kn,Tn),on(cn,Mn,Hn,lr,Ke,dn,kn,Tn)}else cn.x=Hn,cn.y=lr,cn.point=Mn}else on(cn,Mn,Hn,lr,Ke,dn,kn,Tn)}function on(cn,Mn,Hn,lr,Ke,dn,kn,Tn){var Bn=.5*(Ke+kn),qn=.5*(dn+Tn),$n=Hn>=Bn,yr=lr>=qn,Er=yr<<1|$n;cn.leaf=!1,$n?Ke=Bn:kn=Bn,yr?dn=qn:Tn=qn,an(cn=cn.nodes[Er]||(cn.nodes[Er]={leaf:!0,nodes:[],point:null,x:null,y:null}),Mn,Hn,lr,Ke,dn,kn,Tn)}Ge>Ze?De=ue+Ge:te=oe+Ze;var yn={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(cn){an(yn,cn,+ce(cn,++le),+ae(cn,le),oe,ue,te,De)},visit:function(cn){Ya(cn,yn,oe,ue,te,De)},find:function(cn){return Xs(yn,cn[0],cn[1],oe,ue,te,De)}};if(le=-1,R==null){for(;++le<be;)an(yn,Ot[le],qt[le],Qt[le],oe,ue,te,De);--le}else Ot.forEach(yn.add);return qt=Qt=Ot=jt=null,yn}return Et.x=function(Ot){return arguments.length?(At=Ot,Et):At},Et.y=function(Ot){return arguments.length?(Tt=Ot,Et):Tt},Et.extent=function(Ot){return arguments.length?(Ot==null?R=K=lt=ut=null:(R=+Ot[0][0],K=+Ot[0][1],lt=+Ot[1][0],ut=+Ot[1][1]),Et):R==null?null:[[R,K],[lt,ut]]},Et.size=function(Ot){return arguments.length?(Ot==null?R=K=lt=ut=null:(R=K=0,lt=+Ot[0],ut=+Ot[1]),Et):R==null?null:[lt-R,ut-K]},Et},e.interpolateRgb=Vi,e.interpolateObject=Zo,e.interpolateNumber=ta,e.interpolateString=$o;var Wi=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Gi=new RegExp(Wi.source,"g");function xa(k,R){for(var K,lt=e.interpolators.length;--lt>=0&&!(K=e.interpolators[lt](k,R)););return K}function ui(k,R){var K,lt=[],ut=[],dt=k.length,At=R.length,Tt=Math.min(k.length,R.length);for(K=0;K<Tt;++K)lt.push(xa(k[K],R[K]));for(;K<dt;++K)ut[K]=k[K];for(;K<At;++K)ut[K]=R[K];return function(Et){for(K=0;K<Tt;++K)ut[K]=lt[K](Et);return ut}}e.interpolate=xa,e.interpolators=[function(k,R){var K=typeof R;return(K==="string"?Ue.has(R.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(R)?Vi:$o:R instanceof Ut?Vi:Array.isArray(R)?ui:K==="object"&&isNaN(R)?Zo:ta)(k,R)}],e.interpolateArray=ui;var Jo=function(){return O},Ks=e.map({linear:Jo,poly:function(k){return function(R){return Math.pow(R,k)}},quad:function(){return eu},cubic:function(){return nu},sin:function(){return au},exp:function(){return iu},circle:function(){return ou},elastic:function(k,R){var K;return arguments.length<2&&(R=.45),arguments.length?K=R/Wt*Math.asin(1/k):(k=1,K=R/4),function(lt){return 1+k*Math.pow(2,-10*lt)*Math.sin((lt-K)*Wt/R)}},back:function(k){return k||(k=1.70158),function(R){return R*R*((k+1)*R-k)}},bounce:function(){return lu}}),Qs=e.map({in:O,out:Xo,"in-out":Ko,"out-in":function(k){return Ko(Xo(k))}});function tu(k){return function(R){return R<=0?0:R>=1?1:k(R)}}function Xo(k){return function(R){return 1-k(1-R)}}function Ko(k){return function(R){return .5*(R<.5?k(2*R):2-k(2-2*R))}}function eu(k){return k*k}function nu(k){return k*k*k}function ru(k){if(k<=0)return 0;if(k>=1)return 1;var R=k*k,K=R*k;return 4*(k<.5?K:3*(k-R)+K-.75)}function au(k){return 1-Math.cos(k*$t)}function iu(k){return Math.pow(2,10*(k-1))}function ou(k){return 1-Math.sqrt(1-k*k)}function lu(k){return k<.36363636363636365?7.5625*k*k:k<.7272727272727273?7.5625*(k-=.5454545454545454)*k+.75:k<.9090909090909091?7.5625*(k-=.8181818181818182)*k+.9375:7.5625*(k-=.9545454545454546)*k+.984375}function Qo(k,R){return R-=k,function(K){return Math.round(k+R*K)}}function tl(k){var R,K,lt,ut=[k.a,k.b],dt=[k.c,k.d],At=nl(ut),Tt=el(ut,dt),Et=nl(((R=dt)[0]+=(lt=-Tt)*(K=ut)[0],R[1]+=lt*K[1],R))||0;ut[0]*dt[1]<dt[0]*ut[1]&&(ut[0]*=-1,ut[1]*=-1,At*=-1,Tt*=-1),this.rotate=(At?Math.atan2(ut[1],ut[0]):Math.atan2(-dt[0],dt[1]))*se,this.translate=[k.e,k.f],this.scale=[At,Et],this.skew=Et?Math.atan2(Tt,Et)*se:0}function el(k,R){return k[0]*R[0]+k[1]*R[1]}function nl(k){var R=Math.sqrt(el(k,k));return R&&(k[0]/=R,k[1]/=R),R}e.ease=function(k){var R=k.indexOf("-"),K=R>=0?k.slice(0,R):k,lt=R>=0?k.slice(R+1):"in";return K=Ks.get(K)||Jo,tu((lt=Qs.get(lt)||O)(K.apply(null,i.call(arguments,1))))},e.interpolateHcl=function(k,R){k=e.hcl(k),R=e.hcl(R);var K=k.h,lt=k.c,ut=k.l,dt=R.h-K,At=R.c-lt,Tt=R.l-ut;return isNaN(At)&&(At=0,lt=isNaN(lt)?R.c:lt),isNaN(dt)?(dt=0,K=isNaN(K)?R.h:K):dt>180?dt-=360:dt<-180&&(dt+=360),function(Et){return ve(K+dt*Et,lt+At*Et,ut+Tt*Et)+""}},e.interpolateHsl=function(k,R){k=e.hsl(k),R=e.hsl(R);var K=k.h,lt=k.s,ut=k.l,dt=R.h-K,At=R.s-lt,Tt=R.l-ut;return isNaN(At)&&(At=0,lt=isNaN(lt)?R.s:lt),isNaN(dt)?(dt=0,K=isNaN(K)?R.h:K):dt>180?dt-=360:dt<-180&&(dt+=360),function(Et){return ee(K+dt*Et,lt+At*Et,ut+Tt*Et)+""}},e.interpolateLab=function(k,R){k=e.lab(k),R=e.lab(R);var K=k.l,lt=k.a,ut=k.b,dt=R.l-K,At=R.a-lt,Tt=R.b-ut;return function(Et){return _e(K+dt*Et,lt+At*Et,ut+Tt*Et)+""}},e.interpolateRound=Qo,e.transform=function(k){var R=n.createElementNS(e.ns.prefix.svg,"g");return(e.transform=function(K){if(K!=null){R.setAttribute("transform",K);var lt=R.transform.baseVal.consolidate()}return new tl(lt?lt.matrix:su)})(k)},tl.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var su={a:1,b:0,c:0,d:1,e:0,f:0};function Sa(k){return k.length?k.pop()+",":""}function rl(k,R){var K=[],lt=[];return k=e.transform(k),R=e.transform(R),function(ut,dt,At,Tt){if(ut[0]!==dt[0]||ut[1]!==dt[1]){var Et=At.push("translate(",null,",",null,")");Tt.push({i:Et-4,x:ta(ut[0],dt[0])},{i:Et-2,x:ta(ut[1],dt[1])})}else(dt[0]||dt[1])&&At.push("translate("+dt+")")}(k.translate,R.translate,K,lt),function(ut,dt,At,Tt){ut!==dt?(ut-dt>180?dt+=360:dt-ut>180&&(ut+=360),Tt.push({i:At.push(Sa(At)+"rotate(",null,")")-2,x:ta(ut,dt)})):dt&&At.push(Sa(At)+"rotate("+dt+")")}(k.rotate,R.rotate,K,lt),function(ut,dt,At,Tt){ut!==dt?Tt.push({i:At.push(Sa(At)+"skewX(",null,")")-2,x:ta(ut,dt)}):dt&&At.push(Sa(At)+"skewX("+dt+")")}(k.skew,R.skew,K,lt),function(ut,dt,At,Tt){if(ut[0]!==dt[0]||ut[1]!==dt[1]){var Et=At.push(Sa(At)+"scale(",null,",",null,")");Tt.push({i:Et-4,x:ta(ut[0],dt[0])},{i:Et-2,x:ta(ut[1],dt[1])})}else dt[0]===1&&dt[1]===1||At.push(Sa(At)+"scale("+dt+")")}(k.scale,R.scale,K,lt),k=R=null,function(ut){for(var dt,At=-1,Tt=lt.length;++At<Tt;)K[(dt=lt[At]).i]=dt.x(ut);return K.join("")}}function uu(k,R){return R=(R-=k=+k)||1/R,function(K){return(K-k)/R}}function cu(k,R){return R=(R-=k=+k)||1/R,function(K){return Math.max(0,Math.min(1,(K-k)/R))}}function fu(k){for(var R=k.source,K=k.target,lt=function(At,Tt){if(At===Tt)return At;for(var Et=al(At),Ot=al(Tt),jt=Et.pop(),qt=Ot.pop(),Qt=null;jt===qt;)Qt=jt,jt=Et.pop(),qt=Ot.pop();return Qt}(R,K),ut=[R];R!==lt;)R=R.parent,ut.push(R);for(var dt=ut.length;K!==lt;)ut.splice(dt,0,K),K=K.parent;return ut}function al(k){for(var R=[],K=k.parent;K!=null;)R.push(k),k=K,K=K.parent;return R.push(k),R}function du(k){k.fixed|=2}function hu(k){k.fixed&=-7}function pu(k){k.fixed|=4,k.px=k.x,k.py=k.y}function yu(k){k.fixed&=-5}function il(k,R,K){var lt=0,ut=0;if(k.charge=0,!k.leaf)for(var dt,At=k.nodes,Tt=At.length,Et=-1;++Et<Tt;)(dt=At[Et])!=null&&(il(dt,R,K),k.charge+=dt.charge,lt+=dt.charge*dt.cx,ut+=dt.charge*dt.cy);if(k.point){k.leaf||(k.point.x+=Math.random()-.5,k.point.y+=Math.random()-.5);var Ot=R*K[k.point.index];k.charge+=k.pointCharge=Ot,lt+=Ot*k.point.x,ut+=Ot*k.point.y}k.cx=lt/k.charge,k.cy=ut/k.charge}e.interpolateTransform=rl,e.layout={},e.layout.bundle=function(){return function(k){for(var R=[],K=-1,lt=k.length;++K<lt;)R.push(fu(k[K]));return R}},e.layout.chord=function(){var k,R,K,lt,ut,dt,At,Tt={},Et=0;function Ot(){var qt,Qt,le,be,oe,ue={},te=[],De=e.range(lt),ce=[];for(k=[],R=[],qt=0,be=-1;++be<lt;){for(Qt=0,oe=-1;++oe<lt;)Qt+=K[be][oe];te.push(Qt),ce.push(e.range(lt)),qt+=Qt}for(ut&&De.sort(function(yn,cn){return ut(te[yn],te[cn])}),dt&&ce.forEach(function(yn,cn){yn.sort(function(Mn,Hn){return dt(K[cn][Mn],K[cn][Hn])})}),qt=(Wt-Et*lt)/qt,Qt=0,be=-1;++be<lt;){for(le=Qt,oe=-1;++oe<lt;){var ae=De[be],Le=ce[ae][oe],Ie=K[ae][Le],Ge=Qt,Ze=Qt+=Ie*qt;ue[ae+"-"+Le]={index:ae,subindex:Le,startAngle:Ge,endAngle:Ze,value:Ie}}R[ae]={index:ae,startAngle:le,endAngle:Qt,value:te[ae]},Qt+=Et}for(be=-1;++be<lt;)for(oe=be-1;++oe<lt;){var an=ue[be+"-"+oe],on=ue[oe+"-"+be];(an.value||on.value)&&k.push(an.value<on.value?{source:on,target:an}:{source:an,target:on})}At&&jt()}function jt(){k.sort(function(qt,Qt){return At((qt.source.value+qt.target.value)/2,(Qt.source.value+Qt.target.value)/2)})}return Tt.matrix=function(qt){return arguments.length?(lt=(K=qt)&&K.length,k=R=null,Tt):K},Tt.padding=function(qt){return arguments.length?(Et=qt,k=R=null,Tt):Et},Tt.sortGroups=function(qt){return arguments.length?(ut=qt,k=R=null,Tt):ut},Tt.sortSubgroups=function(qt){return arguments.length?(dt=qt,k=null,Tt):dt},Tt.sortChords=function(qt){return arguments.length?(At=qt,k&&jt(),Tt):At},Tt.chords=function(){return k||Ot(),k},Tt.groups=function(){return R||Ot(),R},Tt},e.layout.force=function(){var k,R,K,lt,ut,dt,At={},Tt=e.dispatch("start","tick","end"),Et=[1,1],Ot=.9,jt=vu,qt=gu,Qt=-30,le=mu,be=.1,oe=.64,ue=[],te=[];function De(ae){return function(Le,Ie,Ge,Ze){if(Le.point!==ae){var an=Le.cx-ae.x,on=Le.cy-ae.y,yn=Ze-Ie,cn=an*an+on*on;if(yn*yn/oe<cn){if(cn<le){var Mn=Le.charge/cn;ae.px-=an*Mn,ae.py-=on*Mn}return!0}Le.point&&cn&&cn<le&&(Mn=Le.pointCharge/cn,ae.px-=an*Mn,ae.py-=on*Mn)}return!Le.charge}}function ce(ae){ae.px=e.event.x,ae.py=e.event.y,At.resume()}return At.tick=function(){if((K*=.99)<.005)return k=null,Tt.end({type:"end",alpha:K=0}),!0;var ae,Le,Ie,Ge,Ze,an,on,yn,cn,Mn=ue.length,Hn=te.length;for(Le=0;Le<Hn;++Le)Ge=(Ie=te[Le]).source,(an=(yn=(Ze=Ie.target).x-Ge.x)*yn+(cn=Ze.y-Ge.y)*cn)&&(yn*=an=K*ut[Le]*((an=Math.sqrt(an))-lt[Le])/an,cn*=an,Ze.x-=yn*(on=Ge.weight+Ze.weight?Ge.weight/(Ge.weight+Ze.weight):.5),Ze.y-=cn*on,Ge.x+=yn*(on=1-on),Ge.y+=cn*on);if((on=K*be)&&(yn=Et[0]/2,cn=Et[1]/2,Le=-1,on))for(;++Le<Mn;)(Ie=ue[Le]).x+=(yn-Ie.x)*on,Ie.y+=(cn-Ie.y)*on;if(Qt)for(il(ae=e.geom.quadtree(ue),K,dt),Le=-1;++Le<Mn;)(Ie=ue[Le]).fixed||ae.visit(De(Ie));for(Le=-1;++Le<Mn;)(Ie=ue[Le]).fixed?(Ie.x=Ie.px,Ie.y=Ie.py):(Ie.x-=(Ie.px-(Ie.px=Ie.x))*Ot,Ie.y-=(Ie.py-(Ie.py=Ie.y))*Ot);Tt.tick({type:"tick",alpha:K})},At.nodes=function(ae){return arguments.length?(ue=ae,At):ue},At.links=function(ae){return arguments.length?(te=ae,At):te},At.size=function(ae){return arguments.length?(Et=ae,At):Et},At.linkDistance=function(ae){return arguments.length?(jt=typeof ae=="function"?ae:+ae,At):jt},At.distance=At.linkDistance,At.linkStrength=function(ae){return arguments.length?(qt=typeof ae=="function"?ae:+ae,At):qt},At.friction=function(ae){return arguments.length?(Ot=+ae,At):Ot},At.charge=function(ae){return arguments.length?(Qt=typeof ae=="function"?ae:+ae,At):Qt},At.chargeDistance=function(ae){return arguments.length?(le=ae*ae,At):Math.sqrt(le)},At.gravity=function(ae){return arguments.length?(be=+ae,At):be},At.theta=function(ae){return arguments.length?(oe=ae*ae,At):Math.sqrt(oe)},At.alpha=function(ae){return arguments.length?(ae=+ae,K?ae>0?K=ae:(k.c=null,k.t=NaN,k=null,Tt.end({type:"end",alpha:K=0})):ae>0&&(Tt.start({type:"start",alpha:K=ae}),k=Xe(At.tick)),At):K},At.start=function(){var ae,Le,Ie,Ge=ue.length,Ze=te.length,an=Et[0],on=Et[1];for(ae=0;ae<Ge;++ae)(Ie=ue[ae]).index=ae,Ie.weight=0;for(ae=0;ae<Ze;++ae)typeof(Ie=te[ae]).source=="number"&&(Ie.source=ue[Ie.source]),typeof Ie.target=="number"&&(Ie.target=ue[Ie.target]),++Ie.source.weight,++Ie.target.weight;for(ae=0;ae<Ge;++ae)Ie=ue[ae],isNaN(Ie.x)&&(Ie.x=yn("x",an)),isNaN(Ie.y)&&(Ie.y=yn("y",on)),isNaN(Ie.px)&&(Ie.px=Ie.x),isNaN(Ie.py)&&(Ie.py=Ie.y);if(lt=[],typeof jt=="function")for(ae=0;ae<Ze;++ae)lt[ae]=+jt.call(this,te[ae],ae);else for(ae=0;ae<Ze;++ae)lt[ae]=jt;if(ut=[],typeof qt=="function")for(ae=0;ae<Ze;++ae)ut[ae]=+qt.call(this,te[ae],ae);else for(ae=0;ae<Ze;++ae)ut[ae]=qt;if(dt=[],typeof Qt=="function")for(ae=0;ae<Ge;++ae)dt[ae]=+Qt.call(this,ue[ae],ae);else for(ae=0;ae<Ge;++ae)dt[ae]=Qt;function yn(cn,Mn){if(!Le){for(Le=new Array(Ge),dn=0;dn<Ge;++dn)Le[dn]=[];for(dn=0;dn<Ze;++dn){var Hn=te[dn];Le[Hn.source.index].push(Hn.target),Le[Hn.target.index].push(Hn.source)}}for(var lr,Ke=Le[ae],dn=-1,kn=Ke.length;++dn<kn;)if(!isNaN(lr=Ke[dn][cn]))return lr;return Math.random()*Mn}return At.resume()},At.resume=function(){return At.alpha(.1)},At.stop=function(){return At.alpha(0)},At.drag=function(){if(R||(R=e.behavior.drag().origin(O).on("dragstart.force",du).on("drag.force",ce).on("dragend.force",hu)),!arguments.length)return R;this.on("mouseover.force",pu).on("mouseout.force",yu).call(R)},e.rebind(At,Tt,"on")};var vu=20,gu=1,mu=1/0;function Va(k,R){return e.rebind(k,R,"sort","children","value"),k.nodes=k,k.links=wu,k}function Wa(k,R){for(var K=[k];(k=K.pop())!=null;)if(R(k),(ut=k.children)&&(lt=ut.length))for(var lt,ut;--lt>=0;)K.push(ut[lt])}function $r(k,R){for(var K=[k],lt=[];(k=K.pop())!=null;)if(lt.push(k),(dt=k.children)&&(ut=dt.length))for(var ut,dt,At=-1;++At<ut;)K.push(dt[At]);for(;(k=lt.pop())!=null;)R(k)}function xu(k){return k.children}function bu(k){return k.value}function _u(k,R){return R.value-k.value}function wu(k){return e.merge(k.map(function(R){return(R.children||[]).map(function(K){return{source:R,target:K}})}))}e.layout.hierarchy=function(){var k=_u,R=xu,K=bu;function lt(ut){var dt,At=[ut],Tt=[];for(ut.depth=0;(dt=At.pop())!=null;)if(Tt.push(dt),(Ot=R.call(lt,dt,dt.depth))&&(Et=Ot.length)){for(var Et,Ot,jt;--Et>=0;)At.push(jt=Ot[Et]),jt.parent=dt,jt.depth=dt.depth+1;K&&(dt.value=0),dt.children=Ot}else K&&(dt.value=+K.call(lt,dt,dt.depth)||0),delete dt.children;return $r(ut,function(qt){var Qt,le;k&&(Qt=qt.children)&&Qt.sort(k),K&&(le=qt.parent)&&(le.value+=qt.value)}),Tt}return lt.sort=function(ut){return arguments.length?(k=ut,lt):k},lt.children=function(ut){return arguments.length?(R=ut,lt):R},lt.value=function(ut){return arguments.length?(K=ut,lt):K},lt.revalue=function(ut){return K&&(Wa(ut,function(dt){dt.children&&(dt.value=0)}),$r(ut,function(dt){var At;dt.children||(dt.value=+K.call(lt,dt,dt.depth)||0),(At=dt.parent)&&(At.value+=dt.value)})),ut},lt},e.layout.partition=function(){var k=e.layout.hierarchy(),R=[1,1];function K(dt,At,Tt,Et){var Ot=dt.children;if(dt.x=At,dt.y=dt.depth*Et,dt.dx=Tt,dt.dy=Et,Ot&&(jt=Ot.length)){var jt,qt,Qt,le=-1;for(Tt=dt.value?Tt/dt.value:0;++le<jt;)K(qt=Ot[le],At,Qt=qt.value*Tt,Et),At+=Qt}}function lt(dt){var At=dt.children,Tt=0;if(At&&(Et=At.length))for(var Et,Ot=-1;++Ot<Et;)Tt=Math.max(Tt,lt(At[Ot]));return 1+Tt}function ut(dt,At){var Tt=k.call(this,dt,At);return K(Tt[0],0,R[0],R[1]/lt(Tt[0])),Tt}return ut.size=function(dt){return arguments.length?(R=dt,ut):R},Va(ut,k)},e.layout.pie=function(){var k=Number,R=ol,K=0,lt=Wt,ut=0;function dt(At){var Tt,Et=At.length,Ot=At.map(function(De,ce){return+k.call(dt,De,ce)}),jt=+(typeof K=="function"?K.apply(this,arguments):K),qt=(typeof lt=="function"?lt.apply(this,arguments):lt)-jt,Qt=Math.min(Math.abs(qt)/Et,+(typeof ut=="function"?ut.apply(this,arguments):ut)),le=Qt*(qt<0?-1:1),be=e.sum(Ot),oe=be?(qt-Et*le)/be:0,ue=e.range(Et),te=[];return R!=null&&ue.sort(R===ol?function(De,ce){return Ot[ce]-Ot[De]}:function(De,ce){return R(At[De],At[ce])}),ue.forEach(function(De){te[De]={data:At[De],value:Tt=Ot[De],startAngle:jt,endAngle:jt+=Tt*oe+le,padAngle:Qt}}),te}return dt.value=function(At){return arguments.length?(k=At,dt):k},dt.sort=function(At){return arguments.length?(R=At,dt):R},dt.startAngle=function(At){return arguments.length?(K=At,dt):K},dt.endAngle=function(At){return arguments.length?(lt=At,dt):lt},dt.padAngle=function(At){return arguments.length?(ut=At,dt):ut},dt};var ol={};function Au(k){return k.x}function Tu(k){return k.y}function ku(k,R,K){k.y0=R,k.y=K}e.layout.stack=function(){var k=O,R=Zi,K=$i,lt=ku,ut=Au,dt=Tu;function At(Tt,Et){if(!(Qt=Tt.length))return Tt;var Ot=Tt.map(function(De,ce){return k.call(At,De,ce)}),jt=Ot.map(function(De){return De.map(function(ce,ae){return[ut.call(At,ce,ae),dt.call(At,ce,ae)]})}),qt=R.call(At,jt,Et);Ot=e.permute(Ot,qt),jt=e.permute(jt,qt);var Qt,le,be,oe,ue=K.call(At,jt,Et),te=Ot[0].length;for(be=0;be<te;++be)for(lt.call(At,Ot[0][be],oe=ue[be],jt[0][be][1]),le=1;le<Qt;++le)lt.call(At,Ot[le][be],oe+=jt[le-1][be][1],jt[le][be][1]);return Tt}return At.values=function(Tt){return arguments.length?(k=Tt,At):k},At.order=function(Tt){return arguments.length?(R=typeof Tt=="function"?Tt:Du.get(Tt)||Zi,At):R},At.offset=function(Tt){return arguments.length?(K=typeof Tt=="function"?Tt:Mu.get(Tt)||$i,At):K},At.x=function(Tt){return arguments.length?(ut=Tt,At):ut},At.y=function(Tt){return arguments.length?(dt=Tt,At):dt},At.out=function(Tt){return arguments.length?(lt=Tt,At):lt},At};var Du=e.map({"inside-out":function(k){var R,K,lt=k.length,ut=k.map(Su),dt=k.map(Eu),At=e.range(lt).sort(function(qt,Qt){return ut[qt]-ut[Qt]}),Tt=0,Et=0,Ot=[],jt=[];for(R=0;R<lt;++R)K=At[R],Tt<Et?(Tt+=dt[K],Ot.push(K)):(Et+=dt[K],jt.push(K));return jt.reverse().concat(Ot)},reverse:function(k){return e.range(k.length).reverse()},default:Zi}),Mu=e.map({silhouette:function(k){var R,K,lt,ut=k.length,dt=k[0].length,At=[],Tt=0,Et=[];for(K=0;K<dt;++K){for(R=0,lt=0;R<ut;R++)lt+=k[R][K][1];lt>Tt&&(Tt=lt),At.push(lt)}for(K=0;K<dt;++K)Et[K]=(Tt-At[K])/2;return Et},wiggle:function(k){var R,K,lt,ut,dt,At,Tt,Et,Ot,jt=k.length,qt=k[0],Qt=qt.length,le=[];for(le[0]=Et=Ot=0,K=1;K<Qt;++K){for(R=0,ut=0;R<jt;++R)ut+=k[R][K][1];for(R=0,dt=0,Tt=qt[K][0]-qt[K-1][0];R<jt;++R){for(lt=0,At=(k[R][K][1]-k[R][K-1][1])/(2*Tt);lt<R;++lt)At+=(k[lt][K][1]-k[lt][K-1][1])/Tt;dt+=At*k[R][K][1]}le[K]=Et-=ut?dt/ut*Tt:0,Et<Ot&&(Ot=Et)}for(K=0;K<Qt;++K)le[K]-=Ot;return le},expand:function(k){var R,K,lt,ut=k.length,dt=k[0].length,At=1/ut,Tt=[];for(K=0;K<dt;++K){for(R=0,lt=0;R<ut;R++)lt+=k[R][K][1];if(lt)for(R=0;R<ut;R++)k[R][K][1]/=lt;else for(R=0;R<ut;R++)k[R][K][1]=At}for(K=0;K<dt;++K)Tt[K]=0;return Tt},zero:$i});function Zi(k){return e.range(k.length)}function $i(k){for(var R=-1,K=k[0].length,lt=[];++R<K;)lt[R]=0;return lt}function Su(k){for(var R,K=1,lt=0,ut=k[0][1],dt=k.length;K<dt;++K)(R=k[K][1])>ut&&(lt=K,ut=R);return lt}function Eu(k){return k.reduce(Cu,0)}function Cu(k,R){return k+R[1]}function Fu(k,R){return ll(k,Math.ceil(Math.log(R.length)/Math.LN2+1))}function ll(k,R){for(var K=-1,lt=+k[0],ut=(k[1]-lt)/R,dt=[];++K<=R;)dt[K]=ut*K+lt;return dt}function Ou(k){return[e.min(k),e.max(k)]}function Lu(k,R){return k.value-R.value}function Ji(k,R){var K=k._pack_next;k._pack_next=R,R._pack_prev=k,R._pack_next=K,K._pack_prev=R}function sl(k,R){k._pack_next=R,R._pack_prev=k}function ul(k,R){var K=R.x-k.x,lt=R.y-k.y,ut=k.r+R.r;return .999*ut*ut>K*K+lt*lt}function cl(k){if((R=k.children)&&(Et=R.length)){var R,K,lt,ut,dt,At,Tt,Et,Ot=1/0,jt=-1/0,qt=1/0,Qt=-1/0;if(R.forEach(Iu),(K=R[0]).x=-K.r,K.y=0,ce(K),Et>1&&((lt=R[1]).x=lt.r,lt.y=0,ce(lt),Et>2))for(dl(K,lt,ut=R[2]),ce(ut),Ji(K,ut),K._pack_prev=ut,Ji(ut,lt),lt=K._pack_next,dt=3;dt<Et;dt++){dl(K,lt,ut=R[dt]);var le=0,be=1,oe=1;for(At=lt._pack_next;At!==lt;At=At._pack_next,be++)if(ul(At,ut)){le=1;break}if(le==1)for(Tt=K._pack_prev;Tt!==At._pack_prev&&!ul(Tt,ut);Tt=Tt._pack_prev,oe++);le?(be<oe||be==oe&&lt.r<K.r?sl(K,lt=At):sl(K=Tt,lt),dt--):(Ji(K,ut),lt=ut,ce(ut))}var ue=(Ot+jt)/2,te=(qt+Qt)/2,De=0;for(dt=0;dt<Et;dt++)(ut=R[dt]).x-=ue,ut.y-=te,De=Math.max(De,ut.r+Math.sqrt(ut.x*ut.x+ut.y*ut.y));k.r=De,R.forEach(Pu)}function ce(ae){Ot=Math.min(ae.x-ae.r,Ot),jt=Math.max(ae.x+ae.r,jt),qt=Math.min(ae.y-ae.r,qt),Qt=Math.max(ae.y+ae.r,Qt)}}function Iu(k){k._pack_next=k._pack_prev=k}function Pu(k){delete k._pack_next,delete k._pack_prev}function fl(k,R,K,lt){var ut=k.children;if(k.x=R+=lt*k.x,k.y=K+=lt*k.y,k.r*=lt,ut)for(var dt=-1,At=ut.length;++dt<At;)fl(ut[dt],R,K,lt)}function dl(k,R,K){var lt=k.r+K.r,ut=R.x-k.x,dt=R.y-k.y;if(lt&&(ut||dt)){var At=R.r+K.r,Tt=ut*ut+dt*dt,Et=.5+((lt*=lt)-(At*=At))/(2*Tt),Ot=Math.sqrt(Math.max(0,2*At*(lt+Tt)-(lt-=Tt)*lt-At*At))/(2*Tt);K.x=k.x+Et*ut+Ot*dt,K.y=k.y+Et*dt-Ot*ut}else K.x=k.x+lt,K.y=k.y}function hl(k,R){return k.parent==R.parent?1:2}function Xi(k){var R=k.children;return R.length?R[0]:k.t}function Ki(k){var R,K=k.children;return(R=K.length)?K[R-1]:k.t}function Bu(k,R,K){var lt=K/(R.i-k.i);R.c-=lt,R.s+=K,k.c+=lt,R.z+=K,R.m+=K}function Ru(k,R,K){return k.a.parent===R.parent?k.a:K}function pl(k){var R=k.children;return R&&R.length?pl(R[0]):k}function yl(k){var R,K=k.children;return K&&(R=K.length)?yl(K[R-1]):k}function Qi(k){return{x:k.x,y:k.y,dx:k.dx,dy:k.dy}}function vl(k,R){var K=k.x+R[3],lt=k.y+R[0],ut=k.dx-R[1]-R[3],dt=k.dy-R[0]-R[2];return ut<0&&(K+=ut/2,ut=0),dt<0&&(lt+=dt/2,dt=0),{x:K,y:lt,dx:ut,dy:dt}}function ci(k){var R=k[0],K=k[k.length-1];return R<K?[R,K]:[K,R]}function fi(k){return k.rangeExtent?k.rangeExtent():ci(k.range())}function zu(k,R,K,lt){var ut=K(k[0],k[1]),dt=lt(R[0],R[1]);return function(At){return dt(ut(At))}}function to(k,R){var K,lt=0,ut=k.length-1,dt=k[lt],At=k[ut];return At<dt&&(K=lt,lt=ut,ut=K,K=dt,dt=At,At=K),k[lt]=R.floor(dt),k[ut]=R.ceil(At),k}function gl(k){return k?{floor:function(R){return Math.floor(R/k)*k},ceil:function(R){return Math.ceil(R/k)*k}}:Nu}e.layout.histogram=function(){var k=!0,R=Number,K=Ou,lt=Fu;function ut(dt,At){for(var Tt,Et,Ot=[],jt=dt.map(R,this),qt=K.call(this,jt,At),Qt=lt.call(this,qt,jt,At),le=(At=-1,jt.length),be=Qt.length-1,oe=k?1:1/le;++At<be;)(Tt=Ot[At]=[]).dx=Qt[At+1]-(Tt.x=Qt[At]),Tt.y=0;if(be>0)for(At=-1;++At<le;)(Et=jt[At])>=qt[0]&&Et<=qt[1]&&((Tt=Ot[e.bisect(Qt,Et,1,be)-1]).y+=oe,Tt.push(dt[At]));return Ot}return ut.value=function(dt){return arguments.length?(R=dt,ut):R},ut.range=function(dt){return arguments.length?(K=He(dt),ut):K},ut.bins=function(dt){return arguments.length?(lt=typeof dt=="number"?function(At){return ll(At,dt)}:He(dt),ut):lt},ut.frequency=function(dt){return arguments.length?(k=!!dt,ut):k},ut},e.layout.pack=function(){var k,R=e.layout.hierarchy().sort(Lu),K=0,lt=[1,1];function ut(dt,At){var Tt=R.call(this,dt,At),Et=Tt[0],Ot=lt[0],jt=lt[1],qt=k==null?Math.sqrt:typeof k=="function"?k:function(){return k};if(Et.x=Et.y=0,$r(Et,function(le){le.r=+qt(le.value)}),$r(Et,cl),K){var Qt=K*(k?1:Math.max(2*Et.r/Ot,2*Et.r/jt))/2;$r(Et,function(le){le.r+=Qt}),$r(Et,cl),$r(Et,function(le){le.r-=Qt})}return fl(Et,Ot/2,jt/2,k?1:1/Math.max(2*Et.r/Ot,2*Et.r/jt)),Tt}return ut.size=function(dt){return arguments.length?(lt=dt,ut):lt},ut.radius=function(dt){return arguments.length?(k=dt==null||typeof dt=="function"?dt:+dt,ut):k},ut.padding=function(dt){return arguments.length?(K=+dt,ut):K},Va(ut,R)},e.layout.tree=function(){var k=e.layout.hierarchy().sort(null).value(null),R=hl,K=[1,1],lt=null;function ut(Et,Ot){var jt=k.call(this,Et,Ot),qt=jt[0],Qt=function(ce){for(var ae,Le={A:null,children:[ce]},Ie=[Le];(ae=Ie.pop())!=null;)for(var Ge,Ze=ae.children,an=0,on=Ze.length;an<on;++an)Ie.push((Ze[an]=Ge={_:Ze[an],parent:ae,children:(Ge=Ze[an].children)&&Ge.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:an}).a=Ge);return Le.children[0]}(qt);if($r(Qt,dt),Qt.parent.m=-Qt.z,Wa(Qt,At),lt)Wa(qt,Tt);else{var le=qt,be=qt,oe=qt;Wa(qt,function(ce){ce.x<le.x&&(le=ce),ce.x>be.x&&(be=ce),ce.depth>oe.depth&&(oe=ce)});var ue=R(le,be)/2-le.x,te=K[0]/(be.x+R(be,le)/2+ue),De=K[1]/(oe.depth||1);Wa(qt,function(ce){ce.x=(ce.x+ue)*te,ce.y=ce.depth*De})}return jt}function dt(Et){var Ot=Et.children,jt=Et.parent.children,qt=Et.i?jt[Et.i-1]:null;if(Ot.length){(function(le){for(var be,oe=0,ue=0,te=le.children,De=te.length;--De>=0;)(be=te[De]).z+=oe,be.m+=oe,oe+=be.s+(ue+=be.c)})(Et);var Qt=(Ot[0].z+Ot[Ot.length-1].z)/2;qt?(Et.z=qt.z+R(Et._,qt._),Et.m=Et.z-Qt):Et.z=Qt}else qt&&(Et.z=qt.z+R(Et._,qt._));Et.parent.A=function(le,be,oe){if(be){for(var ue,te=le,De=le,ce=be,ae=te.parent.children[0],Le=te.m,Ie=De.m,Ge=ce.m,Ze=ae.m;ce=Ki(ce),te=Xi(te),ce&&te;)ae=Xi(ae),(De=Ki(De)).a=le,(ue=ce.z+Ge-te.z-Le+R(ce._,te._))>0&&(Bu(Ru(ce,le,oe),le,ue),Le+=ue,Ie+=ue),Ge+=ce.m,Le+=te.m,Ze+=ae.m,Ie+=De.m;ce&&!Ki(De)&&(De.t=ce,De.m+=Ge-Ie),te&&!Xi(ae)&&(ae.t=te,ae.m+=Le-Ze,oe=le)}return oe}(Et,qt,Et.parent.A||jt[0])}function At(Et){Et._.x=Et.z+Et.parent.m,Et.m+=Et.parent.m}function Tt(Et){Et.x*=K[0],Et.y=Et.depth*K[1]}return ut.separation=function(Et){return arguments.length?(R=Et,ut):R},ut.size=function(Et){return arguments.length?(lt=(K=Et)==null?Tt:null,ut):lt?null:K},ut.nodeSize=function(Et){return arguments.length?(lt=(K=Et)==null?null:Tt,ut):lt?K:null},Va(ut,k)},e.layout.cluster=function(){var k=e.layout.hierarchy().sort(null).value(null),R=hl,K=[1,1],lt=!1;function ut(dt,At){var Tt,Et=k.call(this,dt,At),Ot=Et[0],jt=0;$r(Ot,function(oe){var ue=oe.children;ue&&ue.length?(oe.x=function(te){return te.reduce(function(De,ce){return De+ce.x},0)/te.length}(ue),oe.y=function(te){return 1+e.max(te,function(De){return De.y})}(ue)):(oe.x=Tt?jt+=R(oe,Tt):0,oe.y=0,Tt=oe)});var qt=pl(Ot),Qt=yl(Ot),le=qt.x-R(qt,Qt)/2,be=Qt.x+R(Qt,qt)/2;return $r(Ot,lt?function(oe){oe.x=(oe.x-Ot.x)*K[0],oe.y=(Ot.y-oe.y)*K[1]}:function(oe){oe.x=(oe.x-le)/(be-le)*K[0],oe.y=(1-(Ot.y?oe.y/Ot.y:1))*K[1]}),Et}return ut.separation=function(dt){return arguments.length?(R=dt,ut):R},ut.size=function(dt){return arguments.length?(lt=(K=dt)==null,ut):lt?null:K},ut.nodeSize=function(dt){return arguments.length?(lt=(K=dt)!=null,ut):lt?K:null},Va(ut,k)},e.layout.treemap=function(){var k,R=e.layout.hierarchy(),K=Math.round,lt=[1,1],ut=null,dt=Qi,At=!1,Tt="squarify",Et=.5*(1+Math.sqrt(5));function Ot(oe,ue){for(var te,De,ce=-1,ae=oe.length;++ce<ae;)De=(te=oe[ce]).value*(ue<0?0:ue),te.area=isNaN(De)||De<=0?0:De}function jt(oe){var ue=oe.children;if(ue&&ue.length){var te,De,ce,ae=dt(oe),Le=[],Ie=ue.slice(),Ge=1/0,Ze=Tt==="slice"?ae.dx:Tt==="dice"?ae.dy:Tt==="slice-dice"?1&oe.depth?ae.dy:ae.dx:Math.min(ae.dx,ae.dy);for(Ot(Ie,ae.dx*ae.dy/oe.value),Le.area=0;(ce=Ie.length)>0;)Le.push(te=Ie[ce-1]),Le.area+=te.area,Tt!=="squarify"||(De=Qt(Le,Ze))<=Ge?(Ie.pop(),Ge=De):(Le.area-=Le.pop().area,le(Le,Ze,ae,!1),Ze=Math.min(ae.dx,ae.dy),Le.length=Le.area=0,Ge=1/0);Le.length&&(le(Le,Ze,ae,!0),Le.length=Le.area=0),ue.forEach(jt)}}function qt(oe){var ue=oe.children;if(ue&&ue.length){var te,De=dt(oe),ce=ue.slice(),ae=[];for(Ot(ce,De.dx*De.dy/oe.value),ae.area=0;te=ce.pop();)ae.push(te),ae.area+=te.area,te.z!=null&&(le(ae,te.z?De.dx:De.dy,De,!ce.length),ae.length=ae.area=0);ue.forEach(qt)}}function Qt(oe,ue){for(var te,De=oe.area,ce=0,ae=1/0,Le=-1,Ie=oe.length;++Le<Ie;)(te=oe[Le].area)&&(te<ae&&(ae=te),te>ce&&(ce=te));return ue*=ue,(De*=De)?Math.max(ue*ce*Et/De,De/(ue*ae*Et)):1/0}function le(oe,ue,te,De){var ce,ae=-1,Le=oe.length,Ie=te.x,Ge=te.y,Ze=ue?K(oe.area/ue):0;if(ue==te.dx){for((De||Ze>te.dy)&&(Ze=te.dy);++ae<Le;)(ce=oe[ae]).x=Ie,ce.y=Ge,ce.dy=Ze,Ie+=ce.dx=Math.min(te.x+te.dx-Ie,Ze?K(ce.area/Ze):0);ce.z=!0,ce.dx+=te.x+te.dx-Ie,te.y+=Ze,te.dy-=Ze}else{for((De||Ze>te.dx)&&(Ze=te.dx);++ae<Le;)(ce=oe[ae]).x=Ie,ce.y=Ge,ce.dx=Ze,Ge+=ce.dy=Math.min(te.y+te.dy-Ge,Ze?K(ce.area/Ze):0);ce.z=!1,ce.dy+=te.y+te.dy-Ge,te.x+=Ze,te.dx-=Ze}}function be(oe){var ue=k||R(oe),te=ue[0];return te.x=te.y=0,te.value?(te.dx=lt[0],te.dy=lt[1]):te.dx=te.dy=0,k&&R.revalue(te),Ot([te],te.dx*te.dy/te.value),(k?qt:jt)(te),At&&(k=ue),ue}return be.size=function(oe){return arguments.length?(lt=oe,be):lt},be.padding=function(oe){if(!arguments.length)return ut;function ue(ce){var ae=oe.call(be,ce,ce.depth);return ae==null?Qi(ce):vl(ce,typeof ae=="number"?[ae,ae,ae,ae]:ae)}function te(ce){return vl(ce,oe)}var De;return dt=(ut=oe)==null?Qi:(De=typeof oe)=="function"?ue:(De==="number"&&(oe=[oe,oe,oe,oe]),te),be},be.round=function(oe){return arguments.length?(K=oe?Math.round:Number,be):K!=Number},be.sticky=function(oe){return arguments.length?(At=oe,k=null,be):At},be.ratio=function(oe){return arguments.length?(Et=oe,be):Et},be.mode=function(oe){return arguments.length?(Tt=oe+"",be):Tt},Va(be,R)},e.random={normal:function(k,R){var K=arguments.length;return K<2&&(R=1),K<1&&(k=0),function(){var lt,ut,dt;do dt=(lt=2*Math.random()-1)*lt+(ut=2*Math.random()-1)*ut;while(!dt||dt>1);return k+R*lt*Math.sqrt(-2*Math.log(dt)/dt)}},logNormal:function(){var k=e.random.normal.apply(e,arguments);return function(){return Math.exp(k())}},bates:function(k){var R=e.random.irwinHall(k);return function(){return R()/k}},irwinHall:function(k){return function(){for(var R=0,K=0;K<k;K++)R+=Math.random();return R}}},e.scale={};var Nu={floor:O,ceil:O};function ju(k,R,K,lt){var ut=[],dt=[],At=0,Tt=Math.min(k.length,R.length)-1;for(k[Tt]<k[0]&&(k=k.slice().reverse(),R=R.slice().reverse());++At<=Tt;)ut.push(K(k[At-1],k[At])),dt.push(lt(R[At-1],R[At]));return function(Et){var Ot=e.bisect(k,Et,1,Tt)-1;return dt[Ot](ut[Ot](Et))}}function ml(k,R,K,lt){var ut,dt;function At(){var Et=Math.min(k.length,R.length)>2?ju:zu,Ot=lt?cu:uu;return ut=Et(k,R,Ot,K),dt=Et(R,k,Ot,xa),Tt}function Tt(Et){return ut(Et)}return Tt.invert=function(Et){return dt(Et)},Tt.domain=function(Et){return arguments.length?(k=Et.map(Number),At()):k},Tt.range=function(Et){return arguments.length?(R=Et,At()):R},Tt.rangeRound=function(Et){return Tt.range(Et).interpolate(Qo)},Tt.clamp=function(Et){return arguments.length?(lt=Et,At()):lt},Tt.interpolate=function(Et){return arguments.length?(K=Et,At()):K},Tt.ticks=function(Et){return no(k,Et)},Tt.tickFormat=function(Et,Ot){return d3_scale_linearTickFormat(k,Et,Ot)},Tt.nice=function(Et){return bl(k,Et),At()},Tt.copy=function(){return ml(k,R,K,lt)},At()}function xl(k,R){return e.rebind(k,R,"range","rangeRound","interpolate","clamp")}function bl(k,R){return to(k,gl(eo(k,R)[2])),to(k,gl(eo(k,R)[2])),k}function eo(k,R){R==null&&(R=10);var K=ci(k),lt=K[1]-K[0],ut=Math.pow(10,Math.floor(Math.log(lt/R)/Math.LN10)),dt=R/lt*ut;return dt<=.15?ut*=10:dt<=.35?ut*=5:dt<=.75&&(ut*=2),K[0]=Math.ceil(K[0]/ut)*ut,K[1]=Math.floor(K[1]/ut)*ut+.5*ut,K[2]=ut,K}function no(k,R){return e.range.apply(e,eo(k,R))}function _l(k,R,K,lt){function ut(Tt){return(K?Math.log(Tt<0?0:Tt):-Math.log(Tt>0?0:-Tt))/Math.log(R)}function dt(Tt){return K?Math.pow(R,Tt):-Math.pow(R,-Tt)}function At(Tt){return k(ut(Tt))}return At.invert=function(Tt){return dt(k.invert(Tt))},At.domain=function(Tt){return arguments.length?(K=Tt[0]>=0,k.domain((lt=Tt.map(Number)).map(ut)),At):lt},At.base=function(Tt){return arguments.length?(R=+Tt,k.domain(lt.map(ut)),At):R},At.nice=function(){var Tt=to(lt.map(ut),K?Math:Uu);return k.domain(Tt),lt=Tt.map(dt),At},At.ticks=function(){var Tt=ci(lt),Et=[],Ot=Tt[0],jt=Tt[1],qt=Math.floor(ut(Ot)),Qt=Math.ceil(ut(jt)),le=R%1?2:R;if(isFinite(Qt-qt)){if(K){for(;qt<Qt;qt++)for(var be=1;be<le;be++)Et.push(dt(qt)*be);Et.push(dt(qt))}else for(Et.push(dt(qt));qt++<Qt;)for(be=le-1;be>0;be--)Et.push(dt(qt)*be);for(qt=0;Et[qt]<Ot;qt++);for(Qt=Et.length;Et[Qt-1]>jt;Qt--);Et=Et.slice(qt,Qt)}return Et},At.copy=function(){return _l(k.copy(),R,K,lt)},xl(At,k)}e.scale.linear=function(){return ml([0,1],[0,1],xa,!1)},e.scale.log=function(){return _l(e.scale.linear().domain([0,1]),10,!0,[1,10])};var Uu={floor:function(k){return-Math.ceil(-k)},ceil:function(k){return-Math.floor(-k)}};function wl(k,R,K){var lt=di(R),ut=di(1/R);function dt(At){return k(lt(At))}return dt.invert=function(At){return ut(k.invert(At))},dt.domain=function(At){return arguments.length?(k.domain((K=At.map(Number)).map(lt)),dt):K},dt.ticks=function(At){return no(K,At)},dt.tickFormat=function(At,Tt){return d3_scale_linearTickFormat(K,At,Tt)},dt.nice=function(At){return dt.domain(bl(K,At))},dt.exponent=function(At){return arguments.length?(lt=di(R=At),ut=di(1/R),k.domain(K.map(lt)),dt):R},dt.copy=function(){return wl(k.copy(),R,K)},xl(dt,k)}function di(k){return function(R){return R<0?-Math.pow(-R,k):Math.pow(R,k)}}function Al(k,R){var K,lt,ut;function dt(Tt){return lt[((K.get(Tt)||(R.t==="range"?K.set(Tt,k.push(Tt)):NaN))-1)%lt.length]}function At(Tt,Et){return e.range(k.length).map(function(Ot){return Tt+Et*Ot})}return dt.domain=function(Tt){if(!arguments.length)return k;k=[],K=new S;for(var Et,Ot=-1,jt=Tt.length;++Ot<jt;)K.has(Et=Tt[Ot])||K.set(Et,k.push(Et));return dt[R.t].apply(dt,R.a)},dt.range=function(Tt){return arguments.length?(lt=Tt,ut=0,R={t:"range",a:arguments},dt):lt},dt.rangePoints=function(Tt,Et){arguments.length<2&&(Et=0);var Ot=Tt[0],jt=Tt[1],qt=k.length<2?(Ot=(Ot+jt)/2,0):(jt-Ot)/(k.length-1+Et);return lt=At(Ot+qt*Et/2,qt),ut=0,R={t:"rangePoints",a:arguments},dt},dt.rangeRoundPoints=function(Tt,Et){arguments.length<2&&(Et=0);var Ot=Tt[0],jt=Tt[1],qt=k.length<2?(Ot=jt=Math.round((Ot+jt)/2),0):(jt-Ot)/(k.length-1+Et)|0;return lt=At(Ot+Math.round(qt*Et/2+(jt-Ot-(k.length-1+Et)*qt)/2),qt),ut=0,R={t:"rangeRoundPoints",a:arguments},dt},dt.rangeBands=function(Tt,Et,Ot){arguments.length<2&&(Et=0),arguments.length<3&&(Ot=Et);var jt=Tt[1]<Tt[0],qt=Tt[jt-0],Qt=Tt[1-jt],le=(Qt-qt)/(k.length-Et+2*Ot);return lt=At(qt+le*Ot,le),jt&&lt.reverse(),ut=le*(1-Et),R={t:"rangeBands",a:arguments},dt},dt.rangeRoundBands=function(Tt,Et,Ot){arguments.length<2&&(Et=0),arguments.length<3&&(Ot=Et);var jt=Tt[1]<Tt[0],qt=Tt[jt-0],Qt=Tt[1-jt],le=Math.floor((Qt-qt)/(k.length-Et+2*Ot));return lt=At(qt+Math.round((Qt-qt-(k.length-Et)*le)/2),le),jt&&lt.reverse(),ut=Math.round(le*(1-Et)),R={t:"rangeRoundBands",a:arguments},dt},dt.rangeBand=function(){return ut},dt.rangeExtent=function(){return ci(R.a[0])},dt.copy=function(){return Al(k,R)},dt.domain(k)}e.scale.pow=function(){return wl(e.scale.linear(),1,[0,1])},e.scale.sqrt=function(){return e.scale.pow().exponent(.5)},e.scale.ordinal=function(){return Al([],{t:"range",a:[[]]})},e.scale.category10=function(){return e.scale.ordinal().range(Hu)},e.scale.category20=function(){return e.scale.ordinal().range(qu)},e.scale.category20b=function(){return e.scale.ordinal().range(Yu)},e.scale.category20c=function(){return e.scale.ordinal().range(Vu)};var Hu=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(Re),qu=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(Re),Yu=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(Re),Vu=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(Re);function Tl(k,R){var K;function lt(){var dt=0,At=R.length;for(K=[];++dt<At;)K[dt-1]=e.quantile(k,dt/At);return ut}function ut(dt){if(!isNaN(dt=+dt))return R[e.bisect(K,dt)]}return ut.domain=function(dt){return arguments.length?(k=dt.map(y).filter(b).sort(g),lt()):k},ut.range=function(dt){return arguments.length?(R=dt,lt()):R},ut.quantiles=function(){return K},ut.invertExtent=function(dt){return(dt=R.indexOf(dt))<0?[NaN,NaN]:[dt>0?K[dt-1]:k[0],dt<K.length?K[dt]:k[k.length-1]]},ut.copy=function(){return Tl(k,R)},lt()}function kl(k,R,K){var lt,ut;function dt(Tt){return K[Math.max(0,Math.min(ut,Math.floor(lt*(Tt-k))))]}function At(){return lt=K.length/(R-k),ut=K.length-1,dt}return dt.domain=function(Tt){return arguments.length?(k=+Tt[0],R=+Tt[Tt.length-1],At()):[k,R]},dt.range=function(Tt){return arguments.length?(K=Tt,At()):K},dt.invertExtent=function(Tt){return[Tt=(Tt=K.indexOf(Tt))<0?NaN:Tt/lt+k,Tt+1/lt]},dt.copy=function(){return kl(k,R,K)},At()}function Dl(k,R){function K(lt){if(lt<=lt)return R[e.bisect(k,lt)]}return K.domain=function(lt){return arguments.length?(k=lt,K):k},K.range=function(lt){return arguments.length?(R=lt,K):R},K.invertExtent=function(lt){return lt=R.indexOf(lt),[k[lt-1],k[lt]]},K.copy=function(){return Dl(k,R)},K}function Ml(k){function R(K){return+K}return R.invert=R,R.domain=R.range=function(K){return arguments.length?(k=K.map(R),R):k},R.ticks=function(K){return no(k,K)},R.tickFormat=function(K,lt){return d3_scale_linearTickFormat(k,K,lt)},R.copy=function(){return Ml(k)},R}function Wu(){return 0}e.scale.quantile=function(){return Tl([],[])},e.scale.quantize=function(){return kl(0,1,[0,1])},e.scale.threshold=function(){return Dl([.5],[0,1])},e.scale.identity=function(){return Ml([0,1])},e.svg={},e.svg.arc=function(){var k=Gu,R=Zu,K=Wu,lt=hi,ut=Sl,dt=El,At=$u;function Tt(){var Ot=Math.max(0,+k.apply(this,arguments)),jt=Math.max(0,+R.apply(this,arguments)),qt=ut.apply(this,arguments)-$t,Qt=dt.apply(this,arguments)-$t,le=Math.abs(Qt-qt),be=qt>Qt?0:1;if(jt<Ot&&(oe=jt,jt=Ot,Ot=oe),le>=he)return Et(jt,be)+(Ot?Et(Ot,1-be):"")+"Z";var oe,ue,te,De,ce,ae,Le,Ie,Ge,Ze,an,on,yn=0,cn=0,Mn=[];if((De=(+At.apply(this,arguments)||0)/2)&&(te=lt===hi?Math.sqrt(Ot*Ot+jt*jt):+lt.apply(this,arguments),be||(cn*=-1),jt&&(cn=Pe(te/jt*Math.sin(De))),Ot&&(yn=Pe(te/Ot*Math.sin(De)))),jt){ce=jt*Math.cos(qt+cn),ae=jt*Math.sin(qt+cn),Le=jt*Math.cos(Qt-cn),Ie=jt*Math.sin(Qt-cn);var Hn=Math.abs(Qt-qt-2*cn)<=Zt?0:1;if(cn&&pi(ce,ae,Le,Ie)===be^Hn){var lr=(qt+Qt)/2;ce=jt*Math.cos(lr),ae=jt*Math.sin(lr),Le=Ie=null}}else ce=ae=0;if(Ot){Ge=Ot*Math.cos(Qt-yn),Ze=Ot*Math.sin(Qt-yn),an=Ot*Math.cos(qt+yn),on=Ot*Math.sin(qt+yn);var Ke=Math.abs(qt-Qt+2*yn)<=Zt?0:1;if(yn&&pi(Ge,Ze,an,on)===1-be^Ke){var dn=(qt+Qt)/2;Ge=Ot*Math.cos(dn),Ze=Ot*Math.sin(dn),an=on=null}}else Ge=Ze=0;if(le>Vt&&(oe=Math.min(Math.abs(jt-Ot)/2,+K.apply(this,arguments)))>.001){ue=Ot<jt^be?0:1;var kn=oe,Tn=oe;if(le<Zt){var Bn=an==null?[Ge,Ze]:Le==null?[ce,ae]:Yn([ce,ae],[an,on],[Le,Ie],[Ge,Ze]),qn=ce-Bn[0],$n=ae-Bn[1],yr=Le-Bn[0],Er=Ie-Bn[1],Or=1/Math.sin(Math.acos((qn*yr+$n*Er)/(Math.sqrt(qn*qn+$n*$n)*Math.sqrt(yr*yr+Er*Er)))/2),Br=Math.sqrt(Bn[0]*Bn[0]+Bn[1]*Bn[1]);Tn=Math.min(oe,(Ot-Br)/(Or-1)),kn=Math.min(oe,(jt-Br)/(Or+1))}if(Le!=null){var Ar=yi(an==null?[Ge,Ze]:[an,on],[ce,ae],jt,kn,be),Mr=yi([Le,Ie],[Ge,Ze],jt,kn,be);oe===kn?Mn.push("M",Ar[0],"A",kn,",",kn," 0 0,",ue," ",Ar[1],"A",jt,",",jt," 0 ",1-be^pi(Ar[1][0],Ar[1][1],Mr[1][0],Mr[1][1]),",",be," ",Mr[1],"A",kn,",",kn," 0 0,",ue," ",Mr[0]):Mn.push("M",Ar[0],"A",kn,",",kn," 0 1,",ue," ",Mr[0])}else Mn.push("M",ce,",",ae);if(an!=null){var Jr=yi([ce,ae],[an,on],Ot,-Tn,be),_a=yi([Ge,Ze],Le==null?[ce,ae]:[Le,Ie],Ot,-Tn,be);oe===Tn?Mn.push("L",_a[0],"A",Tn,",",Tn," 0 0,",ue," ",_a[1],"A",Ot,",",Ot," 0 ",be^pi(_a[1][0],_a[1][1],Jr[1][0],Jr[1][1]),",",1-be," ",Jr[1],"A",Tn,",",Tn," 0 0,",ue," ",Jr[0]):Mn.push("L",_a[0],"A",Tn,",",Tn," 0 0,",ue," ",Jr[0])}else Mn.push("L",Ge,",",Ze)}else Mn.push("M",ce,",",ae),Le!=null&&Mn.push("A",jt,",",jt," 0 ",Hn,",",be," ",Le,",",Ie),Mn.push("L",Ge,",",Ze),an!=null&&Mn.push("A",Ot,",",Ot," 0 ",Ke,",",1-be," ",an,",",on);return Mn.push("Z"),Mn.join("")}function Et(Ot,jt){return"M0,"+Ot+"A"+Ot+","+Ot+" 0 1,"+jt+" 0,"+-Ot+"A"+Ot+","+Ot+" 0 1,"+jt+" 0,"+Ot}return Tt.innerRadius=function(Ot){return arguments.length?(k=He(Ot),Tt):k},Tt.outerRadius=function(Ot){return arguments.length?(R=He(Ot),Tt):R},Tt.cornerRadius=function(Ot){return arguments.length?(K=He(Ot),Tt):K},Tt.padRadius=function(Ot){return arguments.length?(lt=Ot==hi?hi:He(Ot),Tt):lt},Tt.startAngle=function(Ot){return arguments.length?(ut=He(Ot),Tt):ut},Tt.endAngle=function(Ot){return arguments.length?(dt=He(Ot),Tt):dt},Tt.padAngle=function(Ot){return arguments.length?(At=He(Ot),Tt):At},Tt.centroid=function(){var Ot=(+k.apply(this,arguments)+ +R.apply(this,arguments))/2,jt=(+ut.apply(this,arguments)+ +dt.apply(this,arguments))/2-$t;return[Math.cos(jt)*Ot,Math.sin(jt)*Ot]},Tt};var hi="auto";function Gu(k){return k.innerRadius}function Zu(k){return k.outerRadius}function Sl(k){return k.startAngle}function El(k){return k.endAngle}function $u(k){return k&&k.padAngle}function pi(k,R,K,lt){return(k-K)*R-(R-lt)*k>0?0:1}function yi(k,R,K,lt,ut){var dt=k[0]-R[0],At=k[1]-R[1],Tt=(ut?lt:-lt)/Math.sqrt(dt*dt+At*At),Et=Tt*At,Ot=-Tt*dt,jt=k[0]+Et,qt=k[1]+Ot,Qt=R[0]+Et,le=R[1]+Ot,be=(jt+Qt)/2,oe=(qt+le)/2,ue=Qt-jt,te=le-qt,De=ue*ue+te*te,ce=K-lt,ae=jt*le-Qt*qt,Le=(te<0?-1:1)*Math.sqrt(Math.max(0,ce*ce*De-ae*ae)),Ie=(ae*te-ue*Le)/De,Ge=(-ae*ue-te*Le)/De,Ze=(ae*te+ue*Le)/De,an=(-ae*ue+te*Le)/De,on=Ie-be,yn=Ge-oe,cn=Ze-be,Mn=an-oe;return on*on+yn*yn>cn*cn+Mn*Mn&&(Ie=Ze,Ge=an),[[Ie-Et,Ge-Ot],[Ie*K/ce,Ge*K/ce]]}function Cl(){return!0}function Fl(k){var R=fn,K=gn,lt=Cl,ut=Hr,dt=ut.key,At=.7;function Tt(Et){var Ot,jt=[],qt=[],Qt=-1,le=Et.length,be=He(R),oe=He(K);function ue(){jt.push("M",ut(k(qt),At))}for(;++Qt<le;)lt.call(this,Ot=Et[Qt],Qt)?qt.push([+be.call(this,Ot,Qt),+oe.call(this,Ot,Qt)]):qt.length&&(ue(),qt=[]);return qt.length&&ue(),jt.length?jt.join(""):null}return Tt.x=function(Et){return arguments.length?(R=Et,Tt):R},Tt.y=function(Et){return arguments.length?(K=Et,Tt):K},Tt.defined=function(Et){return arguments.length?(lt=Et,Tt):lt},Tt.interpolate=function(Et){return arguments.length?(dt=typeof Et=="function"?ut=Et:(ut=ro.get(Et)||Hr).key,Tt):dt},Tt.tension=function(Et){return arguments.length?(At=Et,Tt):At},Tt}e.svg.line=function(){return Fl(O)};var ro=e.map({linear:Hr,"linear-closed":Ol,step:function(k){for(var R=0,K=k.length,lt=k[0],ut=[lt[0],",",lt[1]];++R<K;)ut.push("H",(lt[0]+(lt=k[R])[0])/2,"V",lt[1]);return K>1&&ut.push("H",lt[0]),ut.join("")},"step-before":ao,"step-after":io,basis:Ll,"basis-open":function(k){if(k.length<4)return Hr(k);for(var R,K=[],lt=-1,ut=k.length,dt=[0],At=[0];++lt<3;)R=k[lt],dt.push(R[0]),At.push(R[1]);for(K.push(Pr(sa,dt)+","+Pr(sa,At)),--lt;++lt<ut;)R=k[lt],dt.shift(),dt.push(R[0]),At.shift(),At.push(R[1]),lo(K,dt,At);return K.join("")},"basis-closed":function(k){for(var R,K,lt=-1,ut=k.length,dt=ut+4,At=[],Tt=[];++lt<4;)K=k[lt%ut],At.push(K[0]),Tt.push(K[1]);for(R=[Pr(sa,At),",",Pr(sa,Tt)],--lt;++lt<dt;)K=k[lt%ut],At.shift(),At.push(K[0]),Tt.shift(),Tt.push(K[1]),lo(R,At,Tt);return R.join("")},bundle:function(k,R){var K=k.length-1;if(K)for(var lt,ut,dt=k[0][0],At=k[0][1],Tt=k[K][0]-dt,Et=k[K][1]-At,Ot=-1;++Ot<=K;)ut=Ot/K,(lt=k[Ot])[0]=R*lt[0]+(1-R)*(dt+ut*Tt),lt[1]=R*lt[1]+(1-R)*(At+ut*Et);return Ll(k)},cardinal:function(k,R){return k.length<3?Hr(k):k[0]+vi(k,oo(k,R))},"cardinal-open":function(k,R){return k.length<4?Hr(k):k[1]+vi(k.slice(1,-1),oo(k,R))},"cardinal-closed":function(k,R){return k.length<3?Ol(k):k[0]+vi((k.push(k[0]),k),oo([k[k.length-2]].concat(k,[k[1]]),R))},monotone:function(k){return k.length<3?Hr(k):k[0]+vi(k,function(R){for(var K,lt,ut,dt,At=[],Tt=function(jt){for(var qt=0,Qt=jt.length-1,le=[],be=jt[0],oe=jt[1],ue=le[0]=so(be,oe);++qt<Qt;)le[qt]=(ue+(ue=so(be=oe,oe=jt[qt+1])))/2;return le[qt]=ue,le}(R),Et=-1,Ot=R.length-1;++Et<Ot;)K=so(R[Et],R[Et+1]),_(K)<Vt?Tt[Et]=Tt[Et+1]=0:(dt=(lt=Tt[Et]/K)*lt+(ut=Tt[Et+1]/K)*ut)>9&&(dt=3*K/Math.sqrt(dt),Tt[Et]=dt*lt,Tt[Et+1]=dt*ut);for(Et=-1;++Et<=Ot;)dt=(R[Math.min(Ot,Et+1)][0]-R[Math.max(0,Et-1)][0])/(6*(1+Tt[Et]*Tt[Et])),At.push([dt||0,Tt[Et]*dt||0]);return At}(k))}});function Hr(k){return k.length>1?k.join("L"):k+"Z"}function Ol(k){return k.join("L")+"Z"}function ao(k){for(var R=0,K=k.length,lt=k[0],ut=[lt[0],",",lt[1]];++R<K;)ut.push("V",(lt=k[R])[1],"H",lt[0]);return ut.join("")}function io(k){for(var R=0,K=k.length,lt=k[0],ut=[lt[0],",",lt[1]];++R<K;)ut.push("H",(lt=k[R])[0],"V",lt[1]);return ut.join("")}function vi(k,R){if(R.length<1||k.length!=R.length&&k.length!=R.length+2)return Hr(k);var K=k.length!=R.length,lt="",ut=k[0],dt=k[1],At=R[0],Tt=At,Et=1;if(K&&(lt+="Q"+(dt[0]-2*At[0]/3)+","+(dt[1]-2*At[1]/3)+","+dt[0]+","+dt[1],ut=k[1],Et=2),R.length>1){Tt=R[1],dt=k[Et],Et++,lt+="C"+(ut[0]+At[0])+","+(ut[1]+At[1])+","+(dt[0]-Tt[0])+","+(dt[1]-Tt[1])+","+dt[0]+","+dt[1];for(var Ot=2;Ot<R.length;Ot++,Et++)dt=k[Et],Tt=R[Ot],lt+="S"+(dt[0]-Tt[0])+","+(dt[1]-Tt[1])+","+dt[0]+","+dt[1]}if(K){var jt=k[Et];lt+="Q"+(dt[0]+2*Tt[0]/3)+","+(dt[1]+2*Tt[1]/3)+","+jt[0]+","+jt[1]}return lt}function oo(k,R){for(var K,lt=[],ut=(1-R)/2,dt=k[0],At=k[1],Tt=1,Et=k.length;++Tt<Et;)K=dt,dt=At,At=k[Tt],lt.push([ut*(At[0]-K[0]),ut*(At[1]-K[1])]);return lt}function Ll(k){if(k.length<3)return Hr(k);var R=1,K=k.length,lt=k[0],ut=lt[0],dt=lt[1],At=[ut,ut,ut,(lt=k[1])[0]],Tt=[dt,dt,dt,lt[1]],Et=[ut,",",dt,"L",Pr(sa,At),",",Pr(sa,Tt)];for(k.push(k[K-1]);++R<=K;)lt=k[R],At.shift(),At.push(lt[0]),Tt.shift(),Tt.push(lt[1]),lo(Et,At,Tt);return k.pop(),Et.push("L",lt),Et.join("")}function Pr(k,R){return k[0]*R[0]+k[1]*R[1]+k[2]*R[2]+k[3]*R[3]}ro.forEach(function(k,R){R.key=k,R.closed=/-closed$/.test(k)});var Il=[0,2/3,1/3,0],Pl=[0,1/3,2/3,0],sa=[0,1/6,2/3,1/6];function lo(k,R,K){k.push("C",Pr(Il,R),",",Pr(Il,K),",",Pr(Pl,R),",",Pr(Pl,K),",",Pr(sa,R),",",Pr(sa,K))}function so(k,R){return(R[1]-k[1])/(R[0]-k[0])}function Bl(k){for(var R,K,lt,ut=-1,dt=k.length;++ut<dt;)K=(R=k[ut])[0],lt=R[1]-$t,R[0]=K*Math.cos(lt),R[1]=K*Math.sin(lt);return k}function Rl(k){var R=fn,K=fn,lt=0,ut=gn,dt=Cl,At=Hr,Tt=At.key,Et=At,Ot="L",jt=.7;function qt(Qt){var le,be,oe,ue=[],te=[],De=[],ce=-1,ae=Qt.length,Le=He(R),Ie=He(lt),Ge=R===K?function(){return be}:He(K),Ze=lt===ut?function(){return oe}:He(ut);function an(){ue.push("M",At(k(De),jt),Ot,Et(k(te.reverse()),jt),"Z")}for(;++ce<ae;)dt.call(this,le=Qt[ce],ce)?(te.push([be=+Le.call(this,le,ce),oe=+Ie.call(this,le,ce)]),De.push([+Ge.call(this,le,ce),+Ze.call(this,le,ce)])):te.length&&(an(),te=[],De=[]);return te.length&&an(),ue.length?ue.join(""):null}return qt.x=function(Qt){return arguments.length?(R=K=Qt,qt):K},qt.x0=function(Qt){return arguments.length?(R=Qt,qt):R},qt.x1=function(Qt){return arguments.length?(K=Qt,qt):K},qt.y=function(Qt){return arguments.length?(lt=ut=Qt,qt):ut},qt.y0=function(Qt){return arguments.length?(lt=Qt,qt):lt},qt.y1=function(Qt){return arguments.length?(ut=Qt,qt):ut},qt.defined=function(Qt){return arguments.length?(dt=Qt,qt):dt},qt.interpolate=function(Qt){return arguments.length?(Tt=typeof Qt=="function"?At=Qt:(At=ro.get(Qt)||Hr).key,Et=At.reverse||At,Ot=At.closed?"M":"L",qt):Tt},qt.tension=function(Qt){return arguments.length?(jt=Qt,qt):jt},qt}function zl(k){return k.source}function Nl(k){return k.target}function Ju(k){return k.radius}function jl(k){return[k.x,k.y]}function Xu(k){return function(){var R=k.apply(this,arguments),K=R[0],lt=R[1]-$t;return[K*Math.cos(lt),K*Math.sin(lt)]}}function Ku(){return 64}function Qu(){return"circle"}function Ul(k){var R=Math.sqrt(k/Zt);return"M0,"+R+"A"+R+","+R+" 0 1,1 0,"+-R+"A"+R+","+R+" 0 1,1 0,"+R+"Z"}e.svg.line.radial=function(){var k=Fl(Bl);return k.radius=k.x,delete k.x,k.angle=k.y,delete k.y,k},ao.reverse=io,io.reverse=ao,e.svg.area=function(){return Rl(O)},e.svg.area.radial=function(){var k=Rl(Bl);return k.radius=k.x,delete k.x,k.innerRadius=k.x0,delete k.x0,k.outerRadius=k.x1,delete k.x1,k.angle=k.y,delete k.y,k.startAngle=k.y0,delete k.y0,k.endAngle=k.y1,delete k.y1,k},e.svg.chord=function(){var k=zl,R=Nl,K=Ju,lt=Sl,ut=El;function dt(Ot,jt){var qt,Qt,le=At(this,k,Ot,jt),be=At(this,R,Ot,jt);return"M"+le.p0+Tt(le.r,le.p1,le.a1-le.a0)+(Qt=be,((qt=le).a0==Qt.a0&&qt.a1==Qt.a1?Et(le.r,le.p1,le.r,le.p0):Et(le.r,le.p1,be.r,be.p0)+Tt(be.r,be.p1,be.a1-be.a0)+Et(be.r,be.p1,le.r,le.p0))+"Z")}function At(Ot,jt,qt,Qt){var le=jt.call(Ot,qt,Qt),be=K.call(Ot,le,Qt),oe=lt.call(Ot,le,Qt)-$t,ue=ut.call(Ot,le,Qt)-$t;return{r:be,a0:oe,a1:ue,p0:[be*Math.cos(oe),be*Math.sin(oe)],p1:[be*Math.cos(ue),be*Math.sin(ue)]}}function Tt(Ot,jt,qt){return"A"+Ot+","+Ot+" 0 "+ +(qt>Zt)+",1 "+jt}function Et(Ot,jt,qt,Qt){return"Q 0,0 "+Qt}return dt.radius=function(Ot){return arguments.length?(K=He(Ot),dt):K},dt.source=function(Ot){return arguments.length?(k=He(Ot),dt):k},dt.target=function(Ot){return arguments.length?(R=He(Ot),dt):R},dt.startAngle=function(Ot){return arguments.length?(lt=He(Ot),dt):lt},dt.endAngle=function(Ot){return arguments.length?(ut=He(Ot),dt):ut},dt},e.svg.diagonal=function(){var k=zl,R=Nl,K=jl;function lt(ut,dt){var At=k.call(this,ut,dt),Tt=R.call(this,ut,dt),Et=(At.y+Tt.y)/2,Ot=[At,{x:At.x,y:Et},{x:Tt.x,y:Et},Tt];return"M"+(Ot=Ot.map(K))[0]+"C"+Ot[1]+" "+Ot[2]+" "+Ot[3]}return lt.source=function(ut){return arguments.length?(k=He(ut),lt):k},lt.target=function(ut){return arguments.length?(R=He(ut),lt):R},lt.projection=function(ut){return arguments.length?(K=ut,lt):K},lt},e.svg.diagonal.radial=function(){var k=e.svg.diagonal(),R=jl,K=k.projection;return k.projection=function(lt){return arguments.length?K(Xu(R=lt)):R},k},e.svg.symbol=function(){var k=Qu,R=Ku;function K(lt,ut){return(Hl.get(k.call(this,lt,ut))||Ul)(R.call(this,lt,ut))}return K.type=function(lt){return arguments.length?(k=He(lt),K):k},K.size=function(lt){return arguments.length?(R=He(lt),K):R},K};var Hl=e.map({circle:Ul,cross:function(k){var R=Math.sqrt(k/5)/2;return"M"+-3*R+","+-R+"H"+-R+"V"+-3*R+"H"+R+"V"+-R+"H"+3*R+"V"+R+"H"+R+"V"+3*R+"H"+-R+"V"+R+"H"+-3*R+"Z"},diamond:function(k){var R=Math.sqrt(k/(2*ql)),K=R*ql;return"M0,"+-R+"L"+K+",0 0,"+R+" "+-K+",0Z"},square:function(k){var R=Math.sqrt(k)/2;return"M"+-R+","+-R+"L"+R+","+-R+" "+R+","+R+" "+-R+","+R+"Z"},"triangle-down":function(k){var R=Math.sqrt(k/gi),K=R*gi/2;return"M0,"+K+"L"+R+","+-K+" "+-R+","+-K+"Z"},"triangle-up":function(k){var R=Math.sqrt(k/gi),K=R*gi/2;return"M0,"+-K+"L"+R+","+K+" "+-R+","+K+"Z"}});e.svg.symbolTypes=Hl.keys();var gi=Math.sqrt(3),ql=Math.tan(30*ye);ot.transition=function(k){for(var R,K,lt=ba||++Vl,ut=co(k),dt=[],At=xi||{time:Date.now(),ease:ru,delay:0,duration:250},Tt=-1,Et=this.length;++Tt<Et;){dt.push(R=[]);for(var Ot=this[Tt],jt=-1,qt=Ot.length;++jt<qt;)(K=Ot[jt])&&bi(K,jt,ut,lt,At),R.push(K)}return Ga(dt,ut,lt)},ot.interrupt=function(k){return this.each(k==null?mi:Yl(co(k)))};var mi=Yl(co());function Yl(k){return function(){var R,K,lt;(R=this[k])&&(lt=R[K=R.active])&&(lt.timer.c=null,lt.timer.t=NaN,--R.count?delete R[K]:delete this[k],R.active+=.5,lt.event&&lt.event.interrupt.call(this,this.__data__,lt.index))}}function Ga(k,R,K){return U(k,or),k.namespace=R,k.id=K,k}var ba,xi,or=[],Vl=0;function uo(k,R,K,lt){var ut=k.id,dt=k.namespace;return Ft(k,typeof K=="function"?function(At,Tt,Et){At[dt][ut].tween.set(R,lt(K.call(At,At.__data__,Tt,Et)))}:(K=lt(K),function(At){At[dt][ut].tween.set(R,K)}))}function tc(k){return k==null&&(k=""),function(){this.textContent=k}}function co(k){return k==null?"__transition__":"__transition_"+k+"__"}function bi(k,R,K,lt,ut){var dt,At,Tt,Et,Ot,jt=k[K]||(k[K]={active:0,count:0}),qt=jt[lt];function Qt(be){var oe=jt.active,ue=jt[oe];for(var te in ue&&(ue.timer.c=null,ue.timer.t=NaN,--jt.count,delete jt[oe],ue.event&&ue.event.interrupt.call(k,k.__data__,ue.index)),jt)if(+te<lt){var De=jt[te];De.timer.c=null,De.timer.t=NaN,--jt.count,delete jt[te]}At.c=le,Xe(function(){return At.c&&le(be||1)&&(At.c=null,At.t=NaN),1},0,dt),jt.active=lt,qt.event&&qt.event.start.call(k,k.__data__,R),Ot=[],qt.tween.forEach(function(ce,ae){(ae=ae.call(k,k.__data__,R))&&Ot.push(ae)}),Et=qt.ease,Tt=qt.duration}function le(be){for(var oe=be/Tt,ue=Et(oe),te=Ot.length;te>0;)Ot[--te].call(k,ue);if(oe>=1)return qt.event&&qt.event.end.call(k,k.__data__,R),--jt.count?delete jt[lt]:delete k[K],1}qt||(dt=ut.time,At=Xe(function(be){var oe=qt.delay;if(At.t=oe+dt,oe<=be)return Qt(be-oe);At.c=Qt},0,dt),qt=jt[lt]={tween:new S,time:dt,timer:At,delay:ut.delay,duration:ut.duration,ease:ut.ease,index:R},ut=null,++jt.count)}or.call=ot.call,or.empty=ot.empty,or.node=ot.node,or.size=ot.size,e.transition=function(k,R){return k&&k.transition?ba?k.transition(R):k:e.selection().transition(k)},e.transition.prototype=or,or.select=function(k){var R,K,lt,ut=this.id,dt=this.namespace,At=[];k=ct(k);for(var Tt=-1,Et=this.length;++Tt<Et;){At.push(R=[]);for(var Ot=this[Tt],jt=-1,qt=Ot.length;++jt<qt;)(lt=Ot[jt])&&(K=k.call(lt,lt.__data__,jt,Tt))?("__data__"in lt&&(K.__data__=lt.__data__),bi(K,jt,dt,ut,lt[dt][ut]),R.push(K)):R.push(null)}return Ga(At,dt,ut)},or.selectAll=function(k){var R,K,lt,ut,dt,At=this.id,Tt=this.namespace,Et=[];k=ht(k);for(var Ot=-1,jt=this.length;++Ot<jt;)for(var qt=this[Ot],Qt=-1,le=qt.length;++Qt<le;)if(lt=qt[Qt]){dt=lt[Tt][At],K=k.call(lt,lt.__data__,Qt,Ot),Et.push(R=[]);for(var be=-1,oe=K.length;++be<oe;)(ut=K[be])&&bi(ut,be,Tt,At,dt),R.push(ut)}return Ga(Et,Tt,At)},or.filter=function(k){var R,K,lt=[];typeof k!="function"&&(k=wt(k));for(var ut=0,dt=this.length;ut<dt;ut++){lt.push(R=[]);for(var At,Tt=0,Et=(At=this[ut]).length;Tt<Et;Tt++)(K=At[Tt])&&k.call(K,K.__data__,Tt,ut)&&R.push(K)}return Ga(lt,this.namespace,this.id)},or.tween=function(k,R){var K=this.id,lt=this.namespace;return arguments.length<2?this.node()[lt][K].tween.get(k):Ft(this,R==null?function(ut){ut[lt][K].tween.remove(k)}:function(ut){ut[lt][K].tween.set(k,R)})},or.attr=function(k,R){if(arguments.length<2){for(R in k)this.attr(R,k[R]);return this}var K=k=="transform"?rl:xa,lt=e.ns.qualify(k);function ut(){this.removeAttribute(lt)}function dt(){this.removeAttributeNS(lt.space,lt.local)}function At(Et){return Et==null?ut:(Et+="",function(){var Ot,jt=this.getAttribute(lt);return jt!==Et&&(Ot=K(jt,Et),function(qt){this.setAttribute(lt,Ot(qt))})})}function Tt(Et){return Et==null?dt:(Et+="",function(){var Ot,jt=this.getAttributeNS(lt.space,lt.local);return jt!==Et&&(Ot=K(jt,Et),function(qt){this.setAttributeNS(lt.space,lt.local,Ot(qt))})})}return uo(this,"attr."+k,R,lt.local?Tt:At)},or.attrTween=function(k,R){var K=e.ns.qualify(k);return this.tween("attr."+k,K.local?function(lt,ut){var dt=R.call(this,lt,ut,this.getAttributeNS(K.space,K.local));return dt&&function(At){this.setAttributeNS(K.space,K.local,dt(At))}}:function(lt,ut){var dt=R.call(this,lt,ut,this.getAttribute(K));return dt&&function(At){this.setAttribute(K,dt(At))}})},or.style=function(k,R,K){var lt=arguments.length;if(lt<3){if(typeof k!="string"){for(K in lt<2&&(R=""),k)this.style(K,k[K],R);return this}K=""}function ut(){this.style.removeProperty(k)}function dt(At){return At==null?ut:(At+="",function(){var Tt,Et=l(this).getComputedStyle(this,null).getPropertyValue(k);return Et!==At&&(Tt=xa(Et,At),function(Ot){this.style.setProperty(k,Tt(Ot),K)})})}return uo(this,"style."+k,R,dt)},or.styleTween=function(k,R,K){function lt(ut,dt){var At=R.call(this,ut,dt,l(this).getComputedStyle(this,null).getPropertyValue(k));return At&&function(Tt){this.style.setProperty(k,At(Tt),K)}}return arguments.length<3&&(K=""),this.tween("style."+k,lt)},or.text=function(k){return uo(this,"text",k,tc)},or.remove=function(){var k=this.namespace;return this.each("end.transition",function(){var R;this[k].count<2&&(R=this.parentNode)&&R.removeChild(this)})},or.ease=function(k){var R=this.id,K=this.namespace;return arguments.length<1?this.node()[K][R].ease:(typeof k!="function"&&(k=e.ease.apply(e,arguments)),Ft(this,function(lt){lt[K][R].ease=k}))},or.delay=function(k){var R=this.id,K=this.namespace;return arguments.length<1?this.node()[K][R].delay:Ft(this,typeof k=="function"?function(lt,ut,dt){lt[K][R].delay=+k.call(lt,lt.__data__,ut,dt)}:(k=+k,function(lt){lt[K][R].delay=k}))},or.duration=function(k){var R=this.id,K=this.namespace;return arguments.length<1?this.node()[K][R].duration:Ft(this,typeof k=="function"?function(lt,ut,dt){lt[K][R].duration=Math.max(1,k.call(lt,lt.__data__,ut,dt))}:(k=Math.max(1,k),function(lt){lt[K][R].duration=k}))},or.each=function(k,R){var K=this.id,lt=this.namespace;if(arguments.length<2){var ut=xi,dt=ba;try{ba=K,Ft(this,function(At,Tt,Et){xi=At[lt][K],k.call(At,At.__data__,Tt,Et)})}finally{xi=ut,ba=dt}}else Ft(this,function(At){var Tt=At[lt][K];(Tt.event||(Tt.event=e.dispatch("start","end","interrupt"))).on(k,R)});return this},or.transition=function(){for(var k,R,K,lt=this.id,ut=++Vl,dt=this.namespace,At=[],Tt=0,Et=this.length;Tt<Et;Tt++){At.push(k=[]);for(var Ot,jt=0,qt=(Ot=this[Tt]).length;jt<qt;jt++)(R=Ot[jt])&&bi(R,jt,dt,ut,{time:(K=R[dt][lt]).time,ease:K.ease,delay:K.delay+K.duration,duration:K.duration}),k.push(R)}return Ga(At,dt,ut)},e.svg.axis=function(){var k,R=e.scale.linear(),K=Wl,lt=6,ut=6,dt=3,At=[10],Tt=null;function Et(Ot){Ot.each(function(){var jt,qt=e.select(this),Qt=this.__chart__||R,le=this.__chart__=R.copy(),be=Tt??(le.ticks?le.ticks.apply(le,At):le.domain()),oe=k??(le.tickFormat?le.tickFormat.apply(le,At):O),ue=qt.selectAll(".tick").data(be,le),te=ue.enter().insert("g",".domain").attr("class","tick").style("opacity",Vt),De=e.transition(ue.exit()).style("opacity",Vt).remove(),ce=e.transition(ue.order()).style("opacity",1),ae=Math.max(lt,0)+dt,Le=fi(le),Ie=qt.selectAll(".domain").data([0]),Ge=(Ie.enter().append("path").attr("class","domain"),e.transition(Ie));te.append("line"),te.append("text");var Ze,an,on,yn,cn=te.select("line"),Mn=ce.select("line"),Hn=ue.select("text").text(oe),lr=te.select("text"),Ke=ce.select("text"),dn=K==="top"||K==="left"?-1:1;if(K==="bottom"||K==="top"?(jt=nc,Ze="x",on="y",an="x2",yn="y2",Hn.attr("dy",dn<0?"0em":".71em").style("text-anchor","middle"),Ge.attr("d","M"+Le[0]+","+dn*ut+"V0H"+Le[1]+"V"+dn*ut)):(jt=rc,Ze="y",on="x",an="y2",yn="x2",Hn.attr("dy",".32em").style("text-anchor",dn<0?"end":"start"),Ge.attr("d","M"+dn*ut+","+Le[0]+"H0V"+Le[1]+"H"+dn*ut)),cn.attr(yn,dn*lt),lr.attr(on,dn*ae),Mn.attr(an,0).attr(yn,dn*lt),Ke.attr(Ze,0).attr(on,dn*ae),le.rangeBand){var kn=le,Tn=kn.rangeBand()/2;Qt=le=function(Bn){return kn(Bn)+Tn}}else Qt.rangeBand?Qt=le:De.call(jt,le,Qt);te.call(jt,Qt,le),ce.call(jt,le,le)})}return Et.scale=function(Ot){return arguments.length?(R=Ot,Et):R},Et.orient=function(Ot){return arguments.length?(K=Ot in ec?Ot+"":Wl,Et):K},Et.ticks=function(){return arguments.length?(At=r(arguments),Et):At},Et.tickValues=function(Ot){return arguments.length?(Tt=Ot,Et):Tt},Et.tickFormat=function(Ot){return arguments.length?(k=Ot,Et):k},Et.tickSize=function(Ot){var jt=arguments.length;return jt?(lt=+Ot,ut=+arguments[jt-1],Et):lt},Et.innerTickSize=function(Ot){return arguments.length?(lt=+Ot,Et):lt},Et.outerTickSize=function(Ot){return arguments.length?(ut=+Ot,Et):ut},Et.tickPadding=function(Ot){return arguments.length?(dt=+Ot,Et):dt},Et.tickSubdivide=function(){return arguments.length&&Et},Et};var Wl="bottom",ec={top:1,right:1,bottom:1,left:1};function nc(k,R,K){k.attr("transform",function(lt){var ut=R(lt);return"translate("+(isFinite(ut)?ut:K(lt))+",0)"})}function rc(k,R,K){k.attr("transform",function(lt){var ut=R(lt);return"translate(0,"+(isFinite(ut)?ut:K(lt))+")"})}e.svg.brush=function(){var k,R,K=Z(jt,"brushstart","brush","brushend"),lt=null,ut=null,dt=[0,0],At=[0,0],Tt=!0,Et=!0,Ot=fo[0];function jt(oe){oe.each(function(){var ue=e.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",be).on("touchstart.brush",be),te=ue.selectAll(".background").data([0]);te.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),ue.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var De=ue.selectAll(".resize").data(Ot,O);De.exit().remove(),De.enter().append("g").attr("class",function(Ie){return"resize "+Ie}).style("cursor",function(Ie){return ac[Ie]}).append("rect").attr("x",function(Ie){return/[ew]$/.test(Ie)?-3:null}).attr("y",function(Ie){return/^[ns]/.test(Ie)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),De.style("display",jt.empty()?"none":null);var ce,ae=e.transition(ue),Le=e.transition(te);lt&&(ce=fi(lt),Le.attr("x",ce[0]).attr("width",ce[1]-ce[0]),Qt(ae)),ut&&(ce=fi(ut),Le.attr("y",ce[0]).attr("height",ce[1]-ce[0]),le(ae)),qt(ae)})}function qt(oe){oe.selectAll(".resize").attr("transform",function(ue){return"translate("+dt[+/e$/.test(ue)]+","+At[+/^s/.test(ue)]+")"})}function Qt(oe){oe.select(".extent").attr("x",dt[0]),oe.selectAll(".extent,.n>rect,.s>rect").attr("width",dt[1]-dt[0])}function le(oe){oe.select(".extent").attr("y",At[0]),oe.selectAll(".extent,.e>rect,.w>rect").attr("height",At[1]-At[0])}function be(){var oe,ue,te=this,De=e.select(e.event.target),ce=K.of(te,arguments),ae=e.select(te),Le=De.datum(),Ie=!/^(n|s)$/.test(Le)&&lt,Ge=!/^(e|w)$/.test(Le)&&ut,Ze=De.classed("extent"),an=ie(te),on=e.mouse(te),yn=e.select(l(te)).on("keydown.brush",Hn).on("keyup.brush",lr);if(e.event.changedTouches?yn.on("touchmove.brush",Ke).on("touchend.brush",kn):yn.on("mousemove.brush",Ke).on("mouseup.brush",kn),ae.interrupt().selectAll("*").interrupt(),Ze)on[0]=dt[0]-on[0],on[1]=At[0]-on[1];else if(Le){var cn=+/w$/.test(Le),Mn=+/^n/.test(Le);ue=[dt[1-cn]-on[0],At[1-Mn]-on[1]],on[0]=dt[cn],on[1]=At[Mn]}else e.event.altKey&&(oe=on.slice());function Hn(){e.event.keyCode==32&&(Ze||(oe=null,on[0]-=dt[1],on[1]-=At[1],Ze=2),nt())}function lr(){e.event.keyCode==32&&Ze==2&&(on[0]+=dt[1],on[1]+=At[1],Ze=0,nt())}function Ke(){var Tn=e.mouse(te),Bn=!1;ue&&(Tn[0]+=ue[0],Tn[1]+=ue[1]),Ze||(e.event.altKey?(oe||(oe=[(dt[0]+dt[1])/2,(At[0]+At[1])/2]),on[0]=dt[+(Tn[0]<oe[0])],on[1]=At[+(Tn[1]<oe[1])]):oe=null),Ie&&dn(Tn,lt,0)&&(Qt(ae),Bn=!0),Ge&&dn(Tn,ut,1)&&(le(ae),Bn=!0),Bn&&(qt(ae),ce({type:"brush",mode:Ze?"move":"resize"}))}function dn(Tn,Bn,qn){var $n,yr,Er=fi(Bn),Or=Er[0],Br=Er[1],Ar=on[qn],Mr=qn?At:dt,Jr=Mr[1]-Mr[0];if(Ze&&(Or-=Ar,Br-=Jr+Ar),$n=(qn?Et:Tt)?Math.max(Or,Math.min(Br,Tn[qn])):Tn[qn],Ze?yr=($n+=Ar)+Jr:(oe&&(Ar=Math.max(Or,Math.min(Br,2*oe[qn]-$n))),Ar<$n?(yr=$n,$n=Ar):yr=Ar),Mr[0]!=$n||Mr[1]!=yr)return qn?R=null:k=null,Mr[0]=$n,Mr[1]=yr,!0}function kn(){Ke(),ae.style("pointer-events","all").selectAll(".resize").style("display",jt.empty()?"none":null),e.select("body").style("cursor",null),yn.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),an(),ce({type:"brushend"})}ae.style("pointer-events","none").selectAll(".resize").style("display",null),e.select("body").style("cursor",De.style("cursor")),ce({type:"brushstart"}),Ke()}return jt.event=function(oe){oe.each(function(){var ue=K.of(this,arguments),te={x:dt,y:At,i:k,j:R},De=this.__chart__||te;this.__chart__=te,ba?e.select(this).transition().each("start.brush",function(){k=De.i,R=De.j,dt=De.x,At=De.y,ue({type:"brushstart"})}).tween("brush:brush",function(){var ce=ui(dt,te.x),ae=ui(At,te.y);return k=R=null,function(Le){dt=te.x=ce(Le),At=te.y=ae(Le),ue({type:"brush",mode:"resize"})}}).each("end.brush",function(){k=te.i,R=te.j,ue({type:"brush",mode:"resize"}),ue({type:"brushend"})}):(ue({type:"brushstart"}),ue({type:"brush",mode:"resize"}),ue({type:"brushend"}))})},jt.x=function(oe){return arguments.length?(Ot=fo[!(lt=oe)<<1|!ut],jt):lt},jt.y=function(oe){return arguments.length?(Ot=fo[!lt<<1|!(ut=oe)],jt):ut},jt.clamp=function(oe){return arguments.length?(lt&&ut?(Tt=!!oe[0],Et=!!oe[1]):lt?Tt=!!oe:ut&&(Et=!!oe),jt):lt&&ut?[Tt,Et]:lt?Tt:ut?Et:null},jt.extent=function(oe){var ue,te,De,ce,ae;return arguments.length?(lt&&(ue=oe[0],te=oe[1],ut&&(ue=ue[0],te=te[0]),k=[ue,te],lt.invert&&(ue=lt(ue),te=lt(te)),te<ue&&(ae=ue,ue=te,te=ae),ue==dt[0]&&te==dt[1]||(dt=[ue,te])),ut&&(De=oe[0],ce=oe[1],lt&&(De=De[1],ce=ce[1]),R=[De,ce],ut.invert&&(De=ut(De),ce=ut(ce)),ce<De&&(ae=De,De=ce,ce=ae),De==At[0]&&ce==At[1]||(At=[De,ce])),jt):(lt&&(k?(ue=k[0],te=k[1]):(ue=dt[0],te=dt[1],lt.invert&&(ue=lt.invert(ue),te=lt.invert(te)),te<ue&&(ae=ue,ue=te,te=ae))),ut&&(R?(De=R[0],ce=R[1]):(De=At[0],ce=At[1],ut.invert&&(De=ut.invert(De),ce=ut.invert(ce)),ce<De&&(ae=De,De=ce,ce=ae))),lt&&ut?[[ue,De],[te,ce]]:lt?[ue,te]:ut&&[De,ce])},jt.clear=function(){return jt.empty()||(dt=[0,0],At=[0,0],k=R=null),jt},jt.empty=function(){return!!lt&&dt[0]==dt[1]||!!ut&&At[0]==At[1]},e.rebind(jt,K,"on")};var ac={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},fo=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];function ic(k){return JSON.parse(k.responseText)}function oc(k){var R=n.createRange();return R.selectNode(n.body),R.createContextualFragment(k.responseText)}e.text=Je(function(k){return k.responseText}),e.json=function(k,R){return Qe(k,"application/json",ic,R)},e.html=function(k,R){return Qe(k,"text/html",oc,R)},e.xml=Je(function(k){return k.responseXML}),(f=typeof(a=e)=="function"?a.call(s,t,s,w):a)===void 0||(w.exports=f)}).apply(self)},32791:function(w,s,t){var a=t(90386);function f(tt){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},f(tt)}var e,i,r=t(79616).codes,n=r.ERR_AMBIGUOUS_ARGUMENT,o=r.ERR_INVALID_ARG_TYPE,l=r.ERR_INVALID_ARG_VALUE,u=r.ERR_INVALID_RETURN_VALUE,d=r.ERR_MISSING_ARGS,c=t(73894),h=t(43827).inspect,p=t(43827).types,g=p.isPromise,y=p.isRegExp,b=Object.assign?Object.assign:t(73523).assign,m=Object.is?Object.is:t(64003);function v(){var tt=t(74061);e=tt.isDeepEqual,i=tt.isDeepStrictEqual}var x=!1,_=w.exports=F,T={};function C(tt){throw tt.message instanceof Error?tt.message:new c(tt)}function S(tt,E,z,Y){if(!z){var Q=!1;if(E===0)Q=!0,Y="No value argument passed to `assert.ok()`";else if(Y instanceof Error)throw Y;var nt=new c({actual:z,expected:!0,message:Y,operator:"==",stackStartFn:tt});throw nt.generatedMessage=Q,nt}}function F(){for(var tt=arguments.length,E=new Array(tt),z=0;z<tt;z++)E[z]=arguments[z];S.apply(void 0,[F,E.length].concat(E))}_.fail=function tt(E,z,Y,Q,nt){var et,Z=arguments.length;if(Z===0)et="Failed";else if(Z===1)Y=E,E=void 0;else{if(x===!1){x=!0;var H=a.emitWarning?a.emitWarning:console.warn.bind(console);H("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")}Z===2&&(Q="!=")}if(Y instanceof Error)throw Y;var U={actual:E,expected:z,operator:Q===void 0?"fail":Q,stackStartFn:nt||tt};Y!==void 0&&(U.message=Y);var V=new c(U);throw et&&(V.message=et,V.generatedMessage=!0),V},_.AssertionError=c,_.ok=F,_.equal=function tt(E,z,Y){if(arguments.length<2)throw new d("actual","expected");E!=z&&C({actual:E,expected:z,message:Y,operator:"==",stackStartFn:tt})},_.notEqual=function tt(E,z,Y){if(arguments.length<2)throw new d("actual","expected");E==z&&C({actual:E,expected:z,message:Y,operator:"!=",stackStartFn:tt})},_.deepEqual=function tt(E,z,Y){if(arguments.length<2)throw new d("actual","expected");e===void 0&&v(),e(E,z)||C({actual:E,expected:z,message:Y,operator:"deepEqual",stackStartFn:tt})},_.notDeepEqual=function tt(E,z,Y){if(arguments.length<2)throw new d("actual","expected");e===void 0&&v(),e(E,z)&&C({actual:E,expected:z,message:Y,operator:"notDeepEqual",stackStartFn:tt})},_.deepStrictEqual=function tt(E,z,Y){if(arguments.length<2)throw new d("actual","expected");e===void 0&&v(),i(E,z)||C({actual:E,expected:z,message:Y,operator:"deepStrictEqual",stackStartFn:tt})},_.notDeepStrictEqual=function tt(E,z,Y){if(arguments.length<2)throw new d("actual","expected");e===void 0&&v(),i(E,z)&&C({actual:E,expected:z,message:Y,operator:"notDeepStrictEqual",stackStartFn:tt})},_.strictEqual=function tt(E,z,Y){if(arguments.length<2)throw new d("actual","expected");m(E,z)||C({actual:E,expected:z,message:Y,operator:"strictEqual",stackStartFn:tt})},_.notStrictEqual=function tt(E,z,Y){if(arguments.length<2)throw new d("actual","expected");m(E,z)&&C({actual:E,expected:z,message:Y,operator:"notStrictEqual",stackStartFn:tt})};var N=function tt(E,z,Y){var Q=this;(function(nt,et){if(!(nt instanceof et))throw new TypeError("Cannot call a class as a function")})(this,tt),z.forEach(function(nt){nt in E&&(Y!==void 0&&typeof Y[nt]=="string"&&y(E[nt])&&E[nt].test(Y[nt])?Q[nt]=Y[nt]:Q[nt]=E[nt])})};function D(tt,E,z,Y,Q,nt){if(!(z in tt)||!i(tt[z],E[z])){if(!Y){var et=new N(tt,Q),Z=new N(E,Q,tt),H=new c({actual:et,expected:Z,operator:"deepStrictEqual",stackStartFn:nt});throw H.actual=tt,H.expected=E,H.operator=nt.name,H}C({actual:tt,expected:E,message:Y,operator:nt.name,stackStartFn:nt})}}function j(tt,E,z,Y){if(typeof E!="function"){if(y(E))return E.test(tt);if(arguments.length===2)throw new o("expected",["Function","RegExp"],E);if(f(tt)!=="object"||tt===null){var Q=new c({actual:tt,expected:E,message:z,operator:"deepStrictEqual",stackStartFn:Y});throw Q.operator=Y.name,Q}var nt=Object.keys(E);if(E instanceof Error)nt.push("name","message");else if(nt.length===0)throw new l("error",E,"may not be an empty object");return e===void 0&&v(),nt.forEach(function(et){typeof tt[et]=="string"&&y(E[et])&&E[et].test(tt[et])||D(tt,E,et,z,nt,Y)}),!0}return E.prototype!==void 0&&tt instanceof E||!Error.isPrototypeOf(E)&&E.call({},tt)===!0}function B(tt){if(typeof tt!="function")throw new o("fn","Function",tt);try{tt()}catch(E){return E}return T}function J(tt){return g(tt)||tt!==null&&f(tt)==="object"&&typeof tt.then=="function"&&typeof tt.catch=="function"}function P(tt){return Promise.resolve().then(function(){var E;if(typeof tt=="function"){if(!J(E=tt()))throw new u("instance of Promise","promiseFn",E)}else{if(!J(tt))throw new o("promiseFn",["Function","Promise"],tt);E=tt}return Promise.resolve().then(function(){return E}).then(function(){return T}).catch(function(z){return z})})}function M(tt,E,z,Y){if(typeof z=="string"){if(arguments.length===4)throw new o("error",["Object","Error","Function","RegExp"],z);if(f(E)==="object"&&E!==null){if(E.message===z)throw new n("error/message",'The error message "'.concat(E.message,'" is identical to the message.'))}else if(E===z)throw new n("error/message",'The error "'.concat(E,'" is identical to the message.'));Y=z,z=void 0}else if(z!=null&&f(z)!=="object"&&typeof z!="function")throw new o("error",["Object","Error","Function","RegExp"],z);if(E===T){var Q="";z&&z.name&&(Q+=" (".concat(z.name,")")),Q+=Y?": ".concat(Y):".";var nt=tt.name==="rejects"?"rejection":"exception";C({actual:void 0,expected:z,operator:tt.name,message:"Missing expected ".concat(nt).concat(Q),stackStartFn:tt})}if(z&&!j(E,z,Y,tt))throw E}function O(tt,E,z,Y){if(E!==T){if(typeof z=="string"&&(Y=z,z=void 0),!z||j(E,z)){var Q=Y?": ".concat(Y):".",nt=tt.name==="doesNotReject"?"rejection":"exception";C({actual:E,expected:z,operator:tt.name,message:"Got unwanted ".concat(nt).concat(Q,`
`)+'Actual message: "'.concat(E&&E.message,'"'),stackStartFn:tt})}throw E}}function q(){for(var tt=arguments.length,E=new Array(tt),z=0;z<tt;z++)E[z]=arguments[z];S.apply(void 0,[q,E.length].concat(E))}_.throws=function tt(E){for(var z=arguments.length,Y=new Array(z>1?z-1:0),Q=1;Q<z;Q++)Y[Q-1]=arguments[Q];M.apply(void 0,[tt,B(E)].concat(Y))},_.rejects=function tt(E){for(var z=arguments.length,Y=new Array(z>1?z-1:0),Q=1;Q<z;Q++)Y[Q-1]=arguments[Q];return P(E).then(function(nt){return M.apply(void 0,[tt,nt].concat(Y))})},_.doesNotThrow=function tt(E){for(var z=arguments.length,Y=new Array(z>1?z-1:0),Q=1;Q<z;Q++)Y[Q-1]=arguments[Q];O.apply(void 0,[tt,B(E)].concat(Y))},_.doesNotReject=function tt(E){for(var z=arguments.length,Y=new Array(z>1?z-1:0),Q=1;Q<z;Q++)Y[Q-1]=arguments[Q];return P(E).then(function(nt){return O.apply(void 0,[tt,nt].concat(Y))})},_.ifError=function tt(E){if(E!=null){var z="ifError got unwanted exception: ";f(E)==="object"&&typeof E.message=="string"?E.message.length===0&&E.constructor?z+=E.constructor.name:z+=E.message:z+=h(E);var Y=new c({actual:E,expected:null,operator:"ifError",message:z,stackStartFn:tt}),Q=E.stack;if(typeof Q=="string"){var nt=Q.split(`
`);nt.shift();for(var et=Y.stack.split(`
`),Z=0;Z<nt.length;Z++){var H=et.indexOf(nt[Z]);if(H!==-1){et=et.slice(0,H);break}}Y.stack="".concat(et.join(`
`),`
`).concat(nt.join(`
`))}throw Y}},_.strict=b(q,_,{equal:_.strictEqual,deepEqual:_.deepStrictEqual,notEqual:_.notStrictEqual,notDeepEqual:_.notDeepStrictEqual}),_.strict.strict=_.strict},73894:function(w,s,t){var a=t(90386);function f(S,F,N){return F in S?Object.defineProperty(S,F,{value:N,enumerable:!0,configurable:!0,writable:!0}):S[F]=N,S}function e(S,F){for(var N=0;N<F.length;N++){var D=F[N];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(S,D.key,D)}}function i(S,F){return!F||c(F)!=="object"&&typeof F!="function"?r(S):F}function r(S){if(S===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S}function n(S){var F=typeof Map=="function"?new Map:void 0;return n=function(N){if(N===null||(D=N,Function.toString.call(D).indexOf("[native code]")===-1))return N;var D;if(typeof N!="function")throw new TypeError("Super expression must either be null or a function");if(F!==void 0){if(F.has(N))return F.get(N);F.set(N,j)}function j(){return l(N,arguments,d(this).constructor)}return j.prototype=Object.create(N.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}}),u(j,N)},n(S)}function o(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function l(S,F,N){return l=o()?Reflect.construct:function(D,j,B){var J=[null];J.push.apply(J,j);var P=new(Function.bind.apply(D,J));return B&&u(P,B.prototype),P},l.apply(null,arguments)}function u(S,F){return u=Object.setPrototypeOf||function(N,D){return N.__proto__=D,N},u(S,F)}function d(S){return d=Object.setPrototypeOf?Object.getPrototypeOf:function(F){return F.__proto__||Object.getPrototypeOf(F)},d(S)}function c(S){return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(F){return typeof F}:function(F){return F&&typeof Symbol=="function"&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F},c(S)}var h=t(43827).inspect,p=t(79616).codes.ERR_INVALID_ARG_TYPE;function g(S,F,N){return(N===void 0||N>S.length)&&(N=S.length),S.substring(N-F.length,N)===F}var y="",b="",m="",v="",x={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"};function _(S){var F=Object.keys(S),N=Object.create(Object.getPrototypeOf(S));return F.forEach(function(D){N[D]=S[D]}),Object.defineProperty(N,"message",{value:S.message}),N}function T(S){return h(S,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}var C=function(S){function F(j){var B;if(function(et,Z){if(!(et instanceof Z))throw new TypeError("Cannot call a class as a function")}(this,F),c(j)!=="object"||j===null)throw new p("options","Object",j);var J=j.message,P=j.operator,M=j.stackStartFn,O=j.actual,q=j.expected,tt=Error.stackTraceLimit;if(Error.stackTraceLimit=0,J!=null)B=i(this,d(F).call(this,String(J)));else if(a.stderr&&a.stderr.isTTY&&(a.stderr&&a.stderr.getColorDepth&&a.stderr.getColorDepth()!==1?(y="\x1B[34m",b="\x1B[32m",v="\x1B[39m",m="\x1B[31m"):(y="",b="",v="",m="")),c(O)==="object"&&O!==null&&c(q)==="object"&&q!==null&&"stack"in O&&O instanceof Error&&"stack"in q&&q instanceof Error&&(O=_(O),q=_(q)),P==="deepStrictEqual"||P==="strictEqual")B=i(this,d(F).call(this,function(et,Z,H){var U="",V="",$=0,at="",rt=!1,ot=T(et),ct=ot.split(`
`),ht=T(Z).split(`
`),mt=0,kt="";if(H==="strictEqual"&&c(et)==="object"&&c(Z)==="object"&&et!==null&&Z!==null&&(H="strictEqualObject"),ct.length===1&&ht.length===1&&ct[0]!==ht[0]){var Ct=ct[0].length+ht[0].length;if(Ct<=10){if(!(c(et)==="object"&&et!==null||c(Z)==="object"&&Z!==null||et===0&&Z===0))return"".concat(x[H],`

`)+"".concat(ct[0]," !== ").concat(ht[0],`
`)}else if(H!=="strictEqualObject"&&Ct<(a.stderr&&a.stderr.isTTY?a.stderr.columns:80)){for(;ct[0][mt]===ht[0][mt];)mt++;mt>2&&(kt=`
  `.concat(function(xt,Ft){if(Ft=Math.floor(Ft),xt.length==0||Ft==0)return"";var Bt=xt.length*Ft;for(Ft=Math.floor(Math.log(Ft)/Math.log(2));Ft;)xt+=xt,Ft--;return xt+xt.substring(0,Bt-xt.length)}(" ",mt),"^"),mt=0)}}for(var It=ct[ct.length-1],pt=ht[ht.length-1];It===pt&&(mt++<2?at=`
  `.concat(It).concat(at):U=It,ct.pop(),ht.pop(),ct.length!==0&&ht.length!==0);)It=ct[ct.length-1],pt=ht[ht.length-1];var bt=Math.max(ct.length,ht.length);if(bt===0){var _t=ot.split(`
`);if(_t.length>30)for(_t[26]="".concat(y,"...").concat(v);_t.length>27;)_t.pop();return"".concat(x.notIdentical,`

`).concat(_t.join(`
`),`
`)}mt>3&&(at=`
`.concat(y,"...").concat(v).concat(at),rt=!0),U!==""&&(at=`
  `.concat(U).concat(at),U="");var Dt=0,L=x[H]+`
`.concat(b,"+ actual").concat(v," ").concat(m,"- expected").concat(v),X=" ".concat(y,"...").concat(v," Lines skipped");for(mt=0;mt<bt;mt++){var it=mt-$;if(ct.length<mt+1)it>1&&mt>2&&(it>4?(V+=`
`.concat(y,"...").concat(v),rt=!0):it>3&&(V+=`
  `.concat(ht[mt-2]),Dt++),V+=`
  `.concat(ht[mt-1]),Dt++),$=mt,U+=`
`.concat(m,"-").concat(v," ").concat(ht[mt]),Dt++;else if(ht.length<mt+1)it>1&&mt>2&&(it>4?(V+=`
`.concat(y,"...").concat(v),rt=!0):it>3&&(V+=`
  `.concat(ct[mt-2]),Dt++),V+=`
  `.concat(ct[mt-1]),Dt++),$=mt,V+=`
`.concat(b,"+").concat(v," ").concat(ct[mt]),Dt++;else{var ft=ht[mt],gt=ct[mt],wt=gt!==ft&&(!g(gt,",")||gt.slice(0,-1)!==ft);wt&&g(ft,",")&&ft.slice(0,-1)===gt&&(wt=!1,gt+=","),wt?(it>1&&mt>2&&(it>4?(V+=`
`.concat(y,"...").concat(v),rt=!0):it>3&&(V+=`
  `.concat(ct[mt-2]),Dt++),V+=`
  `.concat(ct[mt-1]),Dt++),$=mt,V+=`
`.concat(b,"+").concat(v," ").concat(gt),U+=`
`.concat(m,"-").concat(v," ").concat(ft),Dt+=2):(V+=U,U="",it!==1&&mt!==0||(V+=`
  `.concat(gt),Dt++))}if(Dt>20&&mt<bt-2)return"".concat(L).concat(X,`
`).concat(V,`
`).concat(y,"...").concat(v).concat(U,`
`)+"".concat(y,"...").concat(v)}return"".concat(L).concat(rt?X:"",`
`).concat(V).concat(U).concat(at).concat(kt)}(O,q,P)));else if(P==="notDeepStrictEqual"||P==="notStrictEqual"){var E=x[P],z=T(O).split(`
`);if(P==="notStrictEqual"&&c(O)==="object"&&O!==null&&(E=x.notStrictEqualObject),z.length>30)for(z[26]="".concat(y,"...").concat(v);z.length>27;)z.pop();B=z.length===1?i(this,d(F).call(this,"".concat(E," ").concat(z[0]))):i(this,d(F).call(this,"".concat(E,`

`).concat(z.join(`
`),`
`)))}else{var Y=T(O),Q="",nt=x[P];P==="notDeepEqual"||P==="notEqual"?(Y="".concat(x[P],`

`).concat(Y)).length>1024&&(Y="".concat(Y.slice(0,1021),"...")):(Q="".concat(T(q)),Y.length>512&&(Y="".concat(Y.slice(0,509),"...")),Q.length>512&&(Q="".concat(Q.slice(0,509),"...")),P==="deepEqual"||P==="equal"?Y="".concat(nt,`

`).concat(Y,`

should equal

`):Q=" ".concat(P," ").concat(Q)),B=i(this,d(F).call(this,"".concat(Y).concat(Q)))}return Error.stackTraceLimit=tt,B.generatedMessage=!J,Object.defineProperty(r(B),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),B.code="ERR_ASSERTION",B.actual=O,B.expected=q,B.operator=P,Error.captureStackTrace&&Error.captureStackTrace(r(B),M),B.stack,B.name="AssertionError",i(B)}var N,D;return function(j,B){if(typeof B!="function"&&B!==null)throw new TypeError("Super expression must either be null or a function");j.prototype=Object.create(B&&B.prototype,{constructor:{value:j,writable:!0,configurable:!0}}),B&&u(j,B)}(F,S),N=F,D=[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:h.custom,value:function(j,B){return h(this,function(J){for(var P=1;P<arguments.length;P++){var M=arguments[P]!=null?arguments[P]:{},O=Object.keys(M);typeof Object.getOwnPropertySymbols=="function"&&(O=O.concat(Object.getOwnPropertySymbols(M).filter(function(q){return Object.getOwnPropertyDescriptor(M,q).enumerable}))),O.forEach(function(q){f(J,q,M[q])})}return J}({},B,{customInspect:!1,depth:0}))}}],D&&e(N.prototype,D),F}(n(Error));w.exports=C},79616:function(w,s,t){function a(u){return a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},a(u)}function f(u){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(d){return d.__proto__||Object.getPrototypeOf(d)},f(u)}function e(u,d){return e=Object.setPrototypeOf||function(c,h){return c.__proto__=h,c},e(u,d)}var i,r,n={};function o(u,d,c){c||(c=Error);var h=function(p){function g(y,b,m){var v;return function(x,_){if(!(x instanceof _))throw new TypeError("Cannot call a class as a function")}(this,g),v=function(x,_){return!_||a(_)!=="object"&&typeof _!="function"?function(T){if(T===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}(x):_}(this,f(g).call(this,function(x,_,T){return typeof d=="string"?d:d(x,_,T)}(y,b,m))),v.code=u,v}return function(y,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");y.prototype=Object.create(b&&b.prototype,{constructor:{value:y,writable:!0,configurable:!0}}),b&&e(y,b)}(g,p),g}(c);n[u]=h}function l(u,d){if(Array.isArray(u)){var c=u.length;return u=u.map(function(h){return String(h)}),c>2?"one of ".concat(d," ").concat(u.slice(0,c-1).join(", "),", or ")+u[c-1]:c===2?"one of ".concat(d," ").concat(u[0]," or ").concat(u[1]):"of ".concat(d," ").concat(u[0])}return"of ".concat(d," ").concat(String(u))}o("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),o("ERR_INVALID_ARG_TYPE",function(u,d,c){var h,p,g,y,b;if(i===void 0&&(i=t(32791)),i(typeof u=="string","'name' must be a string"),typeof d=="string"&&(p="not ",d.substr(0,p.length)===p)?(h="must not be",d=d.replace(/^not /,"")):h="must be",function(v,x,_){return(_===void 0||_>v.length)&&(_=v.length),v.substring(_-x.length,_)===x}(u," argument"))g="The ".concat(u," ").concat(h," ").concat(l(d,"type"));else{var m=(typeof b!="number"&&(b=0),b+1>(y=u).length||y.indexOf(".",b)===-1?"argument":"property");g='The "'.concat(u,'" ').concat(m," ").concat(h," ").concat(l(d,"type"))}return g+". Received type ".concat(a(c))},TypeError),o("ERR_INVALID_ARG_VALUE",function(u,d){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"is invalid";r===void 0&&(r=t(43827));var h=r.inspect(d);return h.length>128&&(h="".concat(h.slice(0,128),"...")),"The argument '".concat(u,"' ").concat(c,". Received ").concat(h)},TypeError),o("ERR_INVALID_RETURN_VALUE",function(u,d,c){var h;return h=c&&c.constructor&&c.constructor.name?"instance of ".concat(c.constructor.name):"type ".concat(a(c)),"Expected ".concat(u,' to be returned from the "').concat(d,'"')+" function but got ".concat(h,".")},TypeError),o("ERR_MISSING_ARGS",function(){for(var u=arguments.length,d=new Array(u),c=0;c<u;c++)d[c]=arguments[c];i===void 0&&(i=t(32791)),i(d.length>0,"At least one arg needs to be specified");var h="The ",p=d.length;switch(d=d.map(function(g){return'"'.concat(g,'"')}),p){case 1:h+="".concat(d[0]," argument");break;case 2:h+="".concat(d[0]," and ").concat(d[1]," arguments");break;default:h+=d.slice(0,p-1).join(", "),h+=", and ".concat(d[p-1]," arguments")}return"".concat(h," must be specified")},TypeError),w.exports.codes=n},74061:function(w,s,t){function a(Z,H){return function(U){if(Array.isArray(U))return U}(Z)||function(U,V){var $=[],at=!0,rt=!1,ot=void 0;try{for(var ct,ht=U[Symbol.iterator]();!(at=(ct=ht.next()).done)&&($.push(ct.value),!V||$.length!==V);at=!0);}catch(mt){rt=!0,ot=mt}finally{try{at||ht.return==null||ht.return()}finally{if(rt)throw ot}}return $}(Z,H)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function f(Z){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},f(Z)}var e=/a/g.flags!==void 0,i=function(Z){var H=[];return Z.forEach(function(U){return H.push(U)}),H},r=function(Z){var H=[];return Z.forEach(function(U,V){return H.push([V,U])}),H},n=Object.is?Object.is:t(64003),o=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},l=Number.isNaN?Number.isNaN:t(15567);function u(Z){return Z.call.bind(Z)}var d=u(Object.prototype.hasOwnProperty),c=u(Object.prototype.propertyIsEnumerable),h=u(Object.prototype.toString),p=t(43827).types,g=p.isAnyArrayBuffer,y=p.isArrayBufferView,b=p.isDate,m=p.isMap,v=p.isRegExp,x=p.isSet,_=p.isNativeError,T=p.isBoxedPrimitive,C=p.isNumberObject,S=p.isStringObject,F=p.isBooleanObject,N=p.isBigIntObject,D=p.isSymbolObject,j=p.isFloat32Array,B=p.isFloat64Array;function J(Z){if(Z.length===0||Z.length>10)return!0;for(var H=0;H<Z.length;H++){var U=Z.charCodeAt(H);if(U<48||U>57)return!0}return Z.length===10&&Z>=Math.pow(2,32)}function P(Z){return Object.keys(Z).filter(J).concat(o(Z).filter(Object.prototype.propertyIsEnumerable.bind(Z)))}function M(Z,H){if(Z===H)return 0;for(var U=Z.length,V=H.length,$=0,at=Math.min(U,V);$<at;++$)if(Z[$]!==H[$]){U=Z[$],V=H[$];break}return U<V?-1:V<U?1:0}function O(Z,H,U,V){if(Z===H)return Z!==0||!U||n(Z,H);if(U){if(f(Z)!=="object")return typeof Z=="number"&&l(Z)&&l(H);if(f(H)!=="object"||Z===null||H===null||Object.getPrototypeOf(Z)!==Object.getPrototypeOf(H))return!1}else{if(Z===null||f(Z)!=="object")return(H===null||f(H)!=="object")&&Z==H;if(H===null||f(H)!=="object")return!1}var $,at,rt,ot,ct=h(Z);if(ct!==h(H))return!1;if(Array.isArray(Z)){if(Z.length!==H.length)return!1;var ht=P(Z),mt=P(H);return ht.length===mt.length&&tt(Z,H,U,V,1,ht)}if(ct==="[object Object]"&&(!m(Z)&&m(H)||!x(Z)&&x(H)))return!1;if(b(Z)){if(!b(H)||Date.prototype.getTime.call(Z)!==Date.prototype.getTime.call(H))return!1}else if(v(Z)){if(!v(H)||(rt=Z,ot=H,!(e?rt.source===ot.source&&rt.flags===ot.flags:RegExp.prototype.toString.call(rt)===RegExp.prototype.toString.call(ot))))return!1}else if(_(Z)||Z instanceof Error){if(Z.message!==H.message||Z.name!==H.name)return!1}else{if(y(Z)){if(U||!j(Z)&&!B(Z)){if(!function(It,pt){return It.byteLength===pt.byteLength&&M(new Uint8Array(It.buffer,It.byteOffset,It.byteLength),new Uint8Array(pt.buffer,pt.byteOffset,pt.byteLength))===0}(Z,H))return!1}else if(!function(It,pt){if(It.byteLength!==pt.byteLength)return!1;for(var bt=0;bt<It.byteLength;bt++)if(It[bt]!==pt[bt])return!1;return!0}(Z,H))return!1;var kt=P(Z),Ct=P(H);return kt.length===Ct.length&&tt(Z,H,U,V,0,kt)}if(x(Z))return!(!x(H)||Z.size!==H.size)&&tt(Z,H,U,V,2);if(m(Z))return!(!m(H)||Z.size!==H.size)&&tt(Z,H,U,V,3);if(g(Z)){if(at=H,($=Z).byteLength!==at.byteLength||M(new Uint8Array($),new Uint8Array(at))!==0)return!1}else if(T(Z)&&!function(It,pt){return C(It)?C(pt)&&n(Number.prototype.valueOf.call(It),Number.prototype.valueOf.call(pt)):S(It)?S(pt)&&String.prototype.valueOf.call(It)===String.prototype.valueOf.call(pt):F(It)?F(pt)&&Boolean.prototype.valueOf.call(It)===Boolean.prototype.valueOf.call(pt):N(It)?N(pt)&&BigInt.prototype.valueOf.call(It)===BigInt.prototype.valueOf.call(pt):D(pt)&&Symbol.prototype.valueOf.call(It)===Symbol.prototype.valueOf.call(pt)}(Z,H))return!1}return tt(Z,H,U,V,0)}function q(Z,H){return H.filter(function(U){return c(Z,U)})}function tt(Z,H,U,V,$,at){if(arguments.length===5){at=Object.keys(Z);var rt=Object.keys(H);if(at.length!==rt.length)return!1}for(var ot=0;ot<at.length;ot++)if(!d(H,at[ot]))return!1;if(U&&arguments.length===5){var ct=o(Z);if(ct.length!==0){var ht=0;for(ot=0;ot<ct.length;ot++){var mt=ct[ot];if(c(Z,mt)){if(!c(H,mt))return!1;at.push(mt),ht++}else if(c(H,mt))return!1}var kt=o(H);if(ct.length!==kt.length&&q(H,kt).length!==ht)return!1}else{var Ct=o(H);if(Ct.length!==0&&q(H,Ct).length!==0)return!1}}if(at.length===0&&($===0||$===1&&Z.length===0||Z.size===0))return!0;if(V===void 0)V={val1:new Map,val2:new Map,position:0};else{var It=V.val1.get(Z);if(It!==void 0){var pt=V.val2.get(H);if(pt!==void 0)return It===pt}V.position++}V.val1.set(Z,V.position),V.val2.set(H,V.position);var bt=et(Z,H,U,at,V,$);return V.val1.delete(Z),V.val2.delete(H),bt}function E(Z,H,U,V){for(var $=i(Z),at=0;at<$.length;at++){var rt=$[at];if(O(H,rt,U,V))return Z.delete(rt),!0}return!1}function z(Z){switch(f(Z)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":Z=+Z;case"number":if(l(Z))return!1}return!0}function Y(Z,H,U){var V=z(U);return V??(H.has(V)&&!Z.has(V))}function Q(Z,H,U,V,$){var at=z(U);if(at!=null)return at;var rt=H.get(at);return!(rt===void 0&&!H.has(at)||!O(V,rt,!1,$))&&!Z.has(at)&&O(V,rt,!1,$)}function nt(Z,H,U,V,$,at){for(var rt=i(Z),ot=0;ot<rt.length;ot++){var ct=rt[ot];if(O(U,ct,$,at)&&O(V,H.get(ct),$,at))return Z.delete(ct),!0}return!1}function et(Z,H,U,V,$,at){var rt=0;if(at===2){if(!function(mt,kt,Ct,It){for(var pt=null,bt=i(mt),_t=0;_t<bt.length;_t++){var Dt=bt[_t];if(f(Dt)==="object"&&Dt!==null)pt===null&&(pt=new Set),pt.add(Dt);else if(!kt.has(Dt)){if(Ct||!Y(mt,kt,Dt))return!1;pt===null&&(pt=new Set),pt.add(Dt)}}if(pt!==null){for(var L=i(kt),X=0;X<L.length;X++){var it=L[X];if(f(it)==="object"&&it!==null){if(!E(pt,it,Ct,It))return!1}else if(!Ct&&!mt.has(it)&&!E(pt,it,Ct,It))return!1}return pt.size===0}return!0}(Z,H,U,$))return!1}else if(at===3){if(!function(mt,kt,Ct,It){for(var pt=null,bt=r(mt),_t=0;_t<bt.length;_t++){var Dt=a(bt[_t],2),L=Dt[0],X=Dt[1];if(f(L)==="object"&&L!==null)pt===null&&(pt=new Set),pt.add(L);else{var it=kt.get(L);if(it===void 0&&!kt.has(L)||!O(X,it,Ct,It)){if(Ct||!Q(mt,kt,L,X,It))return!1;pt===null&&(pt=new Set),pt.add(L)}}}if(pt!==null){for(var ft=r(kt),gt=0;gt<ft.length;gt++){var wt=a(ft[gt],2),xt=(L=wt[0],wt[1]);if(f(L)==="object"&&L!==null){if(!nt(pt,mt,L,xt,Ct,It))return!1}else if(!(Ct||mt.has(L)&&O(mt.get(L),xt,!1,It)||nt(pt,mt,L,xt,!1,It)))return!1}return pt.size===0}return!0}(Z,H,U,$))return!1}else if(at===1)for(;rt<Z.length;rt++){if(!d(Z,rt)){if(d(H,rt))return!1;for(var ot=Object.keys(Z);rt<ot.length;rt++){var ct=ot[rt];if(!d(H,ct)||!O(Z[ct],H[ct],U,$))return!1}return ot.length===Object.keys(H).length}if(!d(H,rt)||!O(Z[rt],H[rt],U,$))return!1}for(rt=0;rt<V.length;rt++){var ht=V[rt];if(!O(Z[ht],H[ht],U,$))return!1}return!0}w.exports={isDeepEqual:function(Z,H){return O(Z,H,!1)},isDeepStrictEqual:function(Z,H){return O(Z,H,!0)}}},95341:function(w,s){s.byteLength=function(l){var u=n(l),d=u[0],c=u[1];return 3*(d+c)/4-c},s.toByteArray=function(l){var u,d,c=n(l),h=c[0],p=c[1],g=new f(function(m,v,x){return 3*(v+x)/4-x}(0,h,p)),y=0,b=p>0?h-4:h;for(d=0;d<b;d+=4)u=a[l.charCodeAt(d)]<<18|a[l.charCodeAt(d+1)]<<12|a[l.charCodeAt(d+2)]<<6|a[l.charCodeAt(d+3)],g[y++]=u>>16&255,g[y++]=u>>8&255,g[y++]=255&u;return p===2&&(u=a[l.charCodeAt(d)]<<2|a[l.charCodeAt(d+1)]>>4,g[y++]=255&u),p===1&&(u=a[l.charCodeAt(d)]<<10|a[l.charCodeAt(d+1)]<<4|a[l.charCodeAt(d+2)]>>2,g[y++]=u>>8&255,g[y++]=255&u),g},s.fromByteArray=function(l){for(var u,d=l.length,c=d%3,h=[],p=16383,g=0,y=d-c;g<y;g+=p)h.push(o(l,g,g+p>y?y:g+p));return c===1?(u=l[d-1],h.push(t[u>>2]+t[u<<4&63]+"==")):c===2&&(u=(l[d-2]<<8)+l[d-1],h.push(t[u>>10]+t[u>>4&63]+t[u<<2&63]+"=")),h.join("")};for(var t=[],a=[],f=typeof Uint8Array<"u"?Uint8Array:Array,e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,r=e.length;i<r;++i)t[i]=e[i],a[e.charCodeAt(i)]=i;function n(l){var u=l.length;if(u%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var d=l.indexOf("=");return d===-1&&(d=u),[d,d===u?0:4-d%4]}function o(l,u,d){for(var c,h,p=[],g=u;g<d;g+=3)c=(l[g]<<16&16711680)+(l[g+1]<<8&65280)+(255&l[g+2]),p.push(t[(h=c)>>18&63]+t[h>>12&63]+t[h>>6&63]+t[63&h]);return p.join("")}a["-".charCodeAt(0)]=62,a["_".charCodeAt(0)]=63},6614:function(w,s,t){var a=t(68318),f=t(68222),e=f(a("String.prototype.indexOf"));w.exports=function(i,r){var n=a(i,!!r);return typeof n=="function"&&e(i,".prototype.")>-1?f(n):n}},68222:function(w,s,t){var a=t(77575),f=t(68318),e=f("%Function.prototype.apply%"),i=f("%Function.prototype.call%"),r=f("%Reflect.apply%",!0)||a.call(i,e),n=f("%Object.getOwnPropertyDescriptor%",!0),o=f("%Object.defineProperty%",!0),l=f("%Math.max%");if(o)try{o({},"a",{value:1})}catch{o=null}w.exports=function(d){var c=r(a,i,arguments);if(n&&o){var h=n(c,"length");h.configurable&&o(c,"length",{value:1+l(0,d.length-(arguments.length-1))})}return c};var u=function(){return r(a,e,arguments)};o?o(w.exports,"apply",{value:u}):w.exports.apply=u},60721:function(w,s,t){function a(g,y){if((b=(g=y?g.toExponential(y-1):g.toExponential()).indexOf("e"))<0)return null;var b,m=g.slice(0,b);return[m.length>1?m[0]+m.slice(2):m,+g.slice(b+1)]}t.d(s,{WU:function(){return d},FF:function(){return p}});var f,e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function i(g){if(!(y=e.exec(g)))throw new Error("invalid format: "+g);var y;return new r({fill:y[1],align:y[2],sign:y[3],symbol:y[4],zero:y[5],width:y[6],comma:y[7],precision:y[8]&&y[8].slice(1),trim:y[9],type:y[10]})}function r(g){this.fill=g.fill===void 0?" ":g.fill+"",this.align=g.align===void 0?">":g.align+"",this.sign=g.sign===void 0?"-":g.sign+"",this.symbol=g.symbol===void 0?"":g.symbol+"",this.zero=!!g.zero,this.width=g.width===void 0?void 0:+g.width,this.comma=!!g.comma,this.precision=g.precision===void 0?void 0:+g.precision,this.trim=!!g.trim,this.type=g.type===void 0?"":g.type+""}function n(g,y){var b=a(g,y);if(!b)return g+"";var m=b[0],v=b[1];return v<0?"0."+new Array(-v).join("0")+m:m.length>v+1?m.slice(0,v+1)+"."+m.slice(v+1):m+new Array(v-m.length+2).join("0")}i.prototype=r.prototype,r.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,0|this.width))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var o={"%":function(g,y){return(100*g).toFixed(y)},b:function(g){return Math.round(g).toString(2)},c:function(g){return g+""},d:function(g){return Math.abs(g=Math.round(g))>=1e21?g.toLocaleString("en").replace(/,/g,""):g.toString(10)},e:function(g,y){return g.toExponential(y)},f:function(g,y){return g.toFixed(y)},g:function(g,y){return g.toPrecision(y)},o:function(g){return Math.round(g).toString(8)},p:function(g,y){return n(100*g,y)},r:n,s:function(g,y){var b=a(g,y);if(!b)return g+"";var m=b[0],v=b[1],x=v-(f=3*Math.max(-8,Math.min(8,Math.floor(v/3))))+1,_=m.length;return x===_?m:x>_?m+new Array(x-_+1).join("0"):x>0?m.slice(0,x)+"."+m.slice(x):"0."+new Array(1-x).join("0")+a(g,Math.max(0,y+x-1))[0]},X:function(g){return Math.round(g).toString(16).toUpperCase()},x:function(g){return Math.round(g).toString(16)}};function l(g){return g}var u,d,c=Array.prototype.map,h=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function p(g){var y,b,m=g.grouping===void 0||g.thousands===void 0?l:(y=c.call(g.grouping,Number),b=g.thousands+"",function(D,j){for(var B=D.length,J=[],P=0,M=y[0],O=0;B>0&&M>0&&(O+M+1>j&&(M=Math.max(1,j-O)),J.push(D.substring(B-=M,B+M)),!((O+=M+1)>j));)M=y[P=(P+1)%y.length];return J.reverse().join(b)}),v=g.currency===void 0?"":g.currency[0]+"",x=g.currency===void 0?"":g.currency[1]+"",_=g.decimal===void 0?".":g.decimal+"",T=g.numerals===void 0?l:function(D){return function(j){return j.replace(/[0-9]/g,function(B){return D[+B]})}}(c.call(g.numerals,String)),C=g.percent===void 0?"%":g.percent+"",S=g.minus===void 0?"-":g.minus+"",F=g.nan===void 0?"NaN":g.nan+"";function N(D){var j=(D=i(D)).fill,B=D.align,J=D.sign,P=D.symbol,M=D.zero,O=D.width,q=D.comma,tt=D.precision,E=D.trim,z=D.type;z==="n"?(q=!0,z="g"):o[z]||(tt===void 0&&(tt=12),E=!0,z="g"),(M||j==="0"&&B==="=")&&(M=!0,j="0",B="=");var Y=P==="$"?v:P==="#"&&/[boxX]/.test(z)?"0"+z.toLowerCase():"",Q=P==="$"?x:/[%p]/.test(z)?C:"",nt=o[z],et=/[defgprs%]/.test(z);function Z(H){var U,V,$,at=Y,rt=Q;if(z==="c")rt=nt(H)+rt,H="";else{var ot=(H=+H)<0||1/H<0;if(H=isNaN(H)?F:nt(Math.abs(H),tt),E&&(H=function(mt){t:for(var kt,Ct=mt.length,It=1,pt=-1;It<Ct;++It)switch(mt[It]){case".":pt=kt=It;break;case"0":pt===0&&(pt=It),kt=It;break;default:if(!+mt[It])break t;pt>0&&(pt=0)}return pt>0?mt.slice(0,pt)+mt.slice(kt+1):mt}(H)),ot&&+H==0&&J!=="+"&&(ot=!1),at=(ot?J==="("?J:S:J==="-"||J==="("?"":J)+at,rt=(z==="s"?h[8+f/3]:"")+rt+(ot&&J==="("?")":""),et){for(U=-1,V=H.length;++U<V;)if(48>($=H.charCodeAt(U))||$>57){rt=($===46?_+H.slice(U+1):H.slice(U))+rt,H=H.slice(0,U);break}}}q&&!M&&(H=m(H,1/0));var ct=at.length+H.length+rt.length,ht=ct<O?new Array(O-ct+1).join(j):"";switch(q&&M&&(H=m(ht+H,ht.length?O-rt.length:1/0),ht=""),B){case"<":H=at+H+rt+ht;break;case"=":H=at+ht+H+rt;break;case"^":H=ht.slice(0,ct=ht.length>>1)+at+H+rt+ht.slice(ct);break;default:H=ht+at+H+rt}return T(H)}return tt=tt===void 0?6:/[gprs]/.test(z)?Math.max(1,Math.min(21,tt)):Math.max(0,Math.min(20,tt)),Z.toString=function(){return D+""},Z}return{format:N,formatPrefix:function(D,j){var B,J=N(((D=i(D)).type="f",D)),P=3*Math.max(-8,Math.min(8,Math.floor((B=j,((B=a(Math.abs(B)))?B[1]:NaN)/3)))),M=Math.pow(10,-P),O=h[8+P/3];return function(q){return J(M*q)+O}}}}u=p({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"}),d=u.format,u.formatPrefix},84096:function(w,s,t){t.d(s,{i$:function(){return h},Dq:function(){return d},g0:function(){return p}});var a=t(58176),f=t(48480),e=t(59879),i=t(82301),r=t(34823),n=t(79791);function o(Nt){if(0<=Nt.y&&Nt.y<100){var Vt=new Date(-1,Nt.m,Nt.d,Nt.H,Nt.M,Nt.S,Nt.L);return Vt.setFullYear(Nt.y),Vt}return new Date(Nt.y,Nt.m,Nt.d,Nt.H,Nt.M,Nt.S,Nt.L)}function l(Nt){if(0<=Nt.y&&Nt.y<100){var Vt=new Date(Date.UTC(-1,Nt.m,Nt.d,Nt.H,Nt.M,Nt.S,Nt.L));return Vt.setUTCFullYear(Nt.y),Vt}return new Date(Date.UTC(Nt.y,Nt.m,Nt.d,Nt.H,Nt.M,Nt.S,Nt.L))}function u(Nt,Vt,Zt){return{y:Nt,m:Vt,d:Zt,H:0,M:0,S:0,L:0}}function d(Nt){var Vt=Nt.dateTime,Zt=Nt.date,Wt=Nt.time,he=Nt.periods,$t=Nt.days,ye=Nt.shortDays,se=Nt.months,Pe=Nt.shortMonths,Ce=_(he),Ne=T(he),yt=_($t),vt=T($t),Rt=_(ye),Ut=T(ye),Ht=_(se),Yt=T(se),ee=_(Pe),ne=T(Pe),re={a:function(Me){return ye[Me.getDay()]},A:function(Me){return $t[Me.getDay()]},b:function(Me){return Pe[Me.getMonth()]},B:function(Me){return se[Me.getMonth()]},c:null,d:H,e:H,f:rt,H:U,I:V,j:$,L:at,m:ot,M:ct,p:function(Me){return he[+(Me.getHours()>=12)]},q:function(Me){return 1+~~(Me.getMonth()/3)},Q:de,s:Jt,S:ht,u:mt,U:kt,V:Ct,w:It,W:pt,x:null,X:null,y:bt,Y:_t,Z:Dt,"%":ie},ve={a:function(Me){return ye[Me.getUTCDay()]},A:function(Me){return $t[Me.getUTCDay()]},b:function(Me){return Pe[Me.getUTCMonth()]},B:function(Me){return se[Me.getUTCMonth()]},c:null,d:L,e:L,f:wt,H:X,I:it,j:ft,L:gt,m:xt,M:Ft,p:function(Me){return he[+(Me.getUTCHours()>=12)]},q:function(Me){return 1+~~(Me.getUTCMonth()/3)},Q:de,s:Jt,S:Bt,u:Mt,U:St,V:Lt,w:Pt,W:zt,x:null,X:null,y:Xt,Y:Gt,Z:Kt,"%":ie},fe={a:function(Me,_e,xe){var me=Rt.exec(_e.slice(xe));return me?(Me.w=Ut[me[0].toLowerCase()],xe+me[0].length):-1},A:function(Me,_e,xe){var me=yt.exec(_e.slice(xe));return me?(Me.w=vt[me[0].toLowerCase()],xe+me[0].length):-1},b:function(Me,_e,xe){var me=ee.exec(_e.slice(xe));return me?(Me.m=ne[me[0].toLowerCase()],xe+me[0].length):-1},B:function(Me,_e,xe){var me=Ht.exec(_e.slice(xe));return me?(Me.m=Yt[me[0].toLowerCase()],xe+me[0].length):-1},c:function(Me,_e,xe){return Be(Me,Vt,_e,xe)},d:O,e:O,f:Q,H:tt,I:tt,j:q,L:Y,m:M,M:E,p:function(Me,_e,xe){var me=Ce.exec(_e.slice(xe));return me?(Me.p=Ne[me[0].toLowerCase()],xe+me[0].length):-1},q:P,Q:et,s:Z,S:z,u:S,U:F,V:N,w:C,W:D,x:function(Me,_e,xe){return Be(Me,Zt,_e,xe)},X:function(Me,_e,xe){return Be(Me,Wt,_e,xe)},y:B,Y:j,Z:J,"%":nt};function pe(Me,_e){return function(xe){var me,Te,we,Ae=[],Ye=-1,Re=0,ge=Me.length;for(xe instanceof Date||(xe=new Date(+xe));++Ye<ge;)Me.charCodeAt(Ye)===37&&(Ae.push(Me.slice(Re,Ye)),(Te=g[me=Me.charAt(++Ye)])!=null?me=Me.charAt(++Ye):Te=me==="e"?" ":"0",(we=_e[me])&&(me=we(xe,Te)),Ae.push(me),Re=Ye+1);return Ae.push(Me.slice(Re,Ye)),Ae.join("")}}function ze(Me,_e){return function(xe){var me,Te,we=u(1900,void 0,1);if(Be(we,Me,xe+="",0)!=xe.length)return null;if("Q"in we)return new Date(we.Q);if("s"in we)return new Date(1e3*we.s+("L"in we?we.L:0));if(_e&&!("Z"in we)&&(we.Z=0),"p"in we&&(we.H=we.H%12+12*we.p),we.m===void 0&&(we.m="q"in we?we.q:0),"V"in we){if(we.V<1||we.V>53)return null;"w"in we||(we.w=1),"Z"in we?(Te=(me=l(u(we.y,0,1))).getUTCDay(),me=Te>4||Te===0?a.l6.ceil(me):(0,a.l6)(me),me=f.Z.offset(me,7*(we.V-1)),we.y=me.getUTCFullYear(),we.m=me.getUTCMonth(),we.d=me.getUTCDate()+(we.w+6)%7):(Te=(me=o(u(we.y,0,1))).getDay(),me=Te>4||Te===0?e.wA.ceil(me):(0,e.wA)(me),me=i.Z.offset(me,7*(we.V-1)),we.y=me.getFullYear(),we.m=me.getMonth(),we.d=me.getDate()+(we.w+6)%7)}else("W"in we||"U"in we)&&("w"in we||(we.w="u"in we?we.u%7:"W"in we?1:0),Te="Z"in we?l(u(we.y,0,1)).getUTCDay():o(u(we.y,0,1)).getDay(),we.m=0,we.d="W"in we?(we.w+6)%7+7*we.W-(Te+5)%7:we.w+7*we.U-(Te+6)%7);return"Z"in we?(we.H+=we.Z/100|0,we.M+=we.Z%100,l(we)):o(we)}}function Be(Me,_e,xe,me){for(var Te,we,Ae=0,Ye=_e.length,Re=xe.length;Ae<Ye;){if(me>=Re)return-1;if((Te=_e.charCodeAt(Ae++))===37){if(Te=_e.charAt(Ae++),!(we=fe[Te in g?_e.charAt(Ae++):Te])||(me=we(Me,xe,me))<0)return-1}else if(Te!=xe.charCodeAt(me++))return-1}return me}return re.x=pe(Zt,re),re.X=pe(Wt,re),re.c=pe(Vt,re),ve.x=pe(Zt,ve),ve.X=pe(Wt,ve),ve.c=pe(Vt,ve),{format:function(Me){var _e=pe(Me+="",re);return _e.toString=function(){return Me},_e},parse:function(Me){var _e=ze(Me+="",!1);return _e.toString=function(){return Me},_e},utcFormat:function(Me){var _e=pe(Me+="",ve);return _e.toString=function(){return Me},_e},utcParse:function(Me){var _e=ze(Me+="",!0);return _e.toString=function(){return Me},_e}}}var c,h,p,g={"-":"",_:" ",0:"0"},y=/^\s*\d+/,b=/^%/,m=/[\\^$*+?|[\]().{}]/g;function v(Nt,Vt,Zt){var Wt=Nt<0?"-":"",he=(Wt?-Nt:Nt)+"",$t=he.length;return Wt+($t<Zt?new Array(Zt-$t+1).join(Vt)+he:he)}function x(Nt){return Nt.replace(m,"\\$&")}function _(Nt){return new RegExp("^(?:"+Nt.map(x).join("|")+")","i")}function T(Nt){for(var Vt={},Zt=-1,Wt=Nt.length;++Zt<Wt;)Vt[Nt[Zt].toLowerCase()]=Zt;return Vt}function C(Nt,Vt,Zt){var Wt=y.exec(Vt.slice(Zt,Zt+1));return Wt?(Nt.w=+Wt[0],Zt+Wt[0].length):-1}function S(Nt,Vt,Zt){var Wt=y.exec(Vt.slice(Zt,Zt+1));return Wt?(Nt.u=+Wt[0],Zt+Wt[0].length):-1}function F(Nt,Vt,Zt){var Wt=y.exec(Vt.slice(Zt,Zt+2));return Wt?(Nt.U=+Wt[0],Zt+Wt[0].length):-1}function N(Nt,Vt,Zt){var Wt=y.exec(Vt.slice(Zt,Zt+2));return Wt?(Nt.V=+Wt[0],Zt+Wt[0].length):-1}function D(Nt,Vt,Zt){var Wt=y.exec(Vt.slice(Zt,Zt+2));return Wt?(Nt.W=+Wt[0],Zt+Wt[0].length):-1}function j(Nt,Vt,Zt){var Wt=y.exec(Vt.slice(Zt,Zt+4));return Wt?(Nt.y=+Wt[0],Zt+Wt[0].length):-1}function B(Nt,Vt,Zt){var Wt=y.exec(Vt.slice(Zt,Zt+2));return Wt?(Nt.y=+Wt[0]+(+Wt[0]>68?1900:2e3),Zt+Wt[0].length):-1}function J(Nt,Vt,Zt){var Wt=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(Vt.slice(Zt,Zt+6));return Wt?(Nt.Z=Wt[1]?0:-(Wt[2]+(Wt[3]||"00")),Zt+Wt[0].length):-1}function P(Nt,Vt,Zt){var Wt=y.exec(Vt.slice(Zt,Zt+1));return Wt?(Nt.q=3*Wt[0]-3,Zt+Wt[0].length):-1}function M(Nt,Vt,Zt){var Wt=y.exec(Vt.slice(Zt,Zt+2));return Wt?(Nt.m=Wt[0]-1,Zt+Wt[0].length):-1}function O(Nt,Vt,Zt){var Wt=y.exec(Vt.slice(Zt,Zt+2));return Wt?(Nt.d=+Wt[0],Zt+Wt[0].length):-1}function q(Nt,Vt,Zt){var Wt=y.exec(Vt.slice(Zt,Zt+3));return Wt?(Nt.m=0,Nt.d=+Wt[0],Zt+Wt[0].length):-1}function tt(Nt,Vt,Zt){var Wt=y.exec(Vt.slice(Zt,Zt+2));return Wt?(Nt.H=+Wt[0],Zt+Wt[0].length):-1}function E(Nt,Vt,Zt){var Wt=y.exec(Vt.slice(Zt,Zt+2));return Wt?(Nt.M=+Wt[0],Zt+Wt[0].length):-1}function z(Nt,Vt,Zt){var Wt=y.exec(Vt.slice(Zt,Zt+2));return Wt?(Nt.S=+Wt[0],Zt+Wt[0].length):-1}function Y(Nt,Vt,Zt){var Wt=y.exec(Vt.slice(Zt,Zt+3));return Wt?(Nt.L=+Wt[0],Zt+Wt[0].length):-1}function Q(Nt,Vt,Zt){var Wt=y.exec(Vt.slice(Zt,Zt+6));return Wt?(Nt.L=Math.floor(Wt[0]/1e3),Zt+Wt[0].length):-1}function nt(Nt,Vt,Zt){var Wt=b.exec(Vt.slice(Zt,Zt+1));return Wt?Zt+Wt[0].length:-1}function et(Nt,Vt,Zt){var Wt=y.exec(Vt.slice(Zt));return Wt?(Nt.Q=+Wt[0],Zt+Wt[0].length):-1}function Z(Nt,Vt,Zt){var Wt=y.exec(Vt.slice(Zt));return Wt?(Nt.s=+Wt[0],Zt+Wt[0].length):-1}function H(Nt,Vt){return v(Nt.getDate(),Vt,2)}function U(Nt,Vt){return v(Nt.getHours(),Vt,2)}function V(Nt,Vt){return v(Nt.getHours()%12||12,Vt,2)}function $(Nt,Vt){return v(1+i.Z.count((0,r.Z)(Nt),Nt),Vt,3)}function at(Nt,Vt){return v(Nt.getMilliseconds(),Vt,3)}function rt(Nt,Vt){return at(Nt,Vt)+"000"}function ot(Nt,Vt){return v(Nt.getMonth()+1,Vt,2)}function ct(Nt,Vt){return v(Nt.getMinutes(),Vt,2)}function ht(Nt,Vt){return v(Nt.getSeconds(),Vt,2)}function mt(Nt){var Vt=Nt.getDay();return Vt===0?7:Vt}function kt(Nt,Vt){return v(e.OM.count((0,r.Z)(Nt)-1,Nt),Vt,2)}function Ct(Nt,Vt){var Zt=Nt.getDay();return Nt=Zt>=4||Zt===0?(0,e.bL)(Nt):e.bL.ceil(Nt),v(e.bL.count((0,r.Z)(Nt),Nt)+((0,r.Z)(Nt).getDay()===4),Vt,2)}function It(Nt){return Nt.getDay()}function pt(Nt,Vt){return v(e.wA.count((0,r.Z)(Nt)-1,Nt),Vt,2)}function bt(Nt,Vt){return v(Nt.getFullYear()%100,Vt,2)}function _t(Nt,Vt){return v(Nt.getFullYear()%1e4,Vt,4)}function Dt(Nt){var Vt=Nt.getTimezoneOffset();return(Vt>0?"-":(Vt*=-1,"+"))+v(Vt/60|0,"0",2)+v(Vt%60,"0",2)}function L(Nt,Vt){return v(Nt.getUTCDate(),Vt,2)}function X(Nt,Vt){return v(Nt.getUTCHours(),Vt,2)}function it(Nt,Vt){return v(Nt.getUTCHours()%12||12,Vt,2)}function ft(Nt,Vt){return v(1+f.Z.count((0,n.Z)(Nt),Nt),Vt,3)}function gt(Nt,Vt){return v(Nt.getUTCMilliseconds(),Vt,3)}function wt(Nt,Vt){return gt(Nt,Vt)+"000"}function xt(Nt,Vt){return v(Nt.getUTCMonth()+1,Vt,2)}function Ft(Nt,Vt){return v(Nt.getUTCMinutes(),Vt,2)}function Bt(Nt,Vt){return v(Nt.getUTCSeconds(),Vt,2)}function Mt(Nt){var Vt=Nt.getUTCDay();return Vt===0?7:Vt}function St(Nt,Vt){return v(a.Ox.count((0,n.Z)(Nt)-1,Nt),Vt,2)}function Lt(Nt,Vt){var Zt=Nt.getUTCDay();return Nt=Zt>=4||Zt===0?(0,a.hB)(Nt):a.hB.ceil(Nt),v(a.hB.count((0,n.Z)(Nt),Nt)+((0,n.Z)(Nt).getUTCDay()===4),Vt,2)}function Pt(Nt){return Nt.getUTCDay()}function zt(Nt,Vt){return v(a.l6.count((0,n.Z)(Nt)-1,Nt),Vt,2)}function Xt(Nt,Vt){return v(Nt.getUTCFullYear()%100,Vt,2)}function Gt(Nt,Vt){return v(Nt.getUTCFullYear()%1e4,Vt,4)}function Kt(){return"+0000"}function ie(){return"%"}function de(Nt){return+Nt}function Jt(Nt){return Math.floor(+Nt/1e3)}c=d({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),h=c.format,c.parse,p=c.utcFormat,c.utcParse},82301:function(w,s,t){t.d(s,{a:function(){return i}});var a=t(30052),f=t(54263),e=(0,a.Z)(function(r){r.setHours(0,0,0,0)},function(r,n){r.setDate(r.getDate()+n)},function(r,n){return(n-r-(n.getTimezoneOffset()-r.getTimezoneOffset())*f.yB)/f.UD},function(r){return r.getDate()-1});s.Z=e;var i=e.range},54263:function(w,s,t){t.d(s,{UD:function(){return i},Y2:function(){return e},Ym:function(){return a},iM:function(){return r},yB:function(){return f}});var a=1e3,f=6e4,e=36e5,i=864e5,r=6048e5},81041:function(w,s,t){t.r(s),t.d(s,{timeDay:function(){return y.Z},timeDays:function(){return y.a},timeFriday:function(){return b.mC},timeFridays:function(){return b.b$},timeHour:function(){return p},timeHours:function(){return g},timeInterval:function(){return a.Z},timeMillisecond:function(){return e},timeMilliseconds:function(){return i},timeMinute:function(){return d},timeMinutes:function(){return c},timeMonday:function(){return b.wA},timeMondays:function(){return b.bJ},timeMonth:function(){return v},timeMonths:function(){return x},timeSaturday:function(){return b.EY},timeSaturdays:function(){return b.Ff},timeSecond:function(){return o},timeSeconds:function(){return l},timeSunday:function(){return b.OM},timeSundays:function(){return b.vm},timeThursday:function(){return b.bL},timeThursdays:function(){return b.$t},timeTuesday:function(){return b.sy},timeTuesdays:function(){return b.aU},timeWednesday:function(){return b.zg},timeWednesdays:function(){return b.Ld},timeWeek:function(){return b.OM},timeWeeks:function(){return b.vm},timeYear:function(){return _.Z},timeYears:function(){return _.g},utcDay:function(){return j.Z},utcDays:function(){return j.y},utcFriday:function(){return B.QQ},utcFridays:function(){return B.fz},utcHour:function(){return N},utcHours:function(){return D},utcMillisecond:function(){return e},utcMilliseconds:function(){return i},utcMinute:function(){return C},utcMinutes:function(){return S},utcMonday:function(){return B.l6},utcMondays:function(){return B.$3},utcMonth:function(){return P},utcMonths:function(){return M},utcSaturday:function(){return B.g4},utcSaturdays:function(){return B.Q_},utcSecond:function(){return o},utcSeconds:function(){return l},utcSunday:function(){return B.Ox},utcSundays:function(){return B.SU},utcThursday:function(){return B.hB},utcThursdays:function(){return B.xj},utcTuesday:function(){return B.J1},utcTuesdays:function(){return B.DK},utcWednesday:function(){return B.b3},utcWednesdays:function(){return B.uy},utcWeek:function(){return B.Ox},utcWeeks:function(){return B.SU},utcYear:function(){return O.Z},utcYears:function(){return O.D}});var a=t(30052),f=(0,a.Z)(function(){},function(q,tt){q.setTime(+q+tt)},function(q,tt){return tt-q});f.every=function(q){return q=Math.floor(q),isFinite(q)&&q>0?q>1?(0,a.Z)(function(tt){tt.setTime(Math.floor(tt/q)*q)},function(tt,E){tt.setTime(+tt+E*q)},function(tt,E){return(E-tt)/q}):f:null};var e=f,i=f.range,r=t(54263),n=(0,a.Z)(function(q){q.setTime(q-q.getMilliseconds())},function(q,tt){q.setTime(+q+tt*r.Ym)},function(q,tt){return(tt-q)/r.Ym},function(q){return q.getUTCSeconds()}),o=n,l=n.range,u=(0,a.Z)(function(q){q.setTime(q-q.getMilliseconds()-q.getSeconds()*r.Ym)},function(q,tt){q.setTime(+q+tt*r.yB)},function(q,tt){return(tt-q)/r.yB},function(q){return q.getMinutes()}),d=u,c=u.range,h=(0,a.Z)(function(q){q.setTime(q-q.getMilliseconds()-q.getSeconds()*r.Ym-q.getMinutes()*r.yB)},function(q,tt){q.setTime(+q+tt*r.Y2)},function(q,tt){return(tt-q)/r.Y2},function(q){return q.getHours()}),p=h,g=h.range,y=t(82301),b=t(59879),m=(0,a.Z)(function(q){q.setDate(1),q.setHours(0,0,0,0)},function(q,tt){q.setMonth(q.getMonth()+tt)},function(q,tt){return tt.getMonth()-q.getMonth()+12*(tt.getFullYear()-q.getFullYear())},function(q){return q.getMonth()}),v=m,x=m.range,_=t(34823),T=(0,a.Z)(function(q){q.setUTCSeconds(0,0)},function(q,tt){q.setTime(+q+tt*r.yB)},function(q,tt){return(tt-q)/r.yB},function(q){return q.getUTCMinutes()}),C=T,S=T.range,F=(0,a.Z)(function(q){q.setUTCMinutes(0,0,0)},function(q,tt){q.setTime(+q+tt*r.Y2)},function(q,tt){return(tt-q)/r.Y2},function(q){return q.getUTCHours()}),N=F,D=F.range,j=t(48480),B=t(58176),J=(0,a.Z)(function(q){q.setUTCDate(1),q.setUTCHours(0,0,0,0)},function(q,tt){q.setUTCMonth(q.getUTCMonth()+tt)},function(q,tt){return tt.getUTCMonth()-q.getUTCMonth()+12*(tt.getUTCFullYear()-q.getUTCFullYear())},function(q){return q.getUTCMonth()}),P=J,M=J.range,O=t(79791)},30052:function(w,s,t){t.d(s,{Z:function(){return e}});var a=new Date,f=new Date;function e(i,r,n,o){function l(u){return i(u=arguments.length===0?new Date:new Date(+u)),u}return l.floor=function(u){return i(u=new Date(+u)),u},l.ceil=function(u){return i(u=new Date(u-1)),r(u,1),i(u),u},l.round=function(u){var d=l(u),c=l.ceil(u);return u-d<c-u?d:c},l.offset=function(u,d){return r(u=new Date(+u),d==null?1:Math.floor(d)),u},l.range=function(u,d,c){var h,p=[];if(u=l.ceil(u),c=c==null?1:Math.floor(c),!(u<d&&c>0))return p;do p.push(h=new Date(+u)),r(u,c),i(u);while(h<u&&u<d);return p},l.filter=function(u){return e(function(d){if(d>=d)for(;i(d),!u(d);)d.setTime(d-1)},function(d,c){if(d>=d)if(c<0)for(;++c<=0;)for(;r(d,-1),!u(d););else for(;--c>=0;)for(;r(d,1),!u(d););})},n&&(l.count=function(u,d){return a.setTime(+u),f.setTime(+d),i(a),i(f),Math.floor(n(a,f))},l.every=function(u){return u=Math.floor(u),isFinite(u)&&u>0?u>1?l.filter(o?function(d){return o(d)%u==0}:function(d){return l.count(0,d)%u==0}):l:null}),l}},48480:function(w,s,t){t.d(s,{y:function(){return i}});var a=t(30052),f=t(54263),e=(0,a.Z)(function(r){r.setUTCHours(0,0,0,0)},function(r,n){r.setUTCDate(r.getUTCDate()+n)},function(r,n){return(n-r)/f.UD},function(r){return r.getUTCDate()-1});s.Z=e;var i=e.range},58176:function(w,s,t){t.d(s,{$3:function(){return h},DK:function(){return p},J1:function(){return n},Ox:function(){return i},QQ:function(){return u},Q_:function(){return m},SU:function(){return c},b3:function(){return o},fz:function(){return b},g4:function(){return d},hB:function(){return l},l6:function(){return r},uy:function(){return g},xj:function(){return y}});var a=t(30052),f=t(54263);function e(v){return(0,a.Z)(function(x){x.setUTCDate(x.getUTCDate()-(x.getUTCDay()+7-v)%7),x.setUTCHours(0,0,0,0)},function(x,_){x.setUTCDate(x.getUTCDate()+7*_)},function(x,_){return(_-x)/f.iM})}var i=e(0),r=e(1),n=e(2),o=e(3),l=e(4),u=e(5),d=e(6),c=i.range,h=r.range,p=n.range,g=o.range,y=l.range,b=u.range,m=d.range},79791:function(w,s,t){t.d(s,{D:function(){return e}});var a=t(30052),f=(0,a.Z)(function(i){i.setUTCMonth(0,1),i.setUTCHours(0,0,0,0)},function(i,r){i.setUTCFullYear(i.getUTCFullYear()+r)},function(i,r){return r.getUTCFullYear()-i.getUTCFullYear()},function(i){return i.getUTCFullYear()});f.every=function(i){return isFinite(i=Math.floor(i))&&i>0?(0,a.Z)(function(r){r.setUTCFullYear(Math.floor(r.getUTCFullYear()/i)*i),r.setUTCMonth(0,1),r.setUTCHours(0,0,0,0)},function(r,n){r.setUTCFullYear(r.getUTCFullYear()+n*i)}):null},s.Z=f;var e=f.range},59879:function(w,s,t){t.d(s,{$t:function(){return y},EY:function(){return d},Ff:function(){return m},Ld:function(){return g},OM:function(){return i},aU:function(){return p},b$:function(){return b},bJ:function(){return h},bL:function(){return l},mC:function(){return u},sy:function(){return n},vm:function(){return c},wA:function(){return r},zg:function(){return o}});var a=t(30052),f=t(54263);function e(v){return(0,a.Z)(function(x){x.setDate(x.getDate()-(x.getDay()+7-v)%7),x.setHours(0,0,0,0)},function(x,_){x.setDate(x.getDate()+7*_)},function(x,_){return(_-x-(_.getTimezoneOffset()-x.getTimezoneOffset())*f.yB)/f.iM})}var i=e(0),r=e(1),n=e(2),o=e(3),l=e(4),u=e(5),d=e(6),c=i.range,h=r.range,p=n.range,g=o.range,y=l.range,b=u.range,m=d.range},34823:function(w,s,t){t.d(s,{g:function(){return e}});var a=t(30052),f=(0,a.Z)(function(i){i.setMonth(0,1),i.setHours(0,0,0,0)},function(i,r){i.setFullYear(i.getFullYear()+r)},function(i,r){return r.getFullYear()-i.getFullYear()},function(i){return i.getFullYear()});f.every=function(i){return isFinite(i=Math.floor(i))&&i>0?(0,a.Z)(function(r){r.setFullYear(Math.floor(r.getFullYear()/i)*i),r.setMonth(0,1),r.setHours(0,0,0,0)},function(r,n){r.setFullYear(r.getFullYear()+n*i)}):null},s.Z=f;var e=f.range},17045:function(w,s,t){var a=t(8709),f=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",e=Object.prototype.toString,i=Array.prototype.concat,r=Object.defineProperty,n=t(55622)(),o=r&&n,l=function(d,c,h,p){if(c in d){if(p===!0){if(d[c]===h)return}else if(typeof(g=p)!="function"||e.call(g)!=="[object Function]"||!p())return}var g;o?r(d,c,{configurable:!0,enumerable:!1,value:h,writable:!0}):d[c]=h},u=function(d,c){var h=arguments.length>2?arguments[2]:{},p=a(c);f&&(p=i.call(p,Object.getOwnPropertySymbols(c)));for(var g=0;g<p.length;g+=1)l(d,p[g],c[p[g]],h[p[g]])};u.supportsDescriptors=!!o,w.exports=u},73523:function(w){function s(t,a){if(t==null)throw new TypeError("Cannot convert first argument to object");for(var f=Object(t),e=1;e<arguments.length;e++){var i=arguments[e];if(i!=null)for(var r=Object.keys(Object(i)),n=0,o=r.length;n<o;n++){var l=r[n],u=Object.getOwnPropertyDescriptor(i,l);u!==void 0&&u.enumerable&&(f[l]=i[l])}}return f}w.exports={assign:s,polyfill:function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:s})}}},15398:function(w){var s,t=typeof Reflect=="object"?Reflect:null,a=t&&typeof t.apply=="function"?t.apply:function(g,y,b){return Function.prototype.apply.call(g,y,b)};s=t&&typeof t.ownKeys=="function"?t.ownKeys:Object.getOwnPropertySymbols?function(g){return Object.getOwnPropertyNames(g).concat(Object.getOwnPropertySymbols(g))}:function(g){return Object.getOwnPropertyNames(g)};var f=Number.isNaN||function(g){return g!=g};function e(){e.init.call(this)}w.exports=e,w.exports.once=function(g,y){return new Promise(function(b,m){function v(_){g.removeListener(y,x),m(_)}function x(){typeof g.removeListener=="function"&&g.removeListener("error",v),b([].slice.call(arguments))}p(g,y,x,{once:!0}),y!=="error"&&function(_,T,C){typeof _.on=="function"&&p(_,"error",T,{once:!0})}(g,v)})},e.EventEmitter=e,e.prototype._events=void 0,e.prototype._eventsCount=0,e.prototype._maxListeners=void 0;var i=10;function r(g){if(typeof g!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof g)}function n(g){return g._maxListeners===void 0?e.defaultMaxListeners:g._maxListeners}function o(g,y,b,m){var v,x,_,T;if(r(b),(x=g._events)===void 0?(x=g._events=Object.create(null),g._eventsCount=0):(x.newListener!==void 0&&(g.emit("newListener",y,b.listener?b.listener:b),x=g._events),_=x[y]),_===void 0)_=x[y]=b,++g._eventsCount;else if(typeof _=="function"?_=x[y]=m?[b,_]:[_,b]:m?_.unshift(b):_.push(b),(v=n(g))>0&&_.length>v&&!_.warned){_.warned=!0;var C=new Error("Possible EventEmitter memory leak detected. "+_.length+" "+String(y)+" listeners added. Use emitter.setMaxListeners() to increase limit");C.name="MaxListenersExceededWarning",C.emitter=g,C.type=y,C.count=_.length,T=C,console&&console.warn&&console.warn(T)}return g}function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function u(g,y,b){var m={fired:!1,wrapFn:void 0,target:g,type:y,listener:b},v=l.bind(m);return v.listener=b,m.wrapFn=v,v}function d(g,y,b){var m=g._events;if(m===void 0)return[];var v=m[y];return v===void 0?[]:typeof v=="function"?b?[v.listener||v]:[v]:b?function(x){for(var _=new Array(x.length),T=0;T<_.length;++T)_[T]=x[T].listener||x[T];return _}(v):h(v,v.length)}function c(g){var y=this._events;if(y!==void 0){var b=y[g];if(typeof b=="function")return 1;if(b!==void 0)return b.length}return 0}function h(g,y){for(var b=new Array(y),m=0;m<y;++m)b[m]=g[m];return b}function p(g,y,b,m){if(typeof g.on=="function")m.once?g.once(y,b):g.on(y,b);else{if(typeof g.addEventListener!="function")throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof g);g.addEventListener(y,function v(x){m.once&&g.removeEventListener(y,v),b(x)})}}Object.defineProperty(e,"defaultMaxListeners",{enumerable:!0,get:function(){return i},set:function(g){if(typeof g!="number"||g<0||f(g))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+g+".");i=g}}),e.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},e.prototype.setMaxListeners=function(g){if(typeof g!="number"||g<0||f(g))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+g+".");return this._maxListeners=g,this},e.prototype.getMaxListeners=function(){return n(this)},e.prototype.emit=function(g){for(var y=[],b=1;b<arguments.length;b++)y.push(arguments[b]);var m=g==="error",v=this._events;if(v!==void 0)m=m&&v.error===void 0;else if(!m)return!1;if(m){var x;if(y.length>0&&(x=y[0]),x instanceof Error)throw x;var _=new Error("Unhandled error."+(x?" ("+x.message+")":""));throw _.context=x,_}var T=v[g];if(T===void 0)return!1;if(typeof T=="function")a(T,this,y);else{var C=T.length,S=h(T,C);for(b=0;b<C;++b)a(S[b],this,y)}return!0},e.prototype.addListener=function(g,y){return o(this,g,y,!1)},e.prototype.on=e.prototype.addListener,e.prototype.prependListener=function(g,y){return o(this,g,y,!0)},e.prototype.once=function(g,y){return r(y),this.on(g,u(this,g,y)),this},e.prototype.prependOnceListener=function(g,y){return r(y),this.prependListener(g,u(this,g,y)),this},e.prototype.removeListener=function(g,y){var b,m,v,x,_;if(r(y),(m=this._events)===void 0)return this;if((b=m[g])===void 0)return this;if(b===y||b.listener===y)--this._eventsCount==0?this._events=Object.create(null):(delete m[g],m.removeListener&&this.emit("removeListener",g,b.listener||y));else if(typeof b!="function"){for(v=-1,x=b.length-1;x>=0;x--)if(b[x]===y||b[x].listener===y){_=b[x].listener,v=x;break}if(v<0)return this;v===0?b.shift():function(T,C){for(;C+1<T.length;C++)T[C]=T[C+1];T.pop()}(b,v),b.length===1&&(m[g]=b[0]),m.removeListener!==void 0&&this.emit("removeListener",g,_||y)}return this},e.prototype.off=e.prototype.removeListener,e.prototype.removeAllListeners=function(g){var y,b,m;if((b=this._events)===void 0)return this;if(b.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):b[g]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete b[g]),this;if(arguments.length===0){var v,x=Object.keys(b);for(m=0;m<x.length;++m)(v=x[m])!=="removeListener"&&this.removeAllListeners(v);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(y=b[g])=="function")this.removeListener(g,y);else if(y!==void 0)for(m=y.length-1;m>=0;m--)this.removeListener(g,y[m]);return this},e.prototype.listeners=function(g){return d(this,g,!0)},e.prototype.rawListeners=function(g){return d(this,g,!1)},e.listenerCount=function(g,y){return typeof g.listenerCount=="function"?g.listenerCount(y):c.call(g,y)},e.prototype.listenerCount=c,e.prototype.eventNames=function(){return this._eventsCount>0?s(this._events):[]}},92770:function(w,s,t){var a=t(18546);w.exports=function(f){var e=typeof f;if(e==="string"){var i=f;if((f=+f)==0&&a(i))return!1}else if(e!=="number")return!1;return f-f<1}},31353:function(w,s,t){var a=t(85395),f=Object.prototype.toString,e=Object.prototype.hasOwnProperty,i=function(o,l,u){for(var d=0,c=o.length;d<c;d++)e.call(o,d)&&(u==null?l(o[d],d,o):l.call(u,o[d],d,o))},r=function(o,l,u){for(var d=0,c=o.length;d<c;d++)u==null?l(o.charAt(d),d,o):l.call(u,o.charAt(d),d,o)},n=function(o,l,u){for(var d in o)e.call(o,d)&&(u==null?l(o[d],d,o):l.call(u,o[d],d,o))};w.exports=function(o,l,u){if(!a(l))throw new TypeError("iterator must be a function");var d;arguments.length>=3&&(d=u),f.call(o)==="[object Array]"?i(o,l,d):typeof o=="string"?r(o,l,d):n(o,l,d)}},73047:function(w){var s="Function.prototype.bind called on incompatible ",t=Array.prototype.slice,a=Object.prototype.toString,f="[object Function]";w.exports=function(e){var i=this;if(typeof i!="function"||a.call(i)!==f)throw new TypeError(s+i);for(var r,n=t.call(arguments,1),o=function(){if(this instanceof r){var h=i.apply(this,n.concat(t.call(arguments)));return Object(h)===h?h:this}return i.apply(e,n.concat(t.call(arguments)))},l=Math.max(0,i.length-n.length),u=[],d=0;d<l;d++)u.push("$"+d);if(r=Function("binder","return function ("+u.join(",")+"){ return binder.apply(this,arguments); }")(o),i.prototype){var c=function(){};c.prototype=i.prototype,r.prototype=new c,c.prototype=null}return r}},77575:function(w,s,t){var a=t(73047);w.exports=Function.prototype.bind||a},68318:function(w,s,t){var a,f=SyntaxError,e=Function,i=TypeError,r=function(B){try{return e('"use strict"; return ('+B+").constructor;")()}catch{}},n=Object.getOwnPropertyDescriptor;if(n)try{n({},"")}catch{n=null}var o=function(){throw new i},l=n?function(){try{return o}catch{try{return n(arguments,"callee").get}catch{return o}}}():o,u=t(57877)(),d=Object.getPrototypeOf||function(B){return B.__proto__},c={},h=typeof Uint8Array>"u"?a:d(Uint8Array),p={"%AggregateError%":typeof AggregateError>"u"?a:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?a:ArrayBuffer,"%ArrayIteratorPrototype%":u?d([][Symbol.iterator]()):a,"%AsyncFromSyncIteratorPrototype%":a,"%AsyncFunction%":c,"%AsyncGenerator%":c,"%AsyncGeneratorFunction%":c,"%AsyncIteratorPrototype%":c,"%Atomics%":typeof Atomics>"u"?a:Atomics,"%BigInt%":typeof BigInt>"u"?a:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?a:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?a:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?a:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?a:Float32Array,"%Float64Array%":typeof Float64Array>"u"?a:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?a:FinalizationRegistry,"%Function%":e,"%GeneratorFunction%":c,"%Int8Array%":typeof Int8Array>"u"?a:Int8Array,"%Int16Array%":typeof Int16Array>"u"?a:Int16Array,"%Int32Array%":typeof Int32Array>"u"?a:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":u?d(d([][Symbol.iterator]())):a,"%JSON%":typeof JSON=="object"?JSON:a,"%Map%":typeof Map>"u"?a:Map,"%MapIteratorPrototype%":typeof Map<"u"&&u?d(new Map()[Symbol.iterator]()):a,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?a:Promise,"%Proxy%":typeof Proxy>"u"?a:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?a:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?a:Set,"%SetIteratorPrototype%":typeof Set<"u"&&u?d(new Set()[Symbol.iterator]()):a,"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?a:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":u?d(""[Symbol.iterator]()):a,"%Symbol%":u?Symbol:a,"%SyntaxError%":f,"%ThrowTypeError%":l,"%TypedArray%":h,"%TypeError%":i,"%Uint8Array%":typeof Uint8Array>"u"?a:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?a:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?a:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?a:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?a:WeakMap,"%WeakRef%":typeof WeakRef>"u"?a:WeakRef,"%WeakSet%":typeof WeakSet>"u"?a:WeakSet};try{null.error}catch(B){var g=d(d(B));p["%Error.prototype%"]=g}var y=function B(J){var P;if(J==="%AsyncFunction%")P=r("async function () {}");else if(J==="%GeneratorFunction%")P=r("function* () {}");else if(J==="%AsyncGeneratorFunction%")P=r("async function* () {}");else if(J==="%AsyncGenerator%"){var M=B("%AsyncGeneratorFunction%");M&&(P=M.prototype)}else if(J==="%AsyncIteratorPrototype%"){var O=B("%AsyncGenerator%");O&&(P=d(O.prototype))}return p[J]=P,P},b={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},m=t(77575),v=t(35065),x=m.call(Function.call,Array.prototype.concat),_=m.call(Function.apply,Array.prototype.splice),T=m.call(Function.call,String.prototype.replace),C=m.call(Function.call,String.prototype.slice),S=m.call(Function.call,RegExp.prototype.exec),F=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,N=/\\(\\)?/g,D=function(B){var J=C(B,0,1),P=C(B,-1);if(J==="%"&&P!=="%")throw new f("invalid intrinsic syntax, expected closing `%`");if(P==="%"&&J!=="%")throw new f("invalid intrinsic syntax, expected opening `%`");var M=[];return T(B,F,function(O,q,tt,E){M[M.length]=tt?T(E,N,"$1"):q||O}),M},j=function(B,J){var P,M=B;if(v(b,M)&&(M="%"+(P=b[M])[0]+"%"),v(p,M)){var O=p[M];if(O===c&&(O=y(M)),O===void 0&&!J)throw new i("intrinsic "+B+" exists, but is not available. Please file an issue!");return{alias:P,name:M,value:O}}throw new f("intrinsic "+B+" does not exist!")};w.exports=function(B,J){if(typeof B!="string"||B.length===0)throw new i("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof J!="boolean")throw new i('"allowMissing" argument must be a boolean');if(S(/^%?[^%]*%?$/,B)===null)throw new f("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var P=D(B),M=P.length>0?P[0]:"",O=j("%"+M+"%",J),q=O.name,tt=O.value,E=!1,z=O.alias;z&&(M=z[0],_(P,x([0,1],z)));for(var Y=1,Q=!0;Y<P.length;Y+=1){var nt=P[Y],et=C(nt,0,1),Z=C(nt,-1);if((et==='"'||et==="'"||et==="`"||Z==='"'||Z==="'"||Z==="`")&&et!==Z)throw new f("property names with quotes must have matching quotes");if(nt!=="constructor"&&Q||(E=!0),v(p,q="%"+(M+="."+nt)+"%"))tt=p[q];else if(tt!=null){if(!(nt in tt)){if(!J)throw new i("base intrinsic for "+B+" exists, but the property is not available.");return}if(n&&Y+1>=P.length){var H=n(tt,nt);tt=(Q=!!H)&&"get"in H&&!("originalValue"in H.get)?H.get:tt[nt]}else Q=v(tt,nt),tt=tt[nt];Q&&!E&&(p[q]=tt)}}return tt}},85400:function(w){w.exports=function(s,t){var a=t[0],f=t[1],e=t[2],i=t[3],r=t[4],n=t[5],o=t[6],l=t[7],u=t[8],d=t[9],c=t[10],h=t[11],p=t[12],g=t[13],y=t[14],b=t[15];return s[0]=n*(c*b-h*y)-d*(o*b-l*y)+g*(o*h-l*c),s[1]=-(f*(c*b-h*y)-d*(e*b-i*y)+g*(e*h-i*c)),s[2]=f*(o*b-l*y)-n*(e*b-i*y)+g*(e*l-i*o),s[3]=-(f*(o*h-l*c)-n*(e*h-i*c)+d*(e*l-i*o)),s[4]=-(r*(c*b-h*y)-u*(o*b-l*y)+p*(o*h-l*c)),s[5]=a*(c*b-h*y)-u*(e*b-i*y)+p*(e*h-i*c),s[6]=-(a*(o*b-l*y)-r*(e*b-i*y)+p*(e*l-i*o)),s[7]=a*(o*h-l*c)-r*(e*h-i*c)+u*(e*l-i*o),s[8]=r*(d*b-h*g)-u*(n*b-l*g)+p*(n*h-l*d),s[9]=-(a*(d*b-h*g)-u*(f*b-i*g)+p*(f*h-i*d)),s[10]=a*(n*b-l*g)-r*(f*b-i*g)+p*(f*l-i*n),s[11]=-(a*(n*h-l*d)-r*(f*h-i*d)+u*(f*l-i*n)),s[12]=-(r*(d*y-c*g)-u*(n*y-o*g)+p*(n*c-o*d)),s[13]=a*(d*y-c*g)-u*(f*y-e*g)+p*(f*c-e*d),s[14]=-(a*(n*y-o*g)-r*(f*y-e*g)+p*(f*o-e*n)),s[15]=a*(n*c-o*d)-r*(f*c-e*d)+u*(f*o-e*n),s}},42331:function(w){w.exports=function(s){var t=new Float32Array(16);return t[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=s[3],t[4]=s[4],t[5]=s[5],t[6]=s[6],t[7]=s[7],t[8]=s[8],t[9]=s[9],t[10]=s[10],t[11]=s[11],t[12]=s[12],t[13]=s[13],t[14]=s[14],t[15]=s[15],t}},31042:function(w){w.exports=function(s,t){return s[0]=t[0],s[1]=t[1],s[2]=t[2],s[3]=t[3],s[4]=t[4],s[5]=t[5],s[6]=t[6],s[7]=t[7],s[8]=t[8],s[9]=t[9],s[10]=t[10],s[11]=t[11],s[12]=t[12],s[13]=t[13],s[14]=t[14],s[15]=t[15],s}},11902:function(w){w.exports=function(){var s=new Float32Array(16);return s[0]=1,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=1,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=1,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}},89887:function(w){w.exports=function(s){var t=s[0],a=s[1],f=s[2],e=s[3],i=s[4],r=s[5],n=s[6],o=s[7],l=s[8],u=s[9],d=s[10],c=s[11],h=s[12],p=s[13],g=s[14],y=s[15];return(t*r-a*i)*(d*y-c*g)-(t*n-f*i)*(u*y-c*p)+(t*o-e*i)*(u*g-d*p)+(a*n-f*r)*(l*y-c*h)-(a*o-e*r)*(l*g-d*h)+(f*o-e*n)*(l*p-u*h)}},27812:function(w){w.exports=function(s,t){var a=t[0],f=t[1],e=t[2],i=t[3],r=a+a,n=f+f,o=e+e,l=a*r,u=f*r,d=f*n,c=e*r,h=e*n,p=e*o,g=i*r,y=i*n,b=i*o;return s[0]=1-d-p,s[1]=u+b,s[2]=c-y,s[3]=0,s[4]=u-b,s[5]=1-l-p,s[6]=h+g,s[7]=0,s[8]=c+y,s[9]=h-g,s[10]=1-l-d,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}},34045:function(w){w.exports=function(s,t,a){var f,e,i,r=a[0],n=a[1],o=a[2],l=Math.sqrt(r*r+n*n+o*o);return Math.abs(l)<1e-6?null:(r*=l=1/l,n*=l,o*=l,f=Math.sin(t),i=1-(e=Math.cos(t)),s[0]=r*r*i+e,s[1]=n*r*i+o*f,s[2]=o*r*i-n*f,s[3]=0,s[4]=r*n*i-o*f,s[5]=n*n*i+e,s[6]=o*n*i+r*f,s[7]=0,s[8]=r*o*i+n*f,s[9]=n*o*i-r*f,s[10]=o*o*i+e,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s)}},45973:function(w){w.exports=function(s,t,a){var f=t[0],e=t[1],i=t[2],r=t[3],n=f+f,o=e+e,l=i+i,u=f*n,d=f*o,c=f*l,h=e*o,p=e*l,g=i*l,y=r*n,b=r*o,m=r*l;return s[0]=1-(h+g),s[1]=d+m,s[2]=c-b,s[3]=0,s[4]=d-m,s[5]=1-(u+g),s[6]=p+y,s[7]=0,s[8]=c+b,s[9]=p-y,s[10]=1-(u+h),s[11]=0,s[12]=a[0],s[13]=a[1],s[14]=a[2],s[15]=1,s}},81472:function(w){w.exports=function(s,t){return s[0]=t[0],s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=t[1],s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=t[2],s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}},14669:function(w){w.exports=function(s,t){return s[0]=1,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=1,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=1,s[11]=0,s[12]=t[0],s[13]=t[1],s[14]=t[2],s[15]=1,s}},75262:function(w){w.exports=function(s,t){var a=Math.sin(t),f=Math.cos(t);return s[0]=1,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=f,s[6]=a,s[7]=0,s[8]=0,s[9]=-a,s[10]=f,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}},331:function(w){w.exports=function(s,t){var a=Math.sin(t),f=Math.cos(t);return s[0]=f,s[1]=0,s[2]=-a,s[3]=0,s[4]=0,s[5]=1,s[6]=0,s[7]=0,s[8]=a,s[9]=0,s[10]=f,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}},11049:function(w){w.exports=function(s,t){var a=Math.sin(t),f=Math.cos(t);return s[0]=f,s[1]=a,s[2]=0,s[3]=0,s[4]=-a,s[5]=f,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=1,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}},75195:function(w){w.exports=function(s,t,a,f,e,i,r){var n=1/(a-t),o=1/(e-f),l=1/(i-r);return s[0]=2*i*n,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=2*i*o,s[6]=0,s[7]=0,s[8]=(a+t)*n,s[9]=(e+f)*o,s[10]=(r+i)*l,s[11]=-1,s[12]=0,s[13]=0,s[14]=r*i*2*l,s[15]=0,s}},71551:function(w){w.exports=function(s){return s[0]=1,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=1,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=1,s[11]=0,s[12]=0,s[13]=0,s[14]=0,s[15]=1,s}},79576:function(w,s,t){w.exports={create:t(11902),clone:t(42331),copy:t(31042),identity:t(71551),transpose:t(88654),invert:t(95874),adjoint:t(85400),determinant:t(89887),multiply:t(91362),translate:t(31283),scale:t(10789),rotate:t(65074),rotateX:t(35545),rotateY:t(94918),rotateZ:t(15692),fromRotation:t(34045),fromRotationTranslation:t(45973),fromScaling:t(81472),fromTranslation:t(14669),fromXRotation:t(75262),fromYRotation:t(331),fromZRotation:t(11049),fromQuat:t(27812),frustum:t(75195),perspective:t(7864),perspectiveFromFieldOfView:t(35279),ortho:t(60378),lookAt:t(65551),str:t(6726)}},95874:function(w){w.exports=function(s,t){var a=t[0],f=t[1],e=t[2],i=t[3],r=t[4],n=t[5],o=t[6],l=t[7],u=t[8],d=t[9],c=t[10],h=t[11],p=t[12],g=t[13],y=t[14],b=t[15],m=a*n-f*r,v=a*o-e*r,x=a*l-i*r,_=f*o-e*n,T=f*l-i*n,C=e*l-i*o,S=u*g-d*p,F=u*y-c*p,N=u*b-h*p,D=d*y-c*g,j=d*b-h*g,B=c*b-h*y,J=m*B-v*j+x*D+_*N-T*F+C*S;return J?(J=1/J,s[0]=(n*B-o*j+l*D)*J,s[1]=(e*j-f*B-i*D)*J,s[2]=(g*C-y*T+b*_)*J,s[3]=(c*T-d*C-h*_)*J,s[4]=(o*N-r*B-l*F)*J,s[5]=(a*B-e*N+i*F)*J,s[6]=(y*x-p*C-b*v)*J,s[7]=(u*C-c*x+h*v)*J,s[8]=(r*j-n*N+l*S)*J,s[9]=(f*N-a*j-i*S)*J,s[10]=(p*T-g*x+b*m)*J,s[11]=(d*x-u*T-h*m)*J,s[12]=(n*F-r*D-o*S)*J,s[13]=(a*D-f*F+e*S)*J,s[14]=(g*v-p*_-y*m)*J,s[15]=(u*_-d*v+c*m)*J,s):null}},65551:function(w,s,t){var a=t(71551);w.exports=function(f,e,i,r){var n,o,l,u,d,c,h,p,g,y,b=e[0],m=e[1],v=e[2],x=r[0],_=r[1],T=r[2],C=i[0],S=i[1],F=i[2];return Math.abs(b-C)<1e-6&&Math.abs(m-S)<1e-6&&Math.abs(v-F)<1e-6?a(f):(h=b-C,p=m-S,g=v-F,n=_*(g*=y=1/Math.sqrt(h*h+p*p+g*g))-T*(p*=y),o=T*(h*=y)-x*g,l=x*p-_*h,(y=Math.sqrt(n*n+o*o+l*l))?(n*=y=1/y,o*=y,l*=y):(n=0,o=0,l=0),u=p*l-g*o,d=g*n-h*l,c=h*o-p*n,(y=Math.sqrt(u*u+d*d+c*c))?(u*=y=1/y,d*=y,c*=y):(u=0,d=0,c=0),f[0]=n,f[1]=u,f[2]=h,f[3]=0,f[4]=o,f[5]=d,f[6]=p,f[7]=0,f[8]=l,f[9]=c,f[10]=g,f[11]=0,f[12]=-(n*b+o*m+l*v),f[13]=-(u*b+d*m+c*v),f[14]=-(h*b+p*m+g*v),f[15]=1,f)}},91362:function(w){w.exports=function(s,t,a){var f=t[0],e=t[1],i=t[2],r=t[3],n=t[4],o=t[5],l=t[6],u=t[7],d=t[8],c=t[9],h=t[10],p=t[11],g=t[12],y=t[13],b=t[14],m=t[15],v=a[0],x=a[1],_=a[2],T=a[3];return s[0]=v*f+x*n+_*d+T*g,s[1]=v*e+x*o+_*c+T*y,s[2]=v*i+x*l+_*h+T*b,s[3]=v*r+x*u+_*p+T*m,v=a[4],x=a[5],_=a[6],T=a[7],s[4]=v*f+x*n+_*d+T*g,s[5]=v*e+x*o+_*c+T*y,s[6]=v*i+x*l+_*h+T*b,s[7]=v*r+x*u+_*p+T*m,v=a[8],x=a[9],_=a[10],T=a[11],s[8]=v*f+x*n+_*d+T*g,s[9]=v*e+x*o+_*c+T*y,s[10]=v*i+x*l+_*h+T*b,s[11]=v*r+x*u+_*p+T*m,v=a[12],x=a[13],_=a[14],T=a[15],s[12]=v*f+x*n+_*d+T*g,s[13]=v*e+x*o+_*c+T*y,s[14]=v*i+x*l+_*h+T*b,s[15]=v*r+x*u+_*p+T*m,s}},60378:function(w){w.exports=function(s,t,a,f,e,i,r){var n=1/(t-a),o=1/(f-e),l=1/(i-r);return s[0]=-2*n,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=-2*o,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=2*l,s[11]=0,s[12]=(t+a)*n,s[13]=(e+f)*o,s[14]=(r+i)*l,s[15]=1,s}},7864:function(w){w.exports=function(s,t,a,f,e){var i=1/Math.tan(t/2),r=1/(f-e);return s[0]=i/a,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=i,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=(e+f)*r,s[11]=-1,s[12]=0,s[13]=0,s[14]=2*e*f*r,s[15]=0,s}},35279:function(w){w.exports=function(s,t,a,f){var e=Math.tan(t.upDegrees*Math.PI/180),i=Math.tan(t.downDegrees*Math.PI/180),r=Math.tan(t.leftDegrees*Math.PI/180),n=Math.tan(t.rightDegrees*Math.PI/180),o=2/(r+n),l=2/(e+i);return s[0]=o,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=l,s[6]=0,s[7]=0,s[8]=-(r-n)*o*.5,s[9]=(e-i)*l*.5,s[10]=f/(a-f),s[11]=-1,s[12]=0,s[13]=0,s[14]=f*a/(a-f),s[15]=0,s}},65074:function(w){w.exports=function(s,t,a,f){var e,i,r,n,o,l,u,d,c,h,p,g,y,b,m,v,x,_,T,C,S,F,N,D,j=f[0],B=f[1],J=f[2],P=Math.sqrt(j*j+B*B+J*J);return Math.abs(P)<1e-6?null:(j*=P=1/P,B*=P,J*=P,e=Math.sin(a),r=1-(i=Math.cos(a)),n=t[0],o=t[1],l=t[2],u=t[3],d=t[4],c=t[5],h=t[6],p=t[7],g=t[8],y=t[9],b=t[10],m=t[11],v=j*j*r+i,x=B*j*r+J*e,_=J*j*r-B*e,T=j*B*r-J*e,C=B*B*r+i,S=J*B*r+j*e,F=j*J*r+B*e,N=B*J*r-j*e,D=J*J*r+i,s[0]=n*v+d*x+g*_,s[1]=o*v+c*x+y*_,s[2]=l*v+h*x+b*_,s[3]=u*v+p*x+m*_,s[4]=n*T+d*C+g*S,s[5]=o*T+c*C+y*S,s[6]=l*T+h*C+b*S,s[7]=u*T+p*C+m*S,s[8]=n*F+d*N+g*D,s[9]=o*F+c*N+y*D,s[10]=l*F+h*N+b*D,s[11]=u*F+p*N+m*D,t!==s&&(s[12]=t[12],s[13]=t[13],s[14]=t[14],s[15]=t[15]),s)}},35545:function(w){w.exports=function(s,t,a){var f=Math.sin(a),e=Math.cos(a),i=t[4],r=t[5],n=t[6],o=t[7],l=t[8],u=t[9],d=t[10],c=t[11];return t!==s&&(s[0]=t[0],s[1]=t[1],s[2]=t[2],s[3]=t[3],s[12]=t[12],s[13]=t[13],s[14]=t[14],s[15]=t[15]),s[4]=i*e+l*f,s[5]=r*e+u*f,s[6]=n*e+d*f,s[7]=o*e+c*f,s[8]=l*e-i*f,s[9]=u*e-r*f,s[10]=d*e-n*f,s[11]=c*e-o*f,s}},94918:function(w){w.exports=function(s,t,a){var f=Math.sin(a),e=Math.cos(a),i=t[0],r=t[1],n=t[2],o=t[3],l=t[8],u=t[9],d=t[10],c=t[11];return t!==s&&(s[4]=t[4],s[5]=t[5],s[6]=t[6],s[7]=t[7],s[12]=t[12],s[13]=t[13],s[14]=t[14],s[15]=t[15]),s[0]=i*e-l*f,s[1]=r*e-u*f,s[2]=n*e-d*f,s[3]=o*e-c*f,s[8]=i*f+l*e,s[9]=r*f+u*e,s[10]=n*f+d*e,s[11]=o*f+c*e,s}},15692:function(w){w.exports=function(s,t,a){var f=Math.sin(a),e=Math.cos(a),i=t[0],r=t[1],n=t[2],o=t[3],l=t[4],u=t[5],d=t[6],c=t[7];return t!==s&&(s[8]=t[8],s[9]=t[9],s[10]=t[10],s[11]=t[11],s[12]=t[12],s[13]=t[13],s[14]=t[14],s[15]=t[15]),s[0]=i*e+l*f,s[1]=r*e+u*f,s[2]=n*e+d*f,s[3]=o*e+c*f,s[4]=l*e-i*f,s[5]=u*e-r*f,s[6]=d*e-n*f,s[7]=c*e-o*f,s}},10789:function(w){w.exports=function(s,t,a){var f=a[0],e=a[1],i=a[2];return s[0]=t[0]*f,s[1]=t[1]*f,s[2]=t[2]*f,s[3]=t[3]*f,s[4]=t[4]*e,s[5]=t[5]*e,s[6]=t[6]*e,s[7]=t[7]*e,s[8]=t[8]*i,s[9]=t[9]*i,s[10]=t[10]*i,s[11]=t[11]*i,s[12]=t[12],s[13]=t[13],s[14]=t[14],s[15]=t[15],s}},6726:function(w){w.exports=function(s){return"mat4("+s[0]+", "+s[1]+", "+s[2]+", "+s[3]+", "+s[4]+", "+s[5]+", "+s[6]+", "+s[7]+", "+s[8]+", "+s[9]+", "+s[10]+", "+s[11]+", "+s[12]+", "+s[13]+", "+s[14]+", "+s[15]+")"}},31283:function(w){w.exports=function(s,t,a){var f,e,i,r,n,o,l,u,d,c,h,p,g=a[0],y=a[1],b=a[2];return t===s?(s[12]=t[0]*g+t[4]*y+t[8]*b+t[12],s[13]=t[1]*g+t[5]*y+t[9]*b+t[13],s[14]=t[2]*g+t[6]*y+t[10]*b+t[14],s[15]=t[3]*g+t[7]*y+t[11]*b+t[15]):(f=t[0],e=t[1],i=t[2],r=t[3],n=t[4],o=t[5],l=t[6],u=t[7],d=t[8],c=t[9],h=t[10],p=t[11],s[0]=f,s[1]=e,s[2]=i,s[3]=r,s[4]=n,s[5]=o,s[6]=l,s[7]=u,s[8]=d,s[9]=c,s[10]=h,s[11]=p,s[12]=f*g+n*y+d*b+t[12],s[13]=e*g+o*y+c*b+t[13],s[14]=i*g+l*y+h*b+t[14],s[15]=r*g+u*y+p*b+t[15]),s}},88654:function(w){w.exports=function(s,t){if(s===t){var a=t[1],f=t[2],e=t[3],i=t[6],r=t[7],n=t[11];s[1]=t[4],s[2]=t[8],s[3]=t[12],s[4]=a,s[6]=t[9],s[7]=t[13],s[8]=f,s[9]=i,s[11]=t[14],s[12]=e,s[13]=r,s[14]=n}else s[0]=t[0],s[1]=t[4],s[2]=t[8],s[3]=t[12],s[4]=t[1],s[5]=t[5],s[6]=t[9],s[7]=t[13],s[8]=t[2],s[9]=t[6],s[10]=t[10],s[11]=t[14],s[12]=t[3],s[13]=t[7],s[14]=t[11],s[15]=t[15];return s}},40383:function(w,s,t){var a=t(68318)("%Object.getOwnPropertyDescriptor%",!0);if(a)try{a([],"length")}catch{a=null}w.exports=a},57035:function(w,s,t){var a,f=t(54404);a=typeof t.g.matchMedia=="function"?!t.g.matchMedia("(hover: none)").matches:f,w.exports=a},38520:function(w,s,t){var a=t(54404);w.exports=a&&function(){var f=!1;try{var e=Object.defineProperty({},"passive",{get:function(){f=!0}});window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch{f=!1}return f}()},55622:function(w,s,t){var a=t(68318)("%Object.defineProperty%",!0),f=function(){if(a)try{return a({},"a",{value:1}),!0}catch{return!1}return!1};f.hasArrayLengthDefineBug=function(){if(!f())return null;try{return a([],"length",{value:1}).length!==1}catch{return!0}},w.exports=f},57877:function(w,s,t){var a=typeof Symbol<"u"&&Symbol,f=t(35638);w.exports=function(){return typeof a=="function"&&typeof Symbol=="function"&&typeof a("foo")=="symbol"&&typeof Symbol("bar")=="symbol"&&f()}},35638:function(w){w.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var s={},t=Symbol("test"),a=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(a)!=="[object Symbol]")return!1;for(t in s[t]=42,s)return!1;if(typeof Object.keys=="function"&&Object.keys(s).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(s).length!==0)return!1;var f=Object.getOwnPropertySymbols(s);if(f.length!==1||f[0]!==t||!Object.prototype.propertyIsEnumerable.call(s,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var e=Object.getOwnPropertyDescriptor(s,t);if(e.value!==42||e.enumerable!==!0)return!1}return!0}},84543:function(w,s,t){var a=t(35638);w.exports=function(){return a()&&!!Symbol.toStringTag}},35065:function(w,s,t){var a=t(77575);w.exports=a.call(Function.call,Object.prototype.hasOwnProperty)},95280:function(w,s){s.read=function(t,a,f,e,i){var r,n,o=8*i-e-1,l=(1<<o)-1,u=l>>1,d=-7,c=f?i-1:0,h=f?-1:1,p=t[a+c];for(c+=h,r=p&(1<<-d)-1,p>>=-d,d+=o;d>0;r=256*r+t[a+c],c+=h,d-=8);for(n=r&(1<<-d)-1,r>>=-d,d+=e;d>0;n=256*n+t[a+c],c+=h,d-=8);if(r===0)r=1-u;else{if(r===l)return n?NaN:1/0*(p?-1:1);n+=Math.pow(2,e),r-=u}return(p?-1:1)*n*Math.pow(2,r-e)},s.write=function(t,a,f,e,i,r){var n,o,l,u=8*r-i-1,d=(1<<u)-1,c=d>>1,h=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,p=e?0:r-1,g=e?1:-1,y=a<0||a===0&&1/a<0?1:0;for(a=Math.abs(a),isNaN(a)||a===1/0?(o=isNaN(a)?1:0,n=d):(n=Math.floor(Math.log(a)/Math.LN2),a*(l=Math.pow(2,-n))<1&&(n--,l*=2),(a+=n+c>=1?h/l:h*Math.pow(2,1-c))*l>=2&&(n++,l/=2),n+c>=d?(o=0,n=d):n+c>=1?(o=(a*l-1)*Math.pow(2,i),n+=c):(o=a*Math.pow(2,c-1)*Math.pow(2,i),n=0));i>=8;t[f+p]=255&o,p+=g,o/=256,i-=8);for(n=n<<i|o,u+=i;u>0;t[f+p]=255&n,p+=g,n/=256,u-=8);t[f+p-g]|=128*y}},42018:function(w){typeof Object.create=="function"?w.exports=function(s,t){t&&(s.super_=t,s.prototype=Object.create(t.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}))}:w.exports=function(s,t){if(t){s.super_=t;var a=function(){};a.prototype=t.prototype,s.prototype=new a,s.prototype.constructor=s}}},47216:function(w,s,t){var a=t(84543)(),f=t(6614)("Object.prototype.toString"),e=function(n){return!(a&&n&&typeof n=="object"&&Symbol.toStringTag in n)&&f(n)==="[object Arguments]"},i=function(n){return!!e(n)||n!==null&&typeof n=="object"&&typeof n.length=="number"&&n.length>=0&&f(n)!=="[object Array]"&&f(n.callee)==="[object Function]"},r=function(){return e(arguments)}();e.isLegacyArguments=i,w.exports=r?e:i},54404:function(w){w.exports=!0},85395:function(w){var s,t,a=Function.prototype.toString,f=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply;if(typeof f=="function"&&typeof Object.defineProperty=="function")try{s=Object.defineProperty({},"length",{get:function(){throw t}}),t={},f(function(){throw 42},null,s)}catch(c){c!==t&&(f=null)}else f=null;var e=/^\s*class\b/,i=function(c){try{var h=a.call(c);return e.test(h)}catch{return!1}},r=function(c){try{return!i(c)&&(a.call(c),!0)}catch{return!1}},n=Object.prototype.toString,o=typeof Symbol=="function"&&!!Symbol.toStringTag,l=!(0 in[,]),u=function(){return!1};if(typeof document=="object"){var d=document.all;n.call(d)===n.call(document.all)&&(u=function(c){if((l||!c)&&(c===void 0||typeof c=="object"))try{var h=n.call(c);return(h==="[object HTMLAllCollection]"||h==="[object HTML document.all class]"||h==="[object HTMLCollection]"||h==="[object Object]")&&c("")==null}catch{}return!1})}w.exports=f?function(c){if(u(c))return!0;if(!c||typeof c!="function"&&typeof c!="object")return!1;try{f(c,null,s)}catch(h){if(h!==t)return!1}return!i(c)&&r(c)}:function(c){if(u(c))return!0;if(!c||typeof c!="function"&&typeof c!="object")return!1;if(o)return r(c);if(i(c))return!1;var h=n.call(c);return!(h!=="[object Function]"&&h!=="[object GeneratorFunction]"&&!/^\[object HTML/.test(h))&&r(c)}},65481:function(w,s,t){var a,f=Object.prototype.toString,e=Function.prototype.toString,i=/^\s*(?:function)?\*/,r=t(84543)(),n=Object.getPrototypeOf;w.exports=function(o){if(typeof o!="function")return!1;if(i.test(e.call(o)))return!0;if(!r)return f.call(o)==="[object GeneratorFunction]";if(!n)return!1;if(a===void 0){var l=function(){if(!r)return!1;try{return Function("return function*() {}")()}catch{}}();a=!!l&&n(l)}return n(o)===a}},64274:function(w){w.exports=function(s){return s!=s}},15567:function(w,s,t){var a=t(68222),f=t(17045),e=t(64274),i=t(14922),r=t(22442),n=a(i(),Number);f(n,{getPolyfill:i,implementation:e,shim:r}),w.exports=n},14922:function(w,s,t){var a=t(64274);w.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:a}},22442:function(w,s,t){var a=t(17045),f=t(14922);w.exports=function(){var e=f();return a(Number,{isNaN:e},{isNaN:function(){return Number.isNaN!==e}}),e}},18546:function(w){w.exports=function(s){for(var t,a=s.length,f=0;f<a;f++)if(((t=s.charCodeAt(f))<9||t>13)&&t!==32&&t!==133&&t!==160&&t!==5760&&t!==6158&&(t<8192||t>8205)&&t!==8232&&t!==8233&&t!==8239&&t!==8287&&t!==8288&&t!==12288&&t!==65279)return!1;return!0}},9187:function(w,s,t){var a=t(31353),f=t(72077),e=t(6614),i=e("Object.prototype.toString"),r=t(84543)(),n=t(40383),o=typeof globalThis>"u"?t.g:globalThis,l=f(),u=e("Array.prototype.indexOf",!0)||function(p,g){for(var y=0;y<p.length;y+=1)if(p[y]===g)return y;return-1},d=e("String.prototype.slice"),c={},h=Object.getPrototypeOf;r&&n&&h&&a(l,function(p){var g=new o[p];if(Symbol.toStringTag in g){var y=h(g),b=n(y,Symbol.toStringTag);if(!b){var m=h(y);b=n(m,Symbol.toStringTag)}c[p]=b.get}}),w.exports=function(p){if(!p||typeof p!="object")return!1;if(!r||!(Symbol.toStringTag in p)){var g=d(i(p),8,-1);return u(l,g)>-1}return!!n&&function(y){var b=!1;return a(c,function(m,v){if(!b)try{b=m.call(y)===v}catch{}}),b}(p)}},48956:function(w){var s={left:0,top:0};w.exports=function(t,a,f){a=a||t.currentTarget||t.srcElement,Array.isArray(f)||(f=[0,0]);var e,i=t.clientX||0,r=t.clientY||0,n=(e=a)===window||e===document||e===document.body?s:e.getBoundingClientRect();return f[0]=i-n.left,f[1]=r-n.top,f}},7417:function(w,s,t){var a,f,e,i;f="Promise",i=function(){var r,n,o,l=Object.prototype.toString,u=typeof setImmediate<"u"?function(T){return setImmediate(T)}:setTimeout;try{Object.defineProperty({},"x",{}),r=function(T,C,S,F){return Object.defineProperty(T,C,{value:S,writable:!0,configurable:F!==!1})}}catch{r=function(C,S,F){return C[S]=F,C}}function d(T,C){o.add(T,C),n||(n=u(o.drain))}function c(T){var C,S=typeof T;return T==null||S!="object"&&S!="function"||(C=T.then),typeof C=="function"&&C}function h(){for(var T=0;T<this.chain.length;T++)p(this,this.state===1?this.chain[T].success:this.chain[T].failure,this.chain[T]);this.chain.length=0}function p(T,C,S){var F,N;try{C===!1?S.reject(T.msg):(F=C===!0?T.msg:C.call(void 0,T.msg))===S.promise?S.reject(TypeError("Promise-chain cycle")):(N=c(F))?N.call(F,S.resolve,S.reject):S.resolve(F)}catch(D){S.reject(D)}}function g(T){var C,S=this;if(!S.triggered){S.triggered=!0,S.def&&(S=S.def);try{(C=c(T))?d(function(){var F=new m(S);try{C.call(T,function(){g.apply(F,arguments)},function(){y.apply(F,arguments)})}catch(N){y.call(F,N)}}):(S.msg=T,S.state=1,S.chain.length>0&&d(h,S))}catch(F){y.call(new m(S),F)}}}function y(T){var C=this;C.triggered||(C.triggered=!0,C.def&&(C=C.def),C.msg=T,C.state=2,C.chain.length>0&&d(h,C))}function b(T,C,S,F){for(var N=0;N<C.length;N++)(function(D){T.resolve(C[D]).then(function(j){S(D,j)},F)})(N)}function m(T){this.def=T,this.triggered=!1}function v(T){this.promise=T,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function x(T){if(typeof T!="function")throw TypeError("Not a function");if(this.__NPO__!==0)throw TypeError("Not a promise");this.__NPO__=1;var C=new v(this);this.then=function(S,F){var N={success:typeof S!="function"||S,failure:typeof F=="function"&&F};return N.promise=new this.constructor(function(D,j){if(typeof D!="function"||typeof j!="function")throw TypeError("Not a function");N.resolve=D,N.reject=j}),C.chain.push(N),C.state!==0&&d(h,C),N.promise},this.catch=function(S){return this.then(void 0,S)};try{T.call(void 0,function(S){g.call(C,S)},function(S){y.call(C,S)})}catch(S){y.call(C,S)}}o=function(){var T,C,S;function F(N,D){this.fn=N,this.self=D,this.next=void 0}return{add:function(N,D){S=new F(N,D),C?C.next=S:T=S,C=S,S=void 0},drain:function(){var N=T;for(T=C=n=void 0;N;)N.fn.call(N.self),N=N.next}}}();var _=r({},"constructor",x,!1);return x.prototype=_,r(_,"__NPO__",0,!1),r(x,"resolve",function(T){return T&&typeof T=="object"&&T.__NPO__===1?T:new this(function(C,S){if(typeof C!="function"||typeof S!="function")throw TypeError("Not a function");C(T)})}),r(x,"reject",function(T){return new this(function(C,S){if(typeof C!="function"||typeof S!="function")throw TypeError("Not a function");S(T)})}),r(x,"all",function(T){var C=this;return l.call(T)!="[object Array]"?C.reject(TypeError("Not an array")):T.length===0?C.resolve([]):new C(function(S,F){if(typeof S!="function"||typeof F!="function")throw TypeError("Not a function");var N=T.length,D=Array(N),j=0;b(C,T,function(B,J){D[B]=J,++j===N&&S(D)},F)})}),r(x,"race",function(T){var C=this;return l.call(T)!="[object Array]"?C.reject(TypeError("Not an array")):new C(function(S,F){if(typeof S!="function"||typeof F!="function")throw TypeError("Not a function");b(C,T,function(N,D){S(D)},F)})}),x},(e=t.g!==void 0?t.g:this)[f]=e[f]||i(),w.exports?w.exports=e[f]:(a=function(){return e[f]}.call(s,t,s,w))===void 0||(w.exports=a)},56131:function(w){var s=Object.getOwnPropertySymbols,t=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;function f(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}w.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de",Object.getOwnPropertyNames(e)[0]==="5")return!1;for(var i={},r=0;r<10;r++)i["_"+String.fromCharCode(r)]=r;if(Object.getOwnPropertyNames(i).map(function(o){return i[o]}).join("")!=="0123456789")return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(o){n[o]=o}),Object.keys(Object.assign({},n)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}()?Object.assign:function(e,i){for(var r,n,o=f(e),l=1;l<arguments.length;l++){for(var u in r=Object(arguments[l]))t.call(r,u)&&(o[u]=r[u]);if(s){n=s(r);for(var d=0;d<n.length;d++)a.call(r,n[d])&&(o[n[d]]=r[n[d]])}}return o}},65848:function(w){var s=function(t){return t!=t};w.exports=function(t,a){return t===0&&a===0?1/t==1/a:t===a||!(!s(t)||!s(a))}},64003:function(w,s,t){var a=t(17045),f=t(68222),e=t(65848),i=t(27015),r=t(55572),n=f(i(),Object);a(n,{getPolyfill:i,implementation:e,shim:r}),w.exports=n},27015:function(w,s,t){var a=t(65848);w.exports=function(){return typeof Object.is=="function"?Object.is:a}},55572:function(w,s,t){var a=t(27015),f=t(17045);w.exports=function(){var e=a();return f(Object,{is:e},{is:function(){return Object.is!==e}}),e}},99019:function(w,s,t){var a;if(!Object.keys){var f=Object.prototype.hasOwnProperty,e=Object.prototype.toString,i=t(64178),r=Object.prototype.propertyIsEnumerable,n=!r.call({toString:null},"toString"),o=r.call(function(){},"prototype"),l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],u=function(h){var p=h.constructor;return p&&p.prototype===h},d={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},c=function(){if(typeof window>"u")return!1;for(var h in window)try{if(!d["$"+h]&&f.call(window,h)&&window[h]!==null&&typeof window[h]=="object")try{u(window[h])}catch{return!0}}catch{return!0}return!1}();a=function(h){var p=h!==null&&typeof h=="object",g=e.call(h)==="[object Function]",y=i(h),b=p&&e.call(h)==="[object String]",m=[];if(!p&&!g&&!y)throw new TypeError("Object.keys called on a non-object");var v=o&&g;if(b&&h.length>0&&!f.call(h,0))for(var x=0;x<h.length;++x)m.push(String(x));if(y&&h.length>0)for(var _=0;_<h.length;++_)m.push(String(_));else for(var T in h)v&&T==="prototype"||!f.call(h,T)||m.push(String(T));if(n)for(var C=function(F){if(typeof window>"u"||!c)return u(F);try{return u(F)}catch{return!1}}(h),S=0;S<l.length;++S)C&&l[S]==="constructor"||!f.call(h,l[S])||m.push(l[S]);return m}}w.exports=a},8709:function(w,s,t){var a=Array.prototype.slice,f=t(64178),e=Object.keys,i=e?function(n){return e(n)}:t(99019),r=Object.keys;i.shim=function(){if(Object.keys){var n=function(){var o=Object.keys(arguments);return o&&o.length===arguments.length}(1,2);n||(Object.keys=function(o){return f(o)?r(a.call(o)):r(o)})}else Object.keys=i;return Object.keys||i},w.exports=i},64178:function(w){var s=Object.prototype.toString;w.exports=function(t){var a=s.call(t),f=a==="[object Arguments]";return f||(f=a!=="[object Array]"&&t!==null&&typeof t=="object"&&typeof t.length=="number"&&t.length>=0&&s.call(t.callee)==="[object Function]"),f}},95616:function(w){w.exports=function(f){var e=[];return f.replace(t,function(i,r,n){var o=r.toLowerCase();for(n=function(l){var u=l.match(a);return u?u.map(Number):[]}(n),o=="m"&&n.length>2&&(e.push([r].concat(n.splice(0,2))),o="l",r=r=="m"?"l":"L");;){if(n.length==s[o])return n.unshift(r),e.push(n);if(n.length<s[o])throw new Error("malformed path data");e.push([r].concat(n.splice(0,s[o])))}}),e};var s={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},t=/([astvzqmhlc])([^astvzqmhlc]*)/gi,a=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/gi},38258:function(w){w.exports=function(s,t,a,f){var e=s[0],i=s[1],r=!1;a===void 0&&(a=0),f===void 0&&(f=t.length);for(var n=f-a,o=0,l=n-1;o<n;l=o++){var u=t[o+a][0],d=t[o+a][1],c=t[l+a][0],h=t[l+a][1];d>i!=h>i&&e<(c-u)*(i-d)/(h-d)+u&&(r=!r)}return r}},52142:function(w,s,t){var a,f=t(69444),e=t(29023),i=t(87263),r=t(11328),n=t(55968),o=t(10670),l=!1,u=e();function d(c,h,p){var g=a.segments(c),y=a.segments(h),b=p(a.combine(g,y));return a.polygon(b)}a={buildLog:function(c){return c===!0?l=f():c===!1&&(l=!1),l!==!1&&l.list},epsilon:function(c){return u.epsilon(c)},segments:function(c){var h=i(!0,u,l);return c.regions.forEach(h.addRegion),{segments:h.calculate(c.inverted),inverted:c.inverted}},combine:function(c,h){return{combined:i(!1,u,l).calculate(c.segments,c.inverted,h.segments,h.inverted),inverted1:c.inverted,inverted2:h.inverted}},selectUnion:function(c){return{segments:n.union(c.combined,l),inverted:c.inverted1||c.inverted2}},selectIntersect:function(c){return{segments:n.intersect(c.combined,l),inverted:c.inverted1&&c.inverted2}},selectDifference:function(c){return{segments:n.difference(c.combined,l),inverted:c.inverted1&&!c.inverted2}},selectDifferenceRev:function(c){return{segments:n.differenceRev(c.combined,l),inverted:!c.inverted1&&c.inverted2}},selectXor:function(c){return{segments:n.xor(c.combined,l),inverted:c.inverted1!==c.inverted2}},polygon:function(c){return{regions:r(c.segments,u,l),inverted:c.inverted}},polygonFromGeoJSON:function(c){return o.toPolygon(a,c)},polygonToGeoJSON:function(c){return o.fromPolygon(a,u,c)},union:function(c,h){return d(c,h,a.selectUnion)},intersect:function(c,h){return d(c,h,a.selectIntersect)},difference:function(c,h){return d(c,h,a.selectDifference)},differenceRev:function(c,h){return d(c,h,a.selectDifferenceRev)},xor:function(c,h){return d(c,h,a.selectXor)}},typeof window=="object"&&(window.PolyBool=a),w.exports=a},69444:function(w){w.exports=function(){var s,t=0,a=!1;function f(e,i){return s.list.push({type:e,data:i?JSON.parse(JSON.stringify(i)):void 0}),s}return s={list:[],segmentId:function(){return t++},checkIntersection:function(e,i){return f("check",{seg1:e,seg2:i})},segmentChop:function(e,i){return f("div_seg",{seg:e,pt:i}),f("chop",{seg:e,pt:i})},statusRemove:function(e){return f("pop_seg",{seg:e})},segmentUpdate:function(e){return f("seg_update",{seg:e})},segmentNew:function(e,i){return f("new_seg",{seg:e,primary:i})},segmentRemove:function(e){return f("rem_seg",{seg:e})},tempStatus:function(e,i,r){return f("temp_status",{seg:e,above:i,below:r})},rewind:function(e){return f("rewind",{seg:e})},status:function(e,i,r){return f("status",{seg:e,above:i,below:r})},vert:function(e){return e===a?s:(a=e,f("vert",{x:e}))},log:function(e){return typeof e!="string"&&(e=JSON.stringify(e,!1,"  ")),f("log",{txt:e})},reset:function(){return f("reset")},selected:function(e){return f("selected",{segs:e})},chainStart:function(e){return f("chain_start",{seg:e})},chainRemoveHead:function(e,i){return f("chain_rem_head",{index:e,pt:i})},chainRemoveTail:function(e,i){return f("chain_rem_tail",{index:e,pt:i})},chainNew:function(e,i){return f("chain_new",{pt1:e,pt2:i})},chainMatch:function(e){return f("chain_match",{index:e})},chainClose:function(e){return f("chain_close",{index:e})},chainAddHead:function(e,i){return f("chain_add_head",{index:e,pt:i})},chainAddTail:function(e,i){return f("chain_add_tail",{index:e,pt:i})},chainConnect:function(e,i){return f("chain_con",{index1:e,index2:i})},chainReverse:function(e){return f("chain_rev",{index:e})},chainJoin:function(e,i){return f("chain_join",{index1:e,index2:i})},done:function(){return f("done")}}}},29023:function(w){w.exports=function(s){typeof s!="number"&&(s=1e-10);var t={epsilon:function(a){return typeof a=="number"&&(s=a),s},pointAboveOrOnLine:function(a,f,e){var i=f[0],r=f[1],n=e[0],o=e[1],l=a[0];return(n-i)*(a[1]-r)-(o-r)*(l-i)>=-s},pointBetween:function(a,f,e){var i=a[1]-f[1],r=e[0]-f[0],n=a[0]-f[0],o=e[1]-f[1],l=n*r+i*o;return!(l<s||l-(r*r+o*o)>-s)},pointsSameX:function(a,f){return Math.abs(a[0]-f[0])<s},pointsSameY:function(a,f){return Math.abs(a[1]-f[1])<s},pointsSame:function(a,f){return t.pointsSameX(a,f)&&t.pointsSameY(a,f)},pointsCompare:function(a,f){return t.pointsSameX(a,f)?t.pointsSameY(a,f)?0:a[1]<f[1]?-1:1:a[0]<f[0]?-1:1},pointsCollinear:function(a,f,e){var i=a[0]-f[0],r=a[1]-f[1],n=f[0]-e[0],o=f[1]-e[1];return Math.abs(i*o-n*r)<s},linesIntersect:function(a,f,e,i){var r=f[0]-a[0],n=f[1]-a[1],o=i[0]-e[0],l=i[1]-e[1],u=r*l-n*o;if(Math.abs(u)<s)return!1;var d=a[0]-e[0],c=a[1]-e[1],h=(o*c-l*d)/u,p=(r*c-n*d)/u,g={alongA:0,alongB:0,pt:[a[0]+h*r,a[1]+h*n]};return g.alongA=h<=-s?-2:h<s?-1:h-1<=-s?0:h-1<s?1:2,g.alongB=p<=-s?-2:p<s?-1:p-1<=-s?0:p-1<s?1:2,g},pointInsideRegion:function(a,f){for(var e=a[0],i=a[1],r=f[f.length-1][0],n=f[f.length-1][1],o=!1,l=0;l<f.length;l++){var u=f[l][0],d=f[l][1];d-i>s!=n-i>s&&(r-u)*(i-d)/(n-d)+u-e>s&&(o=!o),r=u,n=d}return o}};return t}},10670:function(w){var s={toPolygon:function(t,a){function f(r){if(r.length<=0)return t.segments({inverted:!1,regions:[]});function n(u){var d=u.slice(0,u.length-1);return t.segments({inverted:!1,regions:[d]})}for(var o=n(r[0]),l=1;l<r.length;l++)o=t.selectDifference(t.combine(o,n(r[l])));return o}if(a.type==="Polygon")return t.polygon(f(a.coordinates));if(a.type==="MultiPolygon"){for(var e=t.segments({inverted:!1,regions:[]}),i=0;i<a.coordinates.length;i++)e=t.selectUnion(t.combine(e,f(a.coordinates[i])));return t.polygon(e)}throw new Error("PolyBool: Cannot convert GeoJSON object to PolyBool polygon")},fromPolygon:function(t,a,f){function e(p,g){return a.pointInsideRegion([.5*(p[0][0]+p[1][0]),.5*(p[0][1]+p[1][1])],g)}function i(p){return{region:p,children:[]}}f=t.polygon(t.segments(f));var r=i(null);function n(p,g){for(var y=0;y<p.children.length;y++)if(e(g,(m=p.children[y]).region))return void n(m,g);var b=i(g);for(y=0;y<p.children.length;y++){var m;e((m=p.children[y]).region,g)&&(b.children.push(m),p.children.splice(y,1),y--)}p.children.push(b)}for(var o=0;o<f.regions.length;o++){var l=f.regions[o];l.length<3||n(r,l)}function u(p,g){for(var y=0,b=p[p.length-1][0],m=p[p.length-1][1],v=[],x=0;x<p.length;x++){var _=p[x][0],T=p[x][1];v.push([_,T]),y+=T*b-_*m,b=_,m=T}return y<0!==g&&v.reverse(),v.push([v[0][0],v[0][1]]),v}var d=[];function c(p){var g=[u(p.region,!1)];d.push(g);for(var y=0;y<p.children.length;y++)g.push(h(p.children[y]))}function h(p){for(var g=0;g<p.children.length;g++)c(p.children[g]);return u(p.region,!0)}for(o=0;o<r.children.length;o++)c(r.children[o]);return d.length<=0?{type:"Polygon",coordinates:[]}:d.length==1?{type:"Polygon",coordinates:d[0]}:{type:"MultiPolygon",coordinates:d}}};w.exports=s},87263:function(w,s,t){var a=t(26859);w.exports=function(f,e,i){function r(c,h,p){return{id:i?i.segmentId():-1,start:c,end:h,myFill:{above:p.myFill.above,below:p.myFill.below},otherFill:null}}var n=a.create();function o(c,h){n.insertBefore(c,function(p){return g=c.isStart,y=c.pt,b=h,m=p.isStart,v=p.pt,x=p.other.pt,((_=e.pointsCompare(y,v))!==0?_:e.pointsSame(b,x)?0:g!==m?g?1:-1:e.pointAboveOrOnLine(b,m?v:x,m?x:v)?1:-1)<0;var g,y,b,m,v,x,_})}function l(c,h){var p=function(g,y){var b=a.node({isStart:!0,pt:g.start,seg:g,primary:y,other:null,status:null});return o(b,g.end),b}(c,h);return function(g,y,b){var m=a.node({isStart:!1,pt:y.end,seg:y,primary:b,other:g,status:null});g.other=m,o(m,g.pt)}(p,c,h),p}function u(c,h){var p=r(h,c.seg.end,c.seg);return function(g,y){i&&i.segmentChop(g.seg,y),g.other.remove(),g.seg.end=y,g.other.pt=y,o(g.other,g.pt)}(c,h),l(p,c.primary)}function d(c,h){var p=a.create();function g(D){return p.findTransition(function(j){var B,J,P,M,O,q;return B=D,J=j.ev,P=B.seg.start,M=B.seg.end,O=J.seg.start,q=J.seg.end,(e.pointsCollinear(P,O,q)?e.pointsCollinear(M,O,q)||e.pointAboveOrOnLine(M,O,q)?1:-1:e.pointAboveOrOnLine(P,O,q)?1:-1)>0})}function y(D,j){var B=D.seg,J=j.seg,P=B.start,M=B.end,O=J.start,q=J.end;i&&i.checkIntersection(B,J);var tt=e.linesIntersect(P,M,O,q);if(tt===!1){if(!e.pointsCollinear(P,M,O)||e.pointsSame(P,q)||e.pointsSame(M,O))return!1;var E=e.pointsSame(P,O),z=e.pointsSame(M,q);if(E&&z)return j;var Y=!E&&e.pointBetween(P,O,q),Q=!z&&e.pointBetween(M,O,q);if(E)return Q?u(j,M):u(D,q),j;Y&&(z||(Q?u(j,M):u(D,q)),u(j,P))}else tt.alongA===0&&(tt.alongB===-1?u(D,O):tt.alongB===0?u(D,tt.pt):tt.alongB===1&&u(D,q)),tt.alongB===0&&(tt.alongA===-1?u(j,P):tt.alongA===0?u(j,tt.pt):tt.alongA===1&&u(j,M));return!1}for(var b=[];!n.isEmpty();){var m=n.getHead();if(i&&i.vert(m.pt[0]),m.isStart){let D=function(){if(x){var j=y(m,x);if(j)return j}return!!_&&y(m,_)};i&&i.segmentNew(m.seg,m.primary);var v=g(m),x=v.before?v.before.ev:null,_=v.after?v.after.ev:null;i&&i.tempStatus(m.seg,!!x&&x.seg,!!_&&_.seg);var T,C,S=D();if(S&&(f?(C=m.seg.myFill.below===null||m.seg.myFill.above!==m.seg.myFill.below)&&(S.seg.myFill.above=!S.seg.myFill.above):S.seg.otherFill=m.seg.myFill,i&&i.segmentUpdate(S.seg),m.other.remove(),m.remove()),n.getHead()!==m){i&&i.rewind(m.seg);continue}f?(C=m.seg.myFill.below===null||m.seg.myFill.above!==m.seg.myFill.below,m.seg.myFill.below=_?_.seg.myFill.above:c,m.seg.myFill.above=C?!m.seg.myFill.below:m.seg.myFill.below):m.seg.otherFill===null&&(T=_?m.primary===_.primary?_.seg.otherFill.above:_.seg.myFill.above:m.primary?h:c,m.seg.otherFill={above:T,below:T}),i&&i.status(m.seg,!!x&&x.seg,!!_&&_.seg),m.other.status=v.insert(a.node({ev:m}))}else{var F=m.status;if(F===null)throw new Error("PolyBool: Zero-length segment detected; your epsilon is probably too small or too large");if(p.exists(F.prev)&&p.exists(F.next)&&y(F.prev.ev,F.next.ev),i&&i.statusRemove(F.ev.seg),F.remove(),!m.primary){var N=m.seg.myFill;m.seg.myFill=m.seg.otherFill,m.seg.otherFill=N}b.push(m.seg)}n.getHead().remove()}return i&&i.done(),b}return f?{addRegion:function(c){for(var h,p,g,y=c[c.length-1],b=0;b<c.length;b++){h=y,y=c[b];var m=e.pointsCompare(h,y);m!==0&&l((p=m<0?h:y,g=m<0?y:h,{id:i?i.segmentId():-1,start:p,end:g,myFill:{above:null,below:null},otherFill:null}),!0)}},calculate:function(c){return d(c,!1)}}:{calculate:function(c,h,p,g){return c.forEach(function(y){l(r(y.start,y.end,y),!0)}),p.forEach(function(y){l(r(y.start,y.end,y),!1)}),d(h,g)}}}},26859:function(w){w.exports={create:function(){var s={root:{root:!0,next:null},exists:function(t){return t!==null&&t!==s.root},isEmpty:function(){return s.root.next===null},getHead:function(){return s.root.next},insertBefore:function(t,a){for(var f=s.root,e=s.root.next;e!==null;){if(a(e))return t.prev=e.prev,t.next=e,e.prev.next=t,void(e.prev=t);f=e,e=e.next}f.next=t,t.prev=f,t.next=null},findTransition:function(t){for(var a=s.root,f=s.root.next;f!==null&&!t(f);)a=f,f=f.next;return{before:a===s.root?null:a,after:f,insert:function(e){return e.prev=a,e.next=f,a.next=e,f!==null&&(f.prev=e),e}}}};return s},node:function(s){return s.prev=null,s.next=null,s.remove=function(){s.prev.next=s.next,s.next&&(s.next.prev=s.prev),s.prev=null,s.next=null},s}}},11328:function(w){w.exports=function(s,t,a){var f=[],e=[];return s.forEach(function(i){var r=i.start,n=i.end;if(t.pointsSame(r,n))console.warn("PolyBool: Warning: Zero-length segment detected; your epsilon is probably too small or too large");else{a&&a.chainStart(i);for(var o={index:0,matches_head:!1,matches_pt1:!1},l={index:0,matches_head:!1,matches_pt1:!1},u=o,d=0;d<f.length;d++){var c=(b=f[d])[0],h=(b[1],b[b.length-1]);if(b[b.length-2],t.pointsSame(c,r)){if(F(d,!0,!0))break}else if(t.pointsSame(c,n)){if(F(d,!0,!1))break}else if(t.pointsSame(h,r)){if(F(d,!1,!0))break}else if(t.pointsSame(h,n)&&F(d,!1,!1))break}if(u===o)return f.push([r,n]),void(a&&a.chainNew(r,n));if(u===l){a&&a.chainMatch(o.index);var p=o.index,g=o.matches_pt1?n:r,y=o.matches_head,b=f[p],m=y?b[0]:b[b.length-1],v=y?b[1]:b[b.length-2],x=y?b[b.length-1]:b[0],_=y?b[b.length-2]:b[1];return t.pointsCollinear(v,m,g)&&(y?(a&&a.chainRemoveHead(o.index,g),b.shift()):(a&&a.chainRemoveTail(o.index,g),b.pop()),m=v),t.pointsSame(x,g)?(f.splice(p,1),t.pointsCollinear(_,x,m)&&(y?(a&&a.chainRemoveTail(o.index,m),b.pop()):(a&&a.chainRemoveHead(o.index,m),b.shift())),a&&a.chainClose(o.index),void e.push(b)):void(y?(a&&a.chainAddHead(o.index,g),b.unshift(g)):(a&&a.chainAddTail(o.index,g),b.push(g)))}var T=o.index,C=l.index;a&&a.chainConnect(T,C);var S=f[T].length<f[C].length;o.matches_head?l.matches_head?S?(N(T),D(T,C)):(N(C),D(C,T)):D(C,T):l.matches_head?D(T,C):S?(N(T),D(C,T)):(N(C),D(T,C))}function F(j,B,J){return u.index=j,u.matches_head=B,u.matches_pt1=J,u===o?(u=l,!1):(u=null,!0)}function N(j){a&&a.chainReverse(j),f[j].reverse()}function D(j,B){var J=f[j],P=f[B],M=J[J.length-1],O=J[J.length-2],q=P[0],tt=P[1];t.pointsCollinear(O,M,q)&&(a&&a.chainRemoveTail(j,M),J.pop(),M=O),t.pointsCollinear(M,q,tt)&&(a&&a.chainRemoveHead(B,q),P.shift()),a&&a.chainJoin(j,B),f[j]=J.concat(P),f.splice(B,1)}}),e}},55968:function(w){function s(a,f,e){var i=[];return a.forEach(function(r){var n=(r.myFill.above?8:0)+(r.myFill.below?4:0)+(r.otherFill&&r.otherFill.above?2:0)+(r.otherFill&&r.otherFill.below?1:0);f[n]!==0&&i.push({id:e?e.segmentId():-1,start:r.start,end:r.end,myFill:{above:f[n]===1,below:f[n]===2},otherFill:null})}),e&&e.selected(i),i}var t={union:function(a,f){return s(a,[0,2,1,0,2,2,0,0,1,0,1,0,0,0,0,0],f)},intersect:function(a,f){return s(a,[0,0,0,0,0,2,0,2,0,0,1,1,0,2,1,0],f)},difference:function(a,f){return s(a,[0,0,0,0,2,0,2,0,1,1,0,0,0,1,2,0],f)},differenceRev:function(a,f){return s(a,[0,2,1,0,0,0,1,1,0,2,0,2,0,0,0,0],f)},xor:function(a,f){return s(a,[0,2,1,0,2,0,0,1,1,0,0,2,0,1,2,0],f)}};w.exports=t},14847:function(w,s,t){var a=t(21630).Transform,f=t(90715);function e(){a.call(this,{readableObjectMode:!0})}function i(r,n,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||"",this.name=this.constructor.name,this.message=r,n&&(this.code=n),o&&(this.statusCode=o)}e.prototype=Object.create(a.prototype),e.prototype.constructor=e,f(e.prototype),s.OF=function(r,n,o){for(var l=n,u=0;u<o.length;)if(r[l++]!==o[u++])return!1;return!0},s.eG=function(r,n){var o=[],l=0;if(n&&n==="hex")for(;l<r.length;)o.push(parseInt(r.slice(l,l+2),16)),l+=2;else for(;l<r.length;l++)o.push(255&r.charCodeAt(l));return o},s.mP=function(r,n){return r[n]|r[n+1]<<8},s.n8=function(r,n){return r[n+1]|r[n]<<8},s.nm=function(r,n){return r[n]|r[n+1]<<8|r[n+2]<<16|16777216*r[n+3]},s.Ag=function(r,n){return r[n+3]|r[n+2]<<8|r[n+1]<<16|16777216*r[n]},i.prototype=Object.create(Error.prototype),i.prototype.constructor=i},71371:function(w){function s(f,e){var i=new Error(f);return i.code=e,i}function t(f){try{return decodeURIComponent(escape(f))}catch{return f}}function a(f,e,i){this.input=f.subarray(e,i),this.start=e;var r=String.fromCharCode.apply(null,this.input.subarray(0,4));if(r!=="II*\0"&&r!=="MM\0*")throw s("invalid TIFF signature","EBADDATA");this.big_endian=r[0]==="M"}a.prototype.each=function(f){this.aborted=!1;var e=this.read_uint32(4);for(this.ifds_to_read=[{id:0,offset:e}];this.ifds_to_read.length>0&&!this.aborted;){var i=this.ifds_to_read.shift();i.offset&&this.scan_ifd(i.id,i.offset,f)}},a.prototype.read_uint16=function(f){var e=this.input;if(f+2>e.length)throw s("unexpected EOF","EBADDATA");return this.big_endian?256*e[f]+e[f+1]:e[f]+256*e[f+1]},a.prototype.read_uint32=function(f){var e=this.input;if(f+4>e.length)throw s("unexpected EOF","EBADDATA");return this.big_endian?16777216*e[f]+65536*e[f+1]+256*e[f+2]+e[f+3]:e[f]+256*e[f+1]+65536*e[f+2]+16777216*e[f+3]},a.prototype.is_subifd_link=function(f,e){return f===0&&e===34665||f===0&&e===34853||f===34665&&e===40965},a.prototype.exif_format_length=function(f){switch(f){case 1:case 2:case 6:case 7:return 1;case 3:case 8:return 2;case 4:case 9:case 11:return 4;case 5:case 10:case 12:return 8;default:return 0}},a.prototype.exif_format_read=function(f,e){var i;switch(f){case 1:case 2:return this.input[e];case 6:return(i=this.input[e])|33554430*(128&i);case 3:return this.read_uint16(e);case 8:return(i=this.read_uint16(e))|131070*(32768&i);case 4:return this.read_uint32(e);case 9:return 0|this.read_uint32(e);default:return null}},a.prototype.scan_ifd=function(f,e,i){var r=this.read_uint16(e);e+=2;for(var n=0;n<r;n++){var o=this.read_uint16(e),l=this.read_uint16(e+2),u=this.read_uint32(e+4),d=this.exif_format_length(l),c=u*d,h=c<=4?e+8:this.read_uint32(e+8),p=!1;if(h+c>this.input.length)throw s("unexpected EOF","EBADDATA");for(var g=[],y=h,b=0;b<u;b++,y+=d){var m=this.exif_format_read(l,y);if(m===null){g=null;break}g.push(m)}if(Array.isArray(g)&&l===2&&(g=t(String.fromCharCode.apply(null,g)))&&g[g.length-1]==="\0"&&(g=g.slice(0,-1)),this.is_subifd_link(f,o)&&Array.isArray(g)&&Number.isInteger(g[0])&&g[0]>0&&(this.ifds_to_read.push({id:o,offset:g[0]}),p=!0),i({is_big_endian:this.big_endian,ifd:f,tag:o,format:l,count:u,entry_offset:e+this.start,data_length:c,data_offset:h+this.start,value:g,is_subifd_link:p})===!1)return void(this.aborted=!0);e+=12}f===0&&this.ifds_to_read.push({id:1,offset:this.read_uint32(e)})},w.exports.ExifParser=a,w.exports.get_orientation=function(f){var e=0;try{return new a(f,0,f.length).each(function(i){if(i.ifd===0&&i.tag===274&&Array.isArray(i.value))return e=i.value[0],!1}),e}catch{return-1}}},76767:function(w,s,t){var a=t(14847).n8,f=t(14847).Ag;function e(u,d){if(u.length<4+d)return null;var c=f(u,d);return u.length<c+d||c<8?null:{boxtype:String.fromCharCode.apply(null,u.slice(d+4,d+8)),data:u.slice(d+8,d+c),end:d+c}}function i(u,d){for(var c=0;;){var h=e(u,c);if(!h)break;switch(h.boxtype){case"ispe":d.sizes.push({width:f(h.data,4),height:f(h.data,8)});break;case"irot":d.transforms.push({type:"irot",value:3&h.data[0]});break;case"imir":d.transforms.push({type:"imir",value:1&h.data[0]})}c=h.end}}function r(u,d,c){for(var h=0,p=0;p<c;p++)h=256*h+(u[d+p]||0);return h}function n(u,d){for(var c=u[4]>>4&15,h=15&u[4],p=u[5]>>4&15,g=a(u,6),y=8,b=0;b<g;b++){var m=a(u,y),v=a(u,y+=2),x=r(u,y+=2,p),_=a(u,y+=p);if(y+=2,v===0&&_===1){var T=r(u,y,c),C=r(u,y+c,h);d.item_loc[m]={length:C,offset:T+x}}y+=_*(c+h)}}function o(u,d){for(var c=a(u,4),h=6,p=0;p<c;p++){var g=e(u,h);if(!g)break;if(g.boxtype==="infe"){for(var y=a(g.data,4),b="",m=8;m<g.data.length&&g.data[m];m++)b+=String.fromCharCode(g.data[m]);d.item_inf[b]=y}h=g.end}}function l(u,d){for(var c=0;;){var h=e(u,c);if(!h)break;h.boxtype==="ipco"&&i(h.data,d),c=h.end}}w.exports.unbox=e,w.exports.readSizeFromMeta=function(u){var d={sizes:[],transforms:[],item_inf:{},item_loc:{}};if(function(m,v){for(var x=4;;){var _=e(m,x);if(!_)break;_.boxtype==="iprp"&&l(_.data,v),_.boxtype==="iloc"&&n(_.data,v),_.boxtype==="iinf"&&o(_.data,v),x=_.end}}(u,d),d.sizes.length){var c,h,p,g=(h=(c=d.sizes).reduce(function(m,v){return m.width>v.width||m.width===v.width&&m.height>v.height?m:v}),p=c.reduce(function(m,v){return m.height>v.height||m.height===v.height&&m.width>v.width?m:v}),h.width>p.height||h.width===p.height&&h.height>p.width?h:p),y=1;d.transforms.forEach(function(m){var v={1:6,2:5,3:8,4:7,5:4,6:3,7:2,8:1},x={1:4,2:3,3:2,4:1,5:6,6:5,7:8,8:7};if(m.type==="imir"&&(y=m.value===0?x[y]:v[y=v[y=x[y]]]),m.type==="irot")for(var _=0;_<m.value;_++)y=v[y]});var b=null;return d.item_inf.Exif&&(b=d.item_loc[d.item_inf.Exif]),{width:g.width,height:g.height,orientation:d.transforms.length?y:null,variants:d.sizes,exif_location:b}}},w.exports.getMimeType=function(u){var d=String.fromCharCode.apply(null,u.slice(0,4)),c={};c[d]=!0;for(var h=8;h<u.length;h+=4)c[String.fromCharCode.apply(null,u.slice(h,h+4))]=!0;if(c.mif1||c.msf1||c.miaf)return d==="avif"||d==="avis"||d==="avio"?{type:"avif",mime:"image/avif"}:d==="heic"||d==="heix"?{type:"heic",mime:"image/heic"}:d==="hevc"||d==="hevx"?{type:"heic",mime:"image/heic-sequence"}:c.avif||c.avis?{type:"avif",mime:"image/avif"}:c.heic||c.heix||c.hevc||c.hevx||c.heis?c.msf1?{type:"heif",mime:"image/heif-sequence"}:{type:"heif",mime:"image/heif"}:{type:"avif",mime:"image/avif"}}},24461:function(w,s,t){var a=t(14847).eG,f=t(14847).OF,e=t(14847).Ag,i=t(76767),r=t(71371),n=a("ftyp");w.exports=function(o){if(f(o,4,n)){var l=i.unbox(o,0);if(l){var u=i.getMimeType(l.data);if(u){for(var d,c=l.end;;){var h=i.unbox(o,c);if(!h)break;if(c=h.end,h.boxtype==="mdat")return;if(h.boxtype==="meta"){d=h.data;break}}if(d){var p=i.readSizeFromMeta(d);if(p){var g={width:p.width,height:p.height,type:u.type,mime:u.mime,wUnits:"px",hUnits:"px"};if(p.variants.length>1&&(g.variants=p.variants),p.orientation&&(g.orientation=p.orientation),p.exif_location&&p.exif_location.offset+p.exif_location.length<=o.length){var y=e(o,p.exif_location.offset),b=o.slice(p.exif_location.offset+y+4,p.exif_location.offset+p.exif_location.length),m=r.get_orientation(b);m>0&&(g.orientation=m)}return g}}}}}}},2504:function(w,s,t){var a=t(14847).eG,f=t(14847).OF,e=t(14847).mP,i=a("BM");w.exports=function(r){if(!(r.length<26)&&f(r,0,i))return{width:e(r,18),height:e(r,22),type:"bmp",mime:"image/bmp",wUnits:"px",hUnits:"px"}}},47342:function(w,s,t){var a=t(14847).eG,f=t(14847).OF,e=t(14847).mP,i=a("GIF87a"),r=a("GIF89a");w.exports=function(n){if(!(n.length<10)&&(f(n,0,i)||f(n,0,r)))return{width:e(n,6),height:e(n,8),type:"gif",mime:"image/gif",wUnits:"px",hUnits:"px"}}},31355:function(w,s,t){var a=t(14847).mP;w.exports=function(f){var e=a(f,0),i=a(f,2),r=a(f,4);if(e===0&&i===1&&r){for(var n=[],o={width:0,height:0},l=0;l<r;l++){var u=f[6+16*l]||256,d=f[6+16*l+1]||256,c={width:u,height:d};n.push(c),(u>o.width||d>o.height)&&(o=c)}return{width:o.width,height:o.height,variants:n,type:"ico",mime:"image/x-icon",wUnits:"px",hUnits:"px"}}}},54261:function(w,s,t){var a=t(14847).n8,f=t(14847).eG,e=t(14847).OF,i=t(71371),r=f("Exif\0\0");w.exports=function(n){if(!(n.length<2)&&n[0]===255&&n[1]===216&&n[2]===255)for(var o=2;;){for(;;){if(n.length-o<2)return;if(n[o++]===255)break}for(var l,u,d=n[o++];d===255;)d=n[o++];if(208<=d&&d<=217||d===1)l=0;else{if(!(192<=d&&d<=254)||n.length-o<2)return;l=a(n,o)-2,o+=2}if(d===217||d===218)return;if(d===225&&l>=10&&e(n,o,r)&&(u=i.get_orientation(n.slice(o+6,o+l))),l>=5&&192<=d&&d<=207&&d!==196&&d!==200&&d!==204){if(n.length-o<l)return;var c={width:a(n,o+3),height:a(n,o+1),type:"jpg",mime:"image/jpeg",wUnits:"px",hUnits:"px"};return u>0&&(c.orientation=u),c}o+=l}}},6303:function(w,s,t){var a=t(14847).eG,f=t(14847).OF,e=t(14847).Ag,i=a(`PNG\r

`),r=a("IHDR");w.exports=function(n){if(!(n.length<24)&&f(n,0,i)&&f(n,12,r))return{width:e(n,16),height:e(n,20),type:"png",mime:"image/png",wUnits:"px",hUnits:"px"}}},38689:function(w,s,t){var a=t(14847).eG,f=t(14847).OF,e=t(14847).Ag,i=a("8BPS\0");w.exports=function(r){if(!(r.length<22)&&f(r,0,i))return{width:e(r,18),height:e(r,14),type:"psd",mime:"image/vnd.adobe.photoshop",wUnits:"px",hUnits:"px"}}},6881:function(w){function s(o){return typeof o=="number"&&isFinite(o)&&o>0}var t=/<[-_.:a-zA-Z0-9][^>]*>/,a=/^<([-_.:a-zA-Z0-9]+:)?svg\s/,f=/[^-]\bwidth="([^%]+?)"|[^-]\bwidth='([^%]+?)'/,e=/\bheight="([^%]+?)"|\bheight='([^%]+?)'/,i=/\bview[bB]ox="(.+?)"|\bview[bB]ox='(.+?)'/,r=/in$|mm$|cm$|pt$|pc$|px$|em$|ex$/;function n(o){return r.test(o)?o.match(r)[0]:"px"}w.exports=function(o){if(function(x){var _,T=0,C=x.length;for(x[0]===239&&x[1]===187&&x[2]===191&&(T=3);T<C&&((_=x[T])===32||_===9||_===13||_===10);)T++;return T!==C&&x[T]===60}(o)){for(var l="",u=0;u<o.length;u++)l+=String.fromCharCode(o[u]);var d=(l.match(t)||[""])[0];if(a.test(d)){var c=function(x){var _=x.match(f),T=x.match(e),C=x.match(i);return{width:_&&(_[1]||_[2]),height:T&&(T[1]||T[2]),viewbox:C&&(C[1]||C[2])}}(d),h=parseFloat(c.width),p=parseFloat(c.height);if(c.width&&c.height)return!s(h)||!s(p)?void 0:{width:h,height:p,type:"svg",mime:"image/svg+xml",wUnits:n(c.width),hUnits:n(c.height)};var g=(c.viewbox||"").split(" "),y={width:g[2],height:g[3]},b=parseFloat(y.width),m=parseFloat(y.height);if(s(b)&&s(m)&&n(y.width)===n(y.height)){var v=b/m;return c.width?s(h)?{width:h,height:h/v,type:"svg",mime:"image/svg+xml",wUnits:n(c.width),hUnits:n(c.width)}:void 0:c.height?s(p)?{width:p*v,height:p,type:"svg",mime:"image/svg+xml",wUnits:n(c.height),hUnits:n(c.height)}:void 0:{width:b,height:m,type:"svg",mime:"image/svg+xml",wUnits:n(y.width),hUnits:n(y.height)}}}}}},66278:function(w,s,t){var a=t(14847).eG,f=t(14847).OF,e=t(14847).mP,i=t(14847).n8,r=t(14847).nm,n=t(14847).Ag,o=a("II*\0"),l=a("MM\0*");function u(h,p,g){return g?i(h,p):e(h,p)}function d(h,p,g){return g?n(h,p):r(h,p)}function c(h,p,g){var y=u(h,p+2,g);return d(h,p+4,g)!==1||y!==3&&y!==4?null:y===3?u(h,p+8,g):d(h,p+8,g)}w.exports=function(h){if(!(h.length<8)&&(f(h,0,o)||f(h,0,l))){var p=h[0]===77,g=d(h,4,p)-8;if(!(g<0)){var y=g+8;if(!(h.length-y<2)){var b=12*u(h,y+0,p);if(!(b<=0||(y+=2,h.length-y<b))){var m,v,x,_;for(m=0;m<b;m+=12)(_=u(h,y+m,p))===256?v=c(h,y+m,p):_===257&&(x=c(h,y+m,p));return v&&x?{width:v,height:x,type:"tiff",mime:"image/tiff",wUnits:"px",hUnits:"px"}:void 0}}}}}},90784:function(w,s,t){var a=t(14847).eG,f=t(14847).OF,e=t(14847).mP,i=t(14847).nm,r=t(71371),n=a("RIFF"),o=a("WEBP");function l(c,h){if(c[h+3]===157&&c[h+4]===1&&c[h+5]===42)return{width:16383&e(c,h+6),height:16383&e(c,h+8),type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}function u(c,h){if(c[h]===47){var p=i(c,h+1);return{width:1+(16383&p),height:1+(p>>14&16383),type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}}function d(c,h){return{width:1+(c[h+6]<<16|c[h+5]<<8|c[h+4]),height:1+(c[h+9]<<h|c[h+8]<<8|c[h+7]),type:"webp",mime:"image/webp",wUnits:"px",hUnits:"px"}}w.exports=function(c){if(!(c.length<16)&&(f(c,0,n)||f(c,8,o))){var h=12,p=null,g=0,y=i(c,4)+8;if(!(y>c.length)){for(;h+8<y;)if(c[h]!==0){var b=String.fromCharCode.apply(null,c.slice(h,h+4)),m=i(c,h+4);b==="VP8 "&&m>=10?p=p||l(c,h+8):b==="VP8L"&&m>=9?p=p||u(c,h+8):b==="VP8X"&&m>=10?p=p||d(c,h+8):b==="EXIF"&&(g=r.get_orientation(c.slice(h+8,h+8+m)),h=1/0),h+=8+m}else h++;if(p)return g>0&&(p.orientation=g),p}}}},91497:function(w,s,t){w.exports={avif:t(24461),bmp:t(2504),gif:t(47342),ico:t(31355),jpeg:t(54261),png:t(6303),psd:t(38689),svg:t(6881),tiff:t(66278),webp:t(90784)}},33575:function(w,s,t){var a=t(91497);w.exports=function(f){return function(e){for(var i=Object.keys(a),r=0;r<i.length;r++){var n=a[i[r]](e);if(n)return n}return null}(f)},w.exports.parsers=a},90386:function(w){var s,t,a=w.exports={};function f(){throw new Error("setTimeout has not been defined")}function e(){throw new Error("clearTimeout has not been defined")}function i(p){if(s===setTimeout)return setTimeout(p,0);if((s===f||!s)&&setTimeout)return s=setTimeout,setTimeout(p,0);try{return s(p,0)}catch{try{return s.call(null,p,0)}catch{return s.call(this,p,0)}}}(function(){try{s=typeof setTimeout=="function"?setTimeout:f}catch{s=f}try{t=typeof clearTimeout=="function"?clearTimeout:e}catch{t=e}})();var r,n=[],o=!1,l=-1;function u(){o&&r&&(o=!1,r.length?n=r.concat(n):l=-1,n.length&&d())}function d(){if(!o){var p=i(u);o=!0;for(var g=n.length;g;){for(r=n,n=[];++l<g;)r&&r[l].run();l=-1,g=n.length}r=null,o=!1,function(y){if(t===clearTimeout)return clearTimeout(y);if((t===e||!t)&&clearTimeout)return t=clearTimeout,clearTimeout(y);try{t(y)}catch{try{return t.call(null,y)}catch{return t.call(this,y)}}}(p)}}function c(p,g){this.fun=p,this.array=g}function h(){}a.nextTick=function(p){var g=new Array(arguments.length-1);if(arguments.length>1)for(var y=1;y<arguments.length;y++)g[y-1]=arguments[y];n.push(new c(p,g)),n.length!==1||o||i(d)},c.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=h,a.addListener=h,a.once=h,a.off=h,a.removeListener=h,a.removeAllListeners=h,a.emit=h,a.prependListener=h,a.prependOnceListener=h,a.listeners=function(p){return[]},a.binding=function(p){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(p){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},71665:function(w,s,t){var a=t(12856),f=a.Buffer;function e(r,n){for(var o in r)n[o]=r[o]}function i(r,n,o){return f(r,n,o)}f.from&&f.alloc&&f.allocUnsafe&&f.allocUnsafeSlow?w.exports=a:(e(a,s),s.Buffer=i),i.prototype=Object.create(f.prototype),e(f,i),i.from=function(r,n,o){if(typeof r=="number")throw new TypeError("Argument must not be a number");return f(r,n,o)},i.alloc=function(r,n,o){if(typeof r!="number")throw new TypeError("Argument must be a number");var l=f(r);return n!==void 0?typeof o=="string"?l.fill(n,o):l.fill(n):l.fill(0),l},i.allocUnsafe=function(r){if(typeof r!="number")throw new TypeError("Argument must be a number");return f(r)},i.allocUnsafeSlow=function(r){if(typeof r!="number")throw new TypeError("Argument must be a number");return a.SlowBuffer(r)}},21630:function(w,s,t){w.exports=f;var a=t(15398).EventEmitter;function f(){a.call(this)}t(42018)(f,a),f.Readable=t(40410),f.Writable=t(37493),f.Duplex=t(37865),f.Transform=t(74308),f.PassThrough=t(66897),f.finished=t(12726),f.pipeline=t(10168),f.Stream=f,f.prototype.pipe=function(e,i){var r=this;function n(p){e.writable&&e.write(p)===!1&&r.pause&&r.pause()}function o(){r.readable&&r.resume&&r.resume()}r.on("data",n),e.on("drain",o),e._isStdio||i&&i.end===!1||(r.on("end",u),r.on("close",d));var l=!1;function u(){l||(l=!0,e.end())}function d(){l||(l=!0,typeof e.destroy=="function"&&e.destroy())}function c(p){if(h(),a.listenerCount(this,"error")===0)throw p}function h(){r.removeListener("data",n),e.removeListener("drain",o),r.removeListener("end",u),r.removeListener("close",d),r.removeListener("error",c),e.removeListener("error",c),r.removeListener("end",h),r.removeListener("close",h),e.removeListener("close",h)}return r.on("error",c),e.on("error",c),r.on("end",h),r.on("close",h),e.on("close",h),e.emit("pipe",r),e}},74322:function(w){var s={};function t(f,e,i){i||(i=Error);var r=function(n){var o,l;function u(d,c,h){return n.call(this,function(p,g,y){return typeof e=="string"?e:e(p,g,y)}(d,c,h))||this}return l=n,(o=u).prototype=Object.create(l.prototype),o.prototype.constructor=o,o.__proto__=l,u}(i);r.prototype.name=i.name,r.prototype.code=f,s[f]=r}function a(f,e){if(Array.isArray(f)){var i=f.length;return f=f.map(function(r){return String(r)}),i>2?"one of ".concat(e," ").concat(f.slice(0,i-1).join(", "),", or ")+f[i-1]:i===2?"one of ".concat(e," ").concat(f[0]," or ").concat(f[1]):"of ".concat(e," ").concat(f[0])}return"of ".concat(e," ").concat(String(f))}t("ERR_INVALID_OPT_VALUE",function(f,e){return'The value "'+e+'" is invalid for option "'+f+'"'},TypeError),t("ERR_INVALID_ARG_TYPE",function(f,e,i){var r,n,o,l,u;if(typeof e=="string"&&(n="not ",e.substr(0,n.length)===n)?(r="must not be",e=e.replace(/^not /,"")):r="must be",function(c,h,p){return(p===void 0||p>c.length)&&(p=c.length),c.substring(p-h.length,p)===h}(f," argument"))o="The ".concat(f," ").concat(r," ").concat(a(e,"type"));else{var d=(typeof u!="number"&&(u=0),u+1>(l=f).length||l.indexOf(".",u)===-1?"argument":"property");o='The "'.concat(f,'" ').concat(d," ").concat(r," ").concat(a(e,"type"))}return o+". Received type ".concat(typeof i)},TypeError),t("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),t("ERR_METHOD_NOT_IMPLEMENTED",function(f){return"The "+f+" method is not implemented"}),t("ERR_STREAM_PREMATURE_CLOSE","Premature close"),t("ERR_STREAM_DESTROYED",function(f){return"Cannot call "+f+" after a stream was destroyed"}),t("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),t("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),t("ERR_STREAM_WRITE_AFTER_END","write after end"),t("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),t("ERR_UNKNOWN_ENCODING",function(f){return"Unknown encoding: "+f},TypeError),t("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),w.exports.q=s},37865:function(w,s,t){var a=t(90386),f=Object.keys||function(c){var h=[];for(var p in c)h.push(p);return h};w.exports=l;var e=t(40410),i=t(37493);t(42018)(l,e);for(var r=f(i.prototype),n=0;n<r.length;n++){var o=r[n];l.prototype[o]||(l.prototype[o]=i.prototype[o])}function l(c){if(!(this instanceof l))return new l(c);e.call(this,c),i.call(this,c),this.allowHalfOpen=!0,c&&(c.readable===!1&&(this.readable=!1),c.writable===!1&&(this.writable=!1),c.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",u)))}function u(){this._writableState.ended||a.nextTick(d,this)}function d(c){c.end()}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(l.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(l.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(l.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(c){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=c,this._writableState.destroyed=c)}})},66897:function(w,s,t){w.exports=f;var a=t(74308);function f(e){if(!(this instanceof f))return new f(e);a.call(this,e)}t(42018)(f,a),f.prototype._transform=function(e,i,r){r(null,e)}},40410:function(w,s,t){var a,f=t(90386);w.exports=S,S.ReadableState=C,t(15398).EventEmitter;var e,i=function(et,Z){return et.listeners(Z).length},r=t(71405),n=t(12856).Buffer,o=t.g.Uint8Array||function(){},l=t(40964);e=l&&l.debuglog?l.debuglog("stream"):function(){};var u,d,c,h=t(31125),p=t(65756),g=t(56306).getHighWaterMark,y=t(74322).q,b=y.ERR_INVALID_ARG_TYPE,m=y.ERR_STREAM_PUSH_AFTER_EOF,v=y.ERR_METHOD_NOT_IMPLEMENTED,x=y.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;t(42018)(S,r);var _=p.errorOrDestroy,T=["error","close","destroy","pause","resume"];function C(et,Z,H){a=a||t(37865),et=et||{},typeof H!="boolean"&&(H=Z instanceof a),this.objectMode=!!et.objectMode,H&&(this.objectMode=this.objectMode||!!et.readableObjectMode),this.highWaterMark=g(this,et,"readableHighWaterMark",H),this.buffer=new h,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=et.emitClose!==!1,this.autoDestroy=!!et.autoDestroy,this.destroyed=!1,this.defaultEncoding=et.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,et.encoding&&(u||(u=t(68019).s),this.decoder=new u(et.encoding),this.encoding=et.encoding)}function S(et){if(a=a||t(37865),!(this instanceof S))return new S(et);var Z=this instanceof a;this._readableState=new C(et,this,Z),this.readable=!0,et&&(typeof et.read=="function"&&(this._read=et.read),typeof et.destroy=="function"&&(this._destroy=et.destroy)),r.call(this)}function F(et,Z,H,U,V){e("readableAddChunk",Z);var $,at=et._readableState;if(Z===null)at.reading=!1,function(rt,ot){if(e("onEofChunk"),!ot.ended){if(ot.decoder){var ct=ot.decoder.end();ct&&ct.length&&(ot.buffer.push(ct),ot.length+=ot.objectMode?1:ct.length)}ot.ended=!0,ot.sync?B(rt):(ot.needReadable=!1,ot.emittedReadable||(ot.emittedReadable=!0,J(rt)))}}(et,at);else if(V||($=function(rt,ot){var ct,ht;return ht=ot,n.isBuffer(ht)||ht instanceof o||typeof ot=="string"||ot===void 0||rt.objectMode||(ct=new b("chunk",["string","Buffer","Uint8Array"],ot)),ct}(at,Z)),$)_(et,$);else if(at.objectMode||Z&&Z.length>0)if(typeof Z=="string"||at.objectMode||Object.getPrototypeOf(Z)===n.prototype||(Z=function(rt){return n.from(rt)}(Z)),U)at.endEmitted?_(et,new x):N(et,at,Z,!0);else if(at.ended)_(et,new m);else{if(at.destroyed)return!1;at.reading=!1,at.decoder&&!H?(Z=at.decoder.write(Z),at.objectMode||Z.length!==0?N(et,at,Z,!1):P(et,at)):N(et,at,Z,!1)}else U||(at.reading=!1,P(et,at));return!at.ended&&(at.length<at.highWaterMark||at.length===0)}function N(et,Z,H,U){Z.flowing&&Z.length===0&&!Z.sync?(Z.awaitDrain=0,et.emit("data",H)):(Z.length+=Z.objectMode?1:H.length,U?Z.buffer.unshift(H):Z.buffer.push(H),Z.needReadable&&B(et)),P(et,Z)}Object.defineProperty(S.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(et){this._readableState&&(this._readableState.destroyed=et)}}),S.prototype.destroy=p.destroy,S.prototype._undestroy=p.undestroy,S.prototype._destroy=function(et,Z){Z(et)},S.prototype.push=function(et,Z){var H,U=this._readableState;return U.objectMode?H=!0:typeof et=="string"&&((Z=Z||U.defaultEncoding)!==U.encoding&&(et=n.from(et,Z),Z=""),H=!0),F(this,et,Z,!1,H)},S.prototype.unshift=function(et){return F(this,et,null,!0,!1)},S.prototype.isPaused=function(){return this._readableState.flowing===!1},S.prototype.setEncoding=function(et){u||(u=t(68019).s);var Z=new u(et);this._readableState.decoder=Z,this._readableState.encoding=this._readableState.decoder.encoding;for(var H=this._readableState.buffer.head,U="";H!==null;)U+=Z.write(H.data),H=H.next;return this._readableState.buffer.clear(),U!==""&&this._readableState.buffer.push(U),this._readableState.length=U.length,this};var D=1073741824;function j(et,Z){return et<=0||Z.length===0&&Z.ended?0:Z.objectMode?1:et!=et?Z.flowing&&Z.length?Z.buffer.head.data.length:Z.length:(et>Z.highWaterMark&&(Z.highWaterMark=function(H){return H>=D?H=D:(H--,H|=H>>>1,H|=H>>>2,H|=H>>>4,H|=H>>>8,H|=H>>>16,H++),H}(et)),et<=Z.length?et:Z.ended?Z.length:(Z.needReadable=!0,0))}function B(et){var Z=et._readableState;e("emitReadable",Z.needReadable,Z.emittedReadable),Z.needReadable=!1,Z.emittedReadable||(e("emitReadable",Z.flowing),Z.emittedReadable=!0,f.nextTick(J,et))}function J(et){var Z=et._readableState;e("emitReadable_",Z.destroyed,Z.length,Z.ended),Z.destroyed||!Z.length&&!Z.ended||(et.emit("readable"),Z.emittedReadable=!1),Z.needReadable=!Z.flowing&&!Z.ended&&Z.length<=Z.highWaterMark,E(et)}function P(et,Z){Z.readingMore||(Z.readingMore=!0,f.nextTick(M,et,Z))}function M(et,Z){for(;!Z.reading&&!Z.ended&&(Z.length<Z.highWaterMark||Z.flowing&&Z.length===0);){var H=Z.length;if(e("maybeReadMore read 0"),et.read(0),H===Z.length)break}Z.readingMore=!1}function O(et){var Z=et._readableState;Z.readableListening=et.listenerCount("readable")>0,Z.resumeScheduled&&!Z.paused?Z.flowing=!0:et.listenerCount("data")>0&&et.resume()}function q(et){e("readable nexttick read 0"),et.read(0)}function tt(et,Z){e("resume",Z.reading),Z.reading||et.read(0),Z.resumeScheduled=!1,et.emit("resume"),E(et),Z.flowing&&!Z.reading&&et.read(0)}function E(et){var Z=et._readableState;for(e("flow",Z.flowing);Z.flowing&&et.read()!==null;);}function z(et,Z){return Z.length===0?null:(Z.objectMode?H=Z.buffer.shift():!et||et>=Z.length?(H=Z.decoder?Z.buffer.join(""):Z.buffer.length===1?Z.buffer.first():Z.buffer.concat(Z.length),Z.buffer.clear()):H=Z.buffer.consume(et,Z.decoder),H);var H}function Y(et){var Z=et._readableState;e("endReadable",Z.endEmitted),Z.endEmitted||(Z.ended=!0,f.nextTick(Q,Z,et))}function Q(et,Z){if(e("endReadableNT",et.endEmitted,et.length),!et.endEmitted&&et.length===0&&(et.endEmitted=!0,Z.readable=!1,Z.emit("end"),et.autoDestroy)){var H=Z._writableState;(!H||H.autoDestroy&&H.finished)&&Z.destroy()}}function nt(et,Z){for(var H=0,U=et.length;H<U;H++)if(et[H]===Z)return H;return-1}S.prototype.read=function(et){e("read",et),et=parseInt(et,10);var Z=this._readableState,H=et;if(et!==0&&(Z.emittedReadable=!1),et===0&&Z.needReadable&&((Z.highWaterMark!==0?Z.length>=Z.highWaterMark:Z.length>0)||Z.ended))return e("read: emitReadable",Z.length,Z.ended),Z.length===0&&Z.ended?Y(this):B(this),null;if((et=j(et,Z))===0&&Z.ended)return Z.length===0&&Y(this),null;var U,V=Z.needReadable;return e("need readable",V),(Z.length===0||Z.length-et<Z.highWaterMark)&&e("length less than watermark",V=!0),Z.ended||Z.reading?e("reading or ended",V=!1):V&&(e("do read"),Z.reading=!0,Z.sync=!0,Z.length===0&&(Z.needReadable=!0),this._read(Z.highWaterMark),Z.sync=!1,Z.reading||(et=j(H,Z))),(U=et>0?z(et,Z):null)===null?(Z.needReadable=Z.length<=Z.highWaterMark,et=0):(Z.length-=et,Z.awaitDrain=0),Z.length===0&&(Z.ended||(Z.needReadable=!0),H!==et&&Z.ended&&Y(this)),U!==null&&this.emit("data",U),U},S.prototype._read=function(et){_(this,new v("_read()"))},S.prototype.pipe=function(et,Z){var H=this,U=this._readableState;switch(U.pipesCount){case 0:U.pipes=et;break;case 1:U.pipes=[U.pipes,et];break;default:U.pipes.push(et)}U.pipesCount+=1,e("pipe count=%d opts=%j",U.pipesCount,Z);var V=Z&&Z.end===!1||et===f.stdout||et===f.stderr?kt:$;function $(){e("onend"),et.end()}U.endEmitted?f.nextTick(V):H.once("end",V),et.on("unpipe",function Ct(It,pt){e("onunpipe"),It===H&&pt&&pt.hasUnpiped===!1&&(pt.hasUnpiped=!0,e("cleanup"),et.removeListener("close",ht),et.removeListener("finish",mt),et.removeListener("drain",at),et.removeListener("error",ct),et.removeListener("unpipe",Ct),H.removeListener("end",$),H.removeListener("end",kt),H.removeListener("data",ot),rt=!0,!U.awaitDrain||et._writableState&&!et._writableState.needDrain||at())});var at=function(Ct){return function(){var It=Ct._readableState;e("pipeOnDrain",It.awaitDrain),It.awaitDrain&&It.awaitDrain--,It.awaitDrain===0&&i(Ct,"data")&&(It.flowing=!0,E(Ct))}}(H);et.on("drain",at);var rt=!1;function ot(Ct){e("ondata");var It=et.write(Ct);e("dest.write",It),It===!1&&((U.pipesCount===1&&U.pipes===et||U.pipesCount>1&&nt(U.pipes,et)!==-1)&&!rt&&(e("false write response, pause",U.awaitDrain),U.awaitDrain++),H.pause())}function ct(Ct){e("onerror",Ct),kt(),et.removeListener("error",ct),i(et,"error")===0&&_(et,Ct)}function ht(){et.removeListener("finish",mt),kt()}function mt(){e("onfinish"),et.removeListener("close",ht),kt()}function kt(){e("unpipe"),H.unpipe(et)}return H.on("data",ot),function(Ct,It,pt){if(typeof Ct.prependListener=="function")return Ct.prependListener(It,pt);Ct._events&&Ct._events.error?Array.isArray(Ct._events.error)?Ct._events.error.unshift(pt):Ct._events.error=[pt,Ct._events.error]:Ct.on(It,pt)}(et,"error",ct),et.once("close",ht),et.once("finish",mt),et.emit("pipe",H),U.flowing||(e("pipe resume"),H.resume()),et},S.prototype.unpipe=function(et){var Z=this._readableState,H={hasUnpiped:!1};if(Z.pipesCount===0)return this;if(Z.pipesCount===1)return et&&et!==Z.pipes||(et||(et=Z.pipes),Z.pipes=null,Z.pipesCount=0,Z.flowing=!1,et&&et.emit("unpipe",this,H)),this;if(!et){var U=Z.pipes,V=Z.pipesCount;Z.pipes=null,Z.pipesCount=0,Z.flowing=!1;for(var $=0;$<V;$++)U[$].emit("unpipe",this,{hasUnpiped:!1});return this}var at=nt(Z.pipes,et);return at===-1||(Z.pipes.splice(at,1),Z.pipesCount-=1,Z.pipesCount===1&&(Z.pipes=Z.pipes[0]),et.emit("unpipe",this,H)),this},S.prototype.on=function(et,Z){var H=r.prototype.on.call(this,et,Z),U=this._readableState;return et==="data"?(U.readableListening=this.listenerCount("readable")>0,U.flowing!==!1&&this.resume()):et==="readable"&&(U.endEmitted||U.readableListening||(U.readableListening=U.needReadable=!0,U.flowing=!1,U.emittedReadable=!1,e("on readable",U.length,U.reading),U.length?B(this):U.reading||f.nextTick(q,this))),H},S.prototype.addListener=S.prototype.on,S.prototype.removeListener=function(et,Z){var H=r.prototype.removeListener.call(this,et,Z);return et==="readable"&&f.nextTick(O,this),H},S.prototype.removeAllListeners=function(et){var Z=r.prototype.removeAllListeners.apply(this,arguments);return et!=="readable"&&et!==void 0||f.nextTick(O,this),Z},S.prototype.resume=function(){var et=this._readableState;return et.flowing||(e("resume"),et.flowing=!et.readableListening,function(Z,H){H.resumeScheduled||(H.resumeScheduled=!0,f.nextTick(tt,Z,H))}(this,et)),et.paused=!1,this},S.prototype.pause=function(){return e("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(e("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},S.prototype.wrap=function(et){var Z=this,H=this._readableState,U=!1;for(var V in et.on("end",function(){if(e("wrapped end"),H.decoder&&!H.ended){var at=H.decoder.end();at&&at.length&&Z.push(at)}Z.push(null)}),et.on("data",function(at){e("wrapped data"),H.decoder&&(at=H.decoder.write(at)),H.objectMode&&at==null||(H.objectMode||at&&at.length)&&(Z.push(at)||(U=!0,et.pause()))}),et)this[V]===void 0&&typeof et[V]=="function"&&(this[V]=function(at){return function(){return et[at].apply(et,arguments)}}(V));for(var $=0;$<T.length;$++)et.on(T[$],this.emit.bind(this,T[$]));return this._read=function(at){e("wrapped _read",at),U&&(U=!1,et.resume())},this},typeof Symbol=="function"&&(S.prototype[Symbol.asyncIterator]=function(){return d===void 0&&(d=t(68221)),d(this)}),Object.defineProperty(S.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(S.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(S.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(et){this._readableState&&(this._readableState.flowing=et)}}),S._fromList=z,Object.defineProperty(S.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(S.from=function(et,Z){return c===void 0&&(c=t(31748)),c(S,et,Z)})},74308:function(w,s,t){w.exports=l;var a=t(74322).q,f=a.ERR_METHOD_NOT_IMPLEMENTED,e=a.ERR_MULTIPLE_CALLBACK,i=a.ERR_TRANSFORM_ALREADY_TRANSFORMING,r=a.ERR_TRANSFORM_WITH_LENGTH_0,n=t(37865);function o(c,h){var p=this._transformState;p.transforming=!1;var g=p.writecb;if(g===null)return this.emit("error",new e);p.writechunk=null,p.writecb=null,h!=null&&this.push(h),g(c);var y=this._readableState;y.reading=!1,(y.needReadable||y.length<y.highWaterMark)&&this._read(y.highWaterMark)}function l(c){if(!(this instanceof l))return new l(c);n.call(this,c),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,c&&(typeof c.transform=="function"&&(this._transform=c.transform),typeof c.flush=="function"&&(this._flush=c.flush)),this.on("prefinish",u)}function u(){var c=this;typeof this._flush!="function"||this._readableState.destroyed?d(this,null,null):this._flush(function(h,p){d(c,h,p)})}function d(c,h,p){if(h)return c.emit("error",h);if(p!=null&&c.push(p),c._writableState.length)throw new r;if(c._transformState.transforming)throw new i;return c.push(null)}t(42018)(l,n),l.prototype.push=function(c,h){return this._transformState.needTransform=!1,n.prototype.push.call(this,c,h)},l.prototype._transform=function(c,h,p){p(new f("_transform()"))},l.prototype._write=function(c,h,p){var g=this._transformState;if(g.writecb=p,g.writechunk=c,g.writeencoding=h,!g.transforming){var y=this._readableState;(g.needTransform||y.needReadable||y.length<y.highWaterMark)&&this._read(y.highWaterMark)}},l.prototype._read=function(c){var h=this._transformState;h.writechunk===null||h.transforming?h.needTransform=!0:(h.transforming=!0,this._transform(h.writechunk,h.writeencoding,h.afterTransform))},l.prototype._destroy=function(c,h){n.prototype._destroy.call(this,c,function(p){h(p)})}},37493:function(w,s,t){var a,f=t(90386);function e(P){var M=this;this.next=null,this.entry=null,this.finish=function(){(function(O,q,tt){var E=O.entry;for(O.entry=null;E;){var z=E.callback;q.pendingcb--,z(void 0),E=E.next}q.corkedRequestsFree.next=O})(M,P)}}w.exports=S,S.WritableState=C;var i,r={deprecate:t(20588)},n=t(71405),o=t(12856).Buffer,l=t.g.Uint8Array||function(){},u=t(65756),d=t(56306).getHighWaterMark,c=t(74322).q,h=c.ERR_INVALID_ARG_TYPE,p=c.ERR_METHOD_NOT_IMPLEMENTED,g=c.ERR_MULTIPLE_CALLBACK,y=c.ERR_STREAM_CANNOT_PIPE,b=c.ERR_STREAM_DESTROYED,m=c.ERR_STREAM_NULL_VALUES,v=c.ERR_STREAM_WRITE_AFTER_END,x=c.ERR_UNKNOWN_ENCODING,_=u.errorOrDestroy;function T(){}function C(P,M,O){a=a||t(37865),P=P||{},typeof O!="boolean"&&(O=M instanceof a),this.objectMode=!!P.objectMode,O&&(this.objectMode=this.objectMode||!!P.writableObjectMode),this.highWaterMark=d(this,P,"writableHighWaterMark",O),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var q=P.decodeStrings===!1;this.decodeStrings=!q,this.defaultEncoding=P.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(tt){(function(E,z){var Y=E._writableState,Q=Y.sync,nt=Y.writecb;if(typeof nt!="function")throw new g;if(function(Z){Z.writing=!1,Z.writecb=null,Z.length-=Z.writelen,Z.writelen=0}(Y),z)(function(Z,H,U,V,$){--H.pendingcb,U?(f.nextTick($,V),f.nextTick(J,Z,H),Z._writableState.errorEmitted=!0,_(Z,V)):($(V),Z._writableState.errorEmitted=!0,_(Z,V),J(Z,H))})(E,Y,Q,z,nt);else{var et=j(Y)||E.destroyed;et||Y.corked||Y.bufferProcessing||!Y.bufferedRequest||D(E,Y),Q?f.nextTick(N,E,Y,et,nt):N(E,Y,et,nt)}})(M,tt)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=P.emitClose!==!1,this.autoDestroy=!!P.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}function S(P){var M=this instanceof(a=a||t(37865));if(!M&&!i.call(S,this))return new S(P);this._writableState=new C(P,this,M),this.writable=!0,P&&(typeof P.write=="function"&&(this._write=P.write),typeof P.writev=="function"&&(this._writev=P.writev),typeof P.destroy=="function"&&(this._destroy=P.destroy),typeof P.final=="function"&&(this._final=P.final)),n.call(this)}function F(P,M,O,q,tt,E,z){M.writelen=q,M.writecb=z,M.writing=!0,M.sync=!0,M.destroyed?M.onwrite(new b("write")):O?P._writev(tt,M.onwrite):P._write(tt,E,M.onwrite),M.sync=!1}function N(P,M,O,q){O||function(tt,E){E.length===0&&E.needDrain&&(E.needDrain=!1,tt.emit("drain"))}(P,M),M.pendingcb--,q(),J(P,M)}function D(P,M){M.bufferProcessing=!0;var O=M.bufferedRequest;if(P._writev&&O&&O.next){var q=M.bufferedRequestCount,tt=new Array(q),E=M.corkedRequestsFree;E.entry=O;for(var z=0,Y=!0;O;)tt[z]=O,O.isBuf||(Y=!1),O=O.next,z+=1;tt.allBuffers=Y,F(P,M,!0,M.length,tt,"",E.finish),M.pendingcb++,M.lastBufferedRequest=null,E.next?(M.corkedRequestsFree=E.next,E.next=null):M.corkedRequestsFree=new e(M),M.bufferedRequestCount=0}else{for(;O;){var Q=O.chunk,nt=O.encoding,et=O.callback;if(F(P,M,!1,M.objectMode?1:Q.length,Q,nt,et),O=O.next,M.bufferedRequestCount--,M.writing)break}O===null&&(M.lastBufferedRequest=null)}M.bufferedRequest=O,M.bufferProcessing=!1}function j(P){return P.ending&&P.length===0&&P.bufferedRequest===null&&!P.finished&&!P.writing}function B(P,M){P._final(function(O){M.pendingcb--,O&&_(P,O),M.prefinished=!0,P.emit("prefinish"),J(P,M)})}function J(P,M){var O=j(M);if(O&&(function(tt,E){E.prefinished||E.finalCalled||(typeof tt._final!="function"||E.destroyed?(E.prefinished=!0,tt.emit("prefinish")):(E.pendingcb++,E.finalCalled=!0,f.nextTick(B,tt,E)))}(P,M),M.pendingcb===0&&(M.finished=!0,P.emit("finish"),M.autoDestroy))){var q=P._readableState;(!q||q.autoDestroy&&q.endEmitted)&&P.destroy()}return O}t(42018)(S,n),C.prototype.getBuffer=function(){for(var P=this.bufferedRequest,M=[];P;)M.push(P),P=P.next;return M},function(){try{Object.defineProperty(C.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(i=Function.prototype[Symbol.hasInstance],Object.defineProperty(S,Symbol.hasInstance,{value:function(P){return!!i.call(this,P)||this===S&&P&&P._writableState instanceof C}})):i=function(P){return P instanceof this},S.prototype.pipe=function(){_(this,new y)},S.prototype.write=function(P,M,O){var q,tt=this._writableState,E=!1,z=!tt.objectMode&&(q=P,o.isBuffer(q)||q instanceof l);return z&&!o.isBuffer(P)&&(P=function(Y){return o.from(Y)}(P)),typeof M=="function"&&(O=M,M=null),z?M="buffer":M||(M=tt.defaultEncoding),typeof O!="function"&&(O=T),tt.ending?function(Y,Q){var nt=new v;_(Y,nt),f.nextTick(Q,nt)}(this,O):(z||function(Y,Q,nt,et){var Z;return nt===null?Z=new m:typeof nt=="string"||Q.objectMode||(Z=new h("chunk",["string","Buffer"],nt)),!Z||(_(Y,Z),f.nextTick(et,Z),!1)}(this,tt,P,O))&&(tt.pendingcb++,E=function(Y,Q,nt,et,Z,H){if(!nt){var U=function(rt,ot,ct){return rt.objectMode||rt.decodeStrings===!1||typeof ot!="string"||(ot=o.from(ot,ct)),ot}(Q,et,Z);et!==U&&(nt=!0,Z="buffer",et=U)}var V=Q.objectMode?1:et.length;Q.length+=V;var $=Q.length<Q.highWaterMark;if($||(Q.needDrain=!0),Q.writing||Q.corked){var at=Q.lastBufferedRequest;Q.lastBufferedRequest={chunk:et,encoding:Z,isBuf:nt,callback:H,next:null},at?at.next=Q.lastBufferedRequest:Q.bufferedRequest=Q.lastBufferedRequest,Q.bufferedRequestCount+=1}else F(Y,Q,!1,V,et,Z,H);return $}(this,tt,z,P,M,O)),E},S.prototype.cork=function(){this._writableState.corked++},S.prototype.uncork=function(){var P=this._writableState;P.corked&&(P.corked--,P.writing||P.corked||P.bufferProcessing||!P.bufferedRequest||D(this,P))},S.prototype.setDefaultEncoding=function(P){if(typeof P=="string"&&(P=P.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((P+"").toLowerCase())>-1))throw new x(P);return this._writableState.defaultEncoding=P,this},Object.defineProperty(S.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(S.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),S.prototype._write=function(P,M,O){O(new p("_write()"))},S.prototype._writev=null,S.prototype.end=function(P,M,O){var q=this._writableState;return typeof P=="function"?(O=P,P=null,M=null):typeof M=="function"&&(O=M,M=null),P!=null&&this.write(P,M),q.corked&&(q.corked=1,this.uncork()),q.ending||function(tt,E,z){E.ending=!0,J(tt,E),z&&(E.finished?f.nextTick(z):tt.once("finish",z)),E.ended=!0,tt.writable=!1}(this,q,O),this},Object.defineProperty(S.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(S.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(P){this._writableState&&(this._writableState.destroyed=P)}}),S.prototype.destroy=u.destroy,S.prototype._undestroy=u.undestroy,S.prototype._destroy=function(P,M){M(P)}},68221:function(w,s,t){var a,f=t(90386);function e(m,v,x){return v in m?Object.defineProperty(m,v,{value:x,enumerable:!0,configurable:!0,writable:!0}):m[v]=x,m}var i=t(12726),r=Symbol("lastResolve"),n=Symbol("lastReject"),o=Symbol("error"),l=Symbol("ended"),u=Symbol("lastPromise"),d=Symbol("handlePromise"),c=Symbol("stream");function h(m,v){return{value:m,done:v}}function p(m){var v=m[r];if(v!==null){var x=m[c].read();x!==null&&(m[u]=null,m[r]=null,m[n]=null,v(h(x,!1)))}}function g(m){f.nextTick(p,m)}var y=Object.getPrototypeOf(function(){}),b=Object.setPrototypeOf((e(a={get stream(){return this[c]},next:function(){var m=this,v=this[o];if(v!==null)return Promise.reject(v);if(this[l])return Promise.resolve(h(void 0,!0));if(this[c].destroyed)return new Promise(function(C,S){f.nextTick(function(){m[o]?S(m[o]):C(h(void 0,!0))})});var x,_=this[u];if(_)x=new Promise(function(C,S){return function(F,N){C.then(function(){S[l]?F(h(void 0,!0)):S[d](F,N)},N)}}(_,this));else{var T=this[c].read();if(T!==null)return Promise.resolve(h(T,!1));x=new Promise(this[d])}return this[u]=x,x}},Symbol.asyncIterator,function(){return this}),e(a,"return",function(){var m=this;return new Promise(function(v,x){m[c].destroy(null,function(_){_?x(_):v(h(void 0,!0))})})}),a),y);w.exports=function(m){var v,x=Object.create(b,(e(v={},c,{value:m,writable:!0}),e(v,r,{value:null,writable:!0}),e(v,n,{value:null,writable:!0}),e(v,o,{value:null,writable:!0}),e(v,l,{value:m._readableState.endEmitted,writable:!0}),e(v,d,{value:function(_,T){var C=x[c].read();C?(x[u]=null,x[r]=null,x[n]=null,_(h(C,!1))):(x[r]=_,x[n]=T)},writable:!0}),v));return x[u]=null,i(m,function(_){if(_&&_.code!=="ERR_STREAM_PREMATURE_CLOSE"){var T=x[n];return T!==null&&(x[u]=null,x[r]=null,x[n]=null,T(_)),void(x[o]=_)}var C=x[r];C!==null&&(x[u]=null,x[r]=null,x[n]=null,C(h(void 0,!0))),x[l]=!0}),m.on("readable",g.bind(null,x)),x}},31125:function(w,s,t){function a(o,l){var u=Object.keys(o);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(o);l&&(d=d.filter(function(c){return Object.getOwnPropertyDescriptor(o,c).enumerable})),u.push.apply(u,d)}return u}function f(o,l,u){return l in o?Object.defineProperty(o,l,{value:u,enumerable:!0,configurable:!0,writable:!0}):o[l]=u,o}function e(o,l){for(var u=0;u<l.length;u++){var d=l[u];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(o,d.key,d)}}var i=t(12856).Buffer,r=t(69862).inspect,n=r&&r.custom||"inspect";w.exports=function(){function o(){(function(d,c){if(!(d instanceof c))throw new TypeError("Cannot call a class as a function")})(this,o),this.head=null,this.tail=null,this.length=0}var l,u;return l=o,u=[{key:"push",value:function(d){var c={data:d,next:null};this.length>0?this.tail.next=c:this.head=c,this.tail=c,++this.length}},{key:"unshift",value:function(d){var c={data:d,next:this.head};this.length===0&&(this.tail=c),this.head=c,++this.length}},{key:"shift",value:function(){if(this.length!==0){var d=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,d}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(d){if(this.length===0)return"";for(var c=this.head,h=""+c.data;c=c.next;)h+=d+c.data;return h}},{key:"concat",value:function(d){if(this.length===0)return i.alloc(0);for(var c,h,p,g=i.allocUnsafe(d>>>0),y=this.head,b=0;y;)c=y.data,h=g,p=b,i.prototype.copy.call(c,h,p),b+=y.data.length,y=y.next;return g}},{key:"consume",value:function(d,c){var h;return d<this.head.data.length?(h=this.head.data.slice(0,d),this.head.data=this.head.data.slice(d)):h=d===this.head.data.length?this.shift():c?this._getString(d):this._getBuffer(d),h}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(d){var c=this.head,h=1,p=c.data;for(d-=p.length;c=c.next;){var g=c.data,y=d>g.length?g.length:d;if(y===g.length?p+=g:p+=g.slice(0,d),(d-=y)==0){y===g.length?(++h,c.next?this.head=c.next:this.head=this.tail=null):(this.head=c,c.data=g.slice(y));break}++h}return this.length-=h,p}},{key:"_getBuffer",value:function(d){var c=i.allocUnsafe(d),h=this.head,p=1;for(h.data.copy(c),d-=h.data.length;h=h.next;){var g=h.data,y=d>g.length?g.length:d;if(g.copy(c,c.length-d,0,y),(d-=y)==0){y===g.length?(++p,h.next?this.head=h.next:this.head=this.tail=null):(this.head=h,h.data=g.slice(y));break}++p}return this.length-=p,c}},{key:n,value:function(d,c){return r(this,function(h){for(var p=1;p<arguments.length;p++){var g=arguments[p]!=null?arguments[p]:{};p%2?a(Object(g),!0).forEach(function(y){f(h,y,g[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(g)):a(Object(g)).forEach(function(y){Object.defineProperty(h,y,Object.getOwnPropertyDescriptor(g,y))})}return h}({},c,{depth:0,customInspect:!1}))}}],u&&e(l.prototype,u),o}()},65756:function(w,s,t){var a=t(90386);function f(r,n){i(r,n),e(r)}function e(r){r._writableState&&!r._writableState.emitClose||r._readableState&&!r._readableState.emitClose||r.emit("close")}function i(r,n){r.emit("error",n)}w.exports={destroy:function(r,n){var o=this,l=this._readableState&&this._readableState.destroyed,u=this._writableState&&this._writableState.destroyed;return l||u?(n?n(r):r&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,a.nextTick(i,this,r)):a.nextTick(i,this,r)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(r||null,function(d){!n&&d?o._writableState?o._writableState.errorEmitted?a.nextTick(e,o):(o._writableState.errorEmitted=!0,a.nextTick(f,o,d)):a.nextTick(f,o,d):n?(a.nextTick(e,o),n(d)):a.nextTick(e,o)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(r,n){var o=r._readableState,l=r._writableState;o&&o.autoDestroy||l&&l.autoDestroy?r.destroy(n):r.emit("error",n)}}},12726:function(w,s,t){var a=t(74322).q.ERR_STREAM_PREMATURE_CLOSE;function f(){}w.exports=function e(i,r,n){if(typeof r=="function")return e(i,null,r);r||(r={}),n=function(m){var v=!1;return function(){if(!v){v=!0;for(var x=arguments.length,_=new Array(x),T=0;T<x;T++)_[T]=arguments[T];m.apply(this,_)}}}(n||f);var o=r.readable||r.readable!==!1&&i.readable,l=r.writable||r.writable!==!1&&i.writable,u=function(){i.writable||c()},d=i._writableState&&i._writableState.finished,c=function(){l=!1,d=!0,o||n.call(i)},h=i._readableState&&i._readableState.endEmitted,p=function(){o=!1,h=!0,l||n.call(i)},g=function(m){n.call(i,m)},y=function(){var m;return o&&!h?(i._readableState&&i._readableState.ended||(m=new a),n.call(i,m)):l&&!d?(i._writableState&&i._writableState.ended||(m=new a),n.call(i,m)):void 0},b=function(){i.req.on("finish",c)};return function(m){return m.setHeader&&typeof m.abort=="function"}(i)?(i.on("complete",c),i.on("abort",y),i.req?b():i.on("request",b)):l&&!i._writableState&&(i.on("end",u),i.on("close",u)),i.on("end",p),i.on("finish",c),r.error!==!1&&i.on("error",g),i.on("close",y),function(){i.removeListener("complete",c),i.removeListener("abort",y),i.removeListener("request",b),i.req&&i.req.removeListener("finish",c),i.removeListener("end",u),i.removeListener("close",u),i.removeListener("finish",c),i.removeListener("end",p),i.removeListener("error",g),i.removeListener("close",y)}}},31748:function(w){w.exports=function(){throw new Error("Readable.from is not available in the browser")}},10168:function(w,s,t){var a,f=t(74322).q,e=f.ERR_MISSING_ARGS,i=f.ERR_STREAM_DESTROYED;function r(d){if(d)throw d}function n(d,c,h,p){p=function(b){var m=!1;return function(){m||(m=!0,b.apply(void 0,arguments))}}(p);var g=!1;d.on("close",function(){g=!0}),a===void 0&&(a=t(12726)),a(d,{readable:c,writable:h},function(b){if(b)return p(b);g=!0,p()});var y=!1;return function(b){if(!g&&!y)return y=!0,function(m){return m.setHeader&&typeof m.abort=="function"}(d)?d.abort():typeof d.destroy=="function"?d.destroy():void p(b||new i("pipe"))}}function o(d){d()}function l(d,c){return d.pipe(c)}function u(d){return d.length?typeof d[d.length-1]!="function"?r:d.pop():r}w.exports=function(){for(var d=arguments.length,c=new Array(d),h=0;h<d;h++)c[h]=arguments[h];var p,g=u(c);if(Array.isArray(c[0])&&(c=c[0]),c.length<2)throw new e("streams");var y=c.map(function(b,m){var v=m<c.length-1;return n(b,v,m>0,function(x){p||(p=x),x&&y.forEach(o),v||(y.forEach(o),g(p))})});return c.reduce(l)}},56306:function(w,s,t){var a=t(74322).q.ERR_INVALID_OPT_VALUE;w.exports={getHighWaterMark:function(f,e,i,r){var n=function(o,l,u){return o.highWaterMark!=null?o.highWaterMark:l?o[u]:null}(e,r,i);if(n!=null){if(!isFinite(n)||Math.floor(n)!==n||n<0)throw new a(r?i:"highWaterMark",n);return Math.floor(n)}return f.objectMode?16:16384}}},71405:function(w,s,t){w.exports=t(15398).EventEmitter},68019:function(w,s,t){var a=t(71665).Buffer,f=a.isEncoding||function(h){switch((h=""+h)&&h.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function e(h){var p;switch(this.encoding=function(g){var y=function(b){if(!b)return"utf8";for(var m;;)switch(b){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return b;default:if(m)return;b=(""+b).toLowerCase(),m=!0}}(g);if(typeof y!="string"&&(a.isEncoding===f||!f(g)))throw new Error("Unknown encoding: "+g);return y||g}(h),this.encoding){case"utf16le":this.text=n,this.end=o,p=4;break;case"utf8":this.fillLast=r,p=4;break;case"base64":this.text=l,this.end=u,p=3;break;default:return this.write=d,void(this.end=c)}this.lastNeed=0,this.lastTotal=0,this.lastChar=a.allocUnsafe(p)}function i(h){return h<=127?0:h>>5==6?2:h>>4==14?3:h>>3==30?4:h>>6==2?-1:-2}function r(h){var p=this.lastTotal-this.lastNeed,g=function(y,b,m){if((192&b[0])!=128)return y.lastNeed=0,"�";if(y.lastNeed>1&&b.length>1){if((192&b[1])!=128)return y.lastNeed=1,"�";if(y.lastNeed>2&&b.length>2&&(192&b[2])!=128)return y.lastNeed=2,"�"}}(this,h);return g!==void 0?g:this.lastNeed<=h.length?(h.copy(this.lastChar,p,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(h.copy(this.lastChar,p,0,h.length),void(this.lastNeed-=h.length))}function n(h,p){if((h.length-p)%2==0){var g=h.toString("utf16le",p);if(g){var y=g.charCodeAt(g.length-1);if(y>=55296&&y<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=h[h.length-2],this.lastChar[1]=h[h.length-1],g.slice(0,-1)}return g}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=h[h.length-1],h.toString("utf16le",p,h.length-1)}function o(h){var p=h&&h.length?this.write(h):"";if(this.lastNeed){var g=this.lastTotal-this.lastNeed;return p+this.lastChar.toString("utf16le",0,g)}return p}function l(h,p){var g=(h.length-p)%3;return g===0?h.toString("base64",p):(this.lastNeed=3-g,this.lastTotal=3,g===1?this.lastChar[0]=h[h.length-1]:(this.lastChar[0]=h[h.length-2],this.lastChar[1]=h[h.length-1]),h.toString("base64",p,h.length-g))}function u(h){var p=h&&h.length?this.write(h):"";return this.lastNeed?p+this.lastChar.toString("base64",0,3-this.lastNeed):p}function d(h){return h.toString(this.encoding)}function c(h){return h&&h.length?this.write(h):""}s.s=e,e.prototype.write=function(h){if(h.length===0)return"";var p,g;if(this.lastNeed){if((p=this.fillLast(h))===void 0)return"";g=this.lastNeed,this.lastNeed=0}else g=0;return g<h.length?p?p+this.text(h,g):this.text(h,g):p||""},e.prototype.end=function(h){var p=h&&h.length?this.write(h):"";return this.lastNeed?p+"�":p},e.prototype.text=function(h,p){var g=function(b,m,v){var x=m.length-1;if(x<v)return 0;var _=i(m[x]);return _>=0?(_>0&&(b.lastNeed=_-1),_):--x<v||_===-2?0:(_=i(m[x]))>=0?(_>0&&(b.lastNeed=_-2),_):--x<v||_===-2?0:(_=i(m[x]))>=0?(_>0&&(_===2?_=0:b.lastNeed=_-3),_):0}(this,h,p);if(!this.lastNeed)return h.toString("utf8",p);this.lastTotal=g;var y=h.length-(g-this.lastNeed);return h.copy(this.lastChar,0,y),h.toString("utf8",p,y)},e.prototype.fillLast=function(h){if(this.lastNeed<=h.length)return h.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);h.copy(this.lastChar,this.lastTotal-this.lastNeed,0,h.length),this.lastNeed-=h.length}},90715:function(w,s,t){var a=t(32791),f=t(41633)("stream-parser");function e(h){f("initializing parser stream"),h._parserBytesLeft=0,h._parserBuffers=[],h._parserBuffered=0,h._parserState=-1,h._parserCallback=null,typeof h.push=="function"&&(h._parserOutput=h.push.bind(h)),h._parserInit=!0}function i(h,p){a(!this._parserCallback,'there is already a "callback" set!'),a(isFinite(h)&&h>0,'can only buffer a finite number of bytes > 0, got "'+h+'"'),this._parserInit||e(this),f("buffering %o bytes",h),this._parserBytesLeft=h,this._parserCallback=p,this._parserState=0}function r(h,p){a(!this._parserCallback,'there is already a "callback" set!'),a(h>0,'can only skip > 0 bytes, got "'+h+'"'),this._parserInit||e(this),f("skipping %o bytes",h),this._parserBytesLeft=h,this._parserCallback=p,this._parserState=1}function n(h,p){a(!this._parserCallback,'There is already a "callback" set!'),a(h>0,'can only pass through > 0 bytes, got "'+h+'"'),this._parserInit||e(this),f("passing through %o bytes",h),this._parserBytesLeft=h,this._parserCallback=p,this._parserState=2}function o(h,p,g){this._parserInit||e(this),f("write(%o bytes)",h.length),typeof p=="function"&&(g=p),d(this,h,null,g)}function l(h,p,g){this._parserInit||e(this),f("transform(%o bytes)",h.length),typeof p!="function"&&(p=this._parserOutput),d(this,h,p,g)}function u(h,p,g,y){if(h._parserBytesLeft-=p.length,f("%o bytes left for stream piece",h._parserBytesLeft),h._parserState===0?(h._parserBuffers.push(p),h._parserBuffered+=p.length):h._parserState===2&&g(p),h._parserBytesLeft!==0)return y;var b=h._parserCallback;if(b&&h._parserState===0&&h._parserBuffers.length>1&&(p=Buffer.concat(h._parserBuffers,h._parserBuffered)),h._parserState!==0&&(p=null),h._parserCallback=null,h._parserBuffered=0,h._parserState=-1,h._parserBuffers.splice(0),b){var m=[];p&&m.push(p),g&&m.push(g);var v=b.length>m.length;v&&m.push(c(y));var x=b.apply(h,m);if(!v||y===x)return y}}w.exports=function(h){var p=h&&typeof h._transform=="function",g=h&&typeof h._write=="function";if(!p&&!g)throw new Error("must pass a Writable or Transform stream in");f("extending Parser into stream"),h._bytes=i,h._skipBytes=r,p&&(h._passthrough=n),p?h._transform=l:h._write=o};var d=c(function h(p,g,y,b){return p._parserBytesLeft<=0?b(new Error("got data but not currently parsing anything")):g.length<=p._parserBytesLeft?function(){return u(p,g,y,b)}:function(){var m=g.slice(0,p._parserBytesLeft);return u(p,m,y,function(v){return v?b(v):g.length>m.length?function(){return h(p,g.slice(m.length),y,b)}:void 0})}});function c(h){return function(){for(var p=h.apply(this,arguments);typeof p=="function";)p=p();return p}}},41633:function(w,s,t){var a=t(90386);function f(){var e;try{e=s.storage.debug}catch{}return!e&&a!==void 0&&"env"in a&&(e=a.env.DEBUG),e}(s=w.exports=t(74469)).log=function(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},s.formatArgs=function(e){var i=this.useColors;if(e[0]=(i?"%c":"")+this.namespace+(i?" %c":" ")+e[0]+(i?"%c ":" ")+"+"+s.humanize(this.diff),i){var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var n=0,o=0;e[0].replace(/%[a-zA-Z%]/g,function(l){l!=="%%"&&(n++,l==="%c"&&(o=n))}),e.splice(o,0,r)}},s.save=function(e){try{e==null?s.storage.removeItem("debug"):s.storage.debug=e}catch{}},s.load=f,s.useColors=function(){return!(typeof window>"u"||!window.process||window.process.type!=="renderer")||typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},s.storage=typeof chrome<"u"&&chrome.storage!==void 0?chrome.storage.local:function(){try{return window.localStorage}catch{}}(),s.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],s.formatters.j=function(e){try{return JSON.stringify(e)}catch(i){return"[UnexpectedJSONParseError]: "+i.message}},s.enable(f())},74469:function(w,s,t){var a;function f(e){function i(){if(i.enabled){var r=i,n=+new Date,o=n-(a||n);r.diff=o,r.prev=a,r.curr=n,a=n;for(var l=new Array(arguments.length),u=0;u<l.length;u++)l[u]=arguments[u];l[0]=s.coerce(l[0]),typeof l[0]!="string"&&l.unshift("%O");var d=0;l[0]=l[0].replace(/%([a-zA-Z%])/g,function(h,p){if(h==="%%")return h;d++;var g=s.formatters[p];if(typeof g=="function"){var y=l[d];h=g.call(r,y),l.splice(d,1),d--}return h}),s.formatArgs.call(r,l);var c=i.log||s.log||console.log.bind(console);c.apply(r,l)}}return i.namespace=e,i.enabled=s.enabled(e),i.useColors=s.useColors(),i.color=function(r){var n,o=0;for(n in r)o=(o<<5)-o+r.charCodeAt(n),o|=0;return s.colors[Math.abs(o)%s.colors.length]}(e),typeof s.init=="function"&&s.init(i),i}(s=w.exports=f.debug=f.default=f).coerce=function(e){return e instanceof Error?e.stack||e.message:e},s.disable=function(){s.enable("")},s.enable=function(e){s.save(e),s.names=[],s.skips=[];for(var i=(typeof e=="string"?e:"").split(/[\s,]+/),r=i.length,n=0;n<r;n++)i[n]&&((e=i[n].replace(/\*/g,".*?"))[0]==="-"?s.skips.push(new RegExp("^"+e.substr(1)+"$")):s.names.push(new RegExp("^"+e+"$")))},s.enabled=function(e){var i,r;for(i=0,r=s.skips.length;i<r;i++)if(s.skips[i].test(e))return!1;for(i=0,r=s.names.length;i<r;i++)if(s.names[i].test(e))return!0;return!1},s.humanize=t(11375),s.names=[],s.skips=[],s.formatters={}},11375:function(w){var s=1e3,t=60*s,a=60*t,f=24*a;function e(i,r,n){if(!(i<r))return i<1.5*r?Math.floor(i/r)+" "+n:Math.ceil(i/r)+" "+n+"s"}w.exports=function(i,r){r=r||{};var n,o=typeof i;if(o==="string"&&i.length>0)return function(l){if(!((l=String(l)).length>100)){var u=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(l);if(u){var d=parseFloat(u[1]);switch((u[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*d;case"days":case"day":case"d":return d*f;case"hours":case"hour":case"hrs":case"hr":case"h":return d*a;case"minutes":case"minute":case"mins":case"min":case"m":return d*t;case"seconds":case"second":case"secs":case"sec":case"s":return d*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return d;default:return}}}}(i);if(o==="number"&&isNaN(i)===!1)return r.long?e(n=i,f,"day")||e(n,a,"hour")||e(n,t,"minute")||e(n,s,"second")||n+" ms":function(l){return l>=f?Math.round(l/f)+"d":l>=a?Math.round(l/a)+"h":l>=t?Math.round(l/t)+"m":l>=s?Math.round(l/s)+"s":l+"ms"}(i);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(i))}},84267:function(w,s,t){var a;(function(f){var e=/^\s+/,i=/\s+$/,r=0,n=f.round,o=f.min,l=f.max,u=f.random;function d(U,V){if(V=V||{},(U=U||"")instanceof d)return U;if(!(this instanceof d))return new d(U,V);var $=function(at){var rt,ot,ct,ht={r:0,g:0,b:0},mt=1,kt=null,Ct=null,It=null,pt=!1,bt=!1;return typeof at=="string"&&(at=function(_t){_t=_t.replace(e,"").replace(i,"").toLowerCase();var Dt,L=!1;if(B[_t])_t=B[_t],L=!0;else if(_t=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};return(Dt=Z.rgb.exec(_t))?{r:Dt[1],g:Dt[2],b:Dt[3]}:(Dt=Z.rgba.exec(_t))?{r:Dt[1],g:Dt[2],b:Dt[3],a:Dt[4]}:(Dt=Z.hsl.exec(_t))?{h:Dt[1],s:Dt[2],l:Dt[3]}:(Dt=Z.hsla.exec(_t))?{h:Dt[1],s:Dt[2],l:Dt[3],a:Dt[4]}:(Dt=Z.hsv.exec(_t))?{h:Dt[1],s:Dt[2],v:Dt[3]}:(Dt=Z.hsva.exec(_t))?{h:Dt[1],s:Dt[2],v:Dt[3],a:Dt[4]}:(Dt=Z.hex8.exec(_t))?{r:q(Dt[1]),g:q(Dt[2]),b:q(Dt[3]),a:Y(Dt[4]),format:L?"name":"hex8"}:(Dt=Z.hex6.exec(_t))?{r:q(Dt[1]),g:q(Dt[2]),b:q(Dt[3]),format:L?"name":"hex"}:(Dt=Z.hex4.exec(_t))?{r:q(Dt[1]+""+Dt[1]),g:q(Dt[2]+""+Dt[2]),b:q(Dt[3]+""+Dt[3]),a:Y(Dt[4]+""+Dt[4]),format:L?"name":"hex8"}:!!(Dt=Z.hex3.exec(_t))&&{r:q(Dt[1]+""+Dt[1]),g:q(Dt[2]+""+Dt[2]),b:q(Dt[3]+""+Dt[3]),format:L?"name":"hex"}}(at)),typeof at=="object"&&(H(at.r)&&H(at.g)&&H(at.b)?(rt=at.r,ot=at.g,ct=at.b,ht={r:255*M(rt,255),g:255*M(ot,255),b:255*M(ct,255)},pt=!0,bt=String(at.r).substr(-1)==="%"?"prgb":"rgb"):H(at.h)&&H(at.s)&&H(at.v)?(kt=E(at.s),Ct=E(at.v),ht=function(_t,Dt,L){_t=6*M(_t,360),Dt=M(Dt,100),L=M(L,100);var X=f.floor(_t),it=_t-X,ft=L*(1-Dt),gt=L*(1-it*Dt),wt=L*(1-(1-it)*Dt),xt=X%6;return{r:255*[L,gt,ft,ft,wt,L][xt],g:255*[wt,L,L,gt,ft,ft][xt],b:255*[ft,ft,wt,L,L,gt][xt]}}(at.h,kt,Ct),pt=!0,bt="hsv"):H(at.h)&&H(at.s)&&H(at.l)&&(kt=E(at.s),It=E(at.l),ht=function(_t,Dt,L){var X,it,ft;function gt(Ft,Bt,Mt){return Mt<0&&(Mt+=1),Mt>1&&(Mt-=1),Mt<1/6?Ft+6*(Bt-Ft)*Mt:Mt<.5?Bt:Mt<2/3?Ft+(Bt-Ft)*(2/3-Mt)*6:Ft}if(_t=M(_t,360),Dt=M(Dt,100),L=M(L,100),Dt===0)X=it=ft=L;else{var wt=L<.5?L*(1+Dt):L+Dt-L*Dt,xt=2*L-wt;X=gt(xt,wt,_t+1/3),it=gt(xt,wt,_t),ft=gt(xt,wt,_t-1/3)}return{r:255*X,g:255*it,b:255*ft}}(at.h,kt,It),pt=!0,bt="hsl"),at.hasOwnProperty("a")&&(mt=at.a)),mt=P(mt),{ok:pt,format:at.format||bt,r:o(255,l(ht.r,0)),g:o(255,l(ht.g,0)),b:o(255,l(ht.b,0)),a:mt}}(U);this._originalInput=U,this._r=$.r,this._g=$.g,this._b=$.b,this._a=$.a,this._roundA=n(100*this._a)/100,this._format=V.format||$.format,this._gradientType=V.gradientType,this._r<1&&(this._r=n(this._r)),this._g<1&&(this._g=n(this._g)),this._b<1&&(this._b=n(this._b)),this._ok=$.ok,this._tc_id=r++}function c(U,V,$){U=M(U,255),V=M(V,255),$=M($,255);var at,rt,ot=l(U,V,$),ct=o(U,V,$),ht=(ot+ct)/2;if(ot==ct)at=rt=0;else{var mt=ot-ct;switch(rt=ht>.5?mt/(2-ot-ct):mt/(ot+ct),ot){case U:at=(V-$)/mt+(V<$?6:0);break;case V:at=($-U)/mt+2;break;case $:at=(U-V)/mt+4}at/=6}return{h:at,s:rt,l:ht}}function h(U,V,$){U=M(U,255),V=M(V,255),$=M($,255);var at,rt,ot=l(U,V,$),ct=o(U,V,$),ht=ot,mt=ot-ct;if(rt=ot===0?0:mt/ot,ot==ct)at=0;else{switch(ot){case U:at=(V-$)/mt+(V<$?6:0);break;case V:at=($-U)/mt+2;break;case $:at=(U-V)/mt+4}at/=6}return{h:at,s:rt,v:ht}}function p(U,V,$,at){var rt=[tt(n(U).toString(16)),tt(n(V).toString(16)),tt(n($).toString(16))];return at&&rt[0].charAt(0)==rt[0].charAt(1)&&rt[1].charAt(0)==rt[1].charAt(1)&&rt[2].charAt(0)==rt[2].charAt(1)?rt[0].charAt(0)+rt[1].charAt(0)+rt[2].charAt(0):rt.join("")}function g(U,V,$,at){return[tt(z(at)),tt(n(U).toString(16)),tt(n(V).toString(16)),tt(n($).toString(16))].join("")}function y(U,V){V=V===0?0:V||10;var $=d(U).toHsl();return $.s-=V/100,$.s=O($.s),d($)}function b(U,V){V=V===0?0:V||10;var $=d(U).toHsl();return $.s+=V/100,$.s=O($.s),d($)}function m(U){return d(U).desaturate(100)}function v(U,V){V=V===0?0:V||10;var $=d(U).toHsl();return $.l+=V/100,$.l=O($.l),d($)}function x(U,V){V=V===0?0:V||10;var $=d(U).toRgb();return $.r=l(0,o(255,$.r-n(-V/100*255))),$.g=l(0,o(255,$.g-n(-V/100*255))),$.b=l(0,o(255,$.b-n(-V/100*255))),d($)}function _(U,V){V=V===0?0:V||10;var $=d(U).toHsl();return $.l-=V/100,$.l=O($.l),d($)}function T(U,V){var $=d(U).toHsl(),at=($.h+V)%360;return $.h=at<0?360+at:at,d($)}function C(U){var V=d(U).toHsl();return V.h=(V.h+180)%360,d(V)}function S(U){var V=d(U).toHsl(),$=V.h;return[d(U),d({h:($+120)%360,s:V.s,l:V.l}),d({h:($+240)%360,s:V.s,l:V.l})]}function F(U){var V=d(U).toHsl(),$=V.h;return[d(U),d({h:($+90)%360,s:V.s,l:V.l}),d({h:($+180)%360,s:V.s,l:V.l}),d({h:($+270)%360,s:V.s,l:V.l})]}function N(U){var V=d(U).toHsl(),$=V.h;return[d(U),d({h:($+72)%360,s:V.s,l:V.l}),d({h:($+216)%360,s:V.s,l:V.l})]}function D(U,V,$){V=V||6,$=$||30;var at=d(U).toHsl(),rt=360/$,ot=[d(U)];for(at.h=(at.h-(rt*V>>1)+720)%360;--V;)at.h=(at.h+rt)%360,ot.push(d(at));return ot}function j(U,V){V=V||6;for(var $=d(U).toHsv(),at=$.h,rt=$.s,ot=$.v,ct=[],ht=1/V;V--;)ct.push(d({h:at,s:rt,v:ot})),ot=(ot+ht)%1;return ct}d.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var U=this.toRgb();return(299*U.r+587*U.g+114*U.b)/1e3},getLuminance:function(){var U,V,$,at=this.toRgb();return U=at.r/255,V=at.g/255,$=at.b/255,.2126*(U<=.03928?U/12.92:f.pow((U+.055)/1.055,2.4))+.7152*(V<=.03928?V/12.92:f.pow((V+.055)/1.055,2.4))+.0722*($<=.03928?$/12.92:f.pow(($+.055)/1.055,2.4))},setAlpha:function(U){return this._a=P(U),this._roundA=n(100*this._a)/100,this},toHsv:function(){var U=h(this._r,this._g,this._b);return{h:360*U.h,s:U.s,v:U.v,a:this._a}},toHsvString:function(){var U=h(this._r,this._g,this._b),V=n(360*U.h),$=n(100*U.s),at=n(100*U.v);return this._a==1?"hsv("+V+", "+$+"%, "+at+"%)":"hsva("+V+", "+$+"%, "+at+"%, "+this._roundA+")"},toHsl:function(){var U=c(this._r,this._g,this._b);return{h:360*U.h,s:U.s,l:U.l,a:this._a}},toHslString:function(){var U=c(this._r,this._g,this._b),V=n(360*U.h),$=n(100*U.s),at=n(100*U.l);return this._a==1?"hsl("+V+", "+$+"%, "+at+"%)":"hsla("+V+", "+$+"%, "+at+"%, "+this._roundA+")"},toHex:function(U){return p(this._r,this._g,this._b,U)},toHexString:function(U){return"#"+this.toHex(U)},toHex8:function(U){return function(V,$,at,rt,ot){var ct=[tt(n(V).toString(16)),tt(n($).toString(16)),tt(n(at).toString(16)),tt(z(rt))];return ot&&ct[0].charAt(0)==ct[0].charAt(1)&&ct[1].charAt(0)==ct[1].charAt(1)&&ct[2].charAt(0)==ct[2].charAt(1)&&ct[3].charAt(0)==ct[3].charAt(1)?ct[0].charAt(0)+ct[1].charAt(0)+ct[2].charAt(0)+ct[3].charAt(0):ct.join("")}(this._r,this._g,this._b,this._a,U)},toHex8String:function(U){return"#"+this.toHex8(U)},toRgb:function(){return{r:n(this._r),g:n(this._g),b:n(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+n(this._r)+", "+n(this._g)+", "+n(this._b)+")":"rgba("+n(this._r)+", "+n(this._g)+", "+n(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:n(100*M(this._r,255))+"%",g:n(100*M(this._g,255))+"%",b:n(100*M(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+n(100*M(this._r,255))+"%, "+n(100*M(this._g,255))+"%, "+n(100*M(this._b,255))+"%)":"rgba("+n(100*M(this._r,255))+"%, "+n(100*M(this._g,255))+"%, "+n(100*M(this._b,255))+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":!(this._a<1)&&(J[p(this._r,this._g,this._b,!0)]||!1)},toFilter:function(U){var V="#"+g(this._r,this._g,this._b,this._a),$=V,at=this._gradientType?"GradientType = 1, ":"";if(U){var rt=d(U);$="#"+g(rt._r,rt._g,rt._b,rt._a)}return"progid:DXImageTransform.Microsoft.gradient("+at+"startColorstr="+V+",endColorstr="+$+")"},toString:function(U){var V=!!U;U=U||this._format;var $=!1,at=this._a<1&&this._a>=0;return V||!at||U!=="hex"&&U!=="hex6"&&U!=="hex3"&&U!=="hex4"&&U!=="hex8"&&U!=="name"?(U==="rgb"&&($=this.toRgbString()),U==="prgb"&&($=this.toPercentageRgbString()),U!=="hex"&&U!=="hex6"||($=this.toHexString()),U==="hex3"&&($=this.toHexString(!0)),U==="hex4"&&($=this.toHex8String(!0)),U==="hex8"&&($=this.toHex8String()),U==="name"&&($=this.toName()),U==="hsl"&&($=this.toHslString()),U==="hsv"&&($=this.toHsvString()),$||this.toHexString()):U==="name"&&this._a===0?this.toName():this.toRgbString()},clone:function(){return d(this.toString())},_applyModification:function(U,V){var $=U.apply(null,[this].concat([].slice.call(V)));return this._r=$._r,this._g=$._g,this._b=$._b,this.setAlpha($._a),this},lighten:function(){return this._applyModification(v,arguments)},brighten:function(){return this._applyModification(x,arguments)},darken:function(){return this._applyModification(_,arguments)},desaturate:function(){return this._applyModification(y,arguments)},saturate:function(){return this._applyModification(b,arguments)},greyscale:function(){return this._applyModification(m,arguments)},spin:function(){return this._applyModification(T,arguments)},_applyCombination:function(U,V){return U.apply(null,[this].concat([].slice.call(V)))},analogous:function(){return this._applyCombination(D,arguments)},complement:function(){return this._applyCombination(C,arguments)},monochromatic:function(){return this._applyCombination(j,arguments)},splitcomplement:function(){return this._applyCombination(N,arguments)},triad:function(){return this._applyCombination(S,arguments)},tetrad:function(){return this._applyCombination(F,arguments)}},d.fromRatio=function(U,V){if(typeof U=="object"){var $={};for(var at in U)U.hasOwnProperty(at)&&($[at]=at==="a"?U[at]:E(U[at]));U=$}return d(U,V)},d.equals=function(U,V){return!(!U||!V)&&d(U).toRgbString()==d(V).toRgbString()},d.random=function(){return d.fromRatio({r:u(),g:u(),b:u()})},d.mix=function(U,V,$){$=$===0?0:$||50;var at=d(U).toRgb(),rt=d(V).toRgb(),ot=$/100;return d({r:(rt.r-at.r)*ot+at.r,g:(rt.g-at.g)*ot+at.g,b:(rt.b-at.b)*ot+at.b,a:(rt.a-at.a)*ot+at.a})},d.readability=function(U,V){var $=d(U),at=d(V);return(f.max($.getLuminance(),at.getLuminance())+.05)/(f.min($.getLuminance(),at.getLuminance())+.05)},d.isReadable=function(U,V,$){var at,rt,ot,ct,ht,mt=d.readability(U,V);switch(rt=!1,(ot=$,(ct=((ot=ot||{level:"AA",size:"small"}).level||"AA").toUpperCase())!=="AA"&&ct!=="AAA"&&(ct="AA"),(ht=(ot.size||"small").toLowerCase())!=="small"&&ht!=="large"&&(ht="small"),at={level:ct,size:ht}).level+at.size){case"AAsmall":case"AAAlarge":rt=mt>=4.5;break;case"AAlarge":rt=mt>=3;break;case"AAAsmall":rt=mt>=7}return rt},d.mostReadable=function(U,V,$){var at,rt,ot,ct,ht=null,mt=0;rt=($=$||{}).includeFallbackColors,ot=$.level,ct=$.size;for(var kt=0;kt<V.length;kt++)(at=d.readability(U,V[kt]))>mt&&(mt=at,ht=d(V[kt]));return d.isReadable(U,ht,{level:ot,size:ct})||!rt?ht:($.includeFallbackColors=!1,d.mostReadable(U,["#fff","#000"],$))};var B=d.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},J=d.hexNames=function(U){var V={};for(var $ in U)U.hasOwnProperty($)&&(V[U[$]]=$);return V}(B);function P(U){return U=parseFloat(U),(isNaN(U)||U<0||U>1)&&(U=1),U}function M(U,V){(function(at){return typeof at=="string"&&at.indexOf(".")!=-1&&parseFloat(at)===1})(U)&&(U="100%");var $=function(at){return typeof at=="string"&&at.indexOf("%")!=-1}(U);return U=o(V,l(0,parseFloat(U))),$&&(U=parseInt(U*V,10)/100),f.abs(U-V)<1e-6?1:U%V/parseFloat(V)}function O(U){return o(1,l(0,U))}function q(U){return parseInt(U,16)}function tt(U){return U.length==1?"0"+U:""+U}function E(U){return U<=1&&(U=100*U+"%"),U}function z(U){return f.round(255*parseFloat(U)).toString(16)}function Y(U){return q(U)/255}var Q,nt,et,Z=(nt="[\\s|\\(]+("+(Q="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+Q+")[,|\\s]+("+Q+")\\s*\\)?",et="[\\s|\\(]+("+Q+")[,|\\s]+("+Q+")[,|\\s]+("+Q+")[,|\\s]+("+Q+")\\s*\\)?",{CSS_UNIT:new RegExp(Q),rgb:new RegExp("rgb"+nt),rgba:new RegExp("rgba"+et),hsl:new RegExp("hsl"+nt),hsla:new RegExp("hsla"+et),hsv:new RegExp("hsv"+nt),hsva:new RegExp("hsva"+et),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function H(U){return!!Z.CSS_UNIT.exec(U)}w.exports?w.exports=d:(a=function(){return d}.call(s,t,s,w))===void 0||(w.exports=a)})(Math)},20588:function(w,s,t){function a(f){try{if(!t.g.localStorage)return!1}catch{return!1}var e=t.g.localStorage[f];return e!=null&&String(e).toLowerCase()==="true"}w.exports=function(f,e){if(a("noDeprecation"))return f;var i=!1;return function(){if(!i){if(a("throwDeprecation"))throw new Error(e);a("traceDeprecation")?console.trace(e):console.warn(e),i=!0}return f.apply(this,arguments)}}},45920:function(w){w.exports=function(s){return s&&typeof s=="object"&&typeof s.copy=="function"&&typeof s.fill=="function"&&typeof s.readUInt8=="function"}},4936:function(w,s,t){var a=t(47216),f=t(65481),e=t(21099),i=t(9187);function r(M){return M.call.bind(M)}var n=typeof BigInt<"u",o=typeof Symbol<"u",l=r(Object.prototype.toString),u=r(Number.prototype.valueOf),d=r(String.prototype.valueOf),c=r(Boolean.prototype.valueOf);if(n)var h=r(BigInt.prototype.valueOf);if(o)var p=r(Symbol.prototype.valueOf);function g(M,O){if(typeof M!="object")return!1;try{return O(M),!0}catch{return!1}}function y(M){return l(M)==="[object Map]"}function b(M){return l(M)==="[object Set]"}function m(M){return l(M)==="[object WeakMap]"}function v(M){return l(M)==="[object WeakSet]"}function x(M){return l(M)==="[object ArrayBuffer]"}function _(M){return typeof ArrayBuffer<"u"&&(x.working?x(M):M instanceof ArrayBuffer)}function T(M){return l(M)==="[object DataView]"}function C(M){return typeof DataView<"u"&&(T.working?T(M):M instanceof DataView)}s.isArgumentsObject=a,s.isGeneratorFunction=f,s.isTypedArray=i,s.isPromise=function(M){return typeof Promise<"u"&&M instanceof Promise||M!==null&&typeof M=="object"&&typeof M.then=="function"&&typeof M.catch=="function"},s.isArrayBufferView=function(M){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(M):i(M)||C(M)},s.isUint8Array=function(M){return e(M)==="Uint8Array"},s.isUint8ClampedArray=function(M){return e(M)==="Uint8ClampedArray"},s.isUint16Array=function(M){return e(M)==="Uint16Array"},s.isUint32Array=function(M){return e(M)==="Uint32Array"},s.isInt8Array=function(M){return e(M)==="Int8Array"},s.isInt16Array=function(M){return e(M)==="Int16Array"},s.isInt32Array=function(M){return e(M)==="Int32Array"},s.isFloat32Array=function(M){return e(M)==="Float32Array"},s.isFloat64Array=function(M){return e(M)==="Float64Array"},s.isBigInt64Array=function(M){return e(M)==="BigInt64Array"},s.isBigUint64Array=function(M){return e(M)==="BigUint64Array"},y.working=typeof Map<"u"&&y(new Map),s.isMap=function(M){return typeof Map<"u"&&(y.working?y(M):M instanceof Map)},b.working=typeof Set<"u"&&b(new Set),s.isSet=function(M){return typeof Set<"u"&&(b.working?b(M):M instanceof Set)},m.working=typeof WeakMap<"u"&&m(new WeakMap),s.isWeakMap=function(M){return typeof WeakMap<"u"&&(m.working?m(M):M instanceof WeakMap)},v.working=typeof WeakSet<"u"&&v(new WeakSet),s.isWeakSet=function(M){return v(M)},x.working=typeof ArrayBuffer<"u"&&x(new ArrayBuffer),s.isArrayBuffer=_,T.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&T(new DataView(new ArrayBuffer(1),0,1)),s.isDataView=C;var S=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function F(M){return l(M)==="[object SharedArrayBuffer]"}function N(M){return S!==void 0&&(F.working===void 0&&(F.working=F(new S)),F.working?F(M):M instanceof S)}function D(M){return g(M,u)}function j(M){return g(M,d)}function B(M){return g(M,c)}function J(M){return n&&g(M,h)}function P(M){return o&&g(M,p)}s.isSharedArrayBuffer=N,s.isAsyncFunction=function(M){return l(M)==="[object AsyncFunction]"},s.isMapIterator=function(M){return l(M)==="[object Map Iterator]"},s.isSetIterator=function(M){return l(M)==="[object Set Iterator]"},s.isGeneratorObject=function(M){return l(M)==="[object Generator]"},s.isWebAssemblyCompiledModule=function(M){return l(M)==="[object WebAssembly.Module]"},s.isNumberObject=D,s.isStringObject=j,s.isBooleanObject=B,s.isBigIntObject=J,s.isSymbolObject=P,s.isBoxedPrimitive=function(M){return D(M)||j(M)||B(M)||J(M)||P(M)},s.isAnyArrayBuffer=function(M){return typeof Uint8Array<"u"&&(_(M)||N(M))},["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(M){Object.defineProperty(s,M,{enumerable:!1,value:function(){throw new Error(M+" is not supported in userland")}})})},43827:function(w,s,t){var a=t(90386),f=Object.getOwnPropertyDescriptors||function(M){for(var O=Object.keys(M),q={},tt=0;tt<O.length;tt++)q[O[tt]]=Object.getOwnPropertyDescriptor(M,O[tt]);return q},e=/%[sdj%]/g;s.format=function(M){if(!m(M)){for(var O=[],q=0;q<arguments.length;q++)O.push(o(arguments[q]));return O.join(" ")}q=1;for(var tt=arguments,E=tt.length,z=String(M).replace(e,function(Q){if(Q==="%%")return"%";if(q>=E)return Q;switch(Q){case"%s":return String(tt[q++]);case"%d":return Number(tt[q++]);case"%j":try{return JSON.stringify(tt[q++])}catch{return"[Circular]"}default:return Q}}),Y=tt[q];q<E;Y=tt[++q])y(Y)||!_(Y)?z+=" "+Y:z+=" "+o(Y);return z},s.deprecate=function(M,O){if(a!==void 0&&a.noDeprecation===!0)return M;if(a===void 0)return function(){return s.deprecate(M,O).apply(this,arguments)};var q=!1;return function(){if(!q){if(a.throwDeprecation)throw new Error(O);a.traceDeprecation?console.trace(O):console.error(O),q=!0}return M.apply(this,arguments)}};var i={},r=/^$/;if(a.env.NODE_DEBUG){var n=a.env.NODE_DEBUG;n=n.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),r=new RegExp("^"+n+"$","i")}function o(M,O){var q={seen:[],stylize:u};return arguments.length>=3&&(q.depth=arguments[2]),arguments.length>=4&&(q.colors=arguments[3]),g(O)?q.showHidden=O:O&&s._extend(q,O),v(q.showHidden)&&(q.showHidden=!1),v(q.depth)&&(q.depth=2),v(q.colors)&&(q.colors=!1),v(q.customInspect)&&(q.customInspect=!0),q.colors&&(q.stylize=l),d(q,M,q.depth)}function l(M,O){var q=o.styles[O];return q?"\x1B["+o.colors[q][0]+"m"+M+"\x1B["+o.colors[q][1]+"m":M}function u(M,O){return M}function d(M,O,q){if(M.customInspect&&O&&S(O.inspect)&&O.inspect!==s.inspect&&(!O.constructor||O.constructor.prototype!==O)){var tt=O.inspect(q,M);return m(tt)||(tt=d(M,tt,q)),tt}var E=function(U,V){if(v(V))return U.stylize("undefined","undefined");if(m(V)){var $="'"+JSON.stringify(V).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return U.stylize($,"string")}return b(V)?U.stylize(""+V,"number"):g(V)?U.stylize(""+V,"boolean"):y(V)?U.stylize("null","null"):void 0}(M,O);if(E)return E;var z=Object.keys(O),Y=function(U){var V={};return U.forEach(function($,at){V[$]=!0}),V}(z);if(M.showHidden&&(z=Object.getOwnPropertyNames(O)),C(O)&&(z.indexOf("message")>=0||z.indexOf("description")>=0))return c(O);if(z.length===0){if(S(O)){var Q=O.name?": "+O.name:"";return M.stylize("[Function"+Q+"]","special")}if(x(O))return M.stylize(RegExp.prototype.toString.call(O),"regexp");if(T(O))return M.stylize(Date.prototype.toString.call(O),"date");if(C(O))return c(O)}var nt,et="",Z=!1,H=["{","}"];return p(O)&&(Z=!0,H=["[","]"]),S(O)&&(et=" [Function"+(O.name?": "+O.name:"")+"]"),x(O)&&(et=" "+RegExp.prototype.toString.call(O)),T(O)&&(et=" "+Date.prototype.toUTCString.call(O)),C(O)&&(et=" "+c(O)),z.length!==0||Z&&O.length!=0?q<0?x(O)?M.stylize(RegExp.prototype.toString.call(O),"regexp"):M.stylize("[Object]","special"):(M.seen.push(O),nt=Z?function(U,V,$,at,rt){for(var ot=[],ct=0,ht=V.length;ct<ht;++ct)B(V,String(ct))?ot.push(h(U,V,$,at,String(ct),!0)):ot.push("");return rt.forEach(function(mt){mt.match(/^\d+$/)||ot.push(h(U,V,$,at,mt,!0))}),ot}(M,O,q,Y,z):z.map(function(U){return h(M,O,q,Y,U,Z)}),M.seen.pop(),function(U,V,$){return U.reduce(function(at,rt){return rt.indexOf(`
`),at+rt.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?$[0]+(V===""?"":V+`
 `)+" "+U.join(`,
  `)+" "+$[1]:$[0]+V+" "+U.join(", ")+" "+$[1]}(nt,et,H)):H[0]+et+H[1]}function c(M){return"["+Error.prototype.toString.call(M)+"]"}function h(M,O,q,tt,E,z){var Y,Q,nt;if((nt=Object.getOwnPropertyDescriptor(O,E)||{value:O[E]}).get?Q=nt.set?M.stylize("[Getter/Setter]","special"):M.stylize("[Getter]","special"):nt.set&&(Q=M.stylize("[Setter]","special")),B(tt,E)||(Y="["+E+"]"),Q||(M.seen.indexOf(nt.value)<0?(Q=y(q)?d(M,nt.value,null):d(M,nt.value,q-1)).indexOf(`
`)>-1&&(Q=z?Q.split(`
`).map(function(et){return"  "+et}).join(`
`).slice(2):`
`+Q.split(`
`).map(function(et){return"   "+et}).join(`
`)):Q=M.stylize("[Circular]","special")),v(Y)){if(z&&E.match(/^\d+$/))return Q;(Y=JSON.stringify(""+E)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(Y=Y.slice(1,-1),Y=M.stylize(Y,"name")):(Y=Y.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),Y=M.stylize(Y,"string"))}return Y+": "+Q}function p(M){return Array.isArray(M)}function g(M){return typeof M=="boolean"}function y(M){return M===null}function b(M){return typeof M=="number"}function m(M){return typeof M=="string"}function v(M){return M===void 0}function x(M){return _(M)&&F(M)==="[object RegExp]"}function _(M){return typeof M=="object"&&M!==null}function T(M){return _(M)&&F(M)==="[object Date]"}function C(M){return _(M)&&(F(M)==="[object Error]"||M instanceof Error)}function S(M){return typeof M=="function"}function F(M){return Object.prototype.toString.call(M)}function N(M){return M<10?"0"+M.toString(10):M.toString(10)}s.debuglog=function(M){if(M=M.toUpperCase(),!i[M])if(r.test(M)){var O=a.pid;i[M]=function(){var q=s.format.apply(s,arguments);console.error("%s %d: %s",M,O,q)}}else i[M]=function(){};return i[M]},s.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},s.types=t(4936),s.isArray=p,s.isBoolean=g,s.isNull=y,s.isNullOrUndefined=function(M){return M==null},s.isNumber=b,s.isString=m,s.isSymbol=function(M){return typeof M=="symbol"},s.isUndefined=v,s.isRegExp=x,s.types.isRegExp=x,s.isObject=_,s.isDate=T,s.types.isDate=T,s.isError=C,s.types.isNativeError=C,s.isFunction=S,s.isPrimitive=function(M){return M===null||typeof M=="boolean"||typeof M=="number"||typeof M=="string"||typeof M=="symbol"||M===void 0},s.isBuffer=t(45920);var D=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function j(){var M=new Date,O=[N(M.getHours()),N(M.getMinutes()),N(M.getSeconds())].join(":");return[M.getDate(),D[M.getMonth()],O].join(" ")}function B(M,O){return Object.prototype.hasOwnProperty.call(M,O)}s.log=function(){console.log("%s - %s",j(),s.format.apply(s,arguments))},s.inherits=t(42018),s._extend=function(M,O){if(!O||!_(O))return M;for(var q=Object.keys(O),tt=q.length;tt--;)M[q[tt]]=O[q[tt]];return M};var J=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;function P(M,O){if(!M){var q=new Error("Promise was rejected with a falsy value");q.reason=M,M=q}return O(M)}s.promisify=function(M){if(typeof M!="function")throw new TypeError('The "original" argument must be of type Function');if(J&&M[J]){var O;if(typeof(O=M[J])!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(O,J,{value:O,enumerable:!1,writable:!1,configurable:!0}),O}function O(){for(var q,tt,E=new Promise(function(Q,nt){q=Q,tt=nt}),z=[],Y=0;Y<arguments.length;Y++)z.push(arguments[Y]);z.push(function(Q,nt){Q?tt(Q):q(nt)});try{M.apply(this,z)}catch(Q){tt(Q)}return E}return Object.setPrototypeOf(O,Object.getPrototypeOf(M)),J&&Object.defineProperty(O,J,{value:O,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(O,f(M))},s.promisify.custom=J,s.callbackify=function(M){if(typeof M!="function")throw new TypeError('The "original" argument must be of type Function');function O(){for(var q=[],tt=0;tt<arguments.length;tt++)q.push(arguments[tt]);var E=q.pop();if(typeof E!="function")throw new TypeError("The last argument must be of type Function");var z=this,Y=function(){return E.apply(z,arguments)};M.apply(this,q).then(function(Q){a.nextTick(Y.bind(null,null,Q))},function(Q){a.nextTick(P.bind(null,Q,Y))})}return Object.setPrototypeOf(O,Object.getPrototypeOf(M)),Object.defineProperties(O,f(M)),O}},21099:function(w,s,t){var a=t(31353),f=t(72077),e=t(6614),i=t(40383),r=e("Object.prototype.toString"),n=t(84543)(),o=typeof globalThis>"u"?t.g:globalThis,l=f(),u=e("String.prototype.slice"),d={},c=Object.getPrototypeOf;n&&i&&c&&a(l,function(p){if(typeof o[p]=="function"){var g=new o[p];if(Symbol.toStringTag in g){var y=c(g),b=i(y,Symbol.toStringTag);if(!b){var m=c(y);b=i(m,Symbol.toStringTag)}d[p]=b.get}}});var h=t(9187);w.exports=function(p){return!!h(p)&&(n&&Symbol.toStringTag in p?function(g){var y=!1;return a(d,function(b,m){if(!y)try{var v=b.call(g);v===m&&(y=v)}catch{}}),y}(p):u(r(p),8,-1))}},3961:function(w,s,t){var a=t(63489),f=t(56131),e=a.instance();function i(c){this.local=this.regionalOptions[c||""]||this.regionalOptions[""]}i.prototype=new a.baseCalendar,f(i.prototype,{name:"Chinese",jdEpoch:17214255e-1,hasYearZero:!1,minMonth:0,firstMonth:0,minDay:1,regionalOptions:{"":{name:"Chinese",epochs:["BEC","EC"],monthNumbers:function(c,h){if(typeof c=="string"){var p=c.match(n);return p?p[0]:""}var g=this._validateYear(c),y=c.month(),b=""+this.toChineseMonth(g,y);return h&&b.length<2&&(b="0"+b),this.isIntercalaryMonth(g,y)&&(b+="i"),b},monthNames:function(c){if(typeof c=="string"){var h=c.match(o);return h?h[0]:""}var p=this._validateYear(c),g=c.month(),y=["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"][this.toChineseMonth(p,g)-1];return this.isIntercalaryMonth(p,g)&&(y="闰"+y),y},monthNamesShort:function(c){if(typeof c=="string"){var h=c.match(l);return h?h[0]:""}var p=this._validateYear(c),g=c.month(),y=["一","二","三","四","五","六","七","八","九","十","十一","十二"][this.toChineseMonth(p,g)-1];return this.isIntercalaryMonth(p,g)&&(y="闰"+y),y},parseMonth:function(c,h){c=this._validateYear(c);var p,g=parseInt(h);if(isNaN(g))h[0]==="闰"&&(p=!0,h=h.substring(1)),h[h.length-1]==="月"&&(h=h.substring(0,h.length-1)),g=1+["一","二","三","四","五","六","七","八","九","十","十一","十二"].indexOf(h);else{var y=h[h.length-1];p=y==="i"||y==="I"}return this.toMonthIndex(c,g,p)},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},_validateYear:function(c,h){if(c.year&&(c=c.year()),typeof c!="number"||c<1888||c>2111)throw h.replace(/\{0\}/,this.local.name);return c},toMonthIndex:function(c,h,p){var g=this.intercalaryMonth(c);if(p&&h!==g||h<1||h>12)throw a.local.invalidMonth.replace(/\{0\}/,this.local.name);return g?!p&&h<=g?h-1:h:h-1},toChineseMonth:function(c,h){c.year&&(h=(c=c.year()).month());var p=this.intercalaryMonth(c);if(h<0||h>(p?12:11))throw a.local.invalidMonth.replace(/\{0\}/,this.local.name);return p?h<p?h+1:h:h+1},intercalaryMonth:function(c){return c=this._validateYear(c),u[c-u[0]]>>13},isIntercalaryMonth:function(c,h){c.year&&(h=(c=c.year()).month());var p=this.intercalaryMonth(c);return!!p&&p===h},leapYear:function(c){return this.intercalaryMonth(c)!==0},weekOfYear:function(c,h,p){var g,y=this._validateYear(c,a.local.invalidyear),b=d[y-d[0]],m=b>>9&4095,v=b>>5&15,x=31&b;(g=e.newDate(m,v,x)).add(4-(g.dayOfWeek()||7),"d");var _=this.toJD(c,h,p)-g.toJD();return 1+Math.floor(_/7)},monthsInYear:function(c){return this.leapYear(c)?13:12},daysInMonth:function(c,h){c.year&&(h=c.month(),c=c.year()),c=this._validateYear(c);var p=u[c-u[0]];if(h>(p>>13?12:11))throw a.local.invalidMonth.replace(/\{0\}/,this.local.name);return p&1<<12-h?30:29},weekDay:function(c,h,p){return(this.dayOfWeek(c,h,p)||7)<6},toJD:function(c,h,p){var g=this._validate(c,b,p,a.local.invalidDate);c=this._validateYear(g.year()),h=g.month(),p=g.day();var y=this.isIntercalaryMonth(c,h),b=this.toChineseMonth(c,h),m=function(v,x,_,T,C){var S,F,N;if(typeof v=="object")F=v,S=x||{};else{var D;if(!(typeof v=="number"&&v>=1888&&v<=2111))throw new Error("Lunar year outside range 1888-2111");if(!(typeof x=="number"&&x>=1&&x<=12))throw new Error("Lunar month outside range 1 - 12");if(!(typeof _=="number"&&_>=1&&_<=30))throw new Error("Lunar day outside range 1 - 30");typeof T=="object"?(D=!1,S=T):(D=!!T,S={}),F={year:v,month:x,day:_,isIntercalary:D}}N=F.day-1;var j,B=u[F.year-u[0]],J=B>>13;j=J&&(F.month>J||F.isIntercalary)?F.month:F.month-1;for(var P=0;P<j;P++)N+=B&1<<12-P?30:29;var M=d[F.year-d[0]],O=new Date(M>>9&4095,(M>>5&15)-1,(31&M)+N);return S.year=O.getFullYear(),S.month=1+O.getMonth(),S.day=O.getDate(),S}(c,b,p,y);return e.toJD(m.year,m.month,m.day)},fromJD:function(c){var h=e.fromJD(c),p=function(y,b,m,v){var x,_;if(typeof y=="object")x=y,_=b||{};else{if(!(typeof y=="number"&&y>=1888&&y<=2111))throw new Error("Solar year outside range 1888-2111");if(!(typeof b=="number"&&b>=1&&b<=12))throw new Error("Solar month outside range 1 - 12");if(!(typeof m=="number"&&m>=1&&m<=31))throw new Error("Solar day outside range 1 - 31");x={year:y,month:b,day:m},_={}}var T=d[x.year-d[0]],C=x.year<<9|x.month<<5|x.day;_.year=C>=T?x.year:x.year-1,T=d[_.year-d[0]];var S,F=new Date(T>>9&4095,(T>>5&15)-1,31&T),N=new Date(x.year,x.month-1,x.day);S=Math.round((N-F)/864e5);var D,j=u[_.year-u[0]];for(D=0;D<13;D++){var B=j&1<<12-D?30:29;if(S<B)break;S-=B}var J=j>>13;return!J||D<J?(_.isIntercalary=!1,_.month=1+D):D===J?(_.isIntercalary=!0,_.month=D):(_.isIntercalary=!1,_.month=D),_.day=1+S,_}(h.year(),h.month(),h.day()),g=this.toMonthIndex(p.year,p.month,p.isIntercalary);return this.newDate(p.year,g,p.day)},fromString:function(c){var h=c.match(r),p=this._validateYear(+h[1]),g=+h[2],y=!!h[3],b=this.toMonthIndex(p,g,y),m=+h[4];return this.newDate(p,b,m)},add:function(c,h,p){var g=c.year(),y=c.month(),b=this.isIntercalaryMonth(g,y),m=this.toChineseMonth(g,y),v=Object.getPrototypeOf(i.prototype).add.call(this,c,h,p);if(p==="y"){var x=v.year(),_=v.month(),T=this.isIntercalaryMonth(x,m),C=b&&T?this.toMonthIndex(x,m,!0):this.toMonthIndex(x,m,!1);C!==_&&v.month(C)}return v}});var r=/^\s*(-?\d\d\d\d|\d\d)[-/](\d?\d)([iI]?)[-/](\d?\d)/m,n=/^\d?\d[iI]?/m,o=/^闰?十?[一二三四五六七八九]?月/m,l=/^闰?十?[一二三四五六七八九]?/m;a.calendars.chinese=i;var u=[1887,5780,5802,19157,2742,50359,1198,2646,46378,7466,3412,30122,5482,67949,2396,5294,43597,6732,6954,36181,2772,4954,18781,2396,54427,5274,6730,47781,5800,6868,21210,4790,59703,2350,5270,46667,3402,3496,38325,1388,4782,18735,2350,52374,6804,7498,44457,2906,1388,29294,4700,63789,6442,6804,56138,5802,2772,38235,1210,4698,22827,5418,63125,3476,5802,43701,2484,5302,27223,2646,70954,7466,3412,54698,5482,2412,38062,5294,2636,32038,6954,60245,2772,4826,43357,2394,5274,39501,6730,72357,5800,5844,53978,4790,2358,38039,5270,87627,3402,3496,54708,5484,4782,43311,2350,3222,27978,7498,68965,2904,5484,45677,4700,6444,39573,6804,6986,19285,2772,62811,1210,4698,47403,5418,5780,38570,5546,76469,2420,5302,51799,2646,5414,36501,3412,5546,18869,2412,54446,5276,6732,48422,6822,2900,28010,4826,92509,2394,5274,55883,6730,6820,47956,5812,2778,18779,2358,62615,5270,5450,46757,3492,5556,27318,4718,67887,2350,3222,52554,7498,3428,38252,5468,4700,31022,6444,64149,6804,6986,43861,2772,5338,35421,2650,70955,5418,5780,54954,5546,2740,38074,5302,2646,29991,3366,61011,3412,5546,43445,2412,5294,35406,6732,72998,6820,6996,52586,2778,2396,38045,5274,6698,23333,6820,64338,5812,2746,43355,2358,5270,39499,5450,79525,3492,5548],d=[1887,966732,967231,967733,968265,968766,969297,969798,970298,970829,971330,971830,972362,972863,973395,973896,974397,974928,975428,975929,976461,976962,977462,977994,978494,979026,979526,980026,980558,981059,981559,982091,982593,983124,983624,984124,984656,985157,985656,986189,986690,987191,987722,988222,988753,989254,989754,990286,990788,991288,991819,992319,992851,993352,993851,994383,994885,995385,995917,996418,996918,997450,997949,998481,998982,999483,1000014,1000515,1001016,1001548,1002047,1002578,1003080,1003580,1004111,1004613,1005113,1005645,1006146,1006645,1007177,1007678,1008209,1008710,1009211,1009743,1010243,1010743,1011275,1011775,1012306,1012807,1013308,1013840,1014341,1014841,1015373,1015874,1016404,1016905,1017405,1017937,1018438,1018939,1019471,1019972,1020471,1021002,1021503,1022035,1022535,1023036,1023568,1024069,1024568,1025100,1025601,1026102,1026633,1027133,1027666,1028167,1028666,1029198,1029699,1030199,1030730,1031231,1031763,1032264,1032764,1033296,1033797,1034297,1034828,1035329,1035830,1036362,1036861,1037393,1037894,1038394,1038925,1039427,1039927,1040459,1040959,1041491,1041992,1042492,1043023,1043524,1044024,1044556,1045057,1045558,1046090,1046590,1047121,1047622,1048122,1048654,1049154,1049655,1050187,1050689,1051219,1051720,1052220,1052751,1053252,1053752,1054284,1054786,1055285,1055817,1056317,1056849,1057349,1057850,1058382,1058883,1059383,1059915,1060415,1060947,1061447,1061947,1062479,1062981,1063480,1064012,1064514,1065014,1065545,1066045,1066577,1067078,1067578,1068110,1068611,1069112,1069642,1070142,1070674,1071175,1071675,1072207,1072709,1073209,1073740,1074241,1074741,1075273,1075773,1076305,1076807,1077308,1077839,1078340,1078840,1079372,1079871,1080403,1080904]},38751:function(w,s,t){var a=t(63489),f=t(56131);function e(i){this.local=this.regionalOptions[i||""]||this.regionalOptions[""]}e.prototype=new a.baseCalendar,f(e.prototype,{name:"Coptic",jdEpoch:18250295e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Coptic",epochs:["BAM","AM"],monthNames:["Thout","Paopi","Hathor","Koiak","Tobi","Meshir","Paremhat","Paremoude","Pashons","Paoni","Epip","Mesori","Pi Kogi Enavot"],monthNamesShort:["Tho","Pao","Hath","Koi","Tob","Mesh","Pat","Pad","Pash","Pao","Epi","Meso","PiK"],dayNames:["Tkyriaka","Pesnau","Pshoment","Peftoou","Ptiou","Psoou","Psabbaton"],dayNamesShort:["Tky","Pes","Psh","Pef","Pti","Pso","Psa"],dayNamesMin:["Tk","Pes","Psh","Pef","Pt","Pso","Psa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(i){var r=this._validate(i,this.minMonth,this.minDay,a.local.invalidYear);return(i=r.year()+(r.year()<0?1:0))%4==3||i%4==-1},monthsInYear:function(i){return this._validate(i,this.minMonth,this.minDay,a.local.invalidYear||a.regionalOptions[""].invalidYear),13},weekOfYear:function(i,r,n){var o=this.newDate(i,r,n);return o.add(-o.dayOfWeek(),"d"),Math.floor((o.dayOfYear()-1)/7)+1},daysInMonth:function(i,r){var n=this._validate(i,r,this.minDay,a.local.invalidMonth);return this.daysPerMonth[n.month()-1]+(n.month()===13&&this.leapYear(n.year())?1:0)},weekDay:function(i,r,n){return(this.dayOfWeek(i,r,n)||7)<6},toJD:function(i,r,n){var o=this._validate(i,r,n,a.local.invalidDate);return(i=o.year())<0&&i++,o.day()+30*(o.month()-1)+365*(i-1)+Math.floor(i/4)+this.jdEpoch-1},fromJD:function(i){var r=Math.floor(i)+.5-this.jdEpoch,n=Math.floor((r-Math.floor((r+366)/1461))/365)+1;n<=0&&n--,r=Math.floor(i)+.5-this.newDate(n,1,1).toJD();var o=Math.floor(r/30)+1,l=r-30*(o-1)+1;return this.newDate(n,o,l)}}),a.calendars.coptic=e},86825:function(w,s,t){var a=t(63489),f=t(56131);function e(r){this.local=this.regionalOptions[r||""]||this.regionalOptions[""]}e.prototype=new a.baseCalendar,f(e.prototype,{name:"Discworld",jdEpoch:17214255e-1,daysPerMonth:[16,32,32,32,32,32,32,32,32,32,32,32,32],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Discworld",epochs:["BUC","UC"],monthNames:["Ick","Offle","February","March","April","May","June","Grune","August","Spune","Sektober","Ember","December"],monthNamesShort:["Ick","Off","Feb","Mar","Apr","May","Jun","Gru","Aug","Spu","Sek","Emb","Dec"],dayNames:["Sunday","Octeday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Oct","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Oc","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:2,isRTL:!1}},leapYear:function(r){return this._validate(r,this.minMonth,this.minDay,a.local.invalidYear),!1},monthsInYear:function(r){return this._validate(r,this.minMonth,this.minDay,a.local.invalidYear),13},daysInYear:function(r){return this._validate(r,this.minMonth,this.minDay,a.local.invalidYear),400},weekOfYear:function(r,n,o){var l=this.newDate(r,n,o);return l.add(-l.dayOfWeek(),"d"),Math.floor((l.dayOfYear()-1)/8)+1},daysInMonth:function(r,n){var o=this._validate(r,n,this.minDay,a.local.invalidMonth);return this.daysPerMonth[o.month()-1]},daysInWeek:function(){return 8},dayOfWeek:function(r,n,o){return(this._validate(r,n,o,a.local.invalidDate).day()+1)%8},weekDay:function(r,n,o){var l=this.dayOfWeek(r,n,o);return l>=2&&l<=6},extraInfo:function(r,n,o){var l=this._validate(r,n,o,a.local.invalidDate);return{century:i[Math.floor((l.year()-1)/100)+1]||""}},toJD:function(r,n,o){var l=this._validate(r,n,o,a.local.invalidDate);return r=l.year()+(l.year()<0?1:0),n=l.month(),(o=l.day())+(n>1?16:0)+(n>2?32*(n-2):0)+400*(r-1)+this.jdEpoch-1},fromJD:function(r){r=Math.floor(r+.5)-Math.floor(this.jdEpoch)-1;var n=Math.floor(r/400)+1;r-=400*(n-1),r+=r>15?16:0;var o=Math.floor(r/32)+1,l=r-32*(o-1)+1;return this.newDate(n<=0?n-1:n,o,l)}});var i={20:"Fruitbat",21:"Anchovy"};a.calendars.discworld=e},37715:function(w,s,t){var a=t(63489),f=t(56131);function e(i){this.local=this.regionalOptions[i||""]||this.regionalOptions[""]}e.prototype=new a.baseCalendar,f(e.prototype,{name:"Ethiopian",jdEpoch:17242205e-1,daysPerMonth:[30,30,30,30,30,30,30,30,30,30,30,30,5],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Ethiopian",epochs:["BEE","EE"],monthNames:["Meskerem","Tikemet","Hidar","Tahesas","Tir","Yekatit","Megabit","Miazia","Genbot","Sene","Hamle","Nehase","Pagume"],monthNamesShort:["Mes","Tik","Hid","Tah","Tir","Yek","Meg","Mia","Gen","Sen","Ham","Neh","Pag"],dayNames:["Ehud","Segno","Maksegno","Irob","Hamus","Arb","Kidame"],dayNamesShort:["Ehu","Seg","Mak","Iro","Ham","Arb","Kid"],dayNamesMin:["Eh","Se","Ma","Ir","Ha","Ar","Ki"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(i){var r=this._validate(i,this.minMonth,this.minDay,a.local.invalidYear);return(i=r.year()+(r.year()<0?1:0))%4==3||i%4==-1},monthsInYear:function(i){return this._validate(i,this.minMonth,this.minDay,a.local.invalidYear||a.regionalOptions[""].invalidYear),13},weekOfYear:function(i,r,n){var o=this.newDate(i,r,n);return o.add(-o.dayOfWeek(),"d"),Math.floor((o.dayOfYear()-1)/7)+1},daysInMonth:function(i,r){var n=this._validate(i,r,this.minDay,a.local.invalidMonth);return this.daysPerMonth[n.month()-1]+(n.month()===13&&this.leapYear(n.year())?1:0)},weekDay:function(i,r,n){return(this.dayOfWeek(i,r,n)||7)<6},toJD:function(i,r,n){var o=this._validate(i,r,n,a.local.invalidDate);return(i=o.year())<0&&i++,o.day()+30*(o.month()-1)+365*(i-1)+Math.floor(i/4)+this.jdEpoch-1},fromJD:function(i){var r=Math.floor(i)+.5-this.jdEpoch,n=Math.floor((r-Math.floor((r+366)/1461))/365)+1;n<=0&&n--,r=Math.floor(i)+.5-this.newDate(n,1,1).toJD();var o=Math.floor(r/30)+1,l=r-30*(o-1)+1;return this.newDate(n,o,l)}}),a.calendars.ethiopian=e},99384:function(w,s,t){var a=t(63489),f=t(56131);function e(r){this.local=this.regionalOptions[r||""]||this.regionalOptions[""]}function i(r,n){return r-n*Math.floor(r/n)}e.prototype=new a.baseCalendar,f(e.prototype,{name:"Hebrew",jdEpoch:347995.5,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29,29],hasYearZero:!1,minMonth:1,firstMonth:7,minDay:1,regionalOptions:{"":{name:"Hebrew",epochs:["BAM","AM"],monthNames:["Nisan","Iyar","Sivan","Tammuz","Av","Elul","Tishrei","Cheshvan","Kislev","Tevet","Shevat","Adar","Adar II"],monthNamesShort:["Nis","Iya","Siv","Tam","Av","Elu","Tis","Che","Kis","Tev","She","Ada","Ad2"],dayNames:["Yom Rishon","Yom Sheni","Yom Shlishi","Yom Revi'i","Yom Chamishi","Yom Shishi","Yom Shabbat"],dayNamesShort:["Ris","She","Shl","Rev","Cha","Shi","Sha"],dayNamesMin:["Ri","She","Shl","Re","Ch","Shi","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(r){var n=this._validate(r,this.minMonth,this.minDay,a.local.invalidYear);return this._leapYear(n.year())},_leapYear:function(r){return i(7*(r=r<0?r+1:r)+1,19)<7},monthsInYear:function(r){return this._validate(r,this.minMonth,this.minDay,a.local.invalidYear),this._leapYear(r.year?r.year():r)?13:12},weekOfYear:function(r,n,o){var l=this.newDate(r,n,o);return l.add(-l.dayOfWeek(),"d"),Math.floor((l.dayOfYear()-1)/7)+1},daysInYear:function(r){return r=this._validate(r,this.minMonth,this.minDay,a.local.invalidYear).year(),this.toJD(r===-1?1:r+1,7,1)-this.toJD(r,7,1)},daysInMonth:function(r,n){return r.year&&(n=r.month(),r=r.year()),this._validate(r,n,this.minDay,a.local.invalidMonth),n===12&&this.leapYear(r)||n===8&&i(this.daysInYear(r),10)===5?30:n===9&&i(this.daysInYear(r),10)===3?29:this.daysPerMonth[n-1]},weekDay:function(r,n,o){return this.dayOfWeek(r,n,o)!==6},extraInfo:function(r,n,o){var l=this._validate(r,n,o,a.local.invalidDate);return{yearType:(this.leapYear(l)?"embolismic":"common")+" "+["deficient","regular","complete"][this.daysInYear(l)%10-3]}},toJD:function(r,n,o){var l=this._validate(r,n,o,a.local.invalidDate);r=l.year(),n=l.month(),o=l.day();var u=r<=0?r+1:r,d=this.jdEpoch+this._delay1(u)+this._delay2(u)+o+1;if(n<7){for(var c=7;c<=this.monthsInYear(r);c++)d+=this.daysInMonth(r,c);for(c=1;c<n;c++)d+=this.daysInMonth(r,c)}else for(c=7;c<n;c++)d+=this.daysInMonth(r,c);return d},_delay1:function(r){var n=Math.floor((235*r-234)/19),o=12084+13753*n,l=29*n+Math.floor(o/25920);return i(3*(l+1),7)<3&&l++,l},_delay2:function(r){var n=this._delay1(r-1),o=this._delay1(r);return this._delay1(r+1)-o==356?2:o-n==382?1:0},fromJD:function(r){r=Math.floor(r)+.5;for(var n=Math.floor(98496*(r-this.jdEpoch)/35975351)-1;r>=this.toJD(n===-1?1:n+1,7,1);)n++;for(var o=r<this.toJD(n,1,1)?7:1;r>this.toJD(n,o,this.daysInMonth(n,o));)o++;var l=r-this.toJD(n,o,1)+1;return this.newDate(n,o,l)}}),a.calendars.hebrew=e},43805:function(w,s,t){var a=t(63489),f=t(56131);function e(i){this.local=this.regionalOptions[i||""]||this.regionalOptions[""]}e.prototype=new a.baseCalendar,f(e.prototype,{name:"Islamic",jdEpoch:19484395e-1,daysPerMonth:[30,29,30,29,30,29,30,29,30,29,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Islamic",epochs:["BH","AH"],monthNames:["Muharram","Safar","Rabi' al-awwal","Rabi' al-thani","Jumada al-awwal","Jumada al-thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-ahad","Yawm al-ithnayn","Yawm ath-thulaathaa'","Yawm al-arbi'aa'","Yawm al-khamīs","Yawm al-jum'a","Yawm as-sabt"],dayNamesShort:["Aha","Ith","Thu","Arb","Kha","Jum","Sab"],dayNamesMin:["Ah","It","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(i){return(11*this._validate(i,this.minMonth,this.minDay,a.local.invalidYear).year()+14)%30<11},weekOfYear:function(i,r,n){var o=this.newDate(i,r,n);return o.add(-o.dayOfWeek(),"d"),Math.floor((o.dayOfYear()-1)/7)+1},daysInYear:function(i){return this.leapYear(i)?355:354},daysInMonth:function(i,r){var n=this._validate(i,r,this.minDay,a.local.invalidMonth);return this.daysPerMonth[n.month()-1]+(n.month()===12&&this.leapYear(n.year())?1:0)},weekDay:function(i,r,n){return this.dayOfWeek(i,r,n)!==5},toJD:function(i,r,n){var o=this._validate(i,r,n,a.local.invalidDate);return i=o.year(),r=o.month(),i=i<=0?i+1:i,(n=o.day())+Math.ceil(29.5*(r-1))+354*(i-1)+Math.floor((3+11*i)/30)+this.jdEpoch-1},fromJD:function(i){i=Math.floor(i)+.5;var r=Math.floor((30*(i-this.jdEpoch)+10646)/10631);r=r<=0?r-1:r;var n=Math.min(12,Math.ceil((i-29-this.toJD(r,1,1))/29.5)+1),o=i-this.toJD(r,n,1)+1;return this.newDate(r,n,o)}}),a.calendars.islamic=e},88874:function(w,s,t){var a=t(63489),f=t(56131);function e(i){this.local=this.regionalOptions[i||""]||this.regionalOptions[""]}e.prototype=new a.baseCalendar,f(e.prototype,{name:"Julian",jdEpoch:17214235e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Julian",epochs:["BC","AD"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(i){var r=this._validate(i,this.minMonth,this.minDay,a.local.invalidYear);return(i=r.year()<0?r.year()+1:r.year())%4==0},weekOfYear:function(i,r,n){var o=this.newDate(i,r,n);return o.add(4-(o.dayOfWeek()||7),"d"),Math.floor((o.dayOfYear()-1)/7)+1},daysInMonth:function(i,r){var n=this._validate(i,r,this.minDay,a.local.invalidMonth);return this.daysPerMonth[n.month()-1]+(n.month()===2&&this.leapYear(n.year())?1:0)},weekDay:function(i,r,n){return(this.dayOfWeek(i,r,n)||7)<6},toJD:function(i,r,n){var o=this._validate(i,r,n,a.local.invalidDate);return i=o.year(),r=o.month(),n=o.day(),i<0&&i++,r<=2&&(i--,r+=12),Math.floor(365.25*(i+4716))+Math.floor(30.6001*(r+1))+n-1524.5},fromJD:function(i){var r=Math.floor(i+.5)+1524,n=Math.floor((r-122.1)/365.25),o=Math.floor(365.25*n),l=Math.floor((r-o)/30.6001),u=l-Math.floor(l<14?1:13),d=n-Math.floor(u>2?4716:4715),c=r-o-Math.floor(30.6001*l);return d<=0&&d--,this.newDate(d,u,c)}}),a.calendars.julian=e},83290:function(w,s,t){var a=t(63489),f=t(56131);function e(n){this.local=this.regionalOptions[n||""]||this.regionalOptions[""]}function i(n,o){return n-o*Math.floor(n/o)}function r(n,o){return i(n-1,o)+1}e.prototype=new a.baseCalendar,f(e.prototype,{name:"Mayan",jdEpoch:584282.5,hasYearZero:!0,minMonth:0,firstMonth:0,minDay:0,regionalOptions:{"":{name:"Mayan",epochs:["",""],monthNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],monthNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17"],dayNames:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesShort:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],dayNamesMin:["0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"],digits:null,dateFormat:"YYYY.m.d",firstDay:0,isRTL:!1,haabMonths:["Pop","Uo","Zip","Zotz","Tzec","Xul","Yaxkin","Mol","Chen","Yax","Zac","Ceh","Mac","Kankin","Muan","Pax","Kayab","Cumku","Uayeb"],tzolkinMonths:["Imix","Ik","Akbal","Kan","Chicchan","Cimi","Manik","Lamat","Muluc","Oc","Chuen","Eb","Ben","Ix","Men","Cib","Caban","Etznab","Cauac","Ahau"]}},leapYear:function(n){return this._validate(n,this.minMonth,this.minDay,a.local.invalidYear),!1},formatYear:function(n){n=this._validate(n,this.minMonth,this.minDay,a.local.invalidYear).year();var o=Math.floor(n/400);return n%=400,n+=n<0?400:0,o+"."+Math.floor(n/20)+"."+n%20},forYear:function(n){if((n=n.split(".")).length<3)throw"Invalid Mayan year";for(var o=0,l=0;l<n.length;l++){var u=parseInt(n[l],10);if(Math.abs(u)>19||l>0&&u<0)throw"Invalid Mayan year";o=20*o+u}return o},monthsInYear:function(n){return this._validate(n,this.minMonth,this.minDay,a.local.invalidYear),18},weekOfYear:function(n,o,l){return this._validate(n,o,l,a.local.invalidDate),0},daysInYear:function(n){return this._validate(n,this.minMonth,this.minDay,a.local.invalidYear),360},daysInMonth:function(n,o){return this._validate(n,o,this.minDay,a.local.invalidMonth),20},daysInWeek:function(){return 5},dayOfWeek:function(n,o,l){return this._validate(n,o,l,a.local.invalidDate).day()},weekDay:function(n,o,l){return this._validate(n,o,l,a.local.invalidDate),!0},extraInfo:function(n,o,l){var u=this._validate(n,o,l,a.local.invalidDate).toJD(),d=this._toHaab(u),c=this._toTzolkin(u);return{haabMonthName:this.local.haabMonths[d[0]-1],haabMonth:d[0],haabDay:d[1],tzolkinDayName:this.local.tzolkinMonths[c[0]-1],tzolkinDay:c[0],tzolkinTrecena:c[1]}},_toHaab:function(n){var o=i(8+(n-=this.jdEpoch)+340,365);return[Math.floor(o/20)+1,i(o,20)]},_toTzolkin:function(n){return[r(20+(n-=this.jdEpoch),20),r(n+4,13)]},toJD:function(n,o,l){var u=this._validate(n,o,l,a.local.invalidDate);return u.day()+20*u.month()+360*u.year()+this.jdEpoch},fromJD:function(n){n=Math.floor(n)+.5-this.jdEpoch;var o=Math.floor(n/360);n%=360,n+=n<0?360:0;var l=Math.floor(n/20),u=n%20;return this.newDate(o,l,u)}}),a.calendars.mayan=e},29108:function(w,s,t){var a=t(63489),f=t(56131);function e(r){this.local=this.regionalOptions[r||""]||this.regionalOptions[""]}e.prototype=new a.baseCalendar;var i=a.instance("gregorian");f(e.prototype,{name:"Nanakshahi",jdEpoch:22576735e-1,daysPerMonth:[31,31,31,31,31,30,30,30,30,30,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Nanakshahi",epochs:["BN","AN"],monthNames:["Chet","Vaisakh","Jeth","Harh","Sawan","Bhadon","Assu","Katak","Maghar","Poh","Magh","Phagun"],monthNamesShort:["Che","Vai","Jet","Har","Saw","Bha","Ass","Kat","Mgr","Poh","Mgh","Pha"],dayNames:["Somvaar","Mangalvar","Budhvaar","Veervaar","Shukarvaar","Sanicharvaar","Etvaar"],dayNamesShort:["Som","Mangal","Budh","Veer","Shukar","Sanichar","Et"],dayNamesMin:["So","Ma","Bu","Ve","Sh","Sa","Et"],digits:null,dateFormat:"dd-mm-yyyy",firstDay:0,isRTL:!1}},leapYear:function(r){var n=this._validate(r,this.minMonth,this.minDay,a.local.invalidYear||a.regionalOptions[""].invalidYear);return i.leapYear(n.year()+(n.year()<1?1:0)+1469)},weekOfYear:function(r,n,o){var l=this.newDate(r,n,o);return l.add(1-(l.dayOfWeek()||7),"d"),Math.floor((l.dayOfYear()-1)/7)+1},daysInMonth:function(r,n){var o=this._validate(r,n,this.minDay,a.local.invalidMonth);return this.daysPerMonth[o.month()-1]+(o.month()===12&&this.leapYear(o.year())?1:0)},weekDay:function(r,n,o){return(this.dayOfWeek(r,n,o)||7)<6},toJD:function(r,n,o){var l=this._validate(r,n,o,a.local.invalidMonth);(r=l.year())<0&&r++;for(var u=l.day(),d=1;d<l.month();d++)u+=this.daysPerMonth[d-1];return u+i.toJD(r+1468,3,13)},fromJD:function(r){r=Math.floor(r+.5);for(var n=Math.floor((r-(this.jdEpoch-1))/366);r>=this.toJD(n+1,1,1);)n++;for(var o=r-Math.floor(this.toJD(n,1,1)+.5)+1,l=1;o>this.daysInMonth(n,l);)o-=this.daysInMonth(n,l),l++;return this.newDate(n,l,o)}}),a.calendars.nanakshahi=e},55422:function(w,s,t){var a=t(63489),f=t(56131);function e(i){this.local=this.regionalOptions[i||""]||this.regionalOptions[""]}e.prototype=new a.baseCalendar,f(e.prototype,{name:"Nepali",jdEpoch:17007095e-1,daysPerMonth:[31,31,32,32,31,30,30,29,30,29,30,30],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,daysPerYear:365,regionalOptions:{"":{name:"Nepali",epochs:["BBS","ABS"],monthNames:["Baisakh","Jestha","Ashadh","Shrawan","Bhadra","Ashwin","Kartik","Mangsir","Paush","Mangh","Falgun","Chaitra"],monthNamesShort:["Bai","Je","As","Shra","Bha","Ash","Kar","Mang","Pau","Ma","Fal","Chai"],dayNames:["Aaitabaar","Sombaar","Manglbaar","Budhabaar","Bihibaar","Shukrabaar","Shanibaar"],dayNamesShort:["Aaita","Som","Mangl","Budha","Bihi","Shukra","Shani"],dayNamesMin:["Aai","So","Man","Bu","Bi","Shu","Sha"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:1,isRTL:!1}},leapYear:function(i){return this.daysInYear(i)!==this.daysPerYear},weekOfYear:function(i,r,n){var o=this.newDate(i,r,n);return o.add(-o.dayOfWeek(),"d"),Math.floor((o.dayOfYear()-1)/7)+1},daysInYear:function(i){if(i=this._validate(i,this.minMonth,this.minDay,a.local.invalidYear).year(),this.NEPALI_CALENDAR_DATA[i]===void 0)return this.daysPerYear;for(var r=0,n=this.minMonth;n<=12;n++)r+=this.NEPALI_CALENDAR_DATA[i][n];return r},daysInMonth:function(i,r){return i.year&&(r=i.month(),i=i.year()),this._validate(i,r,this.minDay,a.local.invalidMonth),this.NEPALI_CALENDAR_DATA[i]===void 0?this.daysPerMonth[r-1]:this.NEPALI_CALENDAR_DATA[i][r]},weekDay:function(i,r,n){return this.dayOfWeek(i,r,n)!==6},toJD:function(i,r,n){var o=this._validate(i,r,n,a.local.invalidDate);i=o.year(),r=o.month(),n=o.day();var l=a.instance(),u=0,d=r,c=i;this._createMissingCalendarData(i);var h=i-(d>9||d===9&&n>=this.NEPALI_CALENDAR_DATA[c][0]?56:57);for(r!==9&&(u=n,d--);d!==9;)d<=0&&(d=12,c--),u+=this.NEPALI_CALENDAR_DATA[c][d],d--;return r===9?(u+=n-this.NEPALI_CALENDAR_DATA[c][0])<0&&(u+=l.daysInYear(h)):u+=this.NEPALI_CALENDAR_DATA[c][9]-this.NEPALI_CALENDAR_DATA[c][0],l.newDate(h,1,1).add(u,"d").toJD()},fromJD:function(i){var r=a.instance().fromJD(i),n=r.year(),o=r.dayOfYear(),l=n+56;this._createMissingCalendarData(l);for(var u=9,d=this.NEPALI_CALENDAR_DATA[l][0],c=this.NEPALI_CALENDAR_DATA[l][u]-d+1;o>c;)++u>12&&(u=1,l++),c+=this.NEPALI_CALENDAR_DATA[l][u];var h=this.NEPALI_CALENDAR_DATA[l][u]-(c-o);return this.newDate(l,u,h)},_createMissingCalendarData:function(i){var r=this.daysPerMonth.slice(0);r.unshift(17);for(var n=i-1;n<i+2;n++)this.NEPALI_CALENDAR_DATA[n]===void 0&&(this.NEPALI_CALENDAR_DATA[n]=r)},NEPALI_CALENDAR_DATA:{1970:[18,31,31,32,31,31,31,30,29,30,29,30,30],1971:[18,31,31,32,31,32,30,30,29,30,29,30,30],1972:[17,31,32,31,32,31,30,30,30,29,29,30,30],1973:[19,30,32,31,32,31,30,30,30,29,30,29,31],1974:[19,31,31,32,30,31,31,30,29,30,29,30,30],1975:[18,31,31,32,32,30,31,30,29,30,29,30,30],1976:[17,31,32,31,32,31,30,30,30,29,29,30,31],1977:[18,31,32,31,32,31,31,29,30,29,30,29,31],1978:[18,31,31,32,31,31,31,30,29,30,29,30,30],1979:[18,31,31,32,32,31,30,30,29,30,29,30,30],1980:[17,31,32,31,32,31,30,30,30,29,29,30,31],1981:[18,31,31,31,32,31,31,29,30,30,29,30,30],1982:[18,31,31,32,31,31,31,30,29,30,29,30,30],1983:[18,31,31,32,32,31,30,30,29,30,29,30,30],1984:[17,31,32,31,32,31,30,30,30,29,29,30,31],1985:[18,31,31,31,32,31,31,29,30,30,29,30,30],1986:[18,31,31,32,31,31,31,30,29,30,29,30,30],1987:[18,31,32,31,32,31,30,30,29,30,29,30,30],1988:[17,31,32,31,32,31,30,30,30,29,29,30,31],1989:[18,31,31,31,32,31,31,30,29,30,29,30,30],1990:[18,31,31,32,31,31,31,30,29,30,29,30,30],1991:[18,31,32,31,32,31,30,30,29,30,29,30,30],1992:[17,31,32,31,32,31,30,30,30,29,30,29,31],1993:[18,31,31,31,32,31,31,30,29,30,29,30,30],1994:[18,31,31,32,31,31,31,30,29,30,29,30,30],1995:[17,31,32,31,32,31,30,30,30,29,29,30,30],1996:[17,31,32,31,32,31,30,30,30,29,30,29,31],1997:[18,31,31,32,31,31,31,30,29,30,29,30,30],1998:[18,31,31,32,31,31,31,30,29,30,29,30,30],1999:[17,31,32,31,32,31,30,30,30,29,29,30,31],2e3:[17,30,32,31,32,31,30,30,30,29,30,29,31],2001:[18,31,31,32,31,31,31,30,29,30,29,30,30],2002:[18,31,31,32,32,31,30,30,29,30,29,30,30],2003:[17,31,32,31,32,31,30,30,30,29,29,30,31],2004:[17,30,32,31,32,31,30,30,30,29,30,29,31],2005:[18,31,31,32,31,31,31,30,29,30,29,30,30],2006:[18,31,31,32,32,31,30,30,29,30,29,30,30],2007:[17,31,32,31,32,31,30,30,30,29,29,30,31],2008:[17,31,31,31,32,31,31,29,30,30,29,29,31],2009:[18,31,31,32,31,31,31,30,29,30,29,30,30],2010:[18,31,31,32,32,31,30,30,29,30,29,30,30],2011:[17,31,32,31,32,31,30,30,30,29,29,30,31],2012:[17,31,31,31,32,31,31,29,30,30,29,30,30],2013:[18,31,31,32,31,31,31,30,29,30,29,30,30],2014:[18,31,31,32,32,31,30,30,29,30,29,30,30],2015:[17,31,32,31,32,31,30,30,30,29,29,30,31],2016:[17,31,31,31,32,31,31,29,30,30,29,30,30],2017:[18,31,31,32,31,31,31,30,29,30,29,30,30],2018:[18,31,32,31,32,31,30,30,29,30,29,30,30],2019:[17,31,32,31,32,31,30,30,30,29,30,29,31],2020:[17,31,31,31,32,31,31,30,29,30,29,30,30],2021:[18,31,31,32,31,31,31,30,29,30,29,30,30],2022:[17,31,32,31,32,31,30,30,30,29,29,30,30],2023:[17,31,32,31,32,31,30,30,30,29,30,29,31],2024:[17,31,31,31,32,31,31,30,29,30,29,30,30],2025:[18,31,31,32,31,31,31,30,29,30,29,30,30],2026:[17,31,32,31,32,31,30,30,30,29,29,30,31],2027:[17,30,32,31,32,31,30,30,30,29,30,29,31],2028:[17,31,31,32,31,31,31,30,29,30,29,30,30],2029:[18,31,31,32,31,32,30,30,29,30,29,30,30],2030:[17,31,32,31,32,31,30,30,30,30,30,30,31],2031:[17,31,32,31,32,31,31,31,31,31,31,31,31],2032:[17,32,32,32,32,32,32,32,32,32,32,32,32],2033:[18,31,31,32,32,31,30,30,29,30,29,30,30],2034:[17,31,32,31,32,31,30,30,30,29,29,30,31],2035:[17,30,32,31,32,31,31,29,30,30,29,29,31],2036:[17,31,31,32,31,31,31,30,29,30,29,30,30],2037:[18,31,31,32,32,31,30,30,29,30,29,30,30],2038:[17,31,32,31,32,31,30,30,30,29,29,30,31],2039:[17,31,31,31,32,31,31,29,30,30,29,30,30],2040:[17,31,31,32,31,31,31,30,29,30,29,30,30],2041:[18,31,31,32,32,31,30,30,29,30,29,30,30],2042:[17,31,32,31,32,31,30,30,30,29,29,30,31],2043:[17,31,31,31,32,31,31,29,30,30,29,30,30],2044:[17,31,31,32,31,31,31,30,29,30,29,30,30],2045:[18,31,32,31,32,31,30,30,29,30,29,30,30],2046:[17,31,32,31,32,31,30,30,30,29,29,30,31],2047:[17,31,31,31,32,31,31,30,29,30,29,30,30],2048:[17,31,31,32,31,31,31,30,29,30,29,30,30],2049:[17,31,32,31,32,31,30,30,30,29,29,30,30],2050:[17,31,32,31,32,31,30,30,30,29,30,29,31],2051:[17,31,31,31,32,31,31,30,29,30,29,30,30],2052:[17,31,31,32,31,31,31,30,29,30,29,30,30],2053:[17,31,32,31,32,31,30,30,30,29,29,30,30],2054:[17,31,32,31,32,31,30,30,30,29,30,29,31],2055:[17,31,31,32,31,31,31,30,29,30,30,29,30],2056:[17,31,31,32,31,32,30,30,29,30,29,30,30],2057:[17,31,32,31,32,31,30,30,30,29,29,30,31],2058:[17,30,32,31,32,31,30,30,30,29,30,29,31],2059:[17,31,31,32,31,31,31,30,29,30,29,30,30],2060:[17,31,31,32,32,31,30,30,29,30,29,30,30],2061:[17,31,32,31,32,31,30,30,30,29,29,30,31],2062:[17,30,32,31,32,31,31,29,30,29,30,29,31],2063:[17,31,31,32,31,31,31,30,29,30,29,30,30],2064:[17,31,31,32,32,31,30,30,29,30,29,30,30],2065:[17,31,32,31,32,31,30,30,30,29,29,30,31],2066:[17,31,31,31,32,31,31,29,30,30,29,29,31],2067:[17,31,31,32,31,31,31,30,29,30,29,30,30],2068:[17,31,31,32,32,31,30,30,29,30,29,30,30],2069:[17,31,32,31,32,31,30,30,30,29,29,30,31],2070:[17,31,31,31,32,31,31,29,30,30,29,30,30],2071:[17,31,31,32,31,31,31,30,29,30,29,30,30],2072:[17,31,32,31,32,31,30,30,29,30,29,30,30],2073:[17,31,32,31,32,31,30,30,30,29,29,30,31],2074:[17,31,31,31,32,31,31,30,29,30,29,30,30],2075:[17,31,31,32,31,31,31,30,29,30,29,30,30],2076:[16,31,32,31,32,31,30,30,30,29,29,30,30],2077:[17,31,32,31,32,31,30,30,30,29,30,29,31],2078:[17,31,31,31,32,31,31,30,29,30,29,30,30],2079:[17,31,31,32,31,31,31,30,29,30,29,30,30],2080:[16,31,32,31,32,31,30,30,30,29,29,30,30],2081:[17,31,31,32,32,31,30,30,30,29,30,30,30],2082:[17,31,32,31,32,31,30,30,30,29,30,30,30],2083:[17,31,31,32,31,31,30,30,30,29,30,30,30],2084:[17,31,31,32,31,31,30,30,30,29,30,30,30],2085:[17,31,32,31,32,31,31,30,30,29,30,30,30],2086:[17,31,32,31,32,31,30,30,30,29,30,30,30],2087:[16,31,31,32,31,31,31,30,30,29,30,30,30],2088:[16,30,31,32,32,30,31,30,30,29,30,30,30],2089:[17,31,32,31,32,31,30,30,30,29,30,30,30],2090:[17,31,32,31,32,31,30,30,30,29,30,30,30],2091:[16,31,31,32,31,31,31,30,30,29,30,30,30],2092:[16,31,31,32,32,31,30,30,30,29,30,30,30],2093:[17,31,32,31,32,31,30,30,30,29,30,30,30],2094:[17,31,31,32,31,31,30,30,30,29,30,30,30],2095:[17,31,31,32,31,31,31,30,29,30,30,30,30],2096:[17,30,31,32,32,31,30,30,29,30,29,30,30],2097:[17,31,32,31,32,31,30,30,30,29,30,30,30],2098:[17,31,31,32,31,31,31,29,30,29,30,30,31],2099:[17,31,31,32,31,31,31,30,29,29,30,30,30],2100:[17,31,32,31,32,30,31,30,29,30,29,30,30]}}),a.calendars.nepali=e},94320:function(w,s,t){var a=t(63489),f=t(56131);function e(r){this.local=this.regionalOptions[r||""]||this.regionalOptions[""]}function i(r,n){return r-n*Math.floor(r/n)}e.prototype=new a.baseCalendar,f(e.prototype,{name:"Persian",jdEpoch:19483205e-1,daysPerMonth:[31,31,31,31,31,31,30,30,30,30,30,29],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Persian",epochs:["BP","AP"],monthNames:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Day","Bahman","Esfand"],monthNamesShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Day","Bah","Esf"],dayNames:["Yekshambe","Doshambe","Seshambe","Chæharshambe","Panjshambe","Jom'e","Shambe"],dayNamesShort:["Yek","Do","Se","Chæ","Panj","Jom","Sha"],dayNamesMin:["Ye","Do","Se","Ch","Pa","Jo","Sh"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!1}},leapYear:function(r){var n=this._validate(r,this.minMonth,this.minDay,a.local.invalidYear);return 682*((n.year()-(n.year()>0?474:473))%2820+474+38)%2816<682},weekOfYear:function(r,n,o){var l=this.newDate(r,n,o);return l.add(-(l.dayOfWeek()+1)%7,"d"),Math.floor((l.dayOfYear()-1)/7)+1},daysInMonth:function(r,n){var o=this._validate(r,n,this.minDay,a.local.invalidMonth);return this.daysPerMonth[o.month()-1]+(o.month()===12&&this.leapYear(o.year())?1:0)},weekDay:function(r,n,o){return this.dayOfWeek(r,n,o)!==5},toJD:function(r,n,o){var l=this._validate(r,n,o,a.local.invalidDate);r=l.year(),n=l.month(),o=l.day();var u=r-(r>=0?474:473),d=474+i(u,2820);return o+(n<=7?31*(n-1):30*(n-1)+6)+Math.floor((682*d-110)/2816)+365*(d-1)+1029983*Math.floor(u/2820)+this.jdEpoch-1},fromJD:function(r){var n=(r=Math.floor(r)+.5)-this.toJD(475,1,1),o=Math.floor(n/1029983),l=i(n,1029983),u=2820;if(l!==1029982){var d=Math.floor(l/366),c=i(l,366);u=Math.floor((2134*d+2816*c+2815)/1028522)+d+1}var h=u+2820*o+474;h=h<=0?h-1:h;var p=r-this.toJD(h,1,1)+1,g=p<=186?Math.ceil(p/31):Math.ceil((p-6)/30),y=r-this.toJD(h,g,1)+1;return this.newDate(h,g,y)}}),a.calendars.persian=e,a.calendars.jalali=e},31320:function(w,s,t){var a=t(63489),f=t(56131),e=a.instance();function i(r){this.local=this.regionalOptions[r||""]||this.regionalOptions[""]}i.prototype=new a.baseCalendar,f(i.prototype,{name:"Taiwan",jdEpoch:24194025e-1,yearsOffset:1911,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Taiwan",epochs:["BROC","ROC"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:1,isRTL:!1}},leapYear:function(r){var n=this._validate(r,this.minMonth,this.minDay,a.local.invalidYear);return r=this._t2gYear(n.year()),e.leapYear(r)},weekOfYear:function(r,n,o){var l=this._validate(r,this.minMonth,this.minDay,a.local.invalidYear);return r=this._t2gYear(l.year()),e.weekOfYear(r,l.month(),l.day())},daysInMonth:function(r,n){var o=this._validate(r,n,this.minDay,a.local.invalidMonth);return this.daysPerMonth[o.month()-1]+(o.month()===2&&this.leapYear(o.year())?1:0)},weekDay:function(r,n,o){return(this.dayOfWeek(r,n,o)||7)<6},toJD:function(r,n,o){var l=this._validate(r,n,o,a.local.invalidDate);return r=this._t2gYear(l.year()),e.toJD(r,l.month(),l.day())},fromJD:function(r){var n=e.fromJD(r),o=this._g2tYear(n.year());return this.newDate(o,n.month(),n.day())},_t2gYear:function(r){return r+this.yearsOffset+(r>=-this.yearsOffset&&r<=-1?1:0)},_g2tYear:function(r){return r-this.yearsOffset-(r>=1&&r<=this.yearsOffset?1:0)}}),a.calendars.taiwan=i},51367:function(w,s,t){var a=t(63489),f=t(56131),e=a.instance();function i(r){this.local=this.regionalOptions[r||""]||this.regionalOptions[""]}i.prototype=new a.baseCalendar,f(i.prototype,{name:"Thai",jdEpoch:15230985e-1,yearsOffset:543,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Thai",epochs:["BBE","BE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"dd/mm/yyyy",firstDay:0,isRTL:!1}},leapYear:function(r){var n=this._validate(r,this.minMonth,this.minDay,a.local.invalidYear);return r=this._t2gYear(n.year()),e.leapYear(r)},weekOfYear:function(r,n,o){var l=this._validate(r,this.minMonth,this.minDay,a.local.invalidYear);return r=this._t2gYear(l.year()),e.weekOfYear(r,l.month(),l.day())},daysInMonth:function(r,n){var o=this._validate(r,n,this.minDay,a.local.invalidMonth);return this.daysPerMonth[o.month()-1]+(o.month()===2&&this.leapYear(o.year())?1:0)},weekDay:function(r,n,o){return(this.dayOfWeek(r,n,o)||7)<6},toJD:function(r,n,o){var l=this._validate(r,n,o,a.local.invalidDate);return r=this._t2gYear(l.year()),e.toJD(r,l.month(),l.day())},fromJD:function(r){var n=e.fromJD(r),o=this._g2tYear(n.year());return this.newDate(o,n.month(),n.day())},_t2gYear:function(r){return r-this.yearsOffset-(r>=1&&r<=this.yearsOffset?1:0)},_g2tYear:function(r){return r+this.yearsOffset+(r>=-this.yearsOffset&&r<=-1?1:0)}}),a.calendars.thai=i},21457:function(w,s,t){var a=t(63489),f=t(56131);function e(r){this.local=this.regionalOptions[r||""]||this.regionalOptions[""]}e.prototype=new a.baseCalendar,f(e.prototype,{name:"UmmAlQura",hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Umm al-Qura",epochs:["BH","AH"],monthNames:["Al-Muharram","Safar","Rabi' al-awwal","Rabi' Al-Thani","Jumada Al-Awwal","Jumada Al-Thani","Rajab","Sha'aban","Ramadan","Shawwal","Dhu al-Qi'dah","Dhu al-Hijjah"],monthNamesShort:["Muh","Saf","Rab1","Rab2","Jum1","Jum2","Raj","Sha'","Ram","Shaw","DhuQ","DhuH"],dayNames:["Yawm al-Ahad","Yawm al-Ithnain","Yawm al-Thalāthā’","Yawm al-Arba‘ā’","Yawm al-Khamīs","Yawm al-Jum‘a","Yawm al-Sabt"],dayNamesMin:["Ah","Ith","Th","Ar","Kh","Ju","Sa"],digits:null,dateFormat:"yyyy/mm/dd",firstDay:6,isRTL:!0}},leapYear:function(r){var n=this._validate(r,this.minMonth,this.minDay,a.local.invalidYear);return this.daysInYear(n.year())===355},weekOfYear:function(r,n,o){var l=this.newDate(r,n,o);return l.add(-l.dayOfWeek(),"d"),Math.floor((l.dayOfYear()-1)/7)+1},daysInYear:function(r){for(var n=0,o=1;o<=12;o++)n+=this.daysInMonth(r,o);return n},daysInMonth:function(r,n){for(var o=this._validate(r,n,this.minDay,a.local.invalidMonth).toJD()-24e5+.5,l=0,u=0;u<i.length;u++){if(i[u]>o)return i[l]-i[l-1];l++}return 30},weekDay:function(r,n,o){return this.dayOfWeek(r,n,o)!==5},toJD:function(r,n,o){var l=this._validate(r,n,o,a.local.invalidDate),u=12*(l.year()-1)+l.month()-15292;return l.day()+i[u-1]-1+24e5-.5},fromJD:function(r){for(var n=r-24e5+.5,o=0,l=0;l<i.length&&!(i[l]>n);l++)o++;var u=o+15292,d=Math.floor((u-1)/12),c=d+1,h=u-12*d,p=n-i[o-1]+1;return this.newDate(c,h,p)},isValid:function(r,n,o){var l=a.baseCalendar.prototype.isValid.apply(this,arguments);return l&&(l=(r=r.year!=null?r.year:r)>=1276&&r<=1500),l},_validate:function(r,n,o,l){var u=a.baseCalendar.prototype._validate.apply(this,arguments);if(u.year<1276||u.year>1500)throw l.replace(/\{0\}/,this.local.name);return u}}),a.calendars.ummalqura=e;var i=[20,50,79,109,138,168,197,227,256,286,315,345,374,404,433,463,492,522,551,581,611,641,670,700,729,759,788,818,847,877,906,936,965,995,1024,1054,1083,1113,1142,1172,1201,1231,1260,1290,1320,1350,1379,1409,1438,1468,1497,1527,1556,1586,1615,1645,1674,1704,1733,1763,1792,1822,1851,1881,1910,1940,1969,1999,2028,2058,2087,2117,2146,2176,2205,2235,2264,2294,2323,2353,2383,2413,2442,2472,2501,2531,2560,2590,2619,2649,2678,2708,2737,2767,2796,2826,2855,2885,2914,2944,2973,3003,3032,3062,3091,3121,3150,3180,3209,3239,3268,3298,3327,3357,3386,3416,3446,3476,3505,3535,3564,3594,3623,3653,3682,3712,3741,3771,3800,3830,3859,3889,3918,3948,3977,4007,4036,4066,4095,4125,4155,4185,4214,4244,4273,4303,4332,4362,4391,4421,4450,4480,4509,4539,4568,4598,4627,4657,4686,4716,4745,4775,4804,4834,4863,4893,4922,4952,4981,5011,5040,5070,5099,5129,5158,5188,5218,5248,5277,5307,5336,5366,5395,5425,5454,5484,5513,5543,5572,5602,5631,5661,5690,5720,5749,5779,5808,5838,5867,5897,5926,5956,5985,6015,6044,6074,6103,6133,6162,6192,6221,6251,6281,6311,6340,6370,6399,6429,6458,6488,6517,6547,6576,6606,6635,6665,6694,6724,6753,6783,6812,6842,6871,6901,6930,6960,6989,7019,7048,7078,7107,7137,7166,7196,7225,7255,7284,7314,7344,7374,7403,7433,7462,7492,7521,7551,7580,7610,7639,7669,7698,7728,7757,7787,7816,7846,7875,7905,7934,7964,7993,8023,8053,8083,8112,8142,8171,8201,8230,8260,8289,8319,8348,8378,8407,8437,8466,8496,8525,8555,8584,8614,8643,8673,8702,8732,8761,8791,8821,8850,8880,8909,8938,8968,8997,9027,9056,9086,9115,9145,9175,9205,9234,9264,9293,9322,9352,9381,9410,9440,9470,9499,9529,9559,9589,9618,9648,9677,9706,9736,9765,9794,9824,9853,9883,9913,9943,9972,10002,10032,10061,10090,10120,10149,10178,10208,10237,10267,10297,10326,10356,10386,10415,10445,10474,10504,10533,10562,10592,10621,10651,10680,10710,10740,10770,10799,10829,10858,10888,10917,10947,10976,11005,11035,11064,11094,11124,11153,11183,11213,11242,11272,11301,11331,11360,11389,11419,11448,11478,11507,11537,11567,11596,11626,11655,11685,11715,11744,11774,11803,11832,11862,11891,11921,11950,11980,12010,12039,12069,12099,12128,12158,12187,12216,12246,12275,12304,12334,12364,12393,12423,12453,12483,12512,12542,12571,12600,12630,12659,12688,12718,12747,12777,12807,12837,12866,12896,12926,12955,12984,13014,13043,13072,13102,13131,13161,13191,13220,13250,13280,13310,13339,13368,13398,13427,13456,13486,13515,13545,13574,13604,13634,13664,13693,13723,13752,13782,13811,13840,13870,13899,13929,13958,13988,14018,14047,14077,14107,14136,14166,14195,14224,14254,14283,14313,14342,14372,14401,14431,14461,14490,14520,14550,14579,14609,14638,14667,14697,14726,14756,14785,14815,14844,14874,14904,14933,14963,14993,15021,15051,15081,15110,15140,15169,15199,15228,15258,15287,15317,15347,15377,15406,15436,15465,15494,15524,15553,15582,15612,15641,15671,15701,15731,15760,15790,15820,15849,15878,15908,15937,15966,15996,16025,16055,16085,16114,16144,16174,16204,16233,16262,16292,16321,16350,16380,16409,16439,16468,16498,16528,16558,16587,16617,16646,16676,16705,16734,16764,16793,16823,16852,16882,16912,16941,16971,17001,17030,17060,17089,17118,17148,17177,17207,17236,17266,17295,17325,17355,17384,17414,17444,17473,17502,17532,17561,17591,17620,17650,17679,17709,17738,17768,17798,17827,17857,17886,17916,17945,17975,18004,18034,18063,18093,18122,18152,18181,18211,18241,18270,18300,18330,18359,18388,18418,18447,18476,18506,18535,18565,18595,18625,18654,18684,18714,18743,18772,18802,18831,18860,18890,18919,18949,18979,19008,19038,19068,19098,19127,19156,19186,19215,19244,19274,19303,19333,19362,19392,19422,19452,19481,19511,19540,19570,19599,19628,19658,19687,19717,19746,19776,19806,19836,19865,19895,19924,19954,19983,20012,20042,20071,20101,20130,20160,20190,20219,20249,20279,20308,20338,20367,20396,20426,20455,20485,20514,20544,20573,20603,20633,20662,20692,20721,20751,20780,20810,20839,20869,20898,20928,20957,20987,21016,21046,21076,21105,21135,21164,21194,21223,21253,21282,21312,21341,21371,21400,21430,21459,21489,21519,21548,21578,21607,21637,21666,21696,21725,21754,21784,21813,21843,21873,21902,21932,21962,21991,22021,22050,22080,22109,22138,22168,22197,22227,22256,22286,22316,22346,22375,22405,22434,22464,22493,22522,22552,22581,22611,22640,22670,22700,22730,22759,22789,22818,22848,22877,22906,22936,22965,22994,23024,23054,23083,23113,23143,23173,23202,23232,23261,23290,23320,23349,23379,23408,23438,23467,23497,23527,23556,23586,23616,23645,23674,23704,23733,23763,23792,23822,23851,23881,23910,23940,23970,23999,24029,24058,24088,24117,24147,24176,24206,24235,24265,24294,24324,24353,24383,24413,24442,24472,24501,24531,24560,24590,24619,24648,24678,24707,24737,24767,24796,24826,24856,24885,24915,24944,24974,25003,25032,25062,25091,25121,25150,25180,25210,25240,25269,25299,25328,25358,25387,25416,25446,25475,25505,25534,25564,25594,25624,25653,25683,25712,25742,25771,25800,25830,25859,25888,25918,25948,25977,26007,26037,26067,26096,26126,26155,26184,26214,26243,26272,26302,26332,26361,26391,26421,26451,26480,26510,26539,26568,26598,26627,26656,26686,26715,26745,26775,26805,26834,26864,26893,26923,26952,26982,27011,27041,27070,27099,27129,27159,27188,27218,27248,27277,27307,27336,27366,27395,27425,27454,27484,27513,27542,27572,27602,27631,27661,27691,27720,27750,27779,27809,27838,27868,27897,27926,27956,27985,28015,28045,28074,28104,28134,28163,28193,28222,28252,28281,28310,28340,28369,28399,28428,28458,28488,28517,28547,28577,28607,28636,28665,28695,28724,28754,28783,28813,28843,28872,28901,28931,28960,28990,29019,29049,29078,29108,29137,29167,29196,29226,29255,29285,29315,29345,29375,29404,29434,29463,29492,29522,29551,29580,29610,29640,29669,29699,29729,29759,29788,29818,29847,29876,29906,29935,29964,29994,30023,30053,30082,30112,30141,30171,30200,30230,30259,30289,30318,30348,30378,30408,30437,30467,30496,30526,30555,30585,30614,30644,30673,30703,30732,30762,30791,30821,30850,30880,30909,30939,30968,30998,31027,31057,31086,31116,31145,31175,31204,31234,31263,31293,31322,31352,31381,31411,31441,31471,31500,31530,31559,31589,31618,31648,31676,31706,31736,31766,31795,31825,31854,31884,31913,31943,31972,32002,32031,32061,32090,32120,32150,32180,32209,32239,32268,32298,32327,32357,32386,32416,32445,32475,32504,32534,32563,32593,32622,32652,32681,32711,32740,32770,32799,32829,32858,32888,32917,32947,32976,33006,33035,33065,33094,33124,33153,33183,33213,33243,33272,33302,33331,33361,33390,33420,33450,33479,33509,33539,33568,33598,33627,33657,33686,33716,33745,33775,33804,33834,33863,33893,33922,33952,33981,34011,34040,34069,34099,34128,34158,34187,34217,34247,34277,34306,34336,34365,34395,34424,34454,34483,34512,34542,34571,34601,34631,34660,34690,34719,34749,34778,34808,34837,34867,34896,34926,34955,34985,35015,35044,35074,35103,35133,35162,35192,35222,35251,35280,35310,35340,35370,35399,35429,35458,35488,35517,35547,35576,35605,35635,35665,35694,35723,35753,35782,35811,35841,35871,35901,35930,35960,35989,36019,36048,36078,36107,36136,36166,36195,36225,36254,36284,36314,36343,36373,36403,36433,36462,36492,36521,36551,36580,36610,36639,36669,36698,36728,36757,36786,36816,36845,36875,36904,36934,36963,36993,37022,37052,37081,37111,37141,37170,37200,37229,37259,37288,37318,37347,37377,37406,37436,37465,37495,37524,37554,37584,37613,37643,37672,37701,37731,37760,37790,37819,37849,37878,37908,37938,37967,37997,38027,38056,38085,38115,38144,38174,38203,38233,38262,38292,38322,38351,38381,38410,38440,38469,38499,38528,38558,38587,38617,38646,38676,38705,38735,38764,38794,38823,38853,38882,38912,38941,38971,39001,39030,39059,39089,39118,39148,39178,39208,39237,39267,39297,39326,39355,39385,39414,39444,39473,39503,39532,39562,39592,39621,39650,39680,39709,39739,39768,39798,39827,39857,39886,39916,39946,39975,40005,40035,40064,40094,40123,40153,40182,40212,40241,40271,40300,40330,40359,40389,40418,40448,40477,40507,40536,40566,40595,40625,40655,40685,40714,40744,40773,40803,40832,40862,40892,40921,40951,40980,41009,41039,41068,41098,41127,41157,41186,41216,41245,41275,41304,41334,41364,41393,41422,41452,41481,41511,41540,41570,41599,41629,41658,41688,41718,41748,41777,41807,41836,41865,41894,41924,41953,41983,42012,42042,42072,42102,42131,42161,42190,42220,42249,42279,42308,42337,42367,42397,42426,42456,42485,42515,42545,42574,42604,42633,42662,42692,42721,42751,42780,42810,42839,42869,42899,42929,42958,42988,43017,43046,43076,43105,43135,43164,43194,43223,43253,43283,43312,43342,43371,43401,43430,43460,43489,43519,43548,43578,43607,43637,43666,43696,43726,43755,43785,43814,43844,43873,43903,43932,43962,43991,44021,44050,44080,44109,44139,44169,44198,44228,44258,44287,44317,44346,44375,44405,44434,44464,44493,44523,44553,44582,44612,44641,44671,44700,44730,44759,44788,44818,44847,44877,44906,44936,44966,44996,45025,45055,45084,45114,45143,45172,45202,45231,45261,45290,45320,45350,45380,45409,45439,45468,45498,45527,45556,45586,45615,45644,45674,45704,45733,45763,45793,45823,45852,45882,45911,45940,45970,45999,46028,46058,46088,46117,46147,46177,46206,46236,46265,46295,46324,46354,46383,46413,46442,46472,46501,46531,46560,46590,46620,46649,46679,46708,46738,46767,46797,46826,46856,46885,46915,46944,46974,47003,47033,47063,47092,47122,47151,47181,47210,47240,47269,47298,47328,47357,47387,47417,47446,47476,47506,47535,47565,47594,47624,47653,47682,47712,47741,47771,47800,47830,47860,47890,47919,47949,47978,48008,48037,48066,48096,48125,48155,48184,48214,48244,48273,48303,48333,48362,48392,48421,48450,48480,48509,48538,48568,48598,48627,48657,48687,48717,48746,48776,48805,48834,48864,48893,48922,48952,48982,49011,49041,49071,49100,49130,49160,49189,49218,49248,49277,49306,49336,49365,49395,49425,49455,49484,49514,49543,49573,49602,49632,49661,49690,49720,49749,49779,49809,49838,49868,49898,49927,49957,49986,50016,50045,50075,50104,50133,50163,50192,50222,50252,50281,50311,50340,50370,50400,50429,50459,50488,50518,50547,50576,50606,50635,50665,50694,50724,50754,50784,50813,50843,50872,50902,50931,50960,50990,51019,51049,51078,51108,51138,51167,51197,51227,51256,51286,51315,51345,51374,51403,51433,51462,51492,51522,51552,51582,51611,51641,51670,51699,51729,51758,51787,51816,51846,51876,51906,51936,51965,51995,52025,52054,52083,52113,52142,52171,52200,52230,52260,52290,52319,52349,52379,52408,52438,52467,52497,52526,52555,52585,52614,52644,52673,52703,52733,52762,52792,52822,52851,52881,52910,52939,52969,52998,53028,53057,53087,53116,53146,53176,53205,53235,53264,53294,53324,53353,53383,53412,53441,53471,53500,53530,53559,53589,53619,53648,53678,53708,53737,53767,53796,53825,53855,53884,53913,53943,53973,54003,54032,54062,54092,54121,54151,54180,54209,54239,54268,54297,54327,54357,54387,54416,54446,54476,54505,54535,54564,54593,54623,54652,54681,54711,54741,54770,54800,54830,54859,54889,54919,54948,54977,55007,55036,55066,55095,55125,55154,55184,55213,55243,55273,55302,55332,55361,55391,55420,55450,55479,55508,55538,55567,55597,55627,55657,55686,55716,55745,55775,55804,55834,55863,55892,55922,55951,55981,56011,56040,56070,56100,56129,56159,56188,56218,56247,56276,56306,56335,56365,56394,56424,56454,56483,56513,56543,56572,56601,56631,56660,56690,56719,56749,56778,56808,56837,56867,56897,56926,56956,56985,57015,57044,57074,57103,57133,57162,57192,57221,57251,57280,57310,57340,57369,57399,57429,57458,57487,57517,57546,57576,57605,57634,57664,57694,57723,57753,57783,57813,57842,57871,57901,57930,57959,57989,58018,58048,58077,58107,58137,58167,58196,58226,58255,58285,58314,58343,58373,58402,58432,58461,58491,58521,58551,58580,58610,58639,58669,58698,58727,58757,58786,58816,58845,58875,58905,58934,58964,58994,59023,59053,59082,59111,59141,59170,59200,59229,59259,59288,59318,59348,59377,59407,59436,59466,59495,59525,59554,59584,59613,59643,59672,59702,59731,59761,59791,59820,59850,59879,59909,59939,59968,59997,60027,60056,60086,60115,60145,60174,60204,60234,60264,60293,60323,60352,60381,60411,60440,60469,60499,60528,60558,60588,60618,60648,60677,60707,60736,60765,60795,60824,60853,60883,60912,60942,60972,61002,61031,61061,61090,61120,61149,61179,61208,61237,61267,61296,61326,61356,61385,61415,61445,61474,61504,61533,61563,61592,61621,61651,61680,61710,61739,61769,61799,61828,61858,61888,61917,61947,61976,62006,62035,62064,62094,62123,62153,62182,62212,62242,62271,62301,62331,62360,62390,62419,62448,62478,62507,62537,62566,62596,62625,62655,62685,62715,62744,62774,62803,62832,62862,62891,62921,62950,62980,63009,63039,63069,63099,63128,63157,63187,63216,63246,63275,63305,63334,63363,63393,63423,63453,63482,63512,63541,63571,63600,63630,63659,63689,63718,63747,63777,63807,63836,63866,63895,63925,63955,63984,64014,64043,64073,64102,64131,64161,64190,64220,64249,64279,64309,64339,64368,64398,64427,64457,64486,64515,64545,64574,64603,64633,64663,64692,64722,64752,64782,64811,64841,64870,64899,64929,64958,64987,65017,65047,65076,65106,65136,65166,65195,65225,65254,65283,65313,65342,65371,65401,65431,65460,65490,65520,65549,65579,65608,65638,65667,65697,65726,65755,65785,65815,65844,65874,65903,65933,65963,65992,66022,66051,66081,66110,66140,66169,66199,66228,66258,66287,66317,66346,66376,66405,66435,66465,66494,66524,66553,66583,66612,66641,66671,66700,66730,66760,66789,66819,66849,66878,66908,66937,66967,66996,67025,67055,67084,67114,67143,67173,67203,67233,67262,67292,67321,67351,67380,67409,67439,67468,67497,67527,67557,67587,67617,67646,67676,67705,67735,67764,67793,67823,67852,67882,67911,67941,67971,68e3,68030,68060,68089,68119,68148,68177,68207,68236,68266,68295,68325,68354,68384,68414,68443,68473,68502,68532,68561,68591,68620,68650,68679,68708,68738,68768,68797,68827,68857,68886,68916,68946,68975,69004,69034,69063,69092,69122,69152,69181,69211,69240,69270,69300,69330,69359,69388,69418,69447,69476,69506,69535,69565,69595,69624,69654,69684,69713,69743,69772,69802,69831,69861,69890,69919,69949,69978,70008,70038,70067,70097,70126,70156,70186,70215,70245,70274,70303,70333,70362,70392,70421,70451,70481,70510,70540,70570,70599,70629,70658,70687,70717,70746,70776,70805,70835,70864,70894,70924,70954,70983,71013,71042,71071,71101,71130,71159,71189,71218,71248,71278,71308,71337,71367,71397,71426,71455,71485,71514,71543,71573,71602,71632,71662,71691,71721,71751,71781,71810,71839,71869,71898,71927,71957,71986,72016,72046,72075,72105,72135,72164,72194,72223,72253,72282,72311,72341,72370,72400,72429,72459,72489,72518,72548,72577,72607,72637,72666,72695,72725,72754,72784,72813,72843,72872,72902,72931,72961,72991,73020,73050,73080,73109,73139,73168,73197,73227,73256,73286,73315,73345,73375,73404,73434,73464,73493,73523,73552,73581,73611,73640,73669,73699,73729,73758,73788,73818,73848,73877,73907,73936,73965,73995,74024,74053,74083,74113,74142,74172,74202,74231,74261,74291,74320,74349,74379,74408,74437,74467,74497,74526,74556,74586,74615,74645,74675,74704,74733,74763,74792,74822,74851,74881,74910,74940,74969,74999,75029,75058,75088,75117,75147,75176,75206,75235,75264,75294,75323,75353,75383,75412,75442,75472,75501,75531,75560,75590,75619,75648,75678,75707,75737,75766,75796,75826,75856,75885,75915,75944,75974,76003,76032,76062,76091,76121,76150,76180,76210,76239,76269,76299,76328,76358,76387,76416,76446,76475,76505,76534,76564,76593,76623,76653,76682,76712,76741,76771,76801,76830,76859,76889,76918,76948,76977,77007,77036,77066,77096,77125,77155,77185,77214,77243,77273,77302,77332,77361,77390,77420,77450,77479,77509,77539,77569,77598,77627,77657,77686,77715,77745,77774,77804,77833,77863,77893,77923,77952,77982,78011,78041,78070,78099,78129,78158,78188,78217,78247,78277,78307,78336,78366,78395,78425,78454,78483,78513,78542,78572,78601,78631,78661,78690,78720,78750,78779,78808,78838,78867,78897,78926,78956,78985,79015,79044,79074,79104,79133,79163,79192,79222,79251,79281,79310,79340,79369,79399,79428,79458,79487,79517,79546,79576,79606,79635,79665,79695,79724,79753,79783,79812,79841,79871,79900,79930,79960,79990]},63489:function(w,s,t){var a=t(56131);function f(){this.regionalOptions=[],this.regionalOptions[""]={invalidCalendar:"Calendar {0} not found",invalidDate:"Invalid {0} date",invalidMonth:"Invalid {0} month",invalidYear:"Invalid {0} year",differentCalendars:"Cannot mix {0} and {1} dates"},this.local=this.regionalOptions[""],this.calendars={},this._localCals={}}function e(l,u,d,c){if(this._calendar=l,this._year=u,this._month=d,this._day=c,this._calendar._validateLevel===0&&!this._calendar.isValid(this._year,this._month,this._day))throw(o.local.invalidDate||o.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name)}function i(l,u){return"000000".substring(0,u-(l=""+l).length)+l}function r(){this.shortYearCutoff="+10"}function n(l){this.local=this.regionalOptions[l]||this.regionalOptions[""]}a(f.prototype,{instance:function(l,u){l=(l||"gregorian").toLowerCase(),u=u||"";var d=this._localCals[l+"-"+u];if(!d&&this.calendars[l]&&(d=new this.calendars[l](u),this._localCals[l+"-"+u]=d),!d)throw(this.local.invalidCalendar||this.regionalOptions[""].invalidCalendar).replace(/\{0\}/,l);return d},newDate:function(l,u,d,c,h){return(c=(l!=null&&l.year?l.calendar():typeof c=="string"?this.instance(c,h):c)||this.instance()).newDate(l,u,d)},substituteDigits:function(l){return function(u){return(u+"").replace(/[0-9]/g,function(d){return l[d]})}},substituteChineseDigits:function(l,u){return function(d){for(var c="",h=0;d>0;){var p=d%10;c=(p===0?"":l[p]+u[h])+c,h++,d=Math.floor(d/10)}return c.indexOf(l[1]+u[1])===0&&(c=c.substr(1)),c||l[0]}}}),a(e.prototype,{newDate:function(l,u,d){return this._calendar.newDate(l??this,u,d)},year:function(l){return arguments.length===0?this._year:this.set(l,"y")},month:function(l){return arguments.length===0?this._month:this.set(l,"m")},day:function(l){return arguments.length===0?this._day:this.set(l,"d")},date:function(l,u,d){if(!this._calendar.isValid(l,u,d))throw(o.local.invalidDate||o.regionalOptions[""].invalidDate).replace(/\{0\}/,this._calendar.local.name);return this._year=l,this._month=u,this._day=d,this},leapYear:function(){return this._calendar.leapYear(this)},epoch:function(){return this._calendar.epoch(this)},formatYear:function(){return this._calendar.formatYear(this)},monthOfYear:function(){return this._calendar.monthOfYear(this)},weekOfYear:function(){return this._calendar.weekOfYear(this)},daysInYear:function(){return this._calendar.daysInYear(this)},dayOfYear:function(){return this._calendar.dayOfYear(this)},daysInMonth:function(){return this._calendar.daysInMonth(this)},dayOfWeek:function(){return this._calendar.dayOfWeek(this)},weekDay:function(){return this._calendar.weekDay(this)},extraInfo:function(){return this._calendar.extraInfo(this)},add:function(l,u){return this._calendar.add(this,l,u)},set:function(l,u){return this._calendar.set(this,l,u)},compareTo:function(l){if(this._calendar.name!==l._calendar.name)throw(o.local.differentCalendars||o.regionalOptions[""].differentCalendars).replace(/\{0\}/,this._calendar.local.name).replace(/\{1\}/,l._calendar.local.name);var u=this._year!==l._year?this._year-l._year:this._month!==l._month?this.monthOfYear()-l.monthOfYear():this._day-l._day;return u===0?0:u<0?-1:1},calendar:function(){return this._calendar},toJD:function(){return this._calendar.toJD(this)},fromJD:function(l){return this._calendar.fromJD(l)},toJSDate:function(){return this._calendar.toJSDate(this)},fromJSDate:function(l){return this._calendar.fromJSDate(l)},toString:function(){return(this.year()<0?"-":"")+i(Math.abs(this.year()),4)+"-"+i(this.month(),2)+"-"+i(this.day(),2)}}),a(r.prototype,{_validateLevel:0,newDate:function(l,u,d){return l==null?this.today():(l.year&&(this._validate(l,u,d,o.local.invalidDate||o.regionalOptions[""].invalidDate),d=l.day(),u=l.month(),l=l.year()),new e(this,l,u,d))},today:function(){return this.fromJSDate(new Date)},epoch:function(l){return this._validate(l,this.minMonth,this.minDay,o.local.invalidYear||o.regionalOptions[""].invalidYear).year()<0?this.local.epochs[0]:this.local.epochs[1]},formatYear:function(l){var u=this._validate(l,this.minMonth,this.minDay,o.local.invalidYear||o.regionalOptions[""].invalidYear);return(u.year()<0?"-":"")+i(Math.abs(u.year()),4)},monthsInYear:function(l){return this._validate(l,this.minMonth,this.minDay,o.local.invalidYear||o.regionalOptions[""].invalidYear),12},monthOfYear:function(l,u){var d=this._validate(l,u,this.minDay,o.local.invalidMonth||o.regionalOptions[""].invalidMonth);return(d.month()+this.monthsInYear(d)-this.firstMonth)%this.monthsInYear(d)+this.minMonth},fromMonthOfYear:function(l,u){var d=(u+this.firstMonth-2*this.minMonth)%this.monthsInYear(l)+this.minMonth;return this._validate(l,d,this.minDay,o.local.invalidMonth||o.regionalOptions[""].invalidMonth),d},daysInYear:function(l){var u=this._validate(l,this.minMonth,this.minDay,o.local.invalidYear||o.regionalOptions[""].invalidYear);return this.leapYear(u)?366:365},dayOfYear:function(l,u,d){var c=this._validate(l,u,d,o.local.invalidDate||o.regionalOptions[""].invalidDate);return c.toJD()-this.newDate(c.year(),this.fromMonthOfYear(c.year(),this.minMonth),this.minDay).toJD()+1},daysInWeek:function(){return 7},dayOfWeek:function(l,u,d){var c=this._validate(l,u,d,o.local.invalidDate||o.regionalOptions[""].invalidDate);return(Math.floor(this.toJD(c))+2)%this.daysInWeek()},extraInfo:function(l,u,d){return this._validate(l,u,d,o.local.invalidDate||o.regionalOptions[""].invalidDate),{}},add:function(l,u,d){return this._validate(l,this.minMonth,this.minDay,o.local.invalidDate||o.regionalOptions[""].invalidDate),this._correctAdd(l,this._add(l,u,d),u,d)},_add:function(l,u,d){if(this._validateLevel++,d==="d"||d==="w"){var c=l.toJD()+u*(d==="w"?this.daysInWeek():1),h=l.calendar().fromJD(c);return this._validateLevel--,[h.year(),h.month(),h.day()]}try{var p=l.year()+(d==="y"?u:0),g=l.monthOfYear()+(d==="m"?u:0);h=l.day(),d==="y"?(l.month()!==this.fromMonthOfYear(p,g)&&(g=this.newDate(p,l.month(),this.minDay).monthOfYear()),g=Math.min(g,this.monthsInYear(p)),h=Math.min(h,this.daysInMonth(p,this.fromMonthOfYear(p,g)))):d==="m"&&(function(b){for(;g<b.minMonth;)p--,g+=b.monthsInYear(p);for(var m=b.monthsInYear(p);g>m-1+b.minMonth;)p++,g-=m,m=b.monthsInYear(p)}(this),h=Math.min(h,this.daysInMonth(p,this.fromMonthOfYear(p,g))));var y=[p,this.fromMonthOfYear(p,g),h];return this._validateLevel--,y}catch(b){throw this._validateLevel--,b}},_correctAdd:function(l,u,d,c){if(!(this.hasYearZero||c!=="y"&&c!=="m"||u[0]!==0&&l.year()>0==u[0]>0)){var h={y:[1,1,"y"],m:[1,this.monthsInYear(-1),"m"],w:[this.daysInWeek(),this.daysInYear(-1),"d"],d:[1,this.daysInYear(-1),"d"]}[c],p=d<0?-1:1;u=this._add(l,d*h[0]+p*h[1],h[2])}return l.date(u[0],u[1],u[2])},set:function(l,u,d){this._validate(l,this.minMonth,this.minDay,o.local.invalidDate||o.regionalOptions[""].invalidDate);var c=d==="y"?u:l.year(),h=d==="m"?u:l.month(),p=d==="d"?u:l.day();return d!=="y"&&d!=="m"||(p=Math.min(p,this.daysInMonth(c,h))),l.date(c,h,p)},isValid:function(l,u,d){this._validateLevel++;var c=this.hasYearZero||l!==0;if(c){var h=this.newDate(l,u,this.minDay);c=u>=this.minMonth&&u-this.minMonth<this.monthsInYear(h)&&d>=this.minDay&&d-this.minDay<this.daysInMonth(h)}return this._validateLevel--,c},toJSDate:function(l,u,d){var c=this._validate(l,u,d,o.local.invalidDate||o.regionalOptions[""].invalidDate);return o.instance().fromJD(this.toJD(c)).toJSDate()},fromJSDate:function(l){return this.fromJD(o.instance().fromJSDate(l).toJD())},_validate:function(l,u,d,c){if(l.year){if(this._validateLevel===0&&this.name!==l.calendar().name)throw(o.local.differentCalendars||o.regionalOptions[""].differentCalendars).replace(/\{0\}/,this.local.name).replace(/\{1\}/,l.calendar().local.name);return l}try{if(this._validateLevel++,this._validateLevel===1&&!this.isValid(l,u,d))throw c.replace(/\{0\}/,this.local.name);var h=this.newDate(l,u,d);return this._validateLevel--,h}catch(p){throw this._validateLevel--,p}}}),n.prototype=new r,a(n.prototype,{name:"Gregorian",jdEpoch:17214255e-1,daysPerMonth:[31,28,31,30,31,30,31,31,30,31,30,31],hasYearZero:!1,minMonth:1,firstMonth:1,minDay:1,regionalOptions:{"":{name:"Gregorian",epochs:["BCE","CE"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],digits:null,dateFormat:"mm/dd/yyyy",firstDay:0,isRTL:!1}},leapYear:function(l){var u=this._validate(l,this.minMonth,this.minDay,o.local.invalidYear||o.regionalOptions[""].invalidYear);return(l=u.year()+(u.year()<0?1:0))%4==0&&(l%100!=0||l%400==0)},weekOfYear:function(l,u,d){var c=this.newDate(l,u,d);return c.add(4-(c.dayOfWeek()||7),"d"),Math.floor((c.dayOfYear()-1)/7)+1},daysInMonth:function(l,u){var d=this._validate(l,u,this.minDay,o.local.invalidMonth||o.regionalOptions[""].invalidMonth);return this.daysPerMonth[d.month()-1]+(d.month()===2&&this.leapYear(d.year())?1:0)},weekDay:function(l,u,d){return(this.dayOfWeek(l,u,d)||7)<6},toJD:function(l,u,d){var c=this._validate(l,u,d,o.local.invalidDate||o.regionalOptions[""].invalidDate);l=c.year(),u=c.month(),d=c.day(),l<0&&l++,u<3&&(u+=12,l--);var h=Math.floor(l/100),p=2-h+Math.floor(h/4);return Math.floor(365.25*(l+4716))+Math.floor(30.6001*(u+1))+d+p-1524.5},fromJD:function(l){var u=Math.floor(l+.5),d=Math.floor((u-186721625e-2)/36524.25),c=1524+(d=u+1+d-Math.floor(d/4)),h=Math.floor((c-122.1)/365.25),p=Math.floor(365.25*h),g=Math.floor((c-p)/30.6001),y=c-p-Math.floor(30.6001*g),b=g-(g>13.5?13:1),m=h-(b>2.5?4716:4715);return m<=0&&m--,this.newDate(m,b,y)},toJSDate:function(l,u,d){var c=this._validate(l,u,d,o.local.invalidDate||o.regionalOptions[""].invalidDate),h=new Date(c.year(),c.month()-1,c.day());return h.setHours(0),h.setMinutes(0),h.setSeconds(0),h.setMilliseconds(0),h.setHours(h.getHours()>12?h.getHours()+2:0),h},fromJSDate:function(l){return this.newDate(l.getFullYear(),l.getMonth()+1,l.getDate())}});var o=w.exports=new f;o.cdate=e,o.baseCalendar=r,o.calendars.gregorian=n},94338:function(w,s,t){var a=t(56131),f=t(63489);a(f.regionalOptions[""],{invalidArguments:"Invalid arguments",invalidFormat:"Cannot format a date from another calendar",missingNumberAt:"Missing number at position {0}",unknownNameAt:"Unknown name at position {0}",unexpectedLiteralAt:"Unexpected literal at position {0}",unexpectedText:"Additional text found at end"}),f.local=f.regionalOptions[""],a(f.cdate.prototype,{formatDate:function(e,i){return typeof e!="string"&&(i=e,e=""),this._calendar.formatDate(e||"",this,i)}}),a(f.baseCalendar.prototype,{UNIX_EPOCH:f.instance().newDate(1970,1,1).toJD(),SECS_PER_DAY:86400,TICKS_EPOCH:f.instance().jdEpoch,TICKS_PER_DAY:864e9,ATOM:"yyyy-mm-dd",COOKIE:"D, dd M yyyy",FULL:"DD, MM d, yyyy",ISO_8601:"yyyy-mm-dd",JULIAN:"J",RFC_822:"D, d M yy",RFC_850:"DD, dd-M-yy",RFC_1036:"D, d M yy",RFC_1123:"D, d M yyyy",RFC_2822:"D, d M yyyy",RSS:"D, d M yy",TICKS:"!",TIMESTAMP:"@",W3C:"yyyy-mm-dd",formatDate:function(e,i,r){if(typeof e!="string"&&(r=i,i=e,e=""),!i)return"";if(i.calendar()!==this)throw f.local.invalidFormat||f.regionalOptions[""].invalidFormat;e=e||this.local.dateFormat;for(var n,o,l,u=(r=r||{}).dayNamesShort||this.local.dayNamesShort,d=r.dayNames||this.local.dayNames,c=r.monthNumbers||this.local.monthNumbers,h=r.monthNamesShort||this.local.monthNamesShort,p=r.monthNames||this.local.monthNames,g=(r.calculateWeek||this.local.calculateWeek,function(F,N){for(var D=1;S+D<e.length&&e.charAt(S+D)===F;)D++;return S+=D-1,Math.floor(D/(N||1))>1}),y=function(F,N,D,j){var B=""+N;if(g(F,j))for(;B.length<D;)B="0"+B;return B},b=this,m=function(F){return typeof c=="function"?c.call(b,F,g("m")):_(y("m",F.month(),2))},v=function(F,N){return N?typeof p=="function"?p.call(b,F):p[F.month()-b.minMonth]:typeof h=="function"?h.call(b,F):h[F.month()-b.minMonth]},x=this.local.digits,_=function(F){return r.localNumbers&&x?x(F):F},T="",C=!1,S=0;S<e.length;S++)if(C)e.charAt(S)!=="'"||g("'")?T+=e.charAt(S):C=!1;else switch(e.charAt(S)){case"d":T+=_(y("d",i.day(),2));break;case"D":T+=(n=i.dayOfWeek(),o=u,l=d,g("D")?l[n]:o[n]);break;case"o":T+=y("o",i.dayOfYear(),3);break;case"w":T+=y("w",i.weekOfYear(),2);break;case"m":T+=m(i);break;case"M":T+=v(i,g("M"));break;case"y":T+=g("y",2)?i.year():(i.year()%100<10?"0":"")+i.year()%100;break;case"Y":g("Y",2),T+=i.formatYear();break;case"J":T+=i.toJD();break;case"@":T+=(i.toJD()-this.UNIX_EPOCH)*this.SECS_PER_DAY;break;case"!":T+=(i.toJD()-this.TICKS_EPOCH)*this.TICKS_PER_DAY;break;case"'":g("'")?T+="'":C=!0;break;default:T+=e.charAt(S)}return T},parseDate:function(e,i,r){if(i==null)throw f.local.invalidArguments||f.regionalOptions[""].invalidArguments;if((i=typeof i=="object"?i.toString():i+"")==="")return null;e=e||this.local.dateFormat;var n=(r=r||{}).shortYearCutoff||this.shortYearCutoff;n=typeof n!="string"?n:this.today().year()%100+parseInt(n,10);for(var o=r.dayNamesShort||this.local.dayNamesShort,l=r.dayNames||this.local.dayNames,u=r.parseMonth||this.local.parseMonth,d=r.monthNumbers||this.local.monthNumbers,c=r.monthNamesShort||this.local.monthNamesShort,h=r.monthNames||this.local.monthNames,p=-1,g=-1,y=-1,b=-1,m=-1,v=!1,x=!1,_=function(M,O){for(var q=1;B+q<e.length&&e.charAt(B+q)===M;)q++;return B+=q-1,Math.floor(q/(O||1))>1},T=function(M,O){var q=_(M,O),tt=[2,3,q?4:2,q?4:2,10,11,20]["oyYJ@!".indexOf(M)+1],E=new RegExp("^-?\\d{1,"+tt+"}"),z=i.substring(j).match(E);if(!z)throw(f.local.missingNumberAt||f.regionalOptions[""].missingNumberAt).replace(/\{0\}/,j);return j+=z[0].length,parseInt(z[0],10)},C=this,S=function(){if(typeof d=="function"){_("m");var M=d.call(C,i.substring(j));return j+=M.length,M}return T("m")},F=function(M,O,q,tt){for(var E=_(M,tt)?q:O,z=0;z<E.length;z++)if(i.substr(j,E[z].length).toLowerCase()===E[z].toLowerCase())return j+=E[z].length,z+C.minMonth;throw(f.local.unknownNameAt||f.regionalOptions[""].unknownNameAt).replace(/\{0\}/,j)},N=function(){if(typeof h=="function"){var M=_("M")?h.call(C,i.substring(j)):c.call(C,i.substring(j));return j+=M.length,M}return F("M",c,h)},D=function(){if(i.charAt(j)!==e.charAt(B))throw(f.local.unexpectedLiteralAt||f.regionalOptions[""].unexpectedLiteralAt).replace(/\{0\}/,j);j++},j=0,B=0;B<e.length;B++)if(x)e.charAt(B)!=="'"||_("'")?D():x=!1;else switch(e.charAt(B)){case"d":b=T("d");break;case"D":F("D",o,l);break;case"o":m=T("o");break;case"w":T("w");break;case"m":y=S();break;case"M":y=N();break;case"y":var J=B;v=!_("y",2),B=J,g=T("y",2);break;case"Y":g=T("Y",2);break;case"J":p=T("J")+.5,i.charAt(j)==="."&&(j++,T("J"));break;case"@":p=T("@")/this.SECS_PER_DAY+this.UNIX_EPOCH;break;case"!":p=T("!")/this.TICKS_PER_DAY+this.TICKS_EPOCH;break;case"*":j=i.length;break;case"'":_("'")?D():x=!0;break;default:D()}if(j<i.length)throw f.local.unexpectedText||f.regionalOptions[""].unexpectedText;if(g===-1?g=this.today().year():g<100&&v&&(g+=n===-1?1900:this.today().year()-this.today().year()%100-(g<=n?0:100)),typeof y=="string"&&(y=u.call(this,g,y)),m>-1){y=1,b=m;for(var P=this.daysInMonth(g,y);b>P;P=this.daysInMonth(g,y))y++,b-=P}return p>-1?this.fromJD(p):this.newDate(g,y,b)},determineDate:function(e,i,r,n,o){r&&typeof r!="object"&&(o=n,n=r,r=null),typeof n!="string"&&(o=n,n="");var l=this;return i=i?i.newDate():null,e==null?i:typeof e=="string"?function(u){try{return l.parseDate(n,u,o)}catch{}for(var d=((u=u.toLowerCase()).match(/^c/)&&r?r.newDate():null)||l.today(),c=/([+-]?[0-9]+)\s*(d|w|m|y)?/g,h=c.exec(u);h;)d.add(parseInt(h[1],10),h[2]||"d"),h=c.exec(u);return d}(e):typeof e=="number"?isNaN(e)||e===1/0||e===-1/0?i:l.today().add(e,"d"):l.newDate(e)}})},69862:function(){},40964:function(){},72077:function(w,s,t){var a=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],f=typeof globalThis>"u"?t.g:globalThis;w.exports=function(){for(var e=[],i=0;i<a.length;i++)typeof f[a[i]]=="function"&&(e[e.length]=a[i]);return e}}},G={};function st(w){var s=G[w];if(s!==void 0)return s.exports;var t=G[w]={exports:{}};return I[w].call(t.exports,t,t.exports,st),t.exports}return st.d=function(w,s){for(var t in s)st.o(s,t)&&!st.o(w,t)&&Object.defineProperty(w,t,{enumerable:!0,get:s[t]})},st.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),st.o=function(w,s){return Object.prototype.hasOwnProperty.call(w,s)},st.r=function(w){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(w,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(w,"__esModule",{value:!0})},st(760)}()})})($s);var Hd=$s.exports;const oi=ni(Hd);function qd(W){const A=document.createElement("a");A.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(Yd(W).toCSV())),A.setAttribute("download","data.csv"),A.style.display="none",document.body.appendChild(A),A.click(),document.body.removeChild(A)}function Yd(W){const A=W.getColumnNames(),I=A.map(ii),G={};for(const[st,w]of A.entries()){const s=I[st];w!==s&&(G[w]=s)}return W.renameSeries(G)}function Ro(W,A,I=0){const G=[],st=A(W.index_name!==void 0?W.index_name:`x_${I}`);if(Array.isArray(W.data))for(const[w,s]of W.data){const t={[st]:w};if(s===null||typeof s!="object")t.y=s,G.push(t);else{const a=Ro(s,A,I+1);for(const f of a)G.push({...t,...f})}}else for(const w in W.data){const s={[st]:w},t=W.data[index];if(t===null||typeof t!="object")s.y=t,G.push(s);else{const a=Ro(t,A,I+1);for(const f of a)G.push(...s,...f)}}return G}function Vd(W,A,I){if(A!=="map")throw new Error("Unknown parameter value type.");return Ro(W,I)}const Js=Intl.DateTimeFormat([],{dateStyle:"short",timeStyle:"short"}),Wd={props:{dataFrame:{type:Object,required:!0}},setup(W){const A=Na(function(){return W.dataFrame===null?[]:W.dataFrame.getColumnNames().map(ii)}),I=Na(function(){return W.dataFrame===null?[]:W.dataFrame.toRows()});return{header:A,dataTable:I}}};function Gd(W,A,I,G,st,w){const s=bn("n-th"),t=bn("n-tr"),a=bn("n-thead"),f=bn("n-td"),e=bn("n-tbody"),i=bn("n-table");return In(),ar(i,{size:"tiny"},{default:hn(()=>[mn(a,null,{default:hn(()=>[mn(t,null,{default:hn(()=>[(In(!0),Vr(Kr,null,Qr(G.header,(r,n)=>(In(),ar(s,{key:n},{default:hn(()=>[hr(Da(r),1)]),_:2},1024))),128))]),_:1})]),_:1}),mn(e,null,{default:hn(()=>[(In(!0),Vr(Kr,null,Qr(G.dataTable,(r,n)=>(In(),ar(t,{key:n},{default:hn(()=>[(In(!0),Vr(Kr,null,Qr(r,(o,l)=>(In(),ar(f,{key:l},{default:hn(()=>[hr(Da(o),1)]),_:2},1024))),128))]),_:2},1024))),128))]),_:1})]),_:1})}const Zd=ya(Wd,[["render",Gd]]);function $d(W,A,I){const G=Yi(W,A,{line:{shape:"hvh"}});oi.newPlot(I,G)}function Jd(W,A,I){const G=Yi(W,A,{line:{shape:"hvh"},stackgroup:"a"});oi.newPlot(I,G)}function Xd(W,A,I){const G=Yi(W,A,{type:"bar"});oi.newPlot(I,G)}function Kd(W,A,I){const G=Yi(W,A,{type:"bar"},{barmode:"stack"});oi.newPlot(I,G)}function Qd(W,A,I){const G=Pd(W,A);oi.newPlot(I,G)}function th(W,A,I){switch(A.plot_type){case"bar":Xd(W,A.dimensions,I);break;case"stacked bar":Kd(W,A.dimensions,I);break;case"line":$d(W,A.dimensions,I);break;case"stacked line":Jd(W,A.dimensions,I);break;case"heatmap":Qd(W,A.dimensions,I);break;case"table":break;default:throw Error(`Unknown plot type '${A.plot_type}'`)}}function eh(W,A,I,G,st,w,s,t){if(t.value="",s.value=pr.state.loading,G.length===0)return;const a=I.selection.entity_class;if(a.length===0)return;const f=new Map;for(const r in I.selection){if(!qi(r))continue;const n=new Number(r.split("_")[1]);f.set(n,I.selection[r])}const e=new Array(f.size);for(const[r,n]of f)e[r]=n;const i=I.selection.parameter;i.length!==0&&vc(W,A,G,a,e,i).then(function(r){const n=r.values,o=[],l=[ia,Yr,Ni,Ia];let u=0;const d=new Map;for(const y of n){u=Math.max(u,y.objects.length);const b=Vd(JSON.parse(y.value),y.type,v=>Hi+v);for(const[v,x]of Object.keys(b[0]).slice(0,-1).entries()){const _=d.get(x);(_===void 0||v>_)&&d.set(x,v)}const m={};for(let v=0;v!==y.objects.length;++v)m[ei(v)]=y.objects[v];for(const v of b)o.push({[ia]:y.class,[Yr]:y.parameter,[Ni]:y.scenario,[Ia]:new Date(y.time_stamp),...m,...v})}const c=[...d.keys()];c.sort((y,b)=>d.get(y)-d.get(b));const h=[];for(let y=0;y!=u;++y)h.push(ei(y));const p=l.concat(h).concat(c);p.push("y");let g=new Ir({columnNames:p,values:o});g=zd(g,I.selection),g=g.generateSeries({[Ia]:y=>Js.format(y[Ia])}),st.value=g,s.value=pr.state.ready,uc(()=>th(g,I,w))}).catch(function(r){t.value=r.message,s.value=pr.state.error})}function Ao(W,A,I,G,st,w,s,t){I.selection.entity_class.length===0||I.selection.parameter.length===0||eh(W,A,I,G,st,w,s,t)}const nh={props:{identifier:{type:Number,required:!0},projectId:{type:Number,required:!0},analysisUrl:{type:String,required:!0},scenarioExecutionIds:{type:Array,required:!0},plotSpecification:{type:Object,required:!0}},components:{fetchable:pr,"plot-table":Zd},setup(W){const A=tr(pr.state.waiting),I=tr(""),G=`plot-${W.identifier}`,st=Na(()=>W.plotSpecification.plot_type!=="table"),w=tr(null);return ti(Si(W,"scenarioExecutionIds"),function(){Ao(W.projectId,W.analysisUrl,W.plotSpecification,W.scenarioExecutionIds,w,G,A,I)}),ti(()=>Si(W,"plotSpecification"),function(){Ao(W.projectId,W.analysisUrl,W.plotSpecification,W.scenarioExecutionIds,w,G,A,I)},{deep:!0}),ri(function(){Ao(W.projectId,W.analysisUrl,W.plotSpecification,W.scenarioExecutionIds,w,G,A,I)}),{state:A,errorMessage:I,plotId:G,showGraph:st,currentDataFrame:w,download(){qd(w.value)}}}},rh=["id"];function ah(W,A,I,G,st,w){const s=bn("n-button"),t=bn("n-space"),a=bn("plot-table"),f=bn("fetchable");return In(),ar(f,{state:G.state,"error-message":G.errorMessage},{default:hn(()=>[mn(t,{vertical:""},{default:hn(()=>[mn(t,null,{default:hn(()=>[mn(s,{onClick:G.download,size:"small"},{default:hn(()=>[hr(" Download CSV ")]),_:1},8,["onClick"])]),_:1}),G.showGraph?(In(),Vr("div",{key:0,id:G.plotId},null,8,rh)):(In(),ar(a,{key:1,"data-frame":G.currentDataFrame},null,8,["data-frame"]))]),_:1})]),_:1},8,["state","error-message"])}const ih=ya(nh,[["render",ah]]);const oh=new Map([[ia,"Entity class"],[Ni,"Scenario"],[Ia,"Run time"]]);function us(W,A){return A.priority-W.priority}function ki(W,A,I){A!=="x1"&&W===I.x1&&(I.x1=null),A!=="x2"&&W===I.x2&&(I.x2=null),A!=="x3"&&W===I.x3&&(I.x3=null),A!=="separate_window"&&W===I.separate_window&&(I.separate_window=null)}async function lh(W,A,I,G,st,w,s){const t=new Set(G.selection.entity_class),a=new Set(G.selection.parameter),f=new Set,e=new Set,i=new Set;for(const[l,u]of w.entries())if(Hs(l)){for(let d=u.value.length-1;d!=-1;--d){const c=u.value[d];for(let h=c.parents.length-1;h!=-1;--h){const p=c.parents[h],g=t.has(p.entityClass),y=a.has(p.parameter);if(!g||!y){c.parents.splice(h,1);continue}g&&f.add(p.entityClass),y&&e.add(p.parameter)}c.parents.length===0&&u.value.splice(d,1)}if(u.value.length===0){i.add(l),w.delete(l);for(const[d,c]of st.value.entries())if(c.type===l){st.value.splice(d,1);break}for(const[d,c]of s.value.entries())if(c.value===l){s.value.splice(d,1);break}for(const d in G.dimensions)if(G.dimensions[d]===l){G.dimensions[d]=null;break}}}for(let l=s.value.length-1;l!=-1;--l)i.has(s.value[l].value)&&s.splice(l,1);if(t.size===0||a.size===0)return;const r=Bo(t,f),n=Bo(a,e);if(r.size===0&&n.size===0)return;let o=[];r.size===0?o=[...n]:o=[...a],mc(W,A,I,[...t],o).then(function(l){const u=l.indexes,d=new Set;for(const c of s.value)d.add(c.value);for(const c of u){c.index_name=Hi+c.index_name,d.has(c.index_name)||(s.value.push({label:Wo(c.index_name),value:c.index_name}),d.add(c.index_name)),G.selection[c.index_name]===void 0&&(G.selection[c.index_name]=[]);let h=w.get(c.index_name);h===void 0&&(h=tr([]),w.set(c.index_name,h));const p=new Map;for(const y of h.value)p.set(y.label,y.parents);for(const y of c.indexes){const b=[],m=(x,_)=>x.map((T,C)=>[T,_[C]]);for(const[x,_]of m(c.class_names,c.parameter_names))b.push({entityClass:x,parameter:_});const v=p.get(y);v!==void 0?v.splice(v.length,0,...b):h.value.push({label:y,parents:b})}let g=!1;for(const y of st.value)if(y.type===c.index_name){y.priority=ls(c.depth),g=!0;break}g||st.value.push(Sd(c.index_name,h,ls(c.depth)))}})}async function sh(W,A,I,G,st,w,s){const t=new Set(I.selection.entity_class),a=new Set;for(const[o,l]of st.entries())if(qi(o)||o===Yr)for(const u of l.value)for(const d of u.parents)a.add(d.entityClass);const f=Bo(t,a);if(f.length===0)return;const e=xc(W,A,f),r=await bc(W,A,f);bd(r.parameters,st,G,I,w,s);const n=await e;xd(n.entities,st,G,I,w,s),s()}async function uh(W,A,I,G,st,w,s){Fd(I,st),Od(G),sh(W,A,I,G,st,w,s)}const ch={props:{identifier:{type:Number,required:!0},projectId:{type:Number,required:!0},analysisUrl:{type:String,required:!0},scenarioExecutionIds:{type:Array,required:!0}},components:{"plot-figure":ih},setup(W){const A=[];for(const[i,r]of oh)A.push({label:r,value:i,protected:!0});const I=tr(A),G=new Map([[ia,tr([])]]),st=Ja.get(W.identifier),w=function(){lh(W.projectId,W.analysisUrl,W.scenarioExecutionIds,st,t,G,I).finally(function(){t.value.sort(us),I.value.sort(Po)})},s=function(){uh(W.projectId,W.analysisUrl,st,t,G,I,w).finally(function(){t.value.sort(us),I.value.sort(Po)})},t=tr([Md(G.get(ia),s)]),a=[{label:"Line",value:"line"},{label:"Stacked line",value:"stacked line"},{label:"Bars",value:"bar"},{label:"Stacked bars",value:"stacked bar"},{label:"Heatmap",value:"heatmap"},{label:"Table",value:"table"}],f=Na(function(){return W.scenarioExecutionIds.length===0?"Select scenario from the left.":st.selection.entity_class.length===0?"Select entity classes from above.":st.selection.parameter.length===0?"Select parameters from above.":""}),e=Na(function(){return W.scenarioExecutionIds.length>0&&st.selection.entity_class.length>0&&st.selection.parameter.length>0});return ti(Si(W,"scenarioExecutionIds"),function(){w()}),ri(function(){gc(W.projectId,W.analysisUrl).then(function(i){const r=i.entity_classes,n=G.get(ia),o=new Set;for(const l of n.value)o.add(l.label);for(const l of r)o.has(l.name)||n.value.push({label:l.name});if(st.selection.entity_class.length>0){const l=new Map;for(const d of n.value)l.set(d.value,d);const u=[];for(const d of st.selection.entity_class)u.push(l.get(d));s(st.selection.entity_class)}})}),{availableIndexNames:I,selectionSelects:t,plotSpecification:st,plotTypeOptions:a,plottingPossible:e,cannotPlotMessage:f,resolveDimensionConflictsX1(i){ki(i,"x1",st.dimensions)},resolveDimensionConflictsX2(i){ki(i,"x2",st.dimensions)},resolveDimensionConflictsX3(i){ki(i,"x3",st.dimensions)},resolveDimensionConflictsSeparateWindow(i){ki(i,"separate_window",st.dimensions)}}}};function fh(W,A,I,G,st,w){const s=bn("n-text"),t=bn("n-select"),a=bn("n-space"),f=bn("n-thing"),e=bn("plot-figure"),i=bn("n-empty");return In(),ar(a,{vertical:""},{default:hn(()=>[mn(f,null,{header:hn(()=>[hr(" Dimensions ")]),default:hn(()=>[mn(a,null,{default:hn(()=>[mn(a,{vertical:""},{default:hn(()=>[mn(s,{strong:""},{default:hn(()=>[hr("x-axis:")]),_:1}),mn(t,{class:"dimension-select",value:G.plotSpecification.dimensions.x1,"onUpdate:value":[A[0]||(A[0]=r=>G.plotSpecification.dimensions.x1=r),G.resolveDimensionConflictsX1],filterable:"",tag:"",clearable:"",placeholder:"Use default",options:G.availableIndexNames,"consistent-menu-width":!1},null,8,["value","options","onUpdate:value"])]),_:1}),mn(a,{vertical:""},{default:hn(()=>[mn(s,{strong:""},{default:hn(()=>[hr("1st x-category:")]),_:1}),mn(t,{class:"dimension-select",value:G.plotSpecification.dimensions.x2,"onUpdate:value":[A[1]||(A[1]=r=>G.plotSpecification.dimensions.x2=r),G.resolveDimensionConflictsX2],filterable:"",tag:"",clearable:"",placeholder:"No category",options:G.availableIndexNames,"consistent-menu-width":!1},null,8,["value","options","onUpdate:value"])]),_:1}),mn(a,{vertical:""},{default:hn(()=>[mn(s,{strong:""},{default:hn(()=>[hr("2nd x-category:")]),_:1}),mn(t,{class:"dimension-select",value:G.plotSpecification.dimensions.x3,"onUpdate:value":[A[2]||(A[2]=r=>G.plotSpecification.dimensions.x3=r),G.resolveDimensionConflictsX3],filterable:"",tag:"",clearable:"",placeholder:"No category",options:G.availableIndexNames,"consistent-menu-width":!1},null,8,["value","options","onUpdate:value"])]),_:1}),mn(a,{vertical:""},{default:hn(()=>[mn(s,{strong:""},{default:hn(()=>[hr("Subplot by:")]),_:1}),mn(t,{class:"dimension-select",value:G.plotSpecification.dimensions.separate_window,"onUpdate:value":[A[3]||(A[3]=r=>G.plotSpecification.dimensions.separate_window=r),G.resolveDimensionConflictsSeparateWindow],filterable:"",tag:"",clearable:"",placeholder:"No subplots",options:G.availableIndexNames,"consistent-menu-width":!1},null,8,["value","options","onUpdate:value"])]),_:1})]),_:1})]),_:1}),mn(f,null,{header:hn(()=>[hr(" Selection ")]),default:hn(()=>[mn(a,null,{default:hn(()=>[(In(!0),Vr(Kr,null,Qr(G.selectionSelects,(r,n)=>(In(),ar(a,{vertical:"",key:n},{default:hn(()=>[mn(s,{strong:""},{default:hn(()=>[hr(Da(r.label)+":",1)]),_:2},1024),mn(t,{class:"multi-item-select","value-field":"label",value:G.plotSpecification.selection[r.type],"onUpdate:value":[o=>G.plotSpecification.selection[r.type]=o,r.updateCallback],multiple:"",filterable:"",tag:"",clearable:"",size:"small",placeholder:r.placeholder,options:r.options,"consistent-menu-width":!1,"max-tag-count":5},null,8,["value","onUpdate:value","placeholder","options"])]),_:2},1024))),128))]),_:1})]),_:1}),mn(f,null,{header:hn(()=>[hr(" Plot type ")]),default:hn(()=>[mn(a,{align:"end"},{default:hn(()=>[mn(t,{class:"plot-type-select",value:G.plotSpecification.plot_type,"onUpdate:value":A[4]||(A[4]=r=>G.plotSpecification.plot_type=r),options:G.plotTypeOptions,"consistent-menu-width":!1},null,8,["value","options"])]),_:1})]),_:1}),G.plottingPossible?(In(),ar(e,{key:0,identifier:I.identifier,projectId:I.projectId,analysisUrl:I.analysisUrl,"scenario-execution-ids":I.scenarioExecutionIds,"plot-specification":G.plotSpecification},null,8,["identifier","projectId","analysisUrl","scenario-execution-ids","plot-specification"])):(In(),ar(i,{key:1,description:G.cannotPlotMessage},null,8,["description"]))]),_:1})}const dh=ya(ch,[["render",fh]]),hh={props:{projectId:{type:Number,required:!0},analysisUrl:{type:String,required:!0}},emits:["busy","ready"],components:{fetchable:pr,"keyed-card":Ud,"plot-editor":dh},setup(W,A){const I=tr(pr.state.loading),G=tr(""),st=tr([]),w=tr([]);let s=!1;const t=ds();return ti(Ja,function(a){if(s)return;const f={plots:a.asArray()};wc(W.projectId,W.analysisUrl,f).catch(function(e){t.warning(e.message)})}),ri(function(){s=!0,_c(W.projectId,W.analysisUrl).then(function(a){const f=JSON.parse(a.plot_specification);for(const e of f.plots){const i=Ja.add(e);st.value.push({identifier:i})}}).catch(function(a){t.warning(a.message)}).finally(function(){I.value=pr.state.ready,s=!1}),A.emit("ready")}),{state:I,errorMessage:G,boxes:st,scenarioExecutionIds:w,addBox(){const a=Ja.new();st.value.push({identifier:a})},dropBox(a){for(const[f,e]of st.value.entries())if(e.identifier===a){st.value.splice(f,1);break}Ja.delete(a)},setScenarioExecutionIds(a){w.value=a}}}};function ph(W,A,I,G,st,w){const s=bn("plot-editor"),t=bn("keyed-card"),a=bn("n-grid-item"),f=bn("n-button"),e=bn("n-grid"),i=bn("fetchable");return In(),ar(i,{state:G.state,"error-message":G.errorMessage},{default:hn(()=>[mn(e,{cols:"1"},{default:hn(()=>[(In(!0),Vr(Kr,null,Qr(G.boxes,r=>(In(),ar(a,{key:r.identifier},{default:hn(()=>[mn(t,{fingerprint:r.identifier,onClose:G.dropBox},{default:hn(()=>[mn(s,{identifier:r.identifier,"project-id":I.projectId,"analysis-url":I.analysisUrl,"scenario-execution-ids":G.scenarioExecutionIds},null,8,["identifier","project-id","analysis-url","scenario-execution-ids"])]),_:2},1032,["fingerprint","onClose"])]),_:2},1024))),128)),mn(a,null,{default:hn(()=>[mn(f,{onClick:G.addBox},{default:hn(()=>[hr(" New figure ")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["state","error-message"])}const yh=ya(hh,[["render",ph]]);let ji=null;function vh(W,A,I,G,st,w,s){ji=I;const t=st.value.findIndex(i=>i.name===G),a=st.value[t],f=a.executions.findIndex(i=>i.key===I),e=a.executions[f];e.disabled=!0,e.deleteDisabled=!0,e.deleting=!0,Tc(W,A,I).then(function(){a.executions.splice(f,1),a.executions.length===0&&st.value.splice(t,1);const i=a.selected.findIndex(r=>r===I);i!==-1&&(a.selected.splice(i,1),w("scenarioSelect",null))}).catch(function(i){e.disabled=!1,e.deleteDisabled=!1,e.deleting=!1,s.error(i.message)}).finally(function(){ji=null})}const gh={props:{projectId:{type:Number,required:!0},runUrl:{type:String,required:!0},summaryUrl:{type:String,required:!0},isMultiSelection:{type:Boolean,required:!0}},emits:["scenarioSelect"],components:{fetchable:pr},setup(W,A){const I=tr([]),G=tr(pr.state.loading),st=tr(""),w=Na(()=>I.value.length>0),s=ds();ti(Si(W,"isMultiSelection"),function(){if(!W.isMultiSelection){let a=!1;for(const f of I.value)f.selected.length>0&&(a?f.selected.length=0:(f.selected=[f.selected[0]],a=!0))}});const t=function(a,f,e){if(ji!==null){const r=a.findIndex(n=>n===ji);r!==-1&&(a.splice(r,1),f.splice(r,1))}if(a.length===0&&!W.isMultiSelection)return;const i=I.value.find(r=>r.name===e);if(W.isMultiSelection){i.selected=a;const r=[];for(const n of I.value){if(n.selected.length===0)continue;const o=new Set(n.selected);for(const l of n.executions)o.has(l.key)&&r.push({scenario:l.scenario,scenarioExecutionId:l.key})}A.emit("scenarioSelect",r)}else{for(const n of I.value)n.selected.length=0;i.selected=[a[0]];const r=f[0];A.emit("scenarioSelect",[{scenario:r.scenario,scenarioExecutionId:r.key}])}};return ri(function(){Ac(W.projectId,W.summaryUrl).then(function(a){for(const f in a.scenarios){const e=[];for(const n of a.scenarios[f])e.push({timeStamp:new Date(n.time_stamp),scenarioExecutionId:n.scenario_execution_id});const i=[];for(let n=0;n<e.length;++n){const o=e[n],l=Js.format(o.timeStamp),u=n==0?l.concat(" (latest)"):l;i.push({label:u,key:o.scenarioExecutionId,disabled:!1,deleteDisabled:!1,deleting:!1,scenario:f})}const r={name:f,executions:i,selected:[],emitScenarioSelect:(n,o)=>t(n,o,f)};I.value.push(r)}G.value=pr.state.ready}).catch(function(a){st.value=a.message,G.value=pr.state.error})}),{scenarios:I,hasScenarios:w,state:G,errorMessage:st,setSelectedBusy(a){for(const f of I.value)if(f.selected.length>0)for(const e of f.executions)f.selected.find(i=>i===e.key)!==void 0?e.deleteDisabled=a:e.deleteDisabled&&(e.deleteDisabled=!1);else for(const e of f.executions)e.deleteDisabled&&(e.deleteDisabled=!1)},renderSuffix(a){return cc(fc,{size:"tiny",disabled:a.option.deleteDisabled,loading:a.option.deleting,onClick(){a.option.deleteDisabled=!0,vh(W.projectId,W.summaryUrl,a.option.key,a.option.scenario,I,A.emit,s)}},{default:()=>"Delete"})}}}};function mh(W,A,I,G,st,w){const s=bn("n-a"),t=bn("n-p"),a=bn("n-tree"),f=bn("n-thing"),e=bn("n-list-item"),i=bn("n-list"),r=bn("fetchable");return In(),ar(r,{state:G.state,"error-message":G.errorMessage},{default:hn(()=>[G.hasScenarios?(In(),ar(i,{key:1},{default:hn(()=>[(In(!0),Vr(Kr,null,Qr(G.scenarios,(n,o)=>(In(),ar(e,{key:o},{default:hn(()=>[mn(f,{title:n.name},{default:hn(()=>[mn(a,{data:n.executions,selectable:"",multiple:I.isMultiSelection,"block-line":"","selected-keys":n.selected,"render-suffix":G.renderSuffix,"onUpdate:selectedKeys":n.emitScenarioSelect},null,8,["data","multiple","selected-keys","render-suffix","onUpdate:selectedKeys"])]),_:2},1032,["title"])]),_:2},1024))),128))]),_:1})):(In(),ar(t,{key:0},{default:hn(()=>[hr(" No scenario results found. Go to the "),mn(s,{href:I.runUrl},{default:hn(()=>[hr("Run page")]),_:1},8,["href"]),hr(" to solve the model. ")]),_:1}))]),_:1},8,["state","error-message"])}const xh=ya(gh,[["render",mh]]);function cs(W,A){const I=function(G,st){const w=new Array(st-G.length);w.fill(""),G.splice(G.length,0,...w)};W.header!==null&&W.header.length<A&&I(W.header,A);for(const G of W.rows)G.length<A&&I(G,A)}function bh(W){const A=function(){return{title:"",header:[""],rows:[]}},I=[];let G=null,st=0,w=-1;for(const s of W){if(s.length===0){G!==null&&cs(G,w),G=A(),I.push(G),st=0;continue}st===0?(G.title=s[0],s.length>1?G.header.splice(G.header.length,0,...s.slice(1)):G.header=null):G.rows.push(s),w=Math.max(w,s.length),++st}return G!==null&&cs(G,w),I}const _h={props:{projectId:{type:Number,required:!0},summaryUrl:{type:String,required:!0}},emits:["busy","ready"],components:{fetchable:pr},setup(W,A){const I=tr(""),G=tr([]),st=tr(pr.state.waiting),w=tr("");return ri(function(){A.emit("ready")}),{title:I,tables:G,state:st,errorMessage:w,loadSummary(s){if(s===null){I.value="",G.value.length=0,st.value=pr.state.waiting;return}A.emit("busy",!0),st.value=pr.state.loading,kc(W.projectId,W.summaryUrl,s.scenarioExecutionId).then(function(t){const a=t.summary;if(a.length===0)return;const f=a.splice(0,1);I.value=f[0][0],a.length!==0&&(G.value=bh(a))}).catch(function(t){w.value=t.message,st.value=pr.state.error}).finally(function(){st.value===pr.state.loading&&(st.value=pr.state.ready),A.emit("busy",!1)})}}}};function wh(W,A,I,G,st,w){const s=bn("n-text"),t=bn("n-th"),a=bn("n-tr"),f=bn("n-thead"),e=bn("n-td"),i=bn("n-tbody"),r=bn("n-table"),n=bn("n-list-item"),o=bn("n-list"),l=bn("n-space"),u=bn("fetchable");return In(),ar(u,{state:G.state,"error-message":G.errorMessage},{default:hn(()=>[mn(l,{vertical:""},{default:hn(()=>[mn(s,{strong:""},{default:hn(()=>[hr(Da(G.title),1)]),_:1}),mn(o,null,{default:hn(()=>[(In(!0),Vr(Kr,null,Qr(G.tables,(d,c)=>(In(),ar(n,{key:c},{default:hn(()=>[mn(s,{type:"info"},{default:hn(()=>[hr(Da(d.title),1)]),_:2},1024),mn(r,{bordered:!1,size:"small"},{default:hn(()=>[dc(mn(f,null,{default:hn(()=>[mn(a,null,{default:hn(()=>[(In(!0),Vr(Kr,null,Qr(d.header,(h,p)=>(In(),ar(t,{key:p},{default:hn(()=>[hr(Da(h),1)]),_:2},1024))),128))]),_:2},1024)]),_:2},1536),[[hc,d.header!==null]]),mn(i,null,{default:hn(()=>[(In(!0),Vr(Kr,null,Qr(d.rows,(h,p)=>(In(),ar(a,{key:p},{default:hn(()=>[(In(!0),Vr(Kr,null,Qr(h,(g,y)=>(In(),ar(e,{key:y},{default:hn(()=>[hr(Da(g),1)]),_:2},1024))),128))]),_:2},1024))),128))]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1},8,["state","error-message"])}const Ah=ya(_h,[["render",wh]]);const Th={props:{indexUrl:{type:String,required:!0},editUrl:{type:String,required:!0},projectName:{type:String,required:!0},projectUrl:{type:String,required:!0},projectId:{type:Number,required:!0},runUrl:{type:String,required:!0},resultsUrl:{type:String,required:!0},analysisUrl:{type:String,required:!0},summaryUrl:{type:String,required:!0},logoutUrl:{type:String,required:!0},logoUrl:{type:String,required:!0}},components:{page:Dc,"page-path":Mc,"results-figures":yh,"results-scenario-list":xh,"results-summary":Ah},setup(){const W=tr(null),A=tr(null),I=tr(null),G=tr(null),st=tr(!1);let w=[];const s=function(){w.length!==0&&A.value.loadSummary(w[0])},t=function(){const f=[];for(const e of w)f.push(e.scenarioExecutionId);G.value.setScenarioExecutionIds(f)},a=function(){w.length!==0&&I.value.loadDirectory(w[0])};return{summary:A,outputDirectory:I,figures:G,scenarioList:W,multiSelectScenarios:st,loadResults(f){w=f,A.value!==null&&s(),I.value!==null&&a(),G.value!==null&&t()},loadSummary:s,setFiguresScenario:t,loadOutputDirectory:a,setScenarioSelectionToSingleOrMulti(f){st.value=f==="Plotting"}}}};function kh(W,A,I,G,st,w){const s=bn("page-path"),t=bn("results-scenario-list"),a=bn("n-layout-sider"),f=bn("results-summary"),e=bn("n-tab-pane"),i=bn("results-figures"),r=bn("n-tabs"),n=bn("n-layout-content"),o=bn("n-layout"),l=bn("page");return In(),ar(l,{name:"Results","index-url":I.indexUrl,"project-url":I.projectUrl,"edit-url":I.editUrl,"run-url":I.runUrl,"results-url":I.resultsUrl,"logout-url":I.logoutUrl,"logo-url":I.logoUrl},{header:hn(()=>[mn(s,{path:[{name:"Projects",url:I.indexUrl},{name:I.projectName,url:I.projectUrl}],"leaf-name":"Results"},null,8,["path"])]),default:hn(()=>[mn(o,{id:"main-layout","has-sider":"",position:"absolute"},{default:hn(()=>[mn(a,null,{default:hn(()=>[mn(t,{"project-id":I.projectId,"run-url":I.runUrl,"summary-url":I.summaryUrl,"is-multi-selection":G.multiSelectScenarios,onScenarioSelect:G.loadResults,ref:"scenarioList"},null,8,["project-id","run-url","summary-url","is-multi-selection","onScenarioSelect"])]),_:1}),mn(n,{"content-style":"margin-left: 1em; margin-right: 1em"},{default:hn(()=>[mn(r,{"onUpdate:value":G.setScenarioSelectionToSingleOrMulti},{default:hn(()=>[mn(e,{name:"Summary","display-directive":"show:lazy"},{default:hn(()=>[mn(f,{"project-id":I.projectId,"summary-url":I.summaryUrl,onReady:G.loadSummary,ref:"summary"},null,8,["project-id","summary-url","onReady"])]),_:1}),mn(e,{name:"Plotting","display-directive":"show:lazy"},{default:hn(()=>[mn(i,{"project-id":I.projectId,"analysis-url":I.analysisUrl,onReady:G.setFiguresScenario,ref:"figures"},null,8,["project-id","analysis-url","onReady"])]),_:1})]),_:1},8,["onUpdate:value"])]),_:1})]),_:1})]),_:1},8,["index-url","project-url","edit-url","run-url","results-url","logout-url","logo-url"])}const Dh=ya(Th,[["render",kh]]),Go=pc({});Go.use(yc);Go.component("results-app",Dh);Go.mount("#results-app");
